(this["webpackJsonplight-chaser"]=this["webpackJsonplight-chaser"]||[]).push([[8],{239:function(e,t,n){"use strict";var i=n(7),a=n(8),r=n(28),o=n(9),c=n(10),s=n(0),l=n(98),u=n(237),d=n(71),h=n(88),f=n(2),v=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var a,o;Object(i.a)(this,n),(o=t.call(this,e)).onClick=function(e){var t=o.props.onClick;t&&t(e)},o.getBgConfigProps=function(){var e=o.state.config,t=e.width,n=e.height,i=e.bgMode,a=e.bgColor,r=e.bgImg,c="100% 100%";r.bgImgSize&&2===r.bgImgSize.length&&(c="".concat(e.bgImg.bgImgSize[0],"px ").concat(r.bgImgSize[1],"px"));var s="0 0";if(r.bgImgPos&&2===r.bgImgPos.length&&(s="".concat(r.bgImgPos[0],"px ").concat(r.bgImgPos[1],"px")),e){var u={height:n,width:t};if(i+""===l.c.NONE)u.backgroundColor="#000000";else if(i+""===l.c.PICTURE)r.bgImgUrl&&""!==r.bgImgUrl?(u.backgroundImage="url(".concat(r.bgImgUrl,")"),u.backgroundSize=c,u.backgroundPosition=s,u.backgroundRepeat=null===r||void 0===r?void 0:r.bgImgRepeat):u.backgroundColor="#000000";else{var d=a.single,h=a.radialGradient,f=a.linearGradient,v=a.bgColorMode;(null===e||void 0===e?void 0:e.bgColor.bgColorMode)+""===l.a.SINGLE?u.backgroundColor=d.color:v===l.a.LINEAR_GRADIENT?u.background=f.color:u.background=h.color}return u}};var c=d.a.compInstances,s=d.a.elemConfigs,f=h.a.customComponentInfoMap,v=null;if("80cc666f"in s)v=s["80cc666f"];else{var j=f.LcBg;j&&(v=j.getInitConfig())}return c["80cc666f"]=new u.default(Object(r.a)(o),v),o.state={config:null===(a=v)||void 0===a?void 0:a.background},delete s["80cc666f"],o}return Object(a.a)(n,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"lc-background",id:"80cc666f","data-type":"LcBg",onDoubleClick:this.onClick,style:this.getBgConfigProps(),children:this.props.children})}}]),n}(s.Component);t.a=v},240:function(e,t,n){"use strict";var i=n(7),a=n(8),r=n(9),o=n(10),c=n(0),s=n.n(c),l=n(88),u=n(29),d=n(71),h=n(118),f=n(2),v=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e,a;Object(i.a)(this,n);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(a=t.call.apply(t,[this].concat(o))).ref=null,a.mode=(null===(e=Object(h.d)())||void 0===e?void 0:e.action)||"edit",a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.layout,t=l.a.customComponentInfoMap,n=d.a.elemConfigs,i=t[e.type+""];if(i){var a=i.getComponent();if(a){var r=e.id in n?n[e.id]:function(){var t=i.getInitConfig();return t.info.id=e.id,t}();(new a).create(this.ref,r).then((function(t){d.a.compInstances[e.id+""]=t})),delete n[e.id]}}}},{key:"render",value:function(){var e=this,t=this.props.layout;return Object(f.jsx)(c.Suspense,{fallback:Object(f.jsx)(u.a,{}),children:Object(f.jsx)("div",{id:t.id,"data-type":t.type,"data-locked":t.locked,"data-hide":t.hide,style:{width:t.width,height:t.height,transform:"translate(".concat(t.position[0],"px, ").concat(t.position[1],"px)"),position:"absolute",display:t.hide?"none":"block"},className:"lc-comp-item",children:Object(f.jsx)("div",{ref:function(t){return e.ref=t},style:{width:"100%",height:"100%",pointerEvents:"".concat("view"===this.mode?"auto":"none"),position:"relative"}})},t.id+"")})}}]),n}(s.a.PureComponent);t.a=v},241:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(71),a=n(89),r=n(88),o=n(118),c=n(98),s=r.a.doScan,l=function(){s(),u()},u=function(){var e=Object(o.d)().action;if(["edit","view"].includes(e))h();else{if("create"!==e)throw new Error("action is error");d()}},d=function(){var e=Object(o.d)(),t=e.width,n=e.height,a=e.name,r=i.a.doInit,c=i.a.setLoaded;r({canvasConfig:{width:parseInt(t),height:parseInt(n)},projectConfig:{name:a}}),c(!0)},h=function(){var e=Object(o.d)(),t=i.a.doInit,n=i.a.setLoaded,s=r.a.abstractOperatorMap,l=i.a.projectConfig.saveType;s[void 0===l?c.e.LOCAL:l].getProject(e.id).then((function(e){if(e){var i,r;t({id:e.id,canvasConfig:e.canvasConfig,projectConfig:e.projectConfig,elemConfigs:e.elemConfigs,layoutConfigs:e.layoutConfigs,statisticInfo:e.statisticInfo,themeConfig:e.themeConfig,extendParams:e.extendParams});var o=a.a.setMinLevel,c=a.a.setMaxLevel;o((null===(i=e.extendParams)||void 0===i?void 0:i.minLevel)||0),c((null===(r=e.extendParams)||void 0===r?void 0:r.maxLevel)||0)}n(!0)}))}},547:function(e,t,n){},548:function(e,t,n){},549:function(e,t,n){},550:function(e,t,n){},551:function(e,t,n){},552:function(e,t,n){},553:function(e,t,n){},554:function(e,t,n){},555:function(e,t,n){},556:function(e,t,n){},558:function(e,t,n){},559:function(e,t,n){},616:function(e,t,n){"use strict";n.r(t);var i=n(7),a=n(8),r=n(9),o=n(10),c=n(0),s=n.n(c),l=n(71),u=n(190),d=n(89),h=function(){function e(){Object(i.a)(this,e),this.events={}}return Object(a.a)(e,[{key:"register",value:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}},{key:"unregister",value:function(e,t){if(this.events[e]){var n=this.events[e].indexOf(t);n>-1&&this.events[e].splice(n,1)}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.events[e]&&this.events[e].forEach((function(e){e.apply(void 0,n)}))}}]),e}(),f=new h,v={leftClick:!1,rightClick:!1,middleClick:!1},j=function(){function e(){Object(i.a)(this,e),this.target=null,this.dragTarget=null,this.position={x:0,y:0}}return Object(a.a)(e,[{key:"registerDragger",value:function(){this.onDragStart(this.target),this.onDragEnd(this.target)}}]),e}(),p=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e,a){var r;if(Object(i.a)(this,n),(r=t.call(this)).onDragEnd=function(){f.register("pointerup",(function(e){if(2===e.button){try{r.target.releasePointerCapture(e.pointerId)}catch(e){console.log(e)}f.unregister("pointermove",r.onDragMove)}}))},r.onDragMove=function(e){if(v.rightClick){n.position.x+=e.movementX,n.position.y+=e.movementY;var t=u.a.scale;r.target.style.transform="translate3d("+n.position.x+"px, "+n.position.y+"px, 0) scale("+t+")"}},r.onDragStart=function(){f.register("pointerdown",(function(e){if(2===e.button){try{r.target.setPointerCapture(e.pointerId)}catch(t){r.target.releasePointerCapture(e.pointerId)}r.position={x:e.clientX,y:e.clientY},f.register("pointermove",r.onDragMove)}}))},r.destroy=function(){f.unregister("pointerdown"),f.unregister("pointermove"),f.unregister("pointerup")},!e)throw new Error("target is null, cannot drag");return r.target=e,n.position=a||n.position,r.registerDragger(),r}return Object(a.a)(n)}(j);p.position={x:0,y:0};var b,m=p,g={content:null,offsetX:0,offsetY:0},O=function(e){if(!v.rightClick){var t=d.a.setScale;y(e),f.emit("wheel",e),t(u.a.scale)}},y=function(e){var t=l.a.canvasConfig,n=t.width,i=void 0===n?1920:n,a=t.height,r=void 0===a?1080:a,o=1;e.deltaY>0&&(o=0),u.a.compute(o);var c=(u.a.ratio-1)*i*.5,s=(u.a.ratio-1)*r*.5;m.position.x-=(u.a.ratio-1)*(e.clientX-g.offsetX-m.position.x)-c,m.position.y-=(u.a.ratio-1)*(e.clientY-g.offsetY-m.position.y)-s,g.content.style.transform="translate3d("+m.position.x+"px, "+m.position.y+"px, 0) scale("+u.a.scale+")"},x=n(80),C=n(2),k=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).content=null,e.dragger=null,e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.content.style.transform="translate3d("+m.position.x+"px, "+m.position.y+"px, 0) scale(1)",g.content=this.content,g.offsetX=80,g.offsetY=70,this.dragger=new m(this.content)}},{key:"componentWillUnmount",value:function(){this.dragger&&this.dragger.destroy()}},{key:"render",value:function(){var e=this,t=l.a.canvasConfig;return Object(C.jsx)("div",{style:{overflow:"hidden",height:window.innerHeight-90,width:window.innerWidth-95,backgroundColor:"#434343"},children:Object(C.jsx)("div",{ref:function(t){return e.content=t},className:"lc-content-scale",style:{width:null===t||void 0===t?void 0:t.width,height:null===t||void 0===t?void 0:t.height},children:this.props.children})})}}]),n}(c.Component),w=Object(x.a)(k),N=n(239),I=n(142),E=n(606),L=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).wheelTimerId=null,e.pointerMoveTimerId=null,e.state={render:0},e.unit=50,e.baseOffset=20,e._scrollPosX=0,e._scrollPosY=0,e.rulerX=null,e.offsetX=0,e.mousePosX=0,e.scrollPosX=0,e.startPosX=0,e.rulerY=null,e.offsetY=0,e.mousePosY=0,e.scrollPosY=0,e.startPosY=0,e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.offsetX,i=void 0===n?0:n,a=t.offsetY,r=void 0===a?0:a;f.register("wheel",(function(){e.startPosX=e.mousePosX-(e.mousePosX-e.startPosX)/u.a.ratio,e.scrollPosX=e.startPosX,e.startPosY=e.mousePosY-(e.mousePosY-e.startPosY)/u.a.ratio,e.scrollPosY=e.startPosY,e.unit=Math.floor(50/u.a.scale),clearTimeout(e.wheelTimerId),e.wheelTimerId=setTimeout((function(){e.setState({render:e.state.render+1})}),300)})),f.register("pointermove",(function(t){var n=u.a.scale;e.mousePosX=e.startPosX+(t.clientX-e.baseOffset-i)/n,e.mousePosY=e.startPosY+(t.clientY-e.baseOffset-r)/n,v.rightClick&&(e.offsetX=e.offsetX-t.movementX,e._scrollPosX=e.startPosX+e.offsetX/n,e.offsetY=e.offsetY-t.movementY,e._scrollPosY=e.startPosY+e.offsetY/n,clearTimeout(e.pointerMoveTimerId),e.pointerMoveTimerId=setTimeout((function(){e.rulerX&&e.rulerX.scroll(e._scrollPosX),e.rulerY&&e.rulerY.scroll(e._scrollPosY)}),300))})),f.register("pointerdown",(function(t){2===t.button&&(e.offsetX=0,e.offsetY=0)})),f.register("pointerup",(function(t){2===t.button&&(e.offsetX=0,e.offsetY=0,e.scrollPosX=e._scrollPosX,e.startPosX=e._scrollPosX,e.scrollPosY=e._scrollPosY,e.startPosY=e._scrollPosY)}))}},{key:"componentWillUnmount",value:function(){f.unregister("wheel"),f.unregister("pointermove"),f.unregister("pointerdown"),f.unregister("pointerup"),clearTimeout(this.wheelTimerId),clearTimeout(this.pointerMoveTimerId)}},{key:"render",value:function(){var e=this,t=u.a.scale;return Object(C.jsxs)("div",{className:"lc-ruler",style:{position:"relative"},children:[Object(C.jsx)("div",{style:{position:"absolute",width:20,height:20,color:"#838383",textAlign:"center",fontSize:12,top:-1},children:"px"}),Object(C.jsx)("div",{className:"lc-ruler-horizontal",style:{height:this.baseOffset,width:"calc(100% - ".concat(this.baseOffset,"px)"),position:"relative",left:this.baseOffset},children:Object(C.jsx)(E.a,{ref:function(t){return e.rulerX=t},scrollPos:this.scrollPosX,zoom:t,lineColor:"#444b4d",textColor:"#a6a6a6",segment:2,negativeRuler:!0,textOffset:[0,10],backgroundColor:"#090f1d",unit:this.unit})}),Object(C.jsx)("div",{className:"lc-ruler-vertical",style:{width:this.baseOffset,height:window.innerHeight-this.baseOffset-90,position:"relative",overflow:"hidden"},children:Object(C.jsx)(E.a,{ref:function(t){return e.rulerY=t},type:"vertical",scrollPos:this.scrollPosY,lineColor:"#444b4d",textColor:"#a6a6a6",zoom:t,segment:2,negativeRuler:!0,textOffset:[10,0],backgroundColor:"#090f1d",unit:this.unit})}),Object(C.jsx)("div",{className:"lc-ruler-content",style:{position:"absolute",top:this.baseOffset,left:this.baseOffset},children:this.props.children})]})}}]),n}(c.Component),P=L,R=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).designerContainerRef=void 0,e.handleClick=function(e){return f.emit("click",e)},e.handleContextMenu=function(e){return f.emit("contextmenu",e)},e.handlePointerDown=function(e){return f.emit("pointerdown",e)},e.handlePointerMove=function(e){return f.emit("pointermove",e)},e.handlePointerUp=function(e){return f.emit("pointerup",e)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick),this.designerContainerRef.addEventListener("contextmenu",this.handleContextMenu),document.addEventListener("pointerdown",this.handlePointerDown),document.addEventListener("pointermove",this.handlePointerMove),document.addEventListener("pointerup",this.handlePointerUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick),this.designerContainerRef.removeEventListener("contextmenu",this.handleContextMenu),document.removeEventListener("pointerdown",this.handlePointerDown),document.removeEventListener("pointermove",this.handlePointerMove),document.removeEventListener("pointerup",this.handlePointerUp)}},{key:"render",value:function(){var e=this;return Object(C.jsx)("div",{ref:function(t){return e.designerContainerRef=t},style:{outline:"none"},className:"lc-event-container",children:this.props.children})}}]),n}(c.Component),T=R,D=n(579),M=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).movableRef=c.createRef(),a.onDragEnd=function(e){var t=l.a.updateLayout,n=e.lastEvent,i=e.target;if(n){var a=n.beforeTranslate;t([{id:i.id,width:i.offsetWidth,height:i.offsetHeight,type:i.dataset.type,position:[a[0],a[1]]}],!1)}},a.onDragGroupEnd=function(e){var t=l.a.updateLayout,n=[];e.events.forEach((function(e){var t=e.target,i=e.lastEvent;if(i){var a=i.beforeTranslate;n.push({id:t.id,width:t.offsetWidth,height:t.offsetHeight,type:t.dataset.type,position:[a[0],a[1]]})}})),n.length>0&&t(n)},a.onResizeEnd=function(e){var t=l.a.updateLayout,n=e.target,i=e.lastEvent;if(i){var a=i.width,r=i.height,o=i.drag.translate;t([{id:n.id,width:a,height:r,type:n.dataset.type,position:[o[0],o[1]]}],!1)}},a.onResizeGroupEnd=function(e){var t=l.a.updateLayout,n=[];e.events.forEach((function(e){var t=e.target,i=e.lastEvent;if(i){var a=i.drag.translate;n.push({id:t.id,width:t.offsetWidth,height:t.offsetHeight,type:t.dataset.type,position:[a[0],a[1]]})}})),n.length>0&&t(n,!1)},a.state={targets:[]},a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){(0,d.a.setMovableRef)(this.movableRef)}},{key:"render",value:function(){var e=this.props.readonly,t=void 0!==e&&e,n=d.a.selectorRef,i=d.a.targets,a=l.a.canvasConfig,r=a.rasterize,o=a.dragStep,c=a.resizeStep;return Object(C.jsxs)(C.Fragment,{children:[this.props.children,Object(C.jsx)(D.a,{ref:this.movableRef,target:i,draggable:!t,resizable:!t,keepRatio:!1,throttleDrag:r?o:0,throttleResize:r?c:1,onClickGroup:function(e){var t;null===(t=n.current)||void 0===t||t.clickTarget(e.inputEvent,e.inputTarget)},onDrag:function(e){var t=e.target,n=e.beforeTranslate;t.style.transform="translate(".concat(n[0],"px, ").concat(n[1],"px)")},onDragEnd:this.onDragEnd,onDragGroup:function(e){e.events.forEach((function(e){e.target.style.transform=e.transform}))},onDragGroupEnd:this.onDragGroupEnd,onResize:function(e){var t=e.target,n=e.width,i=e.height,a=e.drag;t.style.width="".concat(n,"px"),t.style.height="".concat(i,"px"),t.style.transform="translate(".concat(a.beforeTranslate[0],"px, ").concat(a.beforeTranslate[1],"px)")},onResizeEnd:this.onResizeEnd,onResizeGroupEnd:this.onResizeGroupEnd,onResizeGroup:function(e){e.events.forEach((function(e){e.target.style.width="".concat(e.width,"px"),e.target.style.height="".concat(e.height,"px"),e.target.style.transform=e.drag.transform}))}})]})}}]),n}(c.Component),S=Object(x.a)(M),A=n(580),Y=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).selectorRef=s.a.createRef(),e.onSelectEnd=function(e){var t=d.a.movableRef,n=d.a.setTargets,i=d.a.setTargetIds;if(t){var a=t.current;e.isDragStart&&(e.inputEvent.preventDefault(),setTimeout((function(){a.dragStart(e.inputEvent)})));var r=e.selected.filter((function(e){return"true"!==e.dataset.locked}));if(-1===e.inputEvent.target.className.indexOf("menu-item")){var o=[];r.forEach((function(e){return o.push(e.id)})),i(o)}if(n(r),r.length>1)(0,d.a.calculateGroupRootCoordinate)(r)}},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){(0,d.a.setSelectorRef)(this.selectorRef)}},{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[this.props.children,Object(C.jsx)(A.a,{ref:this.selectorRef,dragContainer:".lc-event-container",selectableTargets:[".lc-comp-item"],hitRate:0,selectByClick:!0,selectFromInside:!1,toggleContinueSelect:["ctrl"],ratio:0,onDragStart:function(e){var t=d.a.movableRef,n=d.a.targets,i=t.current,a=e.inputEvent.target;(i.isMoveableElement(a)||n.some((function(e){return e===a||e.contains(a)})))&&e.stop()},onSelectEnd:this.onSelectEnd})]})}}]),n}(c.Component),X=Object(x.a)(Y),K=n(83),H=new(Object(a.a)((function e(){var t=this;Object(i.a)(this,e),this.visible=!1,this.position=[0,0],this.mouseDownTime=0,this.mouseUpTime=0,this.updateVisible=function(e){return t.visible=e},this.setPosition=function(e){return t.position=e},this.setMouseDownTime=function(e){return t.mouseDownTime=e},this.setMouseUpTime=function(e){return t.mouseUpTime=e},Object(K.n)(this,{visible:K.o,position:K.o,updateVisible:K.f,setPosition:K.f})}))),U=(n(547),n(632)),G=n(607),z=n(633),V=n(622),B=n(634),_=n(608),q=n(23),W=n(145);!function(e){e[e.SINGLE=0]="SINGLE",e[e.COILED=1]="COILED"}(b||(b={}));var F=["control + s","alt","control + l"],J=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handlerMapping={},a.currHotKey=[],a.existHandlerKey="",a.doHandler=function(e,t){var n=a.handlerMapping[t]||{},i=n.handler,r=n.triggerType,o=void 0===r?b.SINGLE:r;if(i&&(o===b.SINGLE&&a.existHandlerKey!==t||o===b.COILED)){var c=d.a.pointerTarget,s=document.querySelector(".lc-ruler-content");s&&(s.contains(c)||c&&c.classList.contains("layer-item"))&&(i(e),a.existHandlerKey=t)}},a.keyDown=function(e){var t=e.key.toLowerCase();a.currHotKey.some((function(e){return e===t}))||a.currHotKey.push(t);var n=a.currHotKey.join(" + ");F.some((function(e){return e===n}))&&e.preventDefault(),a.doHandler(e,n)},a.keyUp=function(e){var t=e.key.toLowerCase();a.currHotKey.some((function(e){return e===t}))&&(a.currHotKey=a.currHotKey.filter((function(e){return e!==t})),a.existHandlerKey="")},a.wheel=function(e){var t=a.currHotKey.join(" + ")+" + wheel",n=a.handlerMapping[t]||{},i=n.handler,r=n.target;if(i){if(r&&!r.contains(e.target))return;i(e)}},a.onBlur=function(){a.currHotKey=[],a.existHandlerKey=""},a.handlerMapping=e.handlerMapping,a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyDown),document.addEventListener("keyup",this.keyUp),document.addEventListener("wheel",this.wheel),window.onblur=this.onBlur}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyDown),document.removeEventListener("keyup",this.keyUp),document.removeEventListener("wheel",this.wheel),window.onblur=null}},{key:"render",value:function(){return null}}]),n}(c.Component),Q=n(98),Z=n(88),$=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,null,[{key:"throttle",value:function(t,n,i){return function(){var a=Date.now();a-e.prev>n?(t.apply(void 0,arguments),e.prev=a):i&&i.apply(void 0,arguments)}}}]),e}();$.prev=0;var ee,te=n(571),ne=n(136),ie=function(){var e=document.getElementsByClassName("lc-comp-item"),t=[],n=[];e&&Array.from(e).forEach((function(e){"true"!==e.dataset.locked&&(n.push(e),t.push(e.id))}));var i=d.a.setTargets,a=d.a.setTargetIds,r=d.a.calculateGroupRootCoordinate;i(n),a(t),n.length>1&&r(n)},ae=function(){var e=d.a.targetIds,t=d.a.setTargetIds,n=d.a.setTargets;if(e&&0!==e.length){var i=(0,l.a.copyItem)(e),a=[];setTimeout((function(){var e,r=Object(W.a)(i);try{for(r.s();!(e=r.n()).done;){var o=e.value;a.push(document.getElementById(o))}}catch(c){r.e(c)}finally{r.f()}a.filter((function(e){return null!==e})),n(a),t(i)}),10)}},re=function(){var e=d.a.targetIds,t=d.a.setTargets;if(e&&0!==e.length){var n,i=l.a.updateLayout,a=l.a.layoutConfigs,r=[],o=Object(W.a)(e);try{for(o.s();!(n=o.n()).done;){var c=a[n.value];r.push(Object(q.a)(Object(q.a)({},c),{},{locked:!0}))}}catch(s){o.e(s)}finally{o.f()}i(r),t([])}},oe=function(){var e=d.a.maxLevel,t=d.a.setMaxLevel,n=d.a.targetIds,i=d.a.setTargetIds;if(n&&0!==n.length){var a=l.a.updateLayout,r=l.a.layoutConfigs,o=[];n.forEach((function(t){var n=r[t];o.push(Object(q.a)(Object(q.a)({},n),{},{order:++e}))})),t(e),i([]),a(o)}},ce=function(){var e=d.a.minLevel,t=d.a.setMinLevel,n=d.a.targetIds,i=d.a.setTargetIds;if(n&&0!==n.length){var a=l.a.updateLayout,r=l.a.layoutConfigs,o=[];n.forEach((function(t){var n=r[t];o.push(Object(q.a)(Object(q.a)({},n),{},{order:--e}))})),t(e),i([]),a(o)}},se=function(){var e=d.a.targetIds,t=d.a.setTargetIds,n=d.a.setTargets;if(e&&0!==e.length){var i=I.a.setContentVisible,a=I.a.activeConfig;i(!1),a("80cc666f","LcBg"),e.length>0&&l.a.delItem(e),t([]),n([])}},le=function(){$.throttle((function(){var e=l.a.projectConfig.saveType;if(e===Q.e.LOCAL){var t=Z.a.abstractOperatorMap,n=l.a.projectConfig.saveType;t[void 0===n?Q.e.LOCAL:n].doCreateOrUpdate(Object(ne.cloneDeep)(l.a.getData()))}else e===Q.e.SERVER&&alert("server save")}),5e3,(function(){te.b.warn("\u4fdd\u5b58\u8fc7\u4e8e\u9891\u7e41\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\uff01")}))()},ue=function(){var e=d.a.unLockedId;if(e&&""!==e){var t=l.a.updateLayout,n=l.a.layoutConfigs[e];t([Object(q.a)(Object(q.a)({},n),{},{locked:!1})])}},de=function(){var e=d.a.targetIds;if(e&&0!==e.length){var t=l.a.updateLayout,n=l.a.layoutConfigs,i=[];e.forEach((function(e){var t=n[e];i.push(Object(q.a)(Object(q.a)({},t),{},{hide:!0}))})),t(i)}},he=function(){var e=d.a.targets,t=d.a.movableRef,n=d.a.groupRootCoordinate,i=d.a.setGroupRootCoordinate,a=l.a.layoutConfigs,r=l.a.canvasConfig.dragStep,o=void 0===r?1:r;if(e&&0!==e.length)if(1===e.length){var c,s=a[e[0].id].position[1]-o;null===t||void 0===t||null===(c=t.current)||void 0===c||c.request("draggable",{y:s},!0)}else{var u,h=n.y-o;null===t||void 0===t||null===(u=t.current)||void 0===u||u.request("draggable",{y:h},!0),i({x:n.x,y:h})}},fe=function(){var e=d.a.targets,t=d.a.movableRef,n=d.a.groupRootCoordinate,i=d.a.setGroupRootCoordinate,a=l.a.layoutConfigs,r=l.a.canvasConfig.dragStep,o=void 0===r?1:r;if(e&&0!==e.length)if(1===e.length){var c,s=a[e[0].id].position[1]+o;null===t||void 0===t||null===(c=t.current)||void 0===c||c.request("draggable",{y:s},!0)}else{var u,h=n.y+o;null===t||void 0===t||null===(u=t.current)||void 0===u||u.request("draggable",{y:h},!0),i({x:n.x,y:h})}},ve=function(){var e=d.a.targets,t=d.a.movableRef,n=d.a.groupRootCoordinate,i=d.a.setGroupRootCoordinate,a=l.a.layoutConfigs,r=l.a.canvasConfig.dragStep,o=void 0===r?1:r;if(e&&0!==e.length)if(1===e.length){var c,s=a[e[0].id].position[0];null===t||void 0===t||null===(c=t.current)||void 0===c||c.request("draggable",{x:s-o},!0)}else{var u,h=n.x-o;null===t||void 0===t||null===(u=t.current)||void 0===u||u.request("draggable",{x:h},!0),i({x:h,y:n.y})}},je=function(){var e=d.a.targets,t=d.a.movableRef,n=d.a.groupRootCoordinate,i=d.a.setGroupRootCoordinate,a=l.a.layoutConfigs,r=l.a.canvasConfig.dragStep,o=void 0===r?1:r;if(e&&0!==e.length)if(1===e.length){var c,s=a[e[0].id].position[0];null===t||void 0===t||null===(c=t.current)||void 0===c||c.request("draggable",{x:s+o},!0)}else{var u,h=n.x+o;null===t||void 0===t||null===(u=t.current)||void 0===u||u.request("draggable",{x:h},!0),i({x:h,y:n.y})}},pe=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).menuList=[{name:"\u9501\u5b9a",icon:U.a,onClick:re},{name:"\u89e3\u9501",icon:U.a,onClick:ue},{name:"\u9690\u85cf",icon:G.a,onClick:de},{name:"\u590d\u5236",icon:z.a,onClick:ae},{name:"\u7f6e\u9876",icon:V.a,onClick:oe},{name:"\u7f6e\u5e95",icon:B.a,onClick:ce},{name:"\u5220\u9664",icon:_.a,onClick:se}],e}return Object(a.a)(n,[{key:"render",value:function(){for(var e=H.visible,t=H.position,n=void 0===t?[0,0]:t,i=[],a=0;a<this.menuList.length;a++){var r=this.menuList[a],o=r.icon;i.push(Object(C.jsxs)("div",{className:"menu-item",onClick:r.onClick,children:[Object(C.jsx)("label",{children:Object(C.jsx)(o,{})}),Object(C.jsx)("span",{children:r.name})]},a+""))}return Object(C.jsx)(C.Fragment,{children:e&&Object(C.jsx)("div",{className:"lc-right-menu",style:{position:"fixed",top:n[1],left:n[0]},children:i})})}}]),n}(c.Component),be=Object(x.a)(pe),me=n(240),ge=n(29),Oe=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).backgroundRef=null,e.state={designerRef:null},e.updateActive=function(e){var t=e.target,n=t.id,i=t.dataset.type,a=I.a.activeConfig,r=I.a.activeElem;Object(ne.isEqual)(r,{id:n,type:i})||a(n,i)},e.generateElement=function(){var e=l.a.layoutConfigs;return Object.values(e).sort((function(e,t){return e.order-t.order})).map((function(e){return Object(C.jsx)(me.a,{layout:e},e.id)}))},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.setState({designerRef:document.querySelector(".lc-ruler-content")})}},{key:"render",value:function(){var e=this;return l.a.loaded?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(T,{children:Object(C.jsx)(X,{children:Object(C.jsxs)(P,{offsetX:60,offsetY:50,children:[Object(C.jsx)(w,{children:Object(C.jsx)(S,{children:Object(C.jsx)(N.a,{onClick:this.updateActive,ref:function(t){return e.backgroundRef=t},children:this.generateElement()})})}),Object(C.jsx)(be,{})]})})}),Object(C.jsx)(J,{handlerMapping:{"alt + wheel":{handler:O,triggerType:b.COILED},"control + a":{handler:ie},"control + v":{handler:ae},"control + l":{handler:re},"control + arrowup":{handler:oe},"control + arrowdown":{handler:ce},"control + s":{handler:le},delete:{handler:se},arrowup:{handler:he,triggerType:b.COILED},arrowdown:{handler:fe,triggerType:b.COILED},arrowleft:{handler:ve,triggerType:b.COILED},arrowright:{handler:je,triggerType:b.COILED}}})]}):Object(C.jsx)(ge.a,{})}}]),n}(c.PureComponent),ye=Object(x.a)(Oe),xe=(n(548),n(128)),Ce=n(263),ke=s.a.lazy((function(){return Promise.resolve().then(n.bind(null,390))})),we=s.a.lazy((function(){return Promise.resolve().then(n.bind(null,395))})),Ne=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).buildHeaderList=function(){for(var e=Z.a.headerItemInstances,t=[],n=0;n<e.length;n++){var i=e[n],a=i.icon,r=i.name,o=i.onClick;t.push(Object(C.jsx)("div",{className:"right-item",onClick:o,children:Object(C.jsxs)("span",{className:"item-span",children:[Object(C.jsx)(a,{}),"\xa0",r]})},n+""))}return t},e}return Object(a.a)(n,[{key:"render",value:function(){var e=xe.a.canvasVisible,t=xe.a.projectVisible,n=xe.a.themeVisible,i=this.buildHeaderList();return Object(C.jsxs)("div",{className:"designer-header",children:[Object(C.jsx)("div",{className:"header-left",children:Object(C.jsx)("div",{className:"header-title",children:"L C"})}),Object(C.jsx)("div",{className:"header-right",children:i}),e&&Object(C.jsxs)(c.Suspense,{fallback:Object(C.jsx)(ge.a,{}),children:[Object(C.jsx)(Ce.default,{})," "]}),t&&Object(C.jsx)(c.Suspense,{fallback:Object(C.jsx)(ge.a,{}),children:Object(C.jsx)(ke,{})}),n&&Object(C.jsx)(c.Suspense,{fallback:Object(C.jsx)(ge.a,{}),children:Object(C.jsx)(we,{})})]})}}]),n}(c.Component),Ie=Object(x.a)(Ne),Ee=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"structure-header",children:this.props.children})}}]),n}(c.Component),Le=Ee,Pe=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"structure-body",children:this.props.children})}}]),n}(c.Component),Re=Pe,Te=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"structure-body-left",children:this.props.children})}}]),n}(c.Component),De=Te,Me=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{id:"structureContent",className:"structure-body-content",children:this.props.children})}}]),n}(c.Component),Se=Me,Ae=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"structure-body-right",children:this.props.children})}}]),n}(c.Component),Ye=Ae,Xe=(n(549),function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"lc-designer-structure",children:this.props.children})}}]),n}(c.Component)),Ke=Xe,He=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"structure-foot",children:this.props.children})}}]),n}(c.Component),Ue=He;n(550);!function(e){e.ALL="all",e.BASE="base",e.ORNAMENTAL="ornamental",e.BAR="bar",e.COLUMN="column",e.LINE="line",e.AREA="area",e.PIE="pie",e.PROGRESS="progress",e.SCATTER="scatter",e.RADAR="radar",e.ROSE="rose",e.WORD_CLOUD="word_cloud",e.HISTOGRAM="histogram",e.SUNBURST="sunburst",e.TREEMAP="treemap"}(ee||(ee={}));var Ge=n.p+"static/media/icon-all.fe79e4fd.svg",ze=n.p+"static/media/icon-bar.dfbc87b2.svg",Ve=n.p+"static/media/icon-column.ae79292f.svg",Be=n.p+"static/media/icon-area.f3992c44.svg",_e=n.p+"static/media/icon-pie.4d05a7b6.svg",qe=n.p+"static/media/icon-scatter.778bce01.svg",We=n.p+"static/media/icon-line.b79af542.svg",Fe=n.p+"static/media/icon-loading.9d197f5f.svg",Je=n.p+"static/media/icon-flowers.442a19b5.svg",Qe=n.p+"static/media/icon-optimize.9b17ea95.svg",Ze=n.p+"static/media/icon-points.7fb541f7.svg",$e=new(Object(a.a)((function e(){var t=this;Object(i.a)(this,e),this.classifies=[],this.classifyKey="all",this.doInit=function(){t.classifies=[{icon:Ge,name:"\u5168\u90e8",classify:ee.ALL},{icon:Ze,name:"\u57fa\u7840",classify:ee.BASE},{icon:Qe,name:"\u88c5\u9970",classify:ee.ORNAMENTAL},{icon:ze,name:"\u6761\u5f62\u56fe",classify:ee.BAR},{icon:Ve,name:"\u67f1\u72b6\u56fe",classify:ee.COLUMN},{icon:We,name:"\u6298\u7ebf\u56fe",classify:ee.LINE},{icon:Be,name:"\u9762\u79ef\u56fe",classify:ee.AREA},{icon:_e,name:"\u997c\u56fe",classify:ee.PIE},{icon:Fe,name:"\u8fdb\u5ea6\u56fe",classify:ee.PROGRESS},{icon:qe,name:"\u6563\u70b9\u56fe",classify:ee.SCATTER},{icon:Je,name:"\u73ab\u7470\u56fe",classify:ee.ROSE}]},this.doClear=function(){t.classifies=[]},this.setClassifyKey=function(e){t.classifyKey=e},Object(K.m)(this)}))),et=new(Object(a.a)((function e(){var t=this;Object(i.a)(this,e),this.compInfoArr=[],this.compKey="",this.visible=!1,this.doInit=function(){var e=[],n=Z.a.customComponentInfoMap;n&&Object.keys(n).forEach((function(t){var i=n[t].getBaseInfo();"LcBg"!==i.compKey&&e.push(i)})),t.compInfoArr=e},this.setVisible=function(e){return t.visible=e},this.setCompKey=function(e){return t.compKey=e},Object(K.n)(this,{compKey:K.o,visible:K.o,setVisible:K.f,setCompKey:K.f})}))),tt=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).changeClassifyKey=function(e){var t=$e.setClassifyKey,n=et.setVisible,i=et.visible;t(e.currentTarget.id),i||n&&n(!0)},a.buildClassifyList=function(){for(var e=$e.classifies,t=[],n=0;n<e.length;n++){var i=e[n],r=i.icon,o=i.name,c=i.classify;t.push(Object(C.jsxs)("div",{className:"sort-item",id:c,onClick:a.changeClassifyKey,children:[Object(C.jsx)("div",{className:"sort-item-icon",children:Object(C.jsx)("img",{style:{width:20},src:r,alt:"all"})}),Object(C.jsx)("span",{className:"sort-item-content",children:o})]},n+""))}return t};var r=$e.doInit;return r&&r(),a}return Object(a.a)(n,[{key:"render",value:function(){var e=this.buildClassifyList();return Object(C.jsx)("div",{className:"lc-charts-sort",style:{overflowY:"scroll"},children:e})}}]),n}(c.Component),nt=Object(x.a)(tt),it=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(C.jsx)(nt,{})}}]),n}(c.Component),at=Object(x.a)(it),rt=(n(551),function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).menuChange=function(e){var t=I.a.setActiveMenu,n=I.a.setContentVisible;t&&t(e.currentTarget.id),n&&n(!0)},e.buildMenuList=function(){return I.a.menus.map((function(t){var n=t.icon;return Object(C.jsxs)("div",{className:"menu-item",id:t.key,onClick:e.menuChange,children:[Object(C.jsx)("div",{className:"item-icon",children:Object(C.jsx)(n,{})}),Object(C.jsx)("div",{className:"item-content",children:t.name})]},t.key)}))},e}return Object(a.a)(n,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"lc-config-menu",children:Object(C.jsx)("div",{className:"menu-list",children:this.buildMenuList()})})}}]),n}(c.Component)),ot=Object(x.a)(rt),ct=n(623),st=(n(552),function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).buildConfigContent=function(){var e=l.a.compInstances,t=I.a.activeMenu,n=I.a.activeElem,i=Z.a.customComponentInfoMap[n.type+""].getMenuToConfigContentMap()[t],a=e[n.id+""];return Object(C.jsx)(c.Suspense,{fallback:Object(C.jsx)(ge.a,{}),children:Object(C.jsx)(i,{instance:a})})},e.onClose=function(){var e=I.a.setContentVisible;e&&e(!1)},e}return Object(a.a)(n,[{key:"render",value:function(){for(var e=I.a.activeMenu,t=I.a.menus,n="",i=0;i<t.length;i++)if(t[i].key===e){n=t[i].name;break}return Object(C.jsxs)("div",{className:"lc-config-panel",children:[Object(C.jsxs)("div",{className:"lc-panel-top",children:[Object(C.jsx)("div",{className:"panel-title",children:Object(C.jsx)("span",{children:n})}),Object(C.jsx)("div",{className:"panel-operate",onClick:this.onClose,children:Object(C.jsx)(ct.a,{})})]}),Object(C.jsx)("div",{className:"lc-panel-content",children:this.buildConfigContent()})]})}}]),n}(c.Component)),lt=Object(x.a)(st),ut=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=I.a.visible;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(ot,{}),e&&Object(C.jsx)(lt,{})]})}}]),n}(c.Component),dt=Object(x.a)(ut),ht=(n(553),n(134)),ft=(n(554),function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"lc-hotkey-des",style:{color:"white"},children:[Object(C.jsxs)("div",{className:"hotkey-des-item",children:[Object(C.jsx)("div",{className:"hotkey-content",children:Object(C.jsx)("code",{children:"Ctrl + S"})}),Object(C.jsx)("div",{className:"hotkey-des",children:"\u4fdd\u5b58\u9879\u76ee"})]}),Object(C.jsxs)("div",{className:"hotkey-des-item",children:[Object(C.jsx)("div",{className:"hotkey-content",children:Object(C.jsx)("code",{children:"Ctrl + V"})}),Object(C.jsx)("div",{className:"hotkey-des",children:"\u590d\u5236\u5143\u7d20"})]}),Object(C.jsxs)("div",{className:"hotkey-des-item",children:[Object(C.jsx)("div",{className:"hotkey-content",children:Object(C.jsx)("code",{children:"Ctrl + L"})}),Object(C.jsx)("div",{className:"hotkey-des",children:"\u9501\u5b9a\u5143\u7d20"})]}),Object(C.jsxs)("div",{className:"hotkey-des-item",children:[Object(C.jsx)("div",{className:"hotkey-content",children:Object(C.jsx)("code",{children:"Ctrl + up-arrow(\u65b9\u5411\u4e0a\u952e)"})}),Object(C.jsx)("div",{className:"hotkey-des",children:"\u5143\u7d20\u7f6e\u9876"})]}),Object(C.jsxs)("div",{className:"hotkey-des-item",children:[Object(C.jsx)("div",{className:"hotkey-content",children:Object(C.jsx)("code",{children:"Ctrl + down-arrow(\u65b9\u5411\u4e0b\u952e)"})}),Object(C.jsx)("div",{className:"hotkey-des",children:"\u5143\u7d20\u7f6e\u5e95"})]}),Object(C.jsxs)("div",{className:"hotkey-des-item",children:[Object(C.jsx)("div",{className:"hotkey-content",children:Object(C.jsx)("code",{children:"Delete"})}),Object(C.jsx)("div",{className:"hotkey-des",children:"\u5220\u9664\u5143\u7d20"})]}),Object(C.jsxs)("div",{className:"hotkey-des-item",children:[Object(C.jsx)("div",{className:"hotkey-content",children:Object(C.jsx)("code",{children:"Alt + wheel(\u9f20\u6807\u6ed1\u8f6e)"})}),Object(C.jsx)("div",{className:"hotkey-des",children:"\u7f29\u653e\u753b\u5e03"})]}),Object(C.jsxs)("div",{className:"hotkey-des-item",children:[Object(C.jsx)("div",{className:"hotkey-content",children:Object(C.jsx)("code",{children:"\u957f\u6309\u9f20\u6807\u53f3\u952e"})}),Object(C.jsx)("div",{className:"hotkey-des",children:"\u62d6\u62fd\u753b\u5e03"})]})]})}}]),n}(c.Component)),vt=ft,jt=n(127),pt=n.p+"static/media/keyboard-icon.1ed11794.svg",bt=n.p+"static/media/layers-icon.aabb7495.svg",mt=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={showHotKeyDes:!1},e.toggleHotKeyDes=function(){var t=e.state.showHotKeyDes;e.setState({showHotKeyDes:!t})},e.toggleLayerList=function(){var e=jt.a.setVisible,t=jt.a.visible;e&&e(!t)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=d.a.scale,t=l.a.layoutConfigs,n=l.a.projectConfig,i=n.name,a="";switch(n.state){case"0":a="\u8349\u7a3f";break;case"1":a="\u53d1\u5e03";break;case"2":a="\u5c01\u5b58"}return Object(C.jsxs)("div",{className:"lc-designer-footer",children:[Object(C.jsxs)("div",{className:"footer-left",children:[Object(C.jsxs)("div",{className:"footer-item",onClick:this.toggleHotKeyDes,children:[Object(C.jsx)("img",{width:16,alt:"\u5feb\u6377\u952e",src:pt}),"\xa0",Object(C.jsx)("span",{style:{position:"relative",top:2},children:"\u5feb\u6377\u952e"})]}),Object(C.jsxs)("div",{className:"footer-item",onClick:this.toggleLayerList,children:[Object(C.jsx)("img",{width:16,alt:"\u56fe\u5c42",src:bt}),"\xa0",Object(C.jsx)("span",{style:{position:"relative",top:2},children:"\u56fe\u5c42"})]})]}),Object(C.jsxs)("div",{className:"footer-right",children:[Object(C.jsxs)("div",{className:"right-info-item",children:["\u7f29\u653e : ",(100*e).toFixed(0),"%"]}),Object(C.jsxs)("div",{className:"right-info-item",children:["\u5f53\u524d\u7ec4\u4ef6\u6570 : ",Object.keys(t).length]}),Object(C.jsxs)("div",{className:"right-info-item",children:["\u9879\u76ee : ",i]}),Object(C.jsxs)("div",{className:"right-info-item",children:["\u72b6\u6001 : ",a]})]}),Object(C.jsx)(ht.a,{title:"\u5feb\u6377\u952e\u8bf4\u660e",visible:this.state.showHotKeyDes,onClose:this.toggleHotKeyDes,children:Object(C.jsx)(vt,{})})]})}}]),n}(c.Component),gt=Object(x.a)(mt),Ot=n(241);var yt=n(617),xt=(n(555),n(197)),Ct=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e,a,r){var o;return Object(i.a)(this,n),(o=t.call(this)).position={x:0,y:0},o.onDragEnd=function(){o.dragTarget.addEventListener("pointerup",(function(e){0===e.button&&(o.dragTarget.releasePointerCapture(e.pointerId),o.dragTarget.removeEventListener("pointermove",o.onDragMove))}))},o.onDragMove=function(e){o.position.x+=e.movementX,o.position.y+=e.movementY,o.target.style.transform="translate("+o.position.x+"px, "+o.position.y+"px)"},o.onDragStart=function(){o.dragTarget.addEventListener("pointerdown",(function(e){0===e.button&&(o.dragTarget.setPointerCapture(e.pointerId),o.dragTarget.addEventListener("pointermove",o.onDragMove))}))},o.target=e,o.dragTarget=a,o.registerDragger(),r&&(o.position=r),o}return Object(a.a)(n)}(j),kt=(n(556),function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).panelRef=null,e.dragTargetRef=null,e.onClose=function(){var t=e.props.onClose;t&&t()},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.initPosition,t=void 0===e?{x:0,y:0}:e;this.dragTargetRef&&this.panelRef&&new Ct(this.panelRef,this.dragTargetRef,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.initPosition,i=void 0===n?{x:0,y:0}:n,a=t.title,r=t.className;return Object(C.jsxs)("div",{className:"float-panel ".concat(r),style:{transform:"translate(".concat(i.x,"px, ").concat(i.y,"px)")},ref:function(t){return e.panelRef=t},children:[Object(C.jsxs)("div",{className:"panel-title",children:[Object(C.jsx)("div",{className:"title-left",children:a}),Object(C.jsx)("div",{ref:function(t){return e.dragTargetRef=t},className:"title-drag-target",style:{width:"50%",height:"100%"}}),Object(C.jsx)("div",{className:"title-right",onClick:this.onClose,children:Object(C.jsx)("span",{children:Object(C.jsx)(ct.a,{})})})]}),this.props.children]})}}]),n}(c.Component)),wt=kt,Nt=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).addItem=function(e,t){var n=l.a.addItem,i=d.a.maxLevel,a=d.a.setMaxLevel,r={name:t,type:e,width:320,height:200,position:[0,0],id:xt.a.generateId()+"",locked:!1,hide:!1,order:++i};a&&a(i),n&&n(r)},a.getChartDom=function(){var e=[],t=$e.classifyKey,n=et.compInfoArr,i=et.compKey;"all"!==t&&(n=n.filter((function(e){return e.typeKey===t}))),""!==i&&(n=n.filter((function(e){return e.compName.indexOf(i)>=0})));for(var r=function(t){var i=n[t],r=i.compName,o=i.compKey,c=Z.a.customComponentInfoMap[o].getChartImg();e.push(Object(C.jsxs)("div",{className:"list-item droppable-element",children:[Object(C.jsxs)("div",{className:"item-header",ref:"drag-target",children:[Object(C.jsx)("div",{className:"item-name",children:r}),Object(C.jsx)("div",{className:"item-type",children:"Antd"})]}),Object(C.jsx)("div",{className:"item-content",onDoubleClick:function(){return a.addItem(o,r)},children:Object(C.jsx)("img",{src:c,alt:"\u7ec4\u4ef6\u9884\u89c8\u56fe"})})]},t+""))},o=0;o<n.length;o++)r(o);return e},a.onClose=function(){var e=et.setVisible;e&&e(!1)},a.searchChart=function(e){var t=et.setCompKey;t&&t(e.currentTarget.value)};var r=et.doInit;return r&&r(),a}return Object(a.a)(n,[{key:"render",value:function(){return Object(C.jsxs)(wt,{className:"comp-list",title:"\u7ec4\u4ef6\u5217\u8868",onClose:this.onClose,initPosition:{x:60,y:50-window.innerHeight},children:[Object(C.jsx)("div",{className:"list-search",children:Object(C.jsx)(yt.a,{placeholder:"\u641c\u7d22\u7ec4\u4ef6",onPressEnter:this.searchChart,style:{width:"100%"}})}),Object(C.jsx)("div",{className:"list-items",children:this.getChartDom()})]})}}]),n}(c.Component),It=Object(x.a)(Nt),Et=(n(558),n(75)),Lt=n(73),Pt=n.n(Lt),Rt=n(84),Tt=n(149),Dt=(n(559),n.p+"static/media/lock.11cf90eb.svg"),Mt=n.p+"static/media/preview-close.40634e66.svg",St=n.p+"static/media/preview-open.fe6af5a2.svg",At=n.p+"static/media/unlock.a58cef96.svg",Yt=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).state={selected:!1,lock:!1,hide:!1,compId:"",name:""},a.toggleLock=function(){var e=jt.a.lockChange;e&&e(a.state.compId,!a.state.lock)},a.toggleHide=function(){var e=jt.a.hideChange;e&&e(a.state.compId,!a.state.hide)},a.onSelected=function(e){var t=jt.a.selectedChange;t&&t(Object(q.a)(Object(q.a)({},a.state),{selected:!0}),e)};var r=e.selected,o=e.lock,c=e.hide,s=e.compId,l=e.name;return a.state={selected:r||!1,lock:o||!1,hide:c||!1,compId:s||"",name:l||""},a}return Object(a.a)(n,[{key:"render",value:function(){var e=this.state||{},t=e.name,n=e.lock,i=e.hide,a=e.selected,r=void 0!==a&&a;return Object(C.jsxs)("div",{className:"layer-item ".concat(r?"layer-item-selected":""),onClick:this.onSelected,children:[Object(C.jsx)("div",{className:"layer-item-name",children:t}),Object(C.jsxs)("div",{className:"layer-item-operators",children:[Object(C.jsx)("div",{className:"layer-item-operator",children:Object(C.jsx)("span",{onClick:this.toggleHide,children:Object(C.jsx)("img",{src:i?Mt:St,alt:i?"\u663e\u793a":"\u9690\u85cf",style:{width:14}})})}),Object(C.jsx)("div",{className:"layer-item-operator",children:Object(C.jsx)("span",{onClick:this.toggleLock,children:Object(C.jsx)("img",{src:n?Dt:At,alt:n?"\u9501\u5b9a":"\u89e3\u9501"})})})]})]})}}]),n}(s.a.PureComponent),Xt=n(116),Kt=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"create",value:function(){var e=Object(Et.a)(Pt.a.mark((function e(t,n){var i=this;return Pt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.config=n,this.instance||Tt.a.createAndRender(t,Yt,n).then((function(e){i.instance=e})),e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){}},{key:"getConfig",value:function(){return this.config}},{key:"update",value:function(e,t){var n;this.config=Object(Xt.a)(this.config,e),(t=t||{reRender:!0,operateType:Rt.OperateType.OPTIONS}).reRender&&(null===(n=this.instance)||void 0===n||n.setState(Object(q.a)({},this.config)))}}]),n}(Rt.default),Ht=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).layerContainerRef=null,e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=jt.a.layerInstanceMap,t=this.props.item;(new Kt).create(this.layerContainerRef,t).then((function(n){e[t.compId]=n}))}},{key:"render",value:function(){var e=this,t=this.props.item;return Object(C.jsx)("div",{id:t.compId+"",className:"layer-item-container",ref:function(t){return e.layerContainerRef=t}})}}]),n}(c.Component),Ut=Ht,Gt=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).cancelSelected=function(e){var t=document.querySelector(".layer-list");if(t&&e.target&&t.contains(e.target)&&!e.target.classList.contains("layer-item")){var n=d.a.setTargetIds,i=d.a.setTargets;n([]),i([])}},e.onClose=function(){var e=jt.a.setVisible;e&&e(!1)},e.searchLayer=function(e){var t=jt.a.setContent,n=e.target.value;t&&t(n)},e.buildLayerList=function(){var e=l.a.layoutConfigs,t=d.a.targetIds,n=jt.a.searchContent;return Object.values(e).filter((function(e){var t;return null===(t=e.name)||void 0===t?void 0:t.includes(n)})).sort((function(e,t){return t.order-e.order})).map((function(e,n){var i={name:e.name,lock:e.locked,hide:e.hide,compId:e.id,selected:t.includes(e.id)};return Object(C.jsx)(Ut,{item:i},e.id)}))},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){f.register("click",this.cancelSelected)}},{key:"componentWillUnmount",value:function(){f.unregister("click",this.cancelSelected)}},{key:"render",value:function(){return Object(C.jsxs)(wt,{title:"\u56fe\u5c42",onClose:this.onClose,initPosition:{x:250,y:50-window.innerHeight},className:"layer-list",children:[Object(C.jsx)("div",{className:"list-search",children:Object(C.jsx)(yt.a,{placeholder:"\u641c\u7d22\u56fe\u5c42",onPressEnter:this.searchLayer,style:{width:"100%"}})}),Object(C.jsx)("div",{className:"layer-items",children:this.buildLayerList()})]})}}]),n}(c.Component),zt=Object(x.a)(Gt),Vt=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=et.visible,t=jt.a.visible;return Object(C.jsxs)(C.Fragment,{children:[e&&Object(C.jsx)(It,{}),t&&Object(C.jsx)(zt,{})]})}}]),n}(c.Component),Bt=Object(x.a)(Vt),_t=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(i.a)(this,n),a=t.call(this,e),Object(Ot.a)(),a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){!function(){var e=H.setPosition,t=H.updateVisible,n=d.a.setUnLockedId;f.register("click",(function(e){var t=H.visible,n=H.updateVisible;t&&0===e.button&&setTimeout((function(){n(!1)}))})),f.register("contextmenu",(function(i){i.preventDefault();var a=H.mouseDownTime,r=H.mouseUpTime;["lc-comp-item","moveable-area"].some((function(e){return i.target.classList.contains(e)}))&&r-a<200?(t&&t(!0),e([i.clientX,i.clientY]),n(i.target.id)):t&&t(!1)})),f.register("pointerdown",(function(e){0===e.button?v.leftClick=!0:2===e.button&&(v.rightClick=!0),(0,H.setMouseDownTime)(Date.now())})),f.register("pointerup",(function(e){0===e.button?v.leftClick=!1:2===e.button&&(v.rightClick=!1),(0,H.setMouseUpTime)(Date.now()),(0,d.a.setPointerTarget)(e.target)}))}()}},{key:"render",value:function(){return Object(C.jsxs)(Ke,{children:[Object(C.jsx)(Le,{children:Object(C.jsx)(Ie,{})}),Object(C.jsxs)(Re,{children:[Object(C.jsx)(De,{children:Object(C.jsx)(at,{})}),Object(C.jsx)(Se,{children:Object(C.jsx)(ye,{})}),Object(C.jsx)(Ye,{children:Object(C.jsx)(dt,{})})]}),Object(C.jsx)(Ue,{children:Object(C.jsx)(gt,{})}),Object(C.jsx)(Bt,{})]})}}]),n}(c.Component);t.default=_t}}]);
//# sourceMappingURL=8.d2483566.chunk.js.map
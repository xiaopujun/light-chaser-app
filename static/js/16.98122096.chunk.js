(this["webpackJsonplight-chaser"]=this["webpackJsonplight-chaser"]||[]).push([[16],{582:function(t,e,r){"use strict";function n(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return!0;return!1}function i(t,e){for(var r=t.length,n=0;n<r;++n)if(e(t[n],n))return t[n];return null}function a(t){var e=t;if("undefined"===typeof e){if("undefined"===typeof navigator||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function o(t,e){try{return new RegExp(t,"g").exec(e)}catch(r){return null}}function s(){if("undefined"===typeof navigator||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!(!e||!e.length)}function c(t){return t.replace(/_/g,".")}function u(t,e){var r=null,i="-1";return n(t,(function(t){var n=o("("+t.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!(!n||t.brand)&&(r=t,i=n[3]||"-1",t.versionAlias?i=t.versionAlias:t.versionTest&&(i=function(t,e){var r=o("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return r?r[3]:""}(t.versionTest.toLowerCase(),e)||i),i=c(i),!0)})),{preset:r,version:i}}function l(t,e){var r={brand:"",version:"-1"};return n(t,(function(t){var n=f(e,t);return!!n&&(r.brand=t.id,r.version=t.versionAlias||n.version,"-1"!==r.version)})),r}function f(t,e){return i(t,(function(t){var r=t.brand;return o(""+e.test,r.toLowerCase())}))}r.d(e,"a",(function(){return Ki}));var d=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],p=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],v=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],g=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],h=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function b(t){return!!u(g,t).preset}function m(t){var e=navigator.userAgentData,r=(e.uaList||e.brands).slice(),o=t&&t.fullVersionList,s=e.mobile||!1,u=r[0],m=(t&&t.platform||e.platform||navigator.platform).toLowerCase(),O={name:u.brand,version:u.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!l(g,r).brand||b(a())},x={name:"unknown",version:"-1",majorVersion:-1};O.webkit=!O.chromium&&n(v,(function(t){return f(r,t)}));var j=l(p,r);if(O.chromium=!!j.brand,O.chromiumVersion=j.version,!O.chromium){var S=l(v,r);O.webkit=!!S.brand,O.webkitVersion=S.version}var E=i(h,(function(t){return new RegExp(""+t.test,"g").exec(m)}));if(x.name=E?E.id:"",t&&(x.version=t.platformVersion),o&&o.length){var y=l(d,o);O.name=y.brand||O.name,O.version=y.version||O.version}else{var w=l(d,r);O.name=w.brand||O.name,O.version=w.brand&&t?t.uaFullVersion:w.version}return O.webkit&&(x.name=s?"ios":"mac"),"ios"===x.name&&O.webview&&(O.version="-1"),x.version=c(x.version),O.version=c(O.version),x.majorVersion=parseInt(x.version,10),O.majorVersion=parseInt(O.version,10),{browser:O,os:x,isMobile:s,isHints:!0}}function O(t){return"undefined"===typeof t&&s()?m():function(t){var e=a(t),r=!!/mobi/g.exec(e),n={name:"unknown",version:"-1",majorVersion:-1,webview:b(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},o=u(d,e),s=o.preset,c=o.version,l=u(h,e),f=l.preset,g=l.version,m=u(p,e);if(n.chromium=!!m.preset,n.chromiumVersion=m.version,!n.chromium){var O=u(v,e);n.webkit=!!O.preset,n.webkitVersion=O.version}return f&&(i.name=f.id,i.version=g,i.majorVersion=parseInt(g,10)),s&&(n.name=s.id,n.version=c,n.webview&&"ios"===i.name&&"safari"!==n.name&&(n.webview=!1)),n.majorVersion=parseInt(n.version,10),{browser:n,os:i,isMobile:r,isHints:!1}}(t)}var x=O,j=r(147),S=r(105),E=r(270),y=r(269),w=r(265),C=r(268),D=r(271),R=r(0),M=r(272),z=r(267),P=function(t,e){return P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},P(t,e)};function T(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}P(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var G=function(){return G=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},G.apply(this,arguments)};function B(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}R.Component;function k(t,e){var r=Object(z.a)(e),n=r.className;return Object(R.forwardRef)((function(e,i){var a=e.className,o=void 0===a?"":a,s=(e.cspNonce,B(e,["className","cspNonce"])),c=Object(R.useRef)();return Object(R.useImperativeHandle)(i,(function(){return c.current}),[]),Object(R.useEffect)((function(){var t=r.inject(c.current,{nonce:e.cspNonce});return function(){t.destroy()}}),[]),Object(R.createElement)(t,G({ref:c,"data-styled-id":n,className:"".concat(o," ").concat(n)},s))}))}var A=r(146),I=r(266),_=function(t,e){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},_(t,e)};function F(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var N=function(){return N=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},N.apply(this,arguments)};function W(t,e,r){if(r||2===arguments.length)for(var n,i=0,a=e.length;i<a;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))}function H(t,e){return N({events:[],props:[],name:t},e)}var q=["n","w","s","e"],L=["n","w","s","e","nw","ne","sw","se"];var V=x(),Y=V.browser.webkit,X=Y&&function(){var t="undefined"===typeof window?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return!!e&&parseFloat(e[1])<605}(),U=V.browser.name,Z=parseInt(V.browser.version,10),K="chrome"===U,$=V.browser.chromium,J=parseInt(V.browser.chromiumVersion,10)||0,Q=K&&Z>=109||$&&J>=109,tt="firefox"===U,et=parseInt(V.browser.webkitVersion,10)>=612||Z>=15,rt="moveable-",nt=L.map((function(t){var e="",r="",n="center",i="center",a="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(e="top: ".concat(a,";"),i="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",i="top"),t.indexOf("w")>-1&&(r="left: ".concat(a,";"),n="right"),t.indexOf("e")>-1&&(r="left: 0px;",n="left"),'.around-control[data-direction*="'.concat(t,'"] {\n        ').concat(r).concat(e,"\n        transform-origin: ").concat(n," ").concat(i,";\n    }")})).join("\n"),it="\n{\nposition: absolute;\nwidth: 1px;\nheight: 1px;\nleft: 0;\ntop: 0;\nz-index: 3000;\n--moveable-color: #4af;\n--zoom: 1;\n--zoompx: 1px;\n--moveable-line-padding: 0;\n--moveable-control-padding: 0;\nwill-change: transform;\noutline: 1px solid transparent;\n}\n.control-box {\nz-index: 0;\n}\n.line, .control {\nposition: absolute;\nleft: 0;\ntop: 0;\nwill-change: transform;\n}\n.control {\nwidth: 14px;\nheight: 14px;\nborder-radius: 50%;\nborder: 2px solid #fff;\nbox-sizing: border-box;\nbackground: #4af;\nbackground: var(--moveable-color);\nmargin-top: -7px;\nmargin-left: -7px;\nborder: 2px solid #fff;\nz-index: 10;\n}\n.around-control {\nposition: absolute;\nwill-change: transform;\nwidth: calc(var(--moveable-control-padding, 20) * 1px);\nheight: calc(var(--moveable-control-padding, 20) * 1px);\nleft: calc(var(--moveable-control-padding, 20) * -0.5px);\ntop: calc(var(--moveable-control-padding, 20) * -0.5px);\nbox-sizing: border-box;\nbackground: transparent;\nz-index: 8;\ncursor: alias;\ntransform-origin: center center;\n}\n".concat(nt,"\n.padding {\nposition: absolute;\ntop: 0px;\nleft: 0px;\nwidth: 100px;\nheight: 100px;\ntransform-origin: 0 0;\n}\n.line {\nwidth: 1px;\nheight: 1px;\nbackground: #4af;\nbackground: var(--moveable-color);\ntransform-origin: 0px 50%;\n}\n.line.edge {\nz-index: 1;\nbackground: transparent;\n}\n.line.dashed {\nbox-sizing: border-box;\nbackground: transparent;\n}\n.line.dashed.horizontal {\nborder-top: 1px dashed #4af;\nborder-top-color: #4af;\nborder-top-color: var(--moveable-color);\n}\n.line.dashed.vertical {\nborder-left: 1px dashed #4af;\nborder-left-color: #4af;\nborder-left-color: var(--moveable-color);\n}\n.line.vertical {\ntransform: translateX(-50%);\n}\n.line.horizontal {\ntransform: translateY(-50%);\n}\n.line.vertical.bold {\nwidth: 2px;\n}\n.line.horizontal.bold {\nheight: 2px;\n}\n\n.control.origin {\nborder-color: #f55;\nbackground: #fff;\nwidth: 12px;\nheight: 12px;\nmargin-top: -6px;\nmargin-left: -6px;\npointer-events: none;\n}\n").concat([0,15,30,45,60,75,90,105,120,135,150,165].map((function(t){return'\n.direction[data-rotation="'.concat(t,'"], :global .view-control-rotation').concat(t," {\n").concat(function(t){var e=function(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}(1,t),r=45*Math.round(t/45)%180,n="ns-resize";return 135===r?n="nwse-resize":45===r?n="nesw-resize":90===r&&(n="ew-resize"),"cursor:".concat(n,";cursor: url('").concat(e,"') 16 16, ").concat(n,";")}(t),"\n}\n")})).join("\n"),'\n\n.line.direction:before {\ncontent: "";\nposition: absolute;\nwidth: 100%;\nheight: calc(var(--moveable-line-padding, 0) * 1px);\nbottom: 0;\nleft: 0;\n}\n.group {\nz-index: -1;\n}\n.area {\nposition: absolute;\n}\n.area-pieces {\nposition: absolute;\ntop: 0;\nleft: 0;\ndisplay: none;\n}\n.area.avoid, .area.pass {\npointer-events: none;\n}\n.area.avoid+.area-pieces {\ndisplay: block;\n}\n.area-piece {\nposition: absolute;\n}\n\n').concat(X?':global svg *:before {\ncontent:"";\ntransform-origin: inherit;\n}':"","\n"),at=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],ot=1e-4,st=1e-7,ct=1e-9,ut=Math.pow(10,10),lt=-ut,ft={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},dt={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},pt={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},vt=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement"];function gt(t,e,r,n,i,a){var o,s;void 0===a&&(a="draggable");var c=null!==(s=null===(o=e.gestos[a])||void 0===o?void 0:o.move(r,t.inputEvent))&&void 0!==s?s:{},u=c.originalDatas||c.datas,l=u[a]||(u[a]={});return N(N({},i?We(e,c):c),{isPinch:!!n,parentEvent:!0,datas:l,originalDatas:t.originalDatas})}var ht=function(){function t(t){var e;void 0===t&&(t="draggable"),this.ableName=t,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=((e={})[t]={},e)}var e=t.prototype;return e.dragStart=function(t,e){this.isDrag=!1,this.isFlag=!1;var r=e.originalDatas;return this.datas=r,r[this.ableName]||(r[this.ableName]={}),N(N({},this.move(t,e.inputEvent)),{type:"dragstart"})},e.drag=function(t,e){return this.move([t[0]-this.prevX,t[1]-this.prevY],e)},e.move=function(t,e){var r,n,i=!1;if(this.isFlag){var a=this.isDrag;r=this.prevX+t[0],n=this.prevY+t[1],(t[0]||t[1])&&(this.isDrag=!0),!a&&this.isDrag&&(i=!0)}else this.prevX=t[0],this.prevY=t[1],this.startX=t[0],this.startY=t[1],r=t[0],n=t[1],this.isFlag=!0;return this.prevX=r,this.prevY=n,{type:"drag",clientX:r,clientY:n,inputEvent:e,isFirstDrag:i,isDrag:this.isDrag,distX:r-this.startX,distY:n-this.startY,deltaX:t[0],deltaY:t[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function bt(t,e){var r=e.clientX,n=e.clientY,i=e.datas,a=t.state,o=a.moveableClientRect,s=a.rootMatrix,c=a.is3d,u=a.pos1,l=o.left,f=o.top,d=c?4:3,p=Object(E.p)(Ne(s,[r-l,n-f],d),u),v=Et({datas:i,distX:p[0],distY:p[1]});return[v[0],v[1]]}function mt(t,e){var r=e.datas,n=t.state,i=n.allMatrix,a=n.beforeMatrix,o=n.is3d,s=n.left,c=n.top,u=n.origin,l=n.offsetMatrix,f=n.targetMatrix,d=n.transformOrigin,p=o?4:3;r.is3d=o,r.matrix=i,r.targetMatrix=f,r.beforeMatrix=a,r.offsetMatrix=l,r.transformOrigin=d,r.inverseMatrix=Object(E.n)(i,p),r.inverseBeforeMatrix=Object(E.n)(a,p),r.absoluteOrigin=Object(E.e)(Object(E.s)([s,c],u),p),r.startDragBeforeDist=Object(E.a)(r.inverseBeforeMatrix,r.absoluteOrigin,p),r.startDragDist=Object(E.a)(r.inverseMatrix,r.absoluteOrigin,p)}function Ot(t,e){var r=t.datas,n=t.originalDatas.beforeRenderable,i=r.transformIndex,a=n.nextTransforms,o=a.length,s=n.nextTransformAppendedIndexes,c=-1;-1===i?("translate"===e?c=0:"rotate"===e&&(c=Object(S.m)(a,(function(t){return t.match(/scale\(/g)}))),-1===c&&(c=a.length),r.transformIndex=c):c=Object(S.l)(s,(function(t){return t.index===i&&t.functionName===e}))?i:i+s.filter((function(t){return t.index<i})).length;var u=function(t,e){var r,n=Object(y.d)(t),i=t.slice(0,e<0?void 0:e),a=t.slice(0,e<0?void 0:e+1),o=t[e]||"",s=e<0?[]:t.slice(e),c=e<0?[]:t.slice(e+1),u=n.slice(0,e<0?void 0:e),l=n.slice(0,e<0?void 0:e+1),f=null!==(r=n[e])&&void 0!==r?r:Object(y.d)([""])[0],d=e<0?[]:n.slice(e),p=e<0?[]:n.slice(e+1),v=f?[f]:[],g=Object(y.f)(u),h=Object(y.f)(l),b=Object(y.f)(d),m=Object(y.f)(p),O=Object(E.r)(g,b,4);return{transforms:t,beforeFunctionMatrix:g,beforeFunctionMatrix2:h,targetFunctionMatrix:Object(y.f)(v),afterFunctionMatrix:b,afterFunctionMatrix2:m,allFunctionMatrix:O,beforeFunctions:u,beforeFunctions2:l,targetFunction:v[0],afterFunctions:d,afterFunctions2:p,beforeFunctionTexts:i,beforeFunctionTexts2:a,targetFunctionText:o,afterFunctionTexts:s,afterFunctionTexts2:c}}(a,c),l=u.targetFunction,f="rotate"===e?"rotateZ":e;r.beforeFunctionTexts=u.beforeFunctionTexts,r.afterFunctionTexts=u.afterFunctionTexts,r.beforeTransform=u.beforeFunctionMatrix,r.beforeTransform2=u.beforeFunctionMatrix2,r.targetTansform=u.targetFunctionMatrix,r.afterTransform=u.afterFunctionMatrix,r.afterTransform2=u.afterFunctionMatrix2,r.targetAllTransform=u.allFunctionMatrix,l.functionName===f?(r.afterFunctionTexts.splice(0,1),r.isAppendTransform=!1):o>c&&(r.isAppendTransform=!0,n.nextTransformAppendedIndexes=W(W([],s,!0),[{functionName:e,index:c,isAppend:!0}],!1))}function xt(t,e,r){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?r:e," ").concat(t.afterFunctionTexts.join(" "))}function jt(t,e,r){var n=t.beforeTransform,i=t.afterTransform,a=t.beforeTransform2,o=t.afterTransform2,s=t.targetAllTransform,c=r?Object(E.r)(s,e,4):Object(E.r)(e,s,4),u=Object(E.r)(Object(E.n)(r?a:n,4),c,4);return Object(E.r)(u,Object(E.n)(r?o:i,4),4)}function St(t){var e=t.datas,r=t.distX,n=t.distY,i=e.inverseBeforeMatrix,a=e.is3d,o=e.startDragBeforeDist,s=e.absoluteOrigin,c=a?4:3;return Object(E.p)(Object(E.a)(i,Object(E.s)(s,[r,n]),c),o)}function Et(t,e){var r=t.datas,n=t.distX,i=t.distY,a=r.inverseBeforeMatrix,o=r.inverseMatrix,s=r.is3d,c=r.startDragBeforeDist,u=r.startDragDist,l=r.absoluteOrigin,f=s?4:3;return Object(E.p)(Object(E.a)(e?a:o,Object(E.s)(l,[n,i]),f),e?c:u)}function yt(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function wt(t,e){var r=(e[0]+1)/2,n=(e[1]+1)/2,i=[Object(S.k)(t[0][0],t[1][0],r,1-r),Object(S.k)(t[0][1],t[1][1],r,1-r)],a=[Object(S.k)(t[2][0],t[3][0],r,1-r),Object(S.k)(t[2][1],t[3][1],r,1-r)];return[Object(S.k)(i[0],a[0],n,1-n),Object(S.k)(i[1],a[1],n,1-n)]}function Ct(t,e,r,n){return Object(E.r)(t,Zt(e,n,r),n)}function Dt(t){var e=Pt(t);return{setTransform:function(r,n){void 0===n&&(n=-1),e.startTransforms=Object(S.w)(r)?r:Object(S.L)(r),Mt(t,n)},setTransformIndex:function(e){Mt(t,e)}}}function Rt(t,e){var r=Pt(t).startTransforms;Mt(t,Object(S.m)(r,(function(t){return 0===t.indexOf("".concat(e,"("))})))}function Mt(t,e){var r=Pt(t),n=t.datas;if(n.transformIndex=e,-1!==e){var i=r.startTransforms[e];if(i){var a=Object(y.d)([i]);n.startValue=a[0].functionValue}}}function zt(t,e){Pt(t).nextTransforms=Object(S.L)(e)}function Pt(t){return t.originalDatas.beforeRenderable}function Tt(t){return t.originalDatas.beforeRenderable.nextTransforms}function Gt(t){return(Tt(t)||[]).join(" ")}function Bt(t){return Pt(t).nextStyle}function kt(t,e,r,n,i){zt(i,e);var a=En.drag(t,gt(i,t.state,r,n,!1)),o=a?a.transform:e;return N(N({transform:e,drag:a},Re({transform:o},i)),{afterTransform:o})}function At(t,e,r,n,i,a){var o=function(t,e,r,n){var i,a=t.transformOrigin,o=t.offsetMatrix,s=t.is3d?4:3;if(Object(S.B)(r)){var c=e.beforeTransform,u=e.afterTransform;i=n?Object(E.c)(Object(y.e)(r),4,s):Object(E.c)(Object(E.r)(Object(E.r)(c,Object(y.e)([r]),4),u,4),4,s)}else i=r;return Ct(o,i,a,s)}(t.state,i,e,a),s=function(t,e,r,n){void 0===n&&(n=t.state.allMatrix);var i=t.state,a=i.width,o=i.height,s=i.is3d?4:3,c=[a/2*(1+e[0])+r[0],o/2*(1+e[1])+r[1]];return se(n,c,s)}(t,r,n,o);return s}function It(t,e,r,n,i,a,o){var s=At(t,e,r,i,a,o),c=t.state,u=c.left,l=c.top,f=t.props.groupable,d=f?u:0,p=f?l:0,v=Object(E.p)(n,s);return Object(E.p)(v,[d,p])}function _t(t,e,r,n,i,a){var o=t.props.groupable,s=t.state,c=s.transformOrigin,u=s.offsetMatrix,l=s.is3d,f=s.width,d=s.height,p=s.left,v=s.top,g=a.fixedDirection,h=a.nextTargetMatrix||s.targetMatrix,b=l?4:3,m=function(t,e,r,n,i,a){return void 0===n&&(n=e),void 0===i&&(i=r),void 0===a&&(a=[0,0]),t?t.map((function(t,o){var s=Object(S.M)(t),c=s.value,u=s.unit,l=o?i:n,f=o?r:e;return"%"===t||isNaN(c)?f*(l?a[o]/l:0):"%"!==u?c:f*c/100})):a}(i,e,r,f,d,c),O=o?p:0,x=o?v:0,j=function(t,e,r,n,i,a){var o=wt(ce(e,r,n,i),a);return[t[0]-o[0],t[1]-o[1]]}(n,Ct(u,h,m,b),e,r,b,g);return Object(E.p)(j,[O,x])}function Ft(t){if(t&&t.getRootNode){var e=t.getRootNode();if(11===e.nodeType)return e}}function Nt(t,e,r){for(var n,i,a,o=t,s=[],c=Object(S.q)(t)||Object(S.p)(t),u=!r&&t===e||t===c,l=u,f=!1,d=3,p=!1,v=Qt(e,e,!0).offsetParent,g=1;o&&!l;){l=u;var h=Vt(o),b=h("position"),m=h("scale"),O=Jt(o),x="fixed"===b,j=Object(E.b)(Ut(O)),y=void 0,w=!1,C=!1,D=0,R=0,M=0,z=0,P={hasTransform:!1,fixedContainer:null};x&&(p=!0,v=(P=ne(o)).fixedContainer);var T=j.length;f||16!==T||(f=!0,d=4,re(s),a&&(a=Object(E.c)(a,3,4))),f&&9===T&&(j=Object(E.c)(j,3,4));var G=te(o,t),B=G.tagName,k=G.hasOffset,A=G.isSVG,I=G.origin,_=G.targetOrigin,F=G.offset,N=F[0],W=F[1];"svg"===B&&a&&(s.push({type:"target",target:o,matrix:oe(o,d)}),s.push({type:"offset",target:o,matrix:Object(E.f)(d)}));var H=parseFloat(h("zoom"))||1;if(x)y=P.fixedContainer,w=!0;else{var q=Qt(o,e,!1,!0,h),L=q.offsetZoom;if(y=q.offsetParent,w=q.isEnd,C=q.isStatic,g*=L,(q.isCustomElement||1!==L)&&C)N-=y.offsetLeft,W-=y.offsetTop;else if(tt||Q){if(q.parentSlotElement){for(var V=y,X=0,U=0;V&&Ft(V);)X+=V.offsetLeft,U+=V.offsetTop,V=V.offsetParent;N-=X,W-=U}}}if(!Y||et||!k||A||!C||"relative"!==b&&"static"!==b||(N-=y.offsetLeft,W-=y.offsetTop,u=u||w),x)k&&P.hasTransform&&(M=y.clientLeft,z=y.clientTop);else if(k&&v!==y&&(D=y.clientLeft,R=y.clientTop),k&&y===c){var Z=ee(o,!1);N+=Z[0],W+=Z[1]}if(s.push({type:"target",target:o,matrix:Zt(j,d,I)}),m&&"1"!==m&&"none"!==m){var K=m.split(" ").map((function(t){return parseFloat(t)})),$=K[0],J=K[1],rt=void 0===J?$:J,nt=Object(E.i)([$,rt],d);s.push({type:"offset",target:o,matrix:Object(E.f)(d)}),s.push({type:"target",target:o,matrix:Zt(nt,d,I)})}if(k){var it=o===t,at=it?0:o.scrollLeft,ot=it?0:o.scrollTop;s.push({type:"offset",target:o,matrix:Object(E.g)([N-at+D-M,W-ot+R-z],d)})}else s.push({type:"offset",target:o,origin:I});if(1!==H&&s.push({type:"zoom",target:o,matrix:Zt(Object(E.i)([H,H],d),d,[0,0])}),a||(a=j),n||(n=I),i||(i=_),l||x)break;o=y,u=w,r&&o!==c||(l=u)}return a||(a=Object(E.f)(d)),n||(n=[0,0]),i||(i=[0,0]),{zoom:g,offsetContainer:v,matrixes:s,targetMatrix:a,transformOrigin:n,targetOrigin:i,is3d:f,hasFixed:p}}var Wt=null,Ht=null,qt=null;function Lt(t){t?(window.Map&&(Wt=new Map,Ht=new Map),qt=[]):(Wt=null,qt=null,Ht=null)}function Vt(t){var e=null===Wt||void 0===Wt?void 0:Wt.get(t);if(!e){var r=Object(S.u)(t).getComputedStyle(t);if(!Wt)return function(t){return r[t]};e={style:r,cached:{}},Wt.set(t,e)}var n=e.cached,i=e.style;return function(t){return t in n||(n[t]=i[t]),n[t]}}function Yt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return j.c.apply(void 0,W([rt],t,!1))}function Xt(t){t()}function Ut(t){return t&&"none"!==t?Object(S.A)(t)?t:Object(y.e)(t):[1,0,0,1,0,0]}function Zt(t,e,r){return Object(E.q)(e,Object(E.g)(r,e),t,Object(E.g)(r.map((function(t){return-t})),e))}function Kt(t){return $t(Be(t,":before").transformOrigin).map((function(e,r){var n=Object(S.M)(e),i=n.value,a=n.unit;return i*function(t,e,r){return"%"===e?ae(t.ownerSVGElement)[r?"width":"height"]/100:1}(t,a,0===r)}))}function $t(t){return t?t.split(" "):["0","0"]}function Jt(t){var e=Vt(t)("transform");if(e&&"none"!==e)return e;if("transform"in t){var r=t.transform.baseVal;if(!r)return"";var n=r.length;if(!n)return"";for(var i=[],a=function(t){var e=r[t].matrix;i.push("matrix(".concat(["a","b","c","d","e","f"].map((function(t){return e[t]})).join(", "),")"))},o=0;o<n;++o)a(o);return i.join(" ")}return""}function Qt(t,e,r,n,i){var a,o,s,c,u=Object(S.q)(t)||Object(S.p)(t),l=!1;if(!t||r)s=t;else{var f=null===(a=null===t||void 0===t?void 0:t.assignedSlot)||void 0===a?void 0:a.parentElement,d=t.parentElement;f?(l=!0,c=d,s=f):s=d}for(var p=!1,v=t===e||s===e,g="relative",h=1,b=parseFloat(null===i||void 0===i?void 0:i("zoom"))||1,m=null===i||void 0===i?void 0:i("position");s&&s!==u;){e===s&&(v=!0);var O=Vt(s),x=s.tagName.toLowerCase(),j=Jt(s),E=O("willChange"),y=parseFloat(O("zoom"))||1;if(g=O("position"),n&&1!==y){h=y;break}if(!r&&n&&1!==b&&m&&"absolute"!==m||"svg"===x||"static"!==g||j&&"none"!==j||"transform"===E)break;var w=null===(o=null===t||void 0===t?void 0:t.assignedSlot)||void 0===o?void 0:o.parentNode,C=s.parentNode;w&&(l=!0,c=C);var D=C;if(D&&11===D.nodeType){p=!0,g=Vt(s=D.host)("position");break}s=D,g="relative"}return{offsetZoom:h,hasSlot:l,parentSlotElement:c,isCustomElement:p,isStatic:"static"===g,isEnd:v||!s||s===u,offsetParent:s||u}}function te(t,e){var r,n,i,a=t.tagName.toLowerCase(),o=t.offsetLeft,s=t.offsetTop,c=Vt(t),u=Object(S.C)(o),l=!u;return l||"svg"===a?i=(n=$t(c("transformOrigin")).map((function(t){return parseFloat(t)}))).slice():(i=(n=X?Kt(t):$t(c("transformOrigin")).map((function(t){return parseFloat(t)}))).slice(),l=!0,r=function(t,e,r){if(!t.getBBox||!r&&"g"===t.tagName.toLowerCase())return[0,0,0,0];var n=t.getBBox(),i=ae(t.ownerSVGElement),a=n.x-i.x,o=n.y-i.y;return[a,o,e[0]-a,e[1]-o]}(t,n,t===e&&"g"===e.tagName.toLowerCase()),o=r[0],s=r[1],n[0]=r[2],n[1]=r[3]),{tagName:a,isSVG:u,hasOffset:l,offset:[o||0,s||0],origin:n,targetOrigin:i}}function ee(t,e){var r=Vt(t),n=Vt(Object(S.p)(t)),i=n("position");if(!e&&(!i||"static"===i))return[0,0];var a=parseInt(n("marginLeft"),10),o=parseInt(n("marginTop"),10);return"absolute"===r("position")&&("auto"===r("top")&&"auto"===r("bottom")||(o=0),"auto"===r("left")&&"auto"===r("right")||(a=0)),[a,o]}function re(t){t.forEach((function(t){var e=t.matrix;e&&(t.matrix=Object(E.c)(e,3,4))}))}function ne(t){for(var e=t.parentElement,r=!1,n=Object(S.p)(t);e;){var i=Be(e).transform;if(i&&"none"!==i){r=!0;break}if(e===n)break;e=e.parentElement}return{fixedContainer:e||n,hasTransform:r}}function ie(t,e){return void 0===e&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(Object(E.d)(t,!e).join(","),")")}function ae(t){var e=t.clientWidth,r=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:r};var n=t.viewBox,i=n&&n.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||r,clientWidth:e,clientHeight:r}}function oe(t,e){var r=ae(t),n=r.width,i=r.height,a=r.clientWidth,o=r.clientHeight,s=a/n,c=o/i,u=t.preserveAspectRatio.baseVal,l=u.align,f=u.meetOrSlice,d=[0,0],p=[s,c],v=[0,0];if(1!==l){var g=(l-2)%3,h=Math.floor((l-2)/3);d[0]=n*g/2,d[1]=i*h/2;var b=2===f?Math.max(c,s):Math.min(s,c);p[0]=b,p[1]=b,v[0]=(a-n)/2*g,v[1]=(o-i)/2*h}var m=Object(E.i)(p,e);return m[e*(e-1)]=v[0],m[e*(e-1)+1]=v[1],Zt(m,e,d)}function se(t,e,r){return Object(E.a)(t,Object(E.e)(e,r),r)}function ce(t,e,r,n){return[[0,0],[e,0],[0,r],[e,r]].map((function(e){return se(t,e,n)}))}function ue(t){var e=t.map((function(t){return t[0]})),r=t.map((function(t){return t[1]})),n=Math.min.apply(Math,e),i=Math.min.apply(Math,r),a=Math.max.apply(Math,e),o=Math.max.apply(Math,r);return{left:n,top:i,right:a,bottom:o,width:a-n,height:o-i}}function le(t,e,r,n){return ue(ce(t,e,r,n))}function fe(t,e,r,n){var i=16===t.length?4:3,a=ce(t,r,n,i),o=a[0],s=o[0],c=o[1],u=a[1],l=u[0],f=u[1],d=a[2],p=d[0],v=d[1],g=a[3],h=g[0],b=g[1],m=se(t,e,i),O=m[0],x=m[1],j=Math.min(s,l,p,h),S=Math.min(c,f,v,b),E=Math.max(s,l,p,h);return s=s-j||0,{left:j,top:S,right:E,bottom:Math.max(c,f,v,b),origin:[O=O-j||0,x=x-S||0],pos1:[s,c=c-S||0],pos2:[l=l-j||0,f=f-S||0],pos3:[p=p-j||0,v=v-S||0],pos4:[h=h-j||0,b=b-S||0],direction:rr(t[0]*t[i+1])}}function de(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function pe(t,e){return de([e[0]-t[0],e[1]-t[1]])}function ve(t,e,r,n){void 0===r&&(r=1),void 0===n&&(n=Object(S.s)(t,e));var i=pe(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(n,"rad) scaleY(").concat(r,")"),width:"".concat(i,"px")}}function ge(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=r.length,a=r.reduce((function(t,e){return t+e[0]}),0)/i,o=r.reduce((function(t,e){return t+e[1]}),0)/i;return{transform:"translateZ(0px) translate(".concat(a,"px, ").concat(o,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function he(t,e){var r=t[e];return Object(S.A)(r)?N(N({},t),r):t}function be(t){var e=t&&!Object(S.C)(t.offsetWidth),r=0,n=0,i=0,a=0,o=0,s=0,c=0,u=0,l=0,f=0,d=0,p=0,v=1/0,g=1/0,h=1/0,b=1/0,m=0,O=0,x=!1;if(t)if(e||"svg"===t.tagName.toLowerCase()){var j=Vt(t),E=t.style,y="border-box"===j("boxSizing"),w=parseFloat(j("borderLeftWidth"))||0,C=parseFloat(j("borderRightWidth"))||0,D=parseFloat(j("borderTopWidth"))||0,R=parseFloat(j("borderBottomWidth"))||0,M=(parseFloat(j("paddingLeft"))||0)+(parseFloat(j("paddingRight"))||0),z=(parseFloat(j("paddingTop"))||0)+(parseFloat(j("paddingBottom"))||0),P=M+(w+C),T=z+(D+R),G=j("position"),B=0,k=0;if("clientLeft"in t){var A=null;if("absolute"===G)A=Qt(t,Object(S.p)(t)).offsetParent;else A=t.parentElement;if(A){var I=Vt(A);B=parseFloat(I("width")),k=parseFloat(I("height"))}}l=Math.max(M,Object(S.i)(j("minWidth"),B)||0),f=Math.max(z,Object(S.i)(j("minHeight"),k)||0),v=Object(S.i)(j("maxWidth"),B),g=Object(S.i)(j("maxHeight"),k),isNaN(v)&&(v=1/0),isNaN(g)&&(g=1/0),m=Object(S.i)(E.width,0)||0,O=Object(S.i)(E.height,0)||0,o=parseFloat(j("width"))||0,s=parseFloat(j("height"))||0,r=c=nr(o-m)<1?Object(S.e)(l,m||o,v):o,n=u=nr(s-O)<1?Object(S.e)(f,O||s,g):s,i=c,a=u,y?(h=v,b=g,d=l,p=f,c=r-P,u=n-T):(h=v+P,b=g+T,d=l+P,p=f+T,r=c+P,n=u+T),i=c+M,a=u+z}else{var _=t.getBBox();x=!0,o=r=_.width,s=n=_.height,c=r,u=n,i=r,a=n}return{svg:x,offsetWidth:r,offsetHeight:n,clientWidth:i,clientHeight:a,contentWidth:c,contentHeight:u,inlineCSSWidth:m,inlineCSSHeight:O,cssWidth:o,cssHeight:s,minWidth:l,minHeight:f,maxWidth:v,maxHeight:g,minOffsetWidth:d,minOffsetHeight:p,maxOffsetWidth:h,maxOffsetHeight:b}}function me(t,e){return Object(S.s)(e>0?t[0]:t[1],e>0?t[1]:t[0])}function Oe(t,e){var r=t===Object(S.p)(t)||t===Object(S.q)(t),n={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return r&&(n.clientHeight=Math.max(e.height,n.clientHeight),n.scrollHeight=Math.max(e.height,n.scrollHeight)),n.overflow="visible"!==Vt(t)("overflow"),N(N({},e),n)}function xe(t,e,r,n){var i=t.left,a=t.right,o=t.top,s=t.bottom,c=e.top,u=e.left,l={left:u+i,top:c+o,right:u+a,bottom:c+s,width:a-i,height:s-o};return r&&n?Oe(r,l):l}function je(t,e){var r=0,n=0,i=0,a=0;if(t){var o=t.getBoundingClientRect();r=o.left,n=o.top,i=o.width,a=o.height}var s={left:r,top:n,width:i,height:a,right:r+i,bottom:n+a};return t&&e?Oe(t,s):s}function Se(t,e,r,n){var i;if(t)i=t;else if(e)i=[0,0];else{i=Ee(r.target,n)}return i}function Ee(t,e){if(t){var r=t.getAttribute("data-rotation")||"",n=t.getAttribute("data-direction");if(e.deg=r,n){var i=[0,0];return n.indexOf("w")>-1&&(i[0]=-1),n.indexOf("e")>-1&&(i[0]=1),n.indexOf("n")>-1&&(i[1]=-1),n.indexOf("s")>-1&&(i[1]=1),i}}}function ye(t,e){return[Object(E.s)(e,t[0]),Object(E.s)(e,t[1]),Object(E.s)(e,t[2]),Object(E.s)(e,t[3])]}function we(t){var e=t.left,r=t.top;return ye([t.pos1,t.pos2,t.pos3,t.pos4],[e,r])}function Ce(t,e){t[e?"controlAbles":"targetAbles"].forEach((function(e){e.unset&&e.unset(t)}))}function De(t,e){var r=e?"controlGesto":"targetGesto",n=t[r];!1===(null===n||void 0===n?void 0:n.isIdle())&&Ce(t,e),null===n||void 0===n||n.unset(),t[r]=null}function Re(t,e){if(e){var r=Pt(e);r.nextStyle=N(N({},r.nextStyle),t)}return{style:t,cssText:Object(S.r)(t).map((function(e){return"".concat(Object(S.j)(e,"-"),": ").concat(t[e],";")})).join("")}}function Me(t,e,r){var n=e.afterTransform||e.transform;return N(N({},Re(N(N(N({},t.style),e.style),{transform:n}),r)),{afterTransform:n,transform:t.transform})}function ze(t,e,r,n){var i=e.datas;i.datas||(i.datas={});var a=N(N({},r),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isFirstDrag:!!e.isFirstDrag,isTrusted:!1!==e.isTrusted,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var t;null===(t=e.stop)||void 0===t||t.call(e)}});return i.isStartEvent?n||(i.lastEvent=a):i.isStartEvent=!0,a}function Pe(t,e,r){var n=e.datas,i="isDrag"in r?r.isDrag:e.isDrag;return n.datas||(n.datas={}),N(N({isDrag:i},r),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:n.lastEvent,isDouble:e.isDouble,datas:n.datas,isFirstDrag:!!e.isFirstDrag})}function Te(t,e,r){t._emitter.on(e,r)}function Ge(t,e,r,n){return t.triggerEvent(e,r,n)}function Be(t,e){return Object(S.u)(t).getComputedStyle(t,e)}function ke(t,e,r){var n={},i={};return t.filter((function(t){var a=t.name;if(n[a]||!e.some((function(e){return t[e]})))return!1;if(!r&&t.ableGroup){if(i[t.ableGroup])return!1;i[t.ableGroup]=!0}return n[a]=!0,!0}))}function Ae(t,e){return t===e||null==t&&null==e}function Ie(t,e){var r=[],n=[];return t.forEach((function(i,a){var o=e(i,a,t),s=n.indexOf(o),c=r[s]||[];-1===s&&(n.push(o),r.push(c)),c.push(i)})),r}function _e(t){return t.reduce((function(t,e){return t.concat(e)}),[])}function Fe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort((function(t,e){return nr(e)-nr(t)})),t[0]}function Ne(t,e,r){return Object(E.a)(Object(E.n)(t,r),Object(E.e)(e,r),r)}function We(t,e){var r,n=t.is3d?4:3;return r=Ne(t.rootMatrix,[e.distX,e.distY],n),e.distX=r[0],e.distY=r[1],e}function He(t,e,r,n,i){return Object(E.p)(se(t,Object(E.s)(r,e),i),n)}function qe(t,e,r){return r?"".concat(t/e*100,"%"):"".concat(t,"px")}function Le(t){return nr(t)<=st?0:t}function Ve(t){return function(e){if(!e.isDragging(t))return"";var r=function(t,e){var r,n=t.targetGesto,i=t.controlGesto;return(null===n||void 0===n?void 0:n.isFlag())&&(r=n.getEventData()[e]),!r&&(null===i||void 0===i?void 0:i.isFlag())&&(r=i.getEventData()[e]),r||{}}(e,t),n=r.deg;return n?Yt("view-control-rotation".concat(n)):""}}function Ye(t,e){return void 0===e&&(e=[t]),function(r,n){if(n.isRequest)return!!e.some((function(t){return n.requestAble===t}))&&n.parentDirection;var i=n.inputEvent.target;return Object(S.v)(i,Yt("direction"))&&(!t||Object(S.v)(i,Yt(t)))}}function Xe(t,e){return t?Object(S.y)(t)?t:Object(S.B)(t)?e?document.querySelector(t):t:Object(S.x)(t)?t():Object(S.D)(t)?t:"current"in t?t.current:t:null}function Ue(t,e){return t?((r=t)&&Object(S.A)(r)&&!Object(S.y)(r)&&(Object(S.w)(r)||"length"in r)?[].slice.call(t):[t]).reduce((function(t,r){return Object(S.B)(r)&&e?W(W([],t,!0),[].slice.call(document.querySelectorAll(r)),!0):(Object(S.w)(r)?t.push(Ue(r,e)):t.push(Xe(r,e)),t)}),[]):[];var r}function Ze(t,e){var r=t.rootMatrix,n=t.is3d,i=n?4:3,a=Object(E.n)(r,i);return n||(a=Object(E.c)(a,3,4)),a[12]=0,a[13]=0,a[14]=0,Object(y.a)(a,e)}function Ke(t,e,r,n,i){var a=t[0],o=t[1],s=0,c=0;if(i&&a&&o){var u=Object(S.s)([0,0],e),l=Object(S.s)([0,0],n),f=de(e),d=Math.cos(u-l)*f;if(n[0])if(n[1]){var p=n[0]*a,v=n[1]*o,g=Math.atan2(p+e[0],v+e[1]),h=Math.atan2(p,v);g<0&&(g+=2*Math.PI),h<0&&(h+=2*Math.PI);var b=0;(b=nr(g-h)<Math.PI/2||nr(g-h)>Math.PI/2*3?g-h:g-(h+=Math.PI))>2*Math.PI?b-=2*Math.PI:b>Math.PI?b=2*Math.PI-b:b<-Math.PI&&(b=-2*Math.PI-b);var m=de([p+e[0],v+e[1]])*Math.cos(b);s=m*Math.sin(h)-p,c=m*Math.cos(h)-v,n[0]<0&&(s*=-1),n[1]<0&&(c*=-1)}else c=(s=d)/r;else s=(c=d)*r}else s=n[0]*e[0],c=n[1]*e[1];return[s,c]}function $e(t,e,r,n){var i,a=r.ratio,o=r.startOffsetWidth,s=r.startOffsetHeight,c=0,u=0,l=n.distX,f=n.distY,d=n.pinchScale,p=n.parentDistance,v=n.parentDist,g=n.parentScale,h=r.fixedDirection,b=[0,1].map((function(e){return nr(t[e]-h[e])})),m=[0,1].map((function(t){var e=b[t];return 0!==e&&(e=2/e),e}));if(v)c=v[0],u=v[1],e&&(c?u||(u=c/a):c=u*a);else if(Object(S.z)(d))c=(d-1)*o,u=(d-1)*s;else if(g)c=(g[0]-1)*o,u=(g[1]-1)*s;else if(p){var O=o*b[0],x=s*b[1],j=de([O,x]);c=p/j*O*m[0],u=p/j*x*m[1]}else{var E=Et({datas:r,distX:l,distY:f});E=m.map((function(t,e){return E[e]*t})),c=(i=Ke([o,s],E,a,t,e))[0],u=i[1]}return{distWidth:c,distHeight:u}}function Je(t,e){if(e){if("left"===t)return{x:"0%",y:"50%"};if("top"===t)return{x:"50%",y:"50%"};if("center"===t)return{x:"50%",y:"50%"};if("right"===t)return{x:"100%",y:"50%"};if("bottom"===t)return{x:"50%",y:"100%"};var r=t.split(" "),n=r[0],i=r[1],a=Je(n||""),o=Je(i||""),s=N(N({},a),o),c={x:"50%",y:"50%"};return s.x&&(c.x=s.x),s.y&&(c.y=s.y),s.value&&(s.x&&!s.y&&(c.y=s.value),!s.x&&s.y&&(c.x=s.value)),c}return"left"===t?{x:"0%"}:"right"===t?{x:"100%"}:"top"===t?{y:"0%"}:"bottom"===t?{y:"100%"}:t?"center"===t?{value:"50%"}:{value:t}:{}}function Qe(t,e,r){var n=Je(t,!0),i=n.x,a=n.y;return[Object(S.i)(i,e)||0,Object(S.i)(a,r)||0]}function tr(t,e){return t.length===e.length&&t.every((function(t,r){var n=e[r],i=Object(S.w)(t),a=Object(S.w)(n);return i&&a?tr(t,n):!i&&!a&&t===n}))}function er(t,e,r,n){var i=t[e];return!(e in t)||i!==r&&n(i)!==n(r)?(t[e]=r,r):i}function rr(t){return t>=0?1:-1}function nr(t){return Math.abs(t)}var ir=H("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,e){var r=e.datas,n=e.targets,i=e.angle,a=e.originalDatas,o=t.props,s=o.pinchable,c=o.ables;if(!s)return!1;var u="onPinch".concat(n?"Group":"","Start"),l="drag".concat(n?"Group":"","ControlStart"),f=(!0===s?t.controlAbles:c.filter((function(t){return s.indexOf(t.name)>-1}))).filter((function(t){return t.canPinch&&t[l]})),d=ze(t,e,{});n&&(d.targets=n);var p=Ge(t,u,d);r.isPinch=!1!==p,r.ables=f;var v=r.isPinch;return!!v&&(f.forEach((function(r){if(a[r.name]=a[r.name]||{},r[l]){var n=N(N({},e),{datas:a[r.name],parentRotate:i,isPinch:!0});r[l](t,n)}})),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},v)},pinch:function(t,e){var r=e.datas,n=e.scale,i=e.distance,a=e.originalDatas,o=e.inputEvent,s=e.targets,c=e.angle;if(r.isPinch){var u=i*(1-1/n),l=ze(t,e,{});s&&(l.targets=s);var f="onPinch".concat(s?"Group":"");Ge(t,f,l);var d=r.ables,p="drag".concat(s?"Group":"","Control");return d.forEach((function(r){r[p]&&r[p](t,N(N({},e),{datas:a[r.name],inputEvent:o,resolveMatrix:!0,pinchScale:n,parentDistance:u,parentRotate:c,isPinch:!0}))})),l}},pinchEnd:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,a=e.targets,o=e.originalDatas;if(r.isPinch){var s="onPinch".concat(a?"Group":"","End"),c=Pe(t,e,{isDrag:n});a&&(c.targets=a),Ge(t,s,c);var u=r.ables,l="drag".concat(a?"Group":"","ControlEnd");return u.forEach((function(r){r[l]&&r[l](t,N(N({},e),{isDrag:n,datas:o[r.name],inputEvent:i,isPinch:!0}))})),n}},pinchGroupStart:function(t,e){return this.pinchStart(t,N(N({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,N(N({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,N(N({},e),{targets:t.props.targets}))}});function ar(t,e,r){var n=r.originalDatas;n.groupable=n.groupable||{};var i=n.groupable;i.childDatas=i.childDatas||[];var a=i.childDatas;return t.moveables.map((function(t,n){return a[n]=a[n]||{},a[n][e]=a[n][e]||{},N(N({},r),{datas:a[n][e],originalDatas:a[n]})}))}function or(t,e,r,n,i,a,o){var s=!!r.match(/Start$/g),c=!!r.match(/End$/g),u=i.isPinch,l=i.datas,f=ar(t,e.name,i),d=t.moveables,p=f.map((function(t,i){var f=d[i],p=f.state,v=p.gestos,g=t;if(s)g=new ht(o).dragStart(n,t);else{if(v[o]||(v[o]=l.childGestos[i]),!v[o])return;g=gt(t,p,n,u,a,o)}var h=e[r](f,N(N({},g),{parentFlag:!0}));return c&&(v[o]=null),h}));return s&&(l.childGestos=d.map((function(t){return t.state.gestos[o]}))),p}function sr(t,e,r,n,i,a){void 0===i&&(i=function(t,e){return e});var o=!!r.match(/End$/g),s=ar(t,e.name,n),c=t.moveables;return s.map((function(t,n){var s,u=c[n];s=i(u,t);var l=e[r](u,N(N({},s),{parentFlag:!0}));return l&&a&&a(u,t,l,n),o&&(u.state.gestos={}),l}))}function cr(t,e,r,n){var i=r.fixedDirection,a=r.fixedPosition,o=wt(n.datas.startPositions||we(e.state),i),s=Object(E.a)(Object(E.h)(-t.rotation/180*Math.PI,3),[o[0]-a[0],o[1]-a[1],1],3),c=s[0],u=s[1];return n.datas.originalX=c,n.datas.originalY=u,n}var ur=["left","right","center"],lr=["top","bottom","middle"],fr={start:"left",end:"right",center:"center"},dr={start:"top",end:"bottom",center:"middle"};function pr(t,e){var r=t.props,n=r.snappable,i=r.bounds,a=r.innerBounds,o=r.verticalGuidelines,s=r.horizontalGuidelines,c=r.snapGridWidth,u=r.snapGridHeight,l=t.state,f=l.guidelines,d=l.enableSnap;return!(!n||!d||e&&!0!==n&&n.indexOf(e)<0)&&!!(c||u||i||a||f&&f.length||o&&o.length||s&&s.length)}function vr(t){return!1===t?{}:!0!==t&&t?t:{left:!0,right:!0,top:!0,bottom:!0}}function gr(t,e){var r=function(t,e){var r=vr(t),n={};for(var i in r)i in e&&r[i]&&(n[i]=e[i]);return n}(t,e),n=lr.filter((function(t){return t in r})),i=ur.filter((function(t){return t in r}));return{horizontal:n.map((function(t){return r[t]})),vertical:i.map((function(t){return r[t]}))}}function hr(t,e,r,n){var i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=t.length-1,n=0;n<r;++n){var i=t[n];if(!Object(S.C)(i))return i}return t[r]}(n,t.props.snapThreshold,5);return br(t.state.guidelines,e,r,i)}function br(t,e,r,n){return{vertical:xr(t,"vertical",e,n),horizontal:xr(t,"horizontal",r,n)}}function mr(t,e,r){var n=gr(t.props.snapDirections,e);return hr(t,n.vertical,n.horizontal,r)}function Or(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var r=t.posInfos[0],n=r.guidelineInfos[0],i=n.offset,a=n.dist,o=n.guideline;return{isSnap:e,offset:i,dist:a,pos:r.pos,guideline:o}}function xr(t,e,r,n){if(!t||!t.length)return{isSnap:!1,index:-1,posInfos:[]};var i="vertical"===e?0:1,a=r.map((function(r,a){var o=t.map((function(t){var e=t.pos,n=r-e[i];return{offset:n,dist:nr(n),guideline:t}})).filter((function(t){var r=t.guideline,i=t.dist;return!(r.type!==e||i>n)})).sort((function(t,e){return t.dist-e.dist}));return{pos:r,index:a,guidelineInfos:o}})).filter((function(t){return t.guidelineInfos.length>0})).sort((function(t,e){return t.guidelineInfos[0].dist-e.guidelineInfos[0].dist})),o=a.length>0;return{isSnap:o,index:o?a[0].index:-1,posInfos:a}}function jr(t,e,r,n){void 0===n&&(n=1);var i=[];if(r[0]&&r[1])i=[r,[-r[0],r[1]],[r[0],-r[1]]].map((function(t){return wt(e,t)}));else if(r[0]||r[1])t.props.keepRatio?i=[[-1,-1],[-1,1],[1,-1],[1,1],r].map((function(t){return wt(e,t)})):(i=function(t,e){return yt(e).map((function(e){return t[e]}))}(e,r),i.length>1&&i.push([(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]));else for(var a=[e[0],e[1],e[3],e[2],e[0]],o=0;o<4;++o)i.push(a[o]),i.push([(a[o][0]+a[o+1][0])/2,(a[o][1]+a[o+1][1])/2]);return hr(t,i.map((function(t){return t[0]})),i.map((function(t){return t[1]})),n)}function Sr(t,e){var r=nr(t.offset),n=nr(e.offset);return t.isBound&&e.isBound?n-r:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?n-r:t.isSnap?-1:e.isSnap||r<st?1:n<st?-1:r-n}function Er(t,e){return t.slice().sort((function(t,r){var n=t.sign[e],i=r.sign[e],a=t.offset[e],o=r.offset[e];return n?i?Sr({isBound:t.isBound,isSnap:t.isSnap,offset:a},{isBound:r.isBound,isSnap:r.isSnap,offset:o}):-1:1}))[0]}function yr(t,e){var r=Object(S.d)([e[0][0],e[1][0]]),n=Object(S.d)([e[0][1],e[1][1]]);return{vertical:r<=t[0],horizontal:n<=t[1]}}function wr(t,e){var r,n,i=e[0],a=e[1],o=a[0]-i[0],s=a[1]-i[1];if(nr(o)<st&&(o=0),nr(s)<st&&(s=0),o)if(s){r=s/o*(t[0]-i[0])+i[1],n=t[1]}else r=i[1],n=t[1];else r=i[0],n=t[0];return r-n}function Cr(t,e,r,n){return void 0===n&&(n=st),t.every((function(t){var i=wr(t,e);return i<=0===r||nr(i)<=n}))}function Dr(t,e,r,n,i){return void 0===i&&(i=0),n&&e-i<=t||!n&&t<=r+i?{isBound:!0,offset:n?e-t:r-t}:{isBound:!1,offset:0}}function Rr(t,e,r,n,i,a){var o,s,c=e[0],u=e[1],l=t[0],f=r[0],d=r[1],p=Le(d[1]-f[1]),v=u,g=c,h=-c/u;return Le(d[0]-f[0])?p||a&&!v?{isBound:!1,offset:0}:g?Dr((f[1]-l[1])/h+l[0],f[0],d[0],n,i):{isBound:s=nr(o=f[1]-l[1])<=(i||0),offset:s?o:0}:a&&!g?{isBound:!1,offset:0}:v?Dr(h*(f[0]-l[0])+l[1],f[1],d[1],n,i):{isBound:s=nr(o=f[0]-l[0])<=(i||0),offset:s?o:0}}function Mr(t,e,r){return e.map((function(e){var n=function(t,e){var r=e.line,n=e.centerSign,i=e.verticalSign,a=e.horizontalSign,o=e.lineConstants,s=t.props.innerBounds;if(!s)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var c=s.left,u=s.top,l=s.width,f=s.height,d=[[c,u],[c,u+f]],p=[[c,u],[c+l,u]],v=[[c+l,u],[c+l,u+f]],g=[[c,u+f],[c+l,u+f]];if(Cr([[c,u],[c+l,u],[c,u+f],[c+l,u+f]],r,n))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var h=Rr(r,o,p,i),b=Rr(r,o,g,i),m=Rr(r,o,d,a),O=Rr(r,o,v,a),x=h.isBound&&b.isBound,j=h.isBound||b.isBound,S=m.isBound&&O.isBound,E=m.isBound||O.isBound,y=Fe(h.offset,b.offset),w=Fe(m.offset,O.offset),C=[0,0],D=!1,R=!1;return nr(w)<nr(y)?(C=[y,0],D=j,R=x):(C=[0,w],D=E,R=S),{isAllBound:R,isVerticalBound:j,isHorizontalBound:E,isBound:D,offset:C}}(t,e),i=n.isBound,a=n.offset,o=n.isVerticalBound,s=n.isHorizontalBound,c=e.multiple,u=Et({datas:r,distX:a[0],distY:a[1]}).map((function(t,e){return t*(c[e]?2/c[e]:0)}));return{sign:c,isBound:i,isVerticalBound:o,isHorizontalBound:s,isSnap:!1,offset:u}}))}function zr(t,e,r){var n,i=Mr(t,Pr(t,e,[0,0],!1).map((function(t){return N(N({},t),{multiple:t.multiple.map((function(t){return 2*nr(t)}))})})),r),a=Er(i,0),o=Er(i,1),s=0,c=0,u=a.isVerticalBound||o.isVerticalBound,l=a.isHorizontalBound||o.isHorizontalBound;return(u||l)&&(n=function(t,e){var r=t.datas,n=t.distX,i=t.distY,a=r.beforeMatrix,o=r.matrix,s=r.is3d,c=r.startDragBeforeDist,u=r.startDragDist,l=r.absoluteOrigin,f=s?4:3;return Object(E.p)(Object(E.a)(e?a:o,Object(E.s)(e?c:u,[n,i]),f),l)}({datas:r,distX:-a.offset[0],distY:-o.offset[1]}),s=n[0],c=n[1]),{vertical:{isBound:u,offset:s},horizontal:{isBound:l,offset:c}}}function Pr(t,e,r,n){var i=t.state,a=ce(i.allMatrix,100,100,i.is3d?4:3),o=wt(a,[0,0]);return function(t,e){var r=[],n=t[0],i=t[1];return n&&i?r.push([[0,2*i],t,[-n,i]],[[2*n,0],t,[n,-i]]):n?(r.push([[2*n,0],[n,1],[n,-1]]),e&&r.push([[0,-1],[n,-1],[-n,-1]],[[0,1],[n,1],[-n,1]])):i?(r.push([[0,2*i],[1,i],[-1,i]]),e&&r.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):r.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),r}(r,n).map((function(t){var r=t[0],n=t[1],i=t[2],s=[wt(a,n),wt(a,i)],c=function(t){var e=t[0],r=t[1],n=r[0]-e[0],i=r[1]-e[1];Math.abs(n)<S.a&&(n=0),Math.abs(i)<S.a&&(i=0);var a=0,o=0,s=0;return n?i?(o=1,s=(a=-i/n)*e[0]-e[1]):(o=1,s=-e[1]):(a=-1,s=e[0]),[a,o,s].map((function(t){return Object(S.O)(t,S.a)}))}(s),u=yr(o,s),l=u.vertical,f=u.horizontal;return{multiple:r,centerSign:wr(o,s)<=0,verticalSign:l,horizontalSign:f,lineConstants:c,line:[wt(e,n),wt(e,i)]}}))}function Tr(t,e,r,n){var i=n?t.map((function(t){return Object(E.t)(t,n)})):t;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some((function(t){var n=wr(r,t)<=0;return!Cr(e,t,n)}))}function Gr(t,e,r,n,i){var a=t.props.innerBounds,o=i*Math.PI/180;if(!a)return[];var s=a.left,c=a.top,u=a.width,l=a.height,f=s-n[0],d=s+u-n[0],p=c-n[1],v=c+l-n[1],g=[[f,p],[d,p],[f,v],[d,v]],h=wt(r,[0,0]);if(!Tr(r,g,h,0))return[];var b=[],m=g.map((function(t){return[de(t),Object(S.s)([0,0],t)]}));return[[r[0],r[1]],[r[1],r[3]],[r[3],r[2]],[r[2],r[0]]].forEach((function(t){var r=Object(S.s)([0,0],function(t){var e=t[0],r=t[1],n=r[0]-e[0],i=r[1]-e[1];if(!n)return[e[0],0];if(!i)return[0,e[1]];var a=i/n,o=-a*e[0]+e[1];return[-o/(a+1/a),o/(a*a+1)]}(t)),n=function(t){var e=t[0],r=t[1],n=r[0]-e[0],i=r[1]-e[1];if(!n)return nr(e[0]);if(!i)return nr(e[1]);var a=i/n;return nr((-a*e[0]+e[1])/Math.sqrt(Math.pow(a,2)+1))}(t);b.push.apply(b,m.filter((function(t){var e=t[0];return e&&n<=e})).map((function(t){var e=t[0],i=t[1],a=Math.acos(e?n/e:0);return[o+(i+a)-r,o+(i-a)-r]})).reduce((function(t,e){return t.push.apply(t,e),t}),[]).filter((function(t){return!Tr(e,g,h,t)})).map((function(t){return Object(S.O)(180*t/Math.PI,st)})))})),b}function Br(t,e,r){var n=t||{},i=n.position,a=void 0===i?"client":i,o=n.left,s=void 0===o?-1/0:o,c=n.top,u=void 0===c?-1/0:c,l=n.right,f=void 0===l?1/0:l,d=n.bottom,p={position:a,left:s,top:u,right:f,bottom:void 0===d?1/0:d};return{vertical:Ar(p,e,!0),horizontal:Ar(p,r,!1)}}function kr(t,e){var r=t.state,n=r.containerClientRect,i=n.clientHeight,a=n.clientWidth,o=n.clientLeft,s=n.clientTop,c=r.snapOffset,u=c.left,l=c.top,f=c.right,d=c.bottom,p=e||t.props.bounds||{},v="css"===(p.position||"client"),g=p.left,h=void 0===g?-1/0:g,b=p.top,m=void 0===b?-1/0:b,O=p.right,x=void 0===O?v?-1/0:1/0:O,j=p.bottom,S=void 0===j?v?-1/0:1/0:j;return v&&(x=a+f-u-x,S=i+d-l-S),{left:h+u-o,right:x+u-o,top:m+l-s,bottom:S+l-s}}function Ar(t,e,r){var n=t[r?"left":"top"],i=t[r?"right":"bottom"],a=Math.min.apply(Math,e),o=Math.max.apply(Math,e),s=[];return n+1>a&&s.push({isBound:!0,offset:a-n,pos:n}),i-1<o&&s.push({isBound:!0,offset:o-i,pos:i}),s.length||s.push({isBound:!1,offset:0,pos:0}),s.sort((function(t,e){return nr(e.offset)-nr(t.offset)}))}function Ir(t,e,r){return(r?t.map((function(t){return Object(E.t)(t,r)})):t).some((function(t){return t[0]<e.left&&nr(t[0]-e.left)>.1||t[0]>e.right&&nr(t[0]-e.right)>.1||t[1]<e.top&&nr(t[1]-e.top)>.1||t[1]>e.bottom&&nr(t[1]-e.bottom)>.1}))}function _r(t,e,r,n,i){if(!t.props.bounds)return[];var a=i*Math.PI/180,o=kr(t),s=o.left,c=o.top,u=o.right,l=o.bottom,f=s-n[0],d=u-n[0],p=c-n[1],v=l-n[1],g={left:f,top:p,right:d,bottom:v};if(!Ir(r,g,0))return[];var h=[];return[[f,0],[d,0],[p,1],[v,1]].forEach((function(t){var n=t[0],i=t[1];r.forEach((function(t){var r=Object(S.s)([0,0],t);h.push.apply(h,function(t,e,r){var n=de(t),i=Math.sqrt(n*n-e*e)||0;return[i,-i].sort((function(e,n){return nr(e-t[r?0:1])-nr(n-t[r?0:1])})).map((function(t){return Object(S.s)([0,0],r?[t,e]:[e,t])}))}(t,n,i).map((function(t){return a+t-r})).filter((function(t){return!Ir(e,g,t)})).map((function(t){return Object(S.O)(180*t/Math.PI,st)})))}))})),h}function Fr(t,e){return function(t,e){var r,n=t.direction,i=t.classNames,a=t.size,o=t.pos,s=t.zoom,c=t.key,u="horizontal"===n,l=u?"Y":"X";return e.createElement("div",{key:c,className:i.join(" "),style:(r={},r[u?"width":"height"]="".concat(a),r.transform="translate(".concat(o[0],", ").concat(o[1],") translate").concat(l,"(-50%) scale").concat(l,"(").concat(s,")"),r)})}(N(N({},t),{classNames:W([Yt("line","guideline",t.direction)],t.classNames,!0).filter((function(t){return t})),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map((function(t){return"".concat(Object(S.O)(t,.1),"px")}))}),e)}function Nr(t,e,r,n,i,a,o,s){var c=t.props.zoom;return r.map((function(t,r){var u=t.type,l=t.pos,f=[0,0];return f[o]=n,f[o?0:1]=-i+l,Fr({key:"".concat(e,"TargetGuideline").concat(r),classNames:[Yt("target","bold",u)],posValue:f,sizeValue:a,zoom:c,direction:e},s)}))}function Wr(t,e,r,n,i,a){var o=t.props,s=o.zoom,c=o.isDisplayInnerSnapDigit,u="horizontal"===e?fr:dr,l=i[u.start],f=i[u.end];return r.filter((function(t){var e=t.hide,r=t.elementRect;if(e)return!1;if(c&&r){var n=r.rect;if(n[u.start]<=l&&f<=n[u.end])return!1}return!0})).map((function(t,r){var i=t.pos,o=t.size,c=t.element,u=t.className,l=[-n[0]+i[0],-n[1]+i[1]];return Fr({key:"".concat(e,"-default-guideline-").concat(r),classNames:c?[Yt("bold"),u]:[Yt("normal"),u],direction:e,posValue:l,sizeValue:o,zoom:s},a)}))}function Hr(t,e,r,n,i,a,o,s){var c,u=t.props,l=u.snapDigit,f=void 0===l?0:l,d=u.isDisplaySnapDigit,p=void 0===d||d,v=u.snapDistFormat,g=void 0===v?function(t,e){return t}:v,h=u.zoom,b="horizontal"===e?"X":"Y",m="vertical"===e?"height":"width",O=Math.abs(i),x=p?parseFloat(O.toFixed(f)):0;return s.createElement("div",{key:"".concat(e,"-").concat(r,"-guideline-").concat(n),className:Yt("guideline-group",e),style:(c={left:"".concat(a[0],"px"),top:"".concat(a[1],"px")},c[m]="".concat(O,"px"),c)},Fr({direction:e,classNames:[Yt(r),o],size:"100%",posValue:[0,0],sizeValue:O,zoom:h},s),s.createElement("div",{className:Yt("size-value","gap"),style:{transform:"translate".concat(b,"(-50%) scale(").concat(h,")")}},x>0?g(x,e):""))}function qr(t,e,r,n,i){var a=t.props.isDisplayInnerSnapDigit,o=[];return["vertical","horizontal"].forEach((function(s){var c=e.filter((function(t){return t.type===s})),u="vertical"===s?1:0,l=u?0:1,f=function(t,e,r,n){var i="vertical"===t?0:1,a="vertical"===t?1:0,o=i?fr:dr,s=r[o.start],c=r[o.end];return Ie(e,(function(t){return t.pos[i]})).map((function(e){var r=[],u=[];return e.forEach((function(e){var l,f,d=e.element,p=e.elementRect.rect;if(p[o.end]<s)r.push(e);else if(c<p[o.start])u.push(e);else if(p[o.start]<=s&&c<=p[o.end]&&n){var v=e.pos,g={element:d,rect:N(N({},p),(l={},l[o.end]=p[o.start],l))},h={element:d,rect:N(N({},p),(f={},f[o.start]=p[o.end],f))},b=[0,0],m=[0,0];b[i]=v[i],b[a]=v[a],m[i]=v[i],m[a]=v[a]+e.size,r.push({type:t,pos:b,size:0,elementRect:g}),u.push({type:t,pos:m,size:0,elementRect:h})}})),r.sort((function(t,e){return e.pos[a]-t.pos[a]})),u.sort((function(t,e){return t.pos[a]-e.pos[a]})),{total:e,start:r,end:u,inner:[]}}))}(s,c,n,a),d=u?dr:fr,p=u?fr:dr,v=n[d.start],g=n[d.end];f.forEach((function(e){var a=e.total,c=e.start,f=e.end,h=e.inner,b=r[l]+a[0].pos[l]-n[p.start],m=n;c.forEach((function(e){var n=e.elementRect.rect,a=m[d.start]-n[d.end];if(a>0){var c=[0,0];c[u]=r[u]+m[d.start]-v-a,c[l]=b,o.push(Hr(t,s,"dashed",o.length,a,c,e.className,i))}m=n})),m=n,f.forEach((function(e){var n=e.elementRect.rect,a=n[d.start]-m[d.end];if(a>0){var c=[0,0];c[u]=r[u]+m[d.end]-v,c[l]=b,o.push(Hr(t,s,"dashed",o.length,a,c,e.className,i))}m=n})),h.forEach((function(e){var n=e.elementRect.rect,a=v-n[d.start],c=n[d.end]-g,f=[0,0],p=[0,0];f[u]=r[u]-a,f[l]=b,p[u]=r[u]+g-v,p[l]=b,o.push(Hr(t,s,"dashed",o.length,a,f,e.className,i)),o.push(Hr(t,s,"dashed",o.length,c,p,e.className,i))}))}))})),o}function Lr(t,e,r,n,i){var a=function(t,e,r,n){var i=e[0]-t[0],a=e[1]-t[1];if(nr(i)<S.a&&(i=0),nr(a)<S.a&&(a=0),!i)return n?[0,0]:[0,r];if(!a)return n?[r,0]:[0,0];var o=a/i,s=t[1]-o*t[0];return n?[r,o*(e[0]+r)+s-e[1]]:[(e[1]+r-s)/o-e[0],r]}(t,e,r,n);if(!a)return{isOutside:!1,offset:[0,0]};var o=Object(S.n)(t,e),s=Object(S.n)(a,t),c=Object(S.n)(a,e),u=s>o||c>o,l=Et({datas:i,distX:a[0],distY:a[1]});return{offset:[l[0],l[1]],isOutside:u}}function Vr(t,e){return t.isBound?t.offset:e.isSnap?Or(e).offset:0}function Yr(t,e,r,n,i,a){if(!pr(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var o=ye(a.absolutePoses,[e,r]),s=ue(o),c=s.left,u=s.right,l=s.top,f=s.bottom,d={horizontal:o.map((function(t){return t[1]})),vertical:o.map((function(t){return t[0]}))},p=Xr(t,i,gr(vr(t.props.snapDirections),{left:c,right:u,top:l,bottom:f,center:(c+u)/2,middle:(l+f)/2}),d),v=p.vertical,g=p.horizontal,h=zr(t,o,a),b=h.vertical,m=h.horizontal,O=v.isSnap,x=g.isSnap,j=v.isBound||b.isBound,y=g.isBound||m.isBound,w=function(t,e,r,n,i){var a=e[0],o=e[1],s=r[0],c=r[1],u=n[0],l=n[1],f=i[0],d=i[1],p=-f,v=-d;if(t&&a&&o){p=0,v=0;var g=[];if(s&&c?g.push([0,d],[f,0]):s?g.push([f,0]):c?g.push([0,d]):u&&l?g.push([0,d],[f,0]):u?g.push([f,0]):l&&g.push([0,d]),g.length){g.sort((function(t,e){return de(Object(E.p)([a,o],t))-de(Object(E.p)([a,o],e))}));var h=g[0];if(h[0]&&nr(a)>S.a)p=-h[0],v=o*nr(a+p)/nr(a)-o;else if(h[1]&&nr(o)>S.a){var b=o;v=-h[1],p=a*nr(o+v)/nr(b)-a}if(t&&c&&s)if(nr(p)>S.a&&nr(p)<nr(f))p*=m=nr(f)/nr(p),v*=m;else if(nr(v)>S.a&&nr(v)<nr(d)){var m;p*=m=nr(d)/nr(v),v*=m}else p=Fe(-f,p),v=Fe(-d,v)}}else p=a||s?-f:0,v=o||c?-d:0;return[p,v]}(n,[e,r],[j,y],[O,x],[Fe(v.offset,b.offset),Fe(g.offset,m.offset)]);return[{isBound:j,isSnap:O,offset:w[0]},{isBound:y,isSnap:x,offset:w[1]}]}function Xr(t,e,r,n){void 0===n&&(n=r);var i=Br(kr(t),n.vertical,n.horizontal),a=i.horizontal,o=i.vertical,s=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:hr(t,r.vertical,r.horizontal),c=s.horizontal,u=s.vertical,l=Vr(a[0],c),f=Vr(o[0],u),d=nr(l),p=nr(f);return{horizontal:{isBound:a[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:l,dist:d,bounds:a,snap:c},vertical:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:f,dist:p,bounds:o,snap:u}}}function Ur(t,e,r,n,i){var a=Br(e,r,n),o=a.horizontal,s=a.vertical,c=br(t,r,n,i),u=c.horizontal,l=c.vertical,f=Vr(o[0],u),d=Vr(s[0],l),p=nr(f),v=nr(d);return{horizontal:{isBound:o[0].isBound,isSnap:u.isSnap,snapIndex:u.index,offset:f,dist:p,bounds:o,snap:u},vertical:{isBound:s[0].isBound,isSnap:l.isSnap,snapIndex:l.index,offset:d,dist:v,bounds:s,snap:l}}}function Zr(t,e,r,n,i,a){return r.map((function(r){var o=r[0],s=r[1],c=wt(e,o),u=wt(e,s),l=n?function(t,e,r,n){var i=function(t,e,r){var n=kr(t),i=n.left,a=n.top,o=n.right,s=n.bottom,c=r[0],u=r[1],l=Object(E.p)(r,e),f=l[0],d=l[1];nr(f)<st&&(f=0),nr(d)<st&&(d=0);var p=d>0,v=f>0,g={isBound:!1,offset:0,pos:0},h={isBound:!1,offset:0,pos:0};if(0===f&&0===d)return{vertical:g,horizontal:h};if(0===f)p?s<u&&(h.pos=s,h.offset=u-s):a>u&&(h.pos=a,h.offset=u-a);else if(0===d)v?o<c&&(g.pos=o,g.offset=c-o):i>c&&(g.pos=i,g.offset=c-i);else{var b=d/f,m=r[1]-b*c,O=0,x=0,j=!1;v&&o<=c?(O=b*o+m,x=o,j=!0):!v&&c<=i&&(O=b*i+m,x=i,j=!0),j&&(O<a||O>s)&&(j=!1),j||(p&&s<=u?(x=((O=s)-m)/b,j=!0):!p&&u<=a&&(x=((O=a)-m)/b,j=!0)),j&&(g.isBound=!0,g.pos=x,g.offset=c-x,h.isBound=!0,h.pos=O,h.offset=u-O)}return{vertical:g,horizontal:h}}(t,e,r),a=i.horizontal,o=i.vertical,s=n?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:function(t,e,r){var n=r[0],i=r[1],a=e[0],o=e[1],s=Object(E.p)(r,e),c=s[0],u=s[1],l=u>0,f=c>0;c=Le(c),u=Le(u);var d={isSnap:!1,offset:0,pos:0},p={isSnap:!1,offset:0,pos:0};if(0===c&&0===u)return{vertical:d,horizontal:p};var v=hr(t,c?[n]:[],u?[i]:[]),g=v.vertical,h=v.horizontal;g.posInfos.filter((function(t){var e=t.pos;return f?e>=a:e<=a})),h.posInfos.filter((function(t){var e=t.pos;return l?e>=o:e<=o})),g.isSnap=g.posInfos.length>0,h.isSnap=h.posInfos.length>0;var b=Or(g),m=b.isSnap,O=b.guideline,x=Or(h),j=x.isSnap,S=x.guideline,y=j?S.pos[1]:0,w=m?O.pos[0]:0;if(0===c)j&&(p.isSnap=!0,p.pos=S.pos[1],p.offset=i-p.pos);else if(0===u)m&&(d.isSnap=!0,d.pos=w,d.offset=n-w);else{var C=u/c,D=r[1]-C*n,R=0,M=0,z=!1;m?(R=C*(M=w)+D,z=!0):j&&(M=((R=y)-D)/C,z=!0),z&&(d.isSnap=!0,d.pos=M,d.offset=n-M,p.isSnap=!0,p.pos=R,p.offset=i-R)}return{vertical:d,horizontal:p}}(t,e,r),c=s.horizontal,u=s.vertical,l=Kr(a,c),f=Kr(o,u),d=nr(l),p=nr(f);return{horizontal:{isBound:a.isBound,isSnap:c.isSnap,offset:l,dist:d},vertical:{isBound:o.isBound,isSnap:u.isSnap,offset:f,dist:p}}}(t,c,u,i):Xr(t,i,{vertical:[u[0]],horizontal:[u[1]]}),f=l.horizontal,d=f.offset,p=f.isBound,v=f.isSnap,g=l.vertical,h=g.offset,b=g.isBound,m=g.isSnap,O=Object(E.p)(s,o);if(!h&&!d)return{isBound:b||p,isSnap:m||v,sign:O,offset:[0,0]};var x=function(t,e,r,n){var i=Object(S.s)(t,e)/Math.PI*180,a=r.vertical,o=a.isBound,s=a.isSnap,c=a.dist,u=r.horizontal,l=u.isBound,f=u.isSnap,d=i%180,p=d<3||d>177,v=d>87&&d<93;return u.dist<c&&(o||s&&!v&&(!n||!p))?"vertical":!l&&(!f||p||n&&v)?"":"horizontal"}(c,u,l,n);if(!x)return{sign:O,isBound:!1,isSnap:!1,offset:[0,0]};var j="vertical"===x,y=[0,0];return y=(y=n||1!==nr(s[0])||1!==nr(s[1])||o[0]===s[0]||o[1]===s[1]?Lr(c,u,-(j?h:d),j,a).offset:Et({datas:a,distX:-h,distY:-d})).map((function(t,e){return t*(O[e]?2/O[e]:0)})),{sign:O,isBound:j?b:p,isSnap:j?m:v,offset:y}}))}function Kr(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function $r(t){var e=t.state,r=e.containerClientRect,n=e.hasFixed,i=r.overflow,a=r.scrollHeight,o=r.scrollWidth,s=r.clientHeight,c=r.clientWidth,u=r.clientLeft,l=r.clientTop,f=t.props,d=f.snapGap,p=void 0===d||d,v=f.verticalGuidelines,g=f.horizontalGuidelines,h=f.snapThreshold,b=void 0===h?5:h,m=f.snapGridWidth,O=void 0===m?0:m,x=f.snapGridHeight,j=void 0===x?0:x,E=f.maxSnapElementGuidelineDistance,y=void 0===E?1/0:E,C=f.isDisplayGridGuidelines,D=ue(we(t.state)),R=D.top,M=D.left,z=D.bottom,P=D.right,T={top:R,left:M,bottom:z,right:P,center:(M+P)/2,middle:(R+z)/2},G=function(t){var e=t.state,r=t.props.elementGuidelines,n=void 0===r?[]:r;if(!n.length)return e.elementRects=[],[];var i=(e.elementRects||[]).filter((function(t){return!t.refresh})),a=n.map((function(t){return Object(S.A)(t)&&"element"in t?N(N({},t),{element:Xe(t.element,!0)}):{element:Xe(t,!0)}})).filter((function(t){return t.element})),o=Object(w.b)(i.map((function(t){return t.element})),a.map((function(t){return t.element}))),s=o.maintained,c=o.added,u=[];s.forEach((function(t){var e=t[0],r=t[1];u[r]=i[e]})),function(t,e){if(!e.length)return[];var r=t.props.groupable,n=t.state,i=n.containerClientRect,a=n.rootMatrix,o=n.is3d,s=n.offsetDelta,c=o?4:3,u=function(t,e,r){var n=se(t,[e.clientLeft,e.clientTop],r);return[e.left+n[0],e.top+n[1]]}(a,i,c),l=u[0],f=u[1],d=r?0:s[0],p=r?0:s[1];return e.map((function(t){var e=t.element.getBoundingClientRect(),r=e.left-l-d,n=e.top-f-p,i=n+e.height,o=r+e.width,s=Ne(a,[r,n],c),u=s[0],v=s[1],g=Ne(a,[o,i],c),h=g[0],b=g[1];return N(N({},t),{rect:{left:u,right:h,top:v,bottom:b,center:(u+h)/2,middle:(v+b)/2}})}))}(t,c.map((function(t){return a[t]}))).map((function(t,e){u[c[e]]=t})),e.elementRects=u;var l=vr(t.props.elementSnapDirections),f=[];return u.forEach((function(t){var e=t.element,r=t.top,n=void 0===r?l.top:r,i=t.left,a=void 0===i?l.left:i,o=t.right,s=void 0===o?l.right:o,c=t.bottom,u=void 0===c?l.bottom:c,d=t.center,p=void 0===d?l.center:d,v=t.middle,g=void 0===v?l.middle:v,h=t.className,b=t.rect,m=gr({top:n,right:s,left:a,bottom:u,center:p,middle:g},b),O=m.horizontal,x=m.vertical,j=b.top,E=b.left,y=b.right-E,w=b.bottom-j,C=[y,w];x.forEach((function(r){f.push({type:"vertical",element:e,pos:[Object(S.O)(r,.1),j],size:w,sizes:C,className:h,elementRect:t})})),O.forEach((function(r){f.push({type:"horizontal",element:e,pos:[E,Object(S.O)(r,.1)],size:y,sizes:C,className:h,elementRect:t})}))})),f}(t),B=W([],G,!0);p&&B.push.apply(B,function(t,e,r){var n=t.props,i=n.maxSnapElementGuidelineDistance,a=void 0===i?1/0:i,o=n.maxSnapElementGapDistance,s=void 0===o?1/0:o,c=t.state.elementRects,u=[];return[["vertical",fr,dr],["horizontal",dr,fr]].forEach((function(t){var n=t[0],i=t[1],o=t[2],l=e[i.start],f=e[i.end],d=e[i.center],p=e[o.start],v=e[o.end];function g(t){var e=t.rect;return e[i.end]<l+r?l-e[i.end]:f-r<e[i.start]?e[i.start]-f:-1}var h=c.filter((function(t){var e=t.rect;return!(e[o.start]>v||e[o.end]<p)&&g(t)>0})).sort((function(t,e){return g(t)-g(e)})),b=[];h.forEach((function(t){h.forEach((function(e){if(t!==e){var r=t.rect,n=e.rect,i=r[o.start],a=r[o.end],s=n[o.start];i>n[o.end]||s>a||b.push([t,e])}}))})),b.forEach((function(t){var o=t[0],c=t[1],p=o.rect,v=c.rect,g=p[i.start],h=p[i.end],b=v[i.start],m=v[i.end],O=0,x=0,j=!1,S=!1,E=!1;if(h<=l&&f<=b){if(S=!0,nr((x=h+(O=(b-h-(f-l))/2)+(f-l)/2)-d)>r)return}else if(h<b&&m<l+r){if(j=!0,nr((x=m+(O=b-h))-l)>r)return}else{if(!(h<b&&f-r<g))return;if(E=!0,nr((x=g-(O=b-h))-f)>r)return}O&&Jr(e,v,n,a)&&(O>s||u.push({type:n,pos:"vertical"===n?[x,0]:[0,x],element:c.element,size:0,className:c.className,isStart:j,isCenter:S,isEnd:E,gap:O,hide:!0,gapRects:[o,c]}))}))})),u}(t,T,b));var k=N({},e.snapOffset||{left:0,top:0,bottom:0,right:0});if(B.push.apply(B,function(t,e,r,n,i,a,o,s){void 0===i&&(i=0);void 0===a&&(a=0);var c=[],u=o.left,l=o.top;if(e)for(var f=0;f<=n;f+=e)c.push({type:"horizontal",pos:[u,Object(S.O)(f-a+l,.1)],className:Yt("grid-guideline"),size:r,hide:!s});if(t)for(f=0;f<=r;f+=t)c.push({type:"vertical",pos:[Object(S.O)(f-i+u,.1),l],className:Yt("grid-guideline"),size:n,hide:!s});return c}(O,j,i?o:c,i?a:s,u,l,k,C)),n){var A=r.left,I=r.top;k.left+=A,k.top+=I,k.right+=A,k.bottom+=I}return B.push.apply(B,tn(g||!1,v||!1,i?o:c,i?a:s,u,l,k)),B=B.filter((function(t){var e=t.element,r=t.elementRect,n=t.type;if(!e||!r)return!0;var i=r.rect;return Jr(T,i,n,y)})),B}function Jr(t,e,r,n){return"horizontal"===r?nr(t.right-e.left)<=n||nr(t.left-e.right)<=n||t.left<=e.right&&e.left<=t.right:"vertical"!==r||(nr(t.bottom-e.top)<=n||nr(t.top-e.bottom)<=n||t.top<=e.bottom&&e.top<=t.bottom)}function Qr(t,e){return t?t.map((function(t){var r=Object(S.A)(t)?t:{pos:t},n=r.pos;return Object(S.z)(n)?r:N(N({},r),{pos:Object(S.i)(n,e)})})):[]}function tn(t,e,r,n,i,a,o){void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o={left:0,top:0,right:0,bottom:0});var s=[],c=o.left,u=o.top,l=o.bottom,f=r+o.right-c,d=n+l-u;return Qr(t,d).forEach((function(t){s.push({type:"horizontal",pos:[c,Object(S.O)(t.pos-a+u,.1)],size:f,className:t.className})})),Qr(e,f).forEach((function(t){s.push({type:"vertical",pos:[Object(S.O)(t.pos-i+c,.1),u],size:d,className:t.className})})),s}function en(t){var e=t.state,r=e.container,n=t.props.snapContainer||r;if(e.snapContainer===n&&e.guidelines&&e.guidelines.length)return!1;var i=e.containerClientRect,a={left:0,top:0,bottom:0,right:0};if(r!==n){var o=Xe(n,!0);if(o){var s=je(o),c=Ze(e,[s.left-i.left,s.top-i.top]),u=Ze(e,[s.right-i.right,s.bottom-i.bottom]);a.left=Object(S.O)(c[0],1e-5),a.top=Object(S.O)(c[1],1e-5),a.right=Object(S.O)(u[0],1e-5),a.bottom=Object(S.O)(u[1],1e-5)}}return e.snapContainer=n,e.snapOffset=a,e.guidelines=$r(t),e.enableSnap=!0,!0}function rn(t,e,r,n,i,a){var o=ce(t,e,r,a?4:3),s=wt(o,n);return ye(o,Object(E.p)(i,s))}function nn(t,e,r,n,i,a){var o=function(t,e,r){var n=[];if(r)1!==nr(e[0])||1!==nr(e[1])?n.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):n.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),n.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var i=t[0]?t:[1,1];[1,-1].forEach((function(t){[1,-1].forEach((function(r){var a=[t*i[0],r*i[1]];e[0]===a[0]&&e[1]===a[1]||n.push([e,a])}))}))}else t[0]?(1===nr(e[0])?[1]:[1,-1]).forEach((function(r){n.push([[e[0],-1],[r*t[0],-1]],[[e[0],0],[r*t[0],0]],[[e[0],1],[r*t[0],1]])})):t[1]&&(1===nr(e[1])?[1]:[1,-1]).forEach((function(r){n.push([[-1,e[1]],[-1,r*t[1]]],[[0,e[1]],[0,r*t[1]]],[[1,e[1]],[1,r*t[1]]])}));return n}(r,a.fixedDirection,n),s=Pr(t,e,r,n),c=W(W([],Zr(t,e,o,n,i,a),!0),Mr(t,s,a),!0),u=Er(c,0),l=Er(c,1);return{width:{isBound:u.isBound,offset:u.offset[0]},height:{isBound:l.isBound,offset:l.offset[1]}}}function an(t,e,r,n,i,a,o,s){for(var c=we(t.state),u=t.props.keepRatio,l=0,f=0,d=0;d<2;++d){var p=nn(t,e(l,f),i,u,o,s),v=p.width,g=p.height,h=v.isBound,b=g.isBound,m=v.offset,O=g.offset;if(1===d&&(h||(m=0),b||(O=0)),0===d&&o&&!h&&!b)return[0,0];if(u){var x=nr(m)*(r?1/r:1),j=nr(O)*(n?1/n:1);(h&&b?x<j:b||!h&&x<j)?m=r*O/n:O=n*m/r}l+=m,f+=O}if(i[0]&&i[1]){var E=function(t,e,r,n,i){var a=[-r[0],-r[1]],o=t.state,s=o.width,c=o.height,u=t.props.bounds,l=1/0,f=1/0;if(u){var d=[[r[0],-r[1]],[-r[0],r[1]]],p=u.left,v=void 0===p?-1/0:p,g=u.top,h=void 0===g?-1/0:g,b=u.right,m=void 0===b?1/0:b,O=u.bottom,x=void 0===O?1/0:O;d.forEach((function(t){var r=t[0]!==a[0],o=t[1]!==a[1],u=wt(e,t),d=360*Object(S.s)(n,u)/Math.PI;if(o){var p=u.slice();(nr(d-360)<2||nr(d-180)<2)&&(p[1]=n[1]);var g=Lr(n,p,(n[1]<u[1]?x:h)-u[1],!1,i),b=g.offset[1],O=g.isOutside;isNaN(b)||(f=c+(O?1:-1)*nr(b))}if(r){p=u.slice(),(nr(d-90)<2||nr(d-270)<2)&&(p[0]=n[0]);var j=Lr(n,p,(n[0]<u[0]?m:v)-u[0],!0,i),E=j.offset[0],y=j.isOutside;isNaN(E)||(l=s+(y?1:-1)*nr(E))}}))}return{maxWidth:l,maxHeight:f}}(t,c,i,a,s),y=E.maxWidth,w=E.maxHeight,C=function(t,e,r,n,i,a,o,s,c){var u=wt(e,o),l=Xr(t,s,{vertical:[u[0]],horizontal:[u[1]]}),f=l.horizontal.offset,d=l.vertical.offset;if(Object(S.O)(d,ot)||Object(S.O)(f,ot)){var p=Et({datas:c,distX:-d,distY:-f}),v=p[0],g=p[1];return[Math.min(i||1/0,r+o[0]*v)-r,Math.min(a||1/0,n+o[1]*g)-n]}return[0,0]}(t,e(l,f).map((function(t){return t.map((function(t){return Object(S.O)(t,ot)}))})),r+l,n+f,y,w,i,o,s);l+=m=C[0],f+=O=C[1]}return[l,f]}function on(t){return t<0&&(t=t%360+360),t%=360}function sn(t,e){e=on(e);var r=Math.floor(t/360),n=360*r+360-e,i=360*r+e;return nr(t-n)<nr(t-i)?n:i}function cn(t,e){t=on(t),e=on(e);var r=on(t-e);return Math.min(r,360-r)}function un(t,e,r,n,i){if(!pr(t,"scalable"))return[0,0];var a=i.startOffsetWidth,o=i.startOffsetHeight,s=i.fixedPosition,c=i.fixedDirection,u=i.is3d,l=an(t,(function(t,r){return rn(function(t,e){var r=t.transformOrigin,n=t.offsetMatrix,i=t.is3d,a=t.targetMatrix,o=t.targetAllTransform,s=i?4:3;return Ct(n,Object(E.r)(o||a,Object(E.i)(e,s),s),r,s)}(i,Object(E.s)(e,[t/a,r/o])),a,o,c,s,u)}),a,o,r,s,n,i);return[l[0]/a,l[1]/o]}function ln(t){var e=[];return t.forEach((function(t){t.guidelineInfos.forEach((function(t){var r=t.guideline;e.indexOf(r)>-1||e.push(r)}))})),e}function fn(t,e,r,n,i,a){var o=Br(kr(t,a),e,r),s=o.vertical,c=o.horizontal;s.forEach((function(t){t.isBound&&n.push({type:"bounds",pos:t.pos})})),c.forEach((function(t){t.isBound&&i.push({type:"bounds",pos:t.pos})}));var u=function(t){var e=t.props.innerBounds;if(!e)return{vertical:[],horizontal:[]};var r=t.getRect(),n=[r.pos1,r.pos2,r.pos3,r.pos4],i=wt(n,[0,0]),a=e.left,o=e.top,s=e.width,c=e.height,u=[[a,o],[a,o+c]],l=[[a,o],[a+s,o]],f=[[a+s,o],[a+s,o+c]],d=[[a,o+c],[a+s,o+c]],p=Pr(t,n,[0,0],!1),v=[],g=[],h={top:!1,bottom:!1,left:!1,right:!1};return p.forEach((function(t){var e=t.line,r=t.lineConstants,n=yr(i,e),p=n.horizontal,b=n.vertical,m=Rr(e,r,l,b,1,!0),O=Rr(e,r,d,b,1,!0),x=Rr(e,r,u,p,1,!0),j=Rr(e,r,f,p,1,!0);m.isBound&&!h.top&&(v.push(o),h.top=!0),O.isBound&&!h.bottom&&(v.push(o+c),h.bottom=!0),x.isBound&&!h.left&&(g.push(a),h.left=!0),j.isBound&&!h.right&&(g.push(a+s),h.right=!0)})),{horizontal:v,vertical:g}}(t),l=u.vertical,f=u.horizontal;l.forEach((function(t){Object(S.m)(n,(function(e){var r=e.type,n=e.pos;return"bounds"===r&&n===t}))>=0||n.push({type:"bounds",pos:t})})),f.forEach((function(t){Object(S.m)(i,(function(e){var r=e.type,n=e.pos;return"bounds"===r&&n===t}))>=0||i.push({type:"bounds",pos:t})}))}var dn=Ye("",["resizable","scalable"]),pn="snapRotationThreshold",vn="snapRotationDegress",gn={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold",pn,vn,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap"],css:[":host {\n--bounds-color: #d66;\n}\n.guideline {\npointer-events: none;\nz-index: 2;\n}\n.guideline.bounds {\nbackground: #d66;\nbackground: var(--bounds-color);\n}\n.guideline-group {\nposition: absolute;\ntop: 0;\nleft: 0;\n}\n.guideline-group .size-value {\nposition: absolute;\ncolor: #f55;\nfont-size: 12px;\nfont-size: calc(12px * var(--zoom));\nfont-weight: bold;\n}\n.guideline-group.horizontal .size-value {\ntransform-origin: 50% 100%;\ntransform: translateX(-50%);\nleft: 50%;\nbottom: 5px;\nbottom: calc(2px + 3px * var(--zoom));\n}\n.guideline-group.vertical .size-value {\ntransform-origin: 0% 50%;\ntop: 50%;\ntransform: translateY(-50%);\nleft: 5px;\nleft: calc(2px + 3px * var(--zoom));\n}\n.guideline.gap {\nbackground: #f55;\n}\n.size-value.gap {\ncolor: #f55;\n}\n"],render:function(t,e){var r=t.state,n=r.top,i=r.left,a=r.pos1,o=r.pos2,s=r.pos3,c=r.pos4,u=r.snapRenderInfo,l=t.props.snapRenderThreshold,f=void 0===l?1:l;if(!u||!u.render||!pr(t,""))return[];r.guidelines=$r(t);var d=Math.min(a[0],o[0],s[0],c[0]),p=Math.min(a[1],o[1],s[1],c[1]),v=u.externalPoses||[],g=we(t.state),h=[],b=[],m=[],O=[],x=[],j=ue(g),S=j.width,E=j.height,y=j.top,w=j.left,C=j.bottom,D=j.right,R={left:w,right:D,top:y,bottom:C,center:(w+D)/2,middle:(y+C)/2},M=v.length>0,z=M?ue(v):{};if(!u.request){if(u.direction&&x.push(jr(t,g,u.direction,f)),u.snap){var P=ue(g);u.center&&(P.middle=(P.top+P.bottom)/2,P.center=(P.left+P.right)/2),x.push(mr(t,P,f))}M&&(u.center&&(z.middle=(z.top+z.bottom)/2,z.center=(z.left+z.right)/2),x.push(mr(t,z,f))),x.forEach((function(t){var e=t.vertical.posInfos,r=t.horizontal.posInfos;h.push.apply(h,e.filter((function(t){return t.guidelineInfos.some((function(t){return!t.guideline.hide}))})).map((function(t){return{type:"snap",pos:t.pos}}))),b.push.apply(b,r.filter((function(t){return t.guidelineInfos.some((function(t){return!t.guideline.hide}))})).map((function(t){return{type:"snap",pos:t.pos}}))),m.push.apply(m,ln(e)),O.push.apply(O,ln(r))}))}fn(t,[w,D],[y,C],h,b),M&&fn(t,[z.left,z.right],[z.top,z.bottom],h,b,u.externalBounds);var T=W(W([],m,!0),O,!0),G=T.filter((function(t){return t.element&&!t.gapRects})),B=T.filter((function(t){return t.gapRects})).sort((function(t,e){return t.gap-e.gap}));return Ge(t,"onSnap",{guidelines:T.filter((function(t){return!t.element})),elements:G,gaps:B},!0),W(W(W(W(W(W([],qr(t,G,[d,p],R,e),!0),function(t,e,r,n,i){var a=[];return["horizontal","vertical"].forEach((function(o){var s=e.filter((function(t){return t.type===o})).slice(0,1),c="vertical"===o?0:1,u=c?0:1,l=c?dr:fr,f=c?fr:dr,d=n[l.start],p=n[l.end],v=n[f.start],g=n[f.end];s.forEach((function(e){var n=e.gap,o=e.gapRects,s=Math.max.apply(Math,W([v],o.map((function(t){return t.rect[f.start]})),!1)),h=Math.min.apply(Math,W([g],o.map((function(t){return t.rect[f.end]})),!1)),b=(s+h)/2;s!==h&&b!==(v+g)/2&&o.forEach((function(e){var o=e.rect,s=e.className,f=[r[0],r[1]];if(o[l.end]<d)f[c]+=o[l.end]-d;else{if(!(p<o[l.start]))return;f[c]+=o[l.start]-d-n}f[u]+=b-v,a.push(Hr(t,c?"vertical":"horizontal","gap",a.length,n,f,s,i))}))}))})),a}(t,B,[d,p],R,e),!0),Wr(t,"horizontal",O,[i,n],R,e),!0),Wr(t,"vertical",m,[i,n],R,e),!0),Nr(t,"horizontal",b,d,n,S,0,e),!0),Nr(t,"vertical",h,p,i,E,1,e),!0)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},en(t)},drag:function(t){var e=t.state;en(t)||(e.guidelines=$r(t)),e.snapRenderInfo&&(e.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){return!(!dn(t,e)&&!Gn(t,e))||(!e.isRequest&&e.inputEvent?Object(S.v)(e.inputEvent.target,Yt("snap-control")):void 0)},dragControlStart:function(t){t.state.snapRenderInfo=null,en(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,en(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function hn(t,e,r,n){var i=t.getState(),a=i.renderPoses,o=i.rotation,s=i.direction,c=he(t.props,e).zoom,u=on(o/Math.PI*180),l={},f=t.renderState;f.renderDirectionMap||(f.renderDirectionMap={});var d=f.renderDirectionMap;r.forEach((function(t){var e=t.dir;l[e]=!0}));var p=rr(s);return r.map((function(t){var r=t.data,i=t.classNames,s=t.dir,f=dt[s];if(!f||!l[s])return null;d[s]=!0;var v=(Object(S.O)(u,15)+p*pt[s]+720)%180,g={};return Object(S.r)(r).forEach((function(t){g["data-".concat(t)]=r[t]})),n.createElement("div",N({className:Yt.apply(void 0,W(["control","direction",s,e],i,!1)),"data-rotation":v,"data-direction":s},g,{key:"direction-".concat(s),style:ge.apply(void 0,W([o,c],f.map((function(t){return a[t]})),!1))}))}))}function bn(t,e,r,n){var i=he(t.props,r),a=i.renderDirections,o=void 0===a?e:a,s=i.displayAroundControls;if(!o)return[];var c=!0===o?L:o;return W(W([],s?Sn(t,n,r,c):[],!0),hn(t,r,c.map((function(t){return{data:{},classNames:[],dir:t}})),n),!0)}function mn(t,e,r,n,i,a){for(var o=[],s=6;s<arguments.length;s++)o[s-6]=arguments[s];var c=Object(S.s)(r,n),u=e?Object(S.O)(c/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(a),className:Yt.apply(void 0,W(["line","direction",e?"edge":"",e],o,!1)),"data-rotation":u,"data-line-key":a,"data-direction":e,style:ve(r,n,i,c)})}function On(t,e,r,n,i){return(!0===r?q:r).map((function(r,a){var o=dt[r],s=o[0],c=o[1];if(null!=c)return mn(t,r,n[s],n[c],i,"".concat(e,"Edge").concat(a),e)})).filter(Boolean)}function xn(t){return function(e,r){var n=he(e.props,t).edge;return n&&(!0===n||n.length)?W(W([],On(r,t,n,e.getState().renderPoses,e.props.zoom),!0),function(t,e,r){return bn(t,["nw","ne","sw","se"],e,r)}(e,t,r),!0):jn(e,t,r)}}function jn(t,e,r){return bn(t,L,e,r)}function Sn(t,e,r,n){var i=t.renderState;i.renderDirectionMap||(i.renderDirectionMap={});var a=t.getState(),o=a.renderPoses,s=a.rotation,c=a.direction,u=i.renderDirectionMap,l=t.props.zoom,f=rr(c),d=s/Math.PI*180;return(n||Object(S.r)(u)).map((function(t){var n=dt[t];if(!n)return null;var i=(Object(S.O)(d,15)+f*pt[t]+720)%180,a=["around-control"];return r&&a.push("direction",r),e.createElement("div",{className:Yt.apply(void 0,a),"data-rotation":i,"data-direction":t,key:"direction-around-".concat(t),style:ge.apply(void 0,W([s,l],n.map((function(t){return o[t]})),!1))})}))}var En={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var r=t.props,n=r.hideThrottleDragRotateLine,i=r.throttleDragRotate,a=r.zoom,o=t.getState(),s=o.dragInfo,c=o.beforeOrigin;if(n||!i||!s)return[];var u=s.dist;if(!u[0]&&!u[1])return[];var l=de(u),f=Object(S.s)(u,[0,0]);return[e.createElement("div",{className:Yt("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(l,"px"),transform:"translate(".concat(c[0],"px, ").concat(c[1],"px) rotate(").concat(f,"rad) scaleY(").concat(a,")")}})]},dragStart:function(t,e){var r=e.datas,n=e.parentEvent,i=e.parentGesto,a=t.state,o=a.gestos,s=a.style;if(o.draggable)return!1;o.draggable=i||t.targetGesto,r.datas={},r.left=parseFloat(s.left||"")||0,r.top=parseFloat(s.top||"")||0,r.bottom=parseFloat(s.bottom||"")||0,r.right=parseFloat(s.right||"")||0,r.startValue=[0,0],mt(t,e),Rt(e,"translate"),function(t,e){e.absolutePoses=we(t.state)}(t,r),r.prevDist=[0,0],r.prevBeforeDist=[0,0],r.isDrag=!1,r.deltaOffset=[0,0];var c=ze(t,e,N({set:function(t){r.startValue=t}},Dt(e)));return!1!==(n||Ge(t,"onDragStart",c))?(r.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(o.draggable=null,r.isPinch=!1),!!r.isDrag&&c},drag:function(t,e){if(e){Ot(e,"translate");var r=e.datas,n=e.parentEvent,i=e.parentFlag,a=e.isPinch,o=e.isRequest,s=e.deltaOffset,c=e.distX,u=e.distY,l=r.isDrag,f=r.prevDist,d=r.prevBeforeDist,p=r.startValue;if(l){s&&(c+=s[0],u+=s[1]);var v=t.props,g=v.parentMoveable,h=n?0:v.throttleDrag||0,b=n?0:v.throttleDragRotate||0,m=0,O=!1,x=!1,j=!1,y=!1;if(!n&&b>0&&(c||u)){var w=v.startDragRotate||0,C=Object(S.O)(w+180*Object(S.s)([0,0],[c,u])/Math.PI,b)-w,D=u*Math.abs(Math.cos((C-90)/180*Math.PI)),R=de([c*Math.abs(Math.cos(C/180*Math.PI)),D]);m=C*Math.PI/180,c=R*Math.cos(m),u=R*Math.sin(m)}if(!a&&!n&&!i){var M=Yr(t,c,u,b,o||s,r),z=M[0],P=M[1];O=z.isSnap,x=z.isBound,j=P.isSnap,y=P.isBound,c+=z.offset,u+=P.offset}var T=Object(E.s)(St({datas:r,distX:c,distY:u}),p),G=Object(E.s)(function(t){var e=t.datas,r=St({datas:e,distX:t.distX,distY:t.distY}),n=r[0],i=r[1],a=jt(e,Object(E.k)([n,i],4));return Object(E.a)(a,Object(E.e)([0,0,0],4),4)}({datas:r,distX:c,distY:u}),p);Object(S.P)(G,st),Object(S.P)(T,st),b||(O||x||(G[0]=Object(S.O)(G[0],h),T[0]=Object(S.O)(T[0],h)),j||y||(G[1]=Object(S.O)(G[1],h),T[1]=Object(S.O)(T[1],h)));var B=Object(E.p)(T,p),k=Object(E.p)(G,p),A=Object(E.p)(k,f),I=Object(E.p)(B,d);r.prevDist=k,r.prevBeforeDist=B,r.passDelta=A,r.passDist=k;var _=r.left+B[0],F=r.top+B[1],W=r.right-B[0],H=r.bottom-B[1],q=xt(r,"translate(".concat(G[0],"px, ").concat(G[1],"px)"),"translate(".concat(k[0],"px, ").concat(k[1],"px)"));if(zt(e,q),t.state.dragInfo.dist=n?[0,0]:k,n||g||!A.every((function(t){return!t}))||!I.some((function(t){return!t}))){var L=t.state,V=L.width,Y=L.height,X=ze(t,e,N({transform:q,dist:k,delta:A,translate:G,beforeDist:B,beforeDelta:I,beforeTranslate:T,left:_,top:F,right:W,bottom:H,width:V,height:Y,isPinch:a},Re({transform:q},e)));return!n&&Ge(t,"onDrag",X),X}}}},dragAfter:function(t,e){var r=e.datas,n=r.deltaOffset;return!(!n[0]&&!n[1])&&(r.deltaOffset=[0,0],this.drag(t,N(N({},e),{deltaOffset:n})))},dragEnd:function(t,e){var r=e.parentEvent,n=e.datas;if(t.state.dragInfo=null,n.isDrag){n.isDrag=!1;var i=Pe(t,e,{});return!r&&Ge(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var r=e.datas,n=e.clientX,i=e.clientY,a=this.dragStart(t,e);if(!a)return!1;var o=or(t,this,"dragStart",[n||0,i||0],e,!1,"draggable"),s=Ge(t,"onDragGroupStart",N(N({},a),{targets:t.props.targets,events:o}));return r.isDrag=!1!==s,!!r.isDrag&&a},dragGroup:function(t,e){if(e.datas.isDrag){var r=this.drag(t,e),n=or(t,this,"drag",e.datas.passDelta,e,!1,"draggable");if(r){var i=N({targets:t.props.targets,events:n},r);return Ge(t,"onDragGroup",i),i}}},dragGroupEnd:function(t,e){var r=e.isDrag;if(e.datas.isDrag){this.dragEnd(t,e);var n=or(t,this,"dragEnd",[0,0],e,!1,"draggable");return Ge(t,"onDragGroupEnd",Pe(t,e,{targets:t.props.targets,events:n})),r}},request:function(t){var e={},r=t.getRect(),n=0,i=0;return{isControl:!1,requestStart:function(){return{datas:e}},request:function(t){return"x"in t?n=t.x-r.left:"deltaX"in t&&(n+=t.deltaX),"y"in t?i=t.y-r.top:"deltaY"in t&&(i+=t.deltaY),{datas:e,distX:n,distY:i}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function yn(t,e){return{fixedPosition:wt(t,e),fixedDirection:e,fixedOffset:[0,0]}}function wn(t,e){var r=t.allMatrix,n=t.is3d,i=t.width,a=t.height,o=n?4:3,s=function(t,e,r){return[e?t[0]/(e/2)-1:0,r?t[1]/(r/2)-1:0]}(e,i,a);return{fixedPosition:se(r,e,o),fixedDirection:s,fixedOffset:[i?0:e[0],a?0:e[1]]}}var Cn=Ye("resizable"),Dn={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:xn("resizable"),dragControlCondition:Cn,viewClassName:Ve("resizable"),dragControlStart:function(t,e){var r,n=e.inputEvent,i=e.isPinch,a=e.isGroup,o=e.parentDirection,s=e.parentGesto,c=e.datas,u=e.parentFixedDirection,l=e.parentEvent,f=Se(o,i,n,c),d=t.state,p=d.target,v=d.width,g=d.height,h=d.gestos;if(!f||!p)return!1;if(h.resizable)return!1;h.resizable=s||t.controlGesto,!i&&mt(t,e),c.datas={},c.direction=f,c.startOffsetWidth=v,c.startOffsetHeight=g,c.prevWidth=0,c.prevHeight=0,c.minSize=[0,0],c.startWidth=d.inlineCSSWidth||d.cssWidth,c.startHeight=d.inlineCSSHeight||d.cssHeight,c.maxSize=[1/0,1/0],a||(c.minSize=[d.minOffsetWidth,d.minOffsetHeight],c.maxSize=[d.maxOffsetWidth,d.maxOffsetHeight]);var b=t.props.transformOrigin||"% %";function m(t){c.ratio=t&&isFinite(t)?t:0}function O(t){var e=yn(c.startPositions,t);c.fixedDirection=e.fixedDirection,c.fixedPosition=e.fixedPosition,c.fixedOffset=e.fixedOffset}function x(e){var r=wn(t.state,e);c.fixedDirection=r.fixedDirection,c.fixedPosition=r.fixedPosition,c.fixedOffset=r.fixedOffset}function j(t){c.minSize=[Object(S.i)("".concat(t[0]),0)||0,Object(S.i)("".concat(t[1]),0)||0]}function E(t){var e=[t[0]||1/0,t[1]||1/0];Object(S.z)(e[0])&&!isFinite(e[0])||(e[0]=Object(S.i)("".concat(e[0]),0)||1/0),Object(S.z)(e[1])&&!isFinite(e[1])||(e[1]=Object(S.i)("".concat(e[1]),0)||1/0),c.maxSize=e}c.transformOrigin=b&&Object(S.B)(b)?b.split(" "):b,c.startOffsetMatrix=d.offsetMatrix,c.startTransformOrigin=d.transformOrigin,c.isWidth=null!==(r=null===e||void 0===e?void 0:e.parentIsWidth)&&void 0!==r?r:!f[0]&&!f[1]||f[0]||!f[1],c.startPositions=we(t.state),m(v/g),O(u||[-f[0],-f[1]]),c.setFixedDirection=O,c.setFixedPosition=x,c.setMin=j,c.setMax=E;var y=ze(t,e,{direction:f,startRatio:c.ratio,set:function(t){var e=t[0],r=t[1];c.startWidth=e,c.startHeight=r},setMin:j,setMax:E,setRatio:m,setFixedDirection:O,setFixedPosition:x,setOrigin:function(t){c.transformOrigin=t},dragStart:En.dragStart(t,(new ht).dragStart([0,0],e))}),w=l||Ge(t,"onResizeStart",y);return c.startFixedDirection=c.fixedDirection,c.startFixedPosition=c.fixedPosition,!1!==w&&(c.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:f}),!!c.isResize&&y},dragControl:function(t,e){var r,n=e.datas,i=e.parentFlag,a=e.isPinch,o=e.parentKeepRatio,s=e.dragClient,c=e.parentDist,u=e.isRequest,l=e.isGroup,f=e.parentEvent,d=e.resolveMatrix,p=n.isResize,v=n.transformOrigin,g=n.startWidth,h=n.startHeight,b=n.prevWidth,m=n.prevHeight,O=n.minSize,x=n.maxSize,j=n.ratio,w=n.startOffsetWidth,C=n.startOffsetHeight,D=n.isWidth;if(p){if(d){var R=t.state.is3d,M=n.startOffsetMatrix,z=n.startTransformOrigin,P=R?4:3,T=Object(y.e)(Tt(e)),G=Math.sqrt(T.length);P!==G&&(T=Object(E.c)(T,G,P));var B=Ct(M,T,z,P),k=ce(B,w,C,P);n.startPositions=k,n.nextTargetMatrix=T,n.nextAllMatrix=B}var A=he(t.props,"resizable"),I=A.resizeFormat,_=A.throttleResize,F=void 0===_?i?0:1:_,W=A.parentMoveable,H=A.keepRatioFinally,q=n.direction,L=q,V=0,Y=0;q[0]||q[1]||(L=[1,1]);var X=j&&(null!=o?o:A.keepRatio)||!1,U=ct(),Z=U[0],K=U[1];f||(n.setFixedDirection(n.fixedDirection),Ge(t,"onBeforeResize",ze(t,e,{startFixedDirection:n.startFixedDirection,startFixedPosition:n.startFixedPosition,setFixedDirection:function(t){var e;return n.setFixedDirection(t),e=ct(),Z=e[0],K=e[1],[Z,K]},setFixedPosition:function(t){var e;return n.setFixedPosition(t),e=ct(),Z=e[0],K=e[1],[Z,K]},boundingWidth:Z,boundingHeight:K,setSize:function(t){Z=t[0],K=t[1]}},!0)));var $=s;s||($=!i&&a?function(t,e){return wt(we(t.state),e)}(t,[0,0]):n.fixedPosition);var J=[0,0];if(a||(J=function(t,e,r,n,i,a,o){if(!pr(t,"resizable"))return[0,0];var s=o.fixedDirection,c=o.nextAllMatrix,u=t.state,l=u.allMatrix,f=u.is3d;return an(t,(function(t,n){return rn(c||l,e+t,r+n,s,i,f)}),e,r,n,i,a,o)}(t,Z,K,q,$,u,n)),c&&(!c[0]&&(J[0]=0),!c[1]&&(J[1]=0)),X){L[0]&&L[1]&&J[0]&&J[1]&&(nr(J[0])>nr(J[1])?J[1]=0:J[0]=0);var Q=!J[0]&&!J[1];Q&&ut(),L[0]&&!L[1]||J[0]&&!J[1]||Q&&D?(Z+=J[0],K=Z/j):(!L[0]&&L[1]||!J[0]&&J[1]||Q&&!D)&&(K+=J[1],Z=K*j)}else Z+=J[0],K+=J[1],Z=Math.max(0,Z),K=Math.max(0,K);r=Object(S.f)([Z,K],O,x,!!X&&j),Z=r[0],K=r[1],ut(),X&&(l||H)&&(D?K=Z/j:Z=K*j);var tt=[(V=Z-w)-b,(Y=K-C)-m];n.prevWidth=V,n.prevHeight=Y;var et=_t(t,Z,K,$,v,n);if(W||!tt.every((function(t){return!t}))||!et.every((function(t){return!t}))){var rt=En.drag(t,gt(e,t.state,et,!!a,!1,"draggable")),nt=rt.transform,it=g+V,at=h+Y,ot=ze(t,e,N({width:it,height:at,offsetWidth:Math.round(Z),offsetHeight:Math.round(K),startRatio:j,boundingWidth:Z,boundingHeight:K,direction:q,dist:[V,Y],delta:tt,isPinch:!!a,drag:rt},Me({style:{width:"".concat(it,"px"),height:"".concat(at,"px")},transform:nt},rt,e)));return!f&&Ge(t,"onResize",ot),ot}}function ct(){var t=n.fixedDirection,r=$e(L,X,n,e);V=r.distWidth,Y=r.distHeight;var i=L[0]-t[0]||X?Math.max(w+V,st):w,a=L[1]-t[1]||X?Math.max(C+Y,st):C;return X&&w&&C&&(D?a=i/j:i=a*j),[i,a]}function ut(){var t;I&&(t=I([Z,K]),Z=t[0],K=t[1]),Z=Object(S.O)(Z,F),K=Object(S.O)(K,F)}},dragControlAfter:function(t,e){var r=e.datas,n=r.isResize,i=r.startOffsetWidth,a=r.startOffsetHeight,o=r.prevWidth,s=r.prevHeight;if(n&&!1!==t.props.checkResizableError){var c=t.state,u=c.width-(i+o),l=c.height-(a+s),f=nr(u)>3,d=nr(l)>3;return f&&(r.startWidth+=u,r.startOffsetWidth+=u,r.prevWidth+=u),d&&(r.startHeight+=l,r.startOffsetHeight+=l,r.prevHeight+=l),f||d?this.dragControl(t,e):void 0}},dragControlEnd:function(t,e){var r=e.datas,n=e.parentEvent;if(r.isResize){r.isResize=!1;var i=Pe(t,e,{});return!n&&Ge(t,"onResizeEnd",i),i}},dragGroupControlCondition:Cn,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,N(N({},e),{isGroup:!0}));if(!n)return!1;var i=ar(t,"resizable",e),a=r.startOffsetWidth,o=r.startOffsetHeight;function s(){var t=r.minSize;i.forEach((function(e){var r=e.datas,n=r.minSize,i=r.startOffsetWidth,s=r.startOffsetHeight,c=a*(i?n[0]/i:0),u=o*(s?n[1]/s:0);t[0]=Math.max(t[0],c),t[1]=Math.max(t[1],u)}))}function c(){var t=r.maxSize;i.forEach((function(e){var r=e.datas,n=r.maxSize,i=r.startOffsetWidth,s=r.startOffsetHeight,c=a*(i?n[0]/i:0),u=o*(s?n[1]/s:0);t[0]=Math.min(t[0],c),t[1]=Math.min(t[1],u)}))}var u=sr(t,this,"dragControlStart",e,(function(e,n){return cr(t,e,r,n)}));s(),c();var l=function(e){n.setFixedDirection(e),u.forEach((function(n,a){n.setFixedDirection(e),cr(t,n.moveable,r,i[a])}))};r.setFixedDirection=l;var f=N(N({},n),{targets:t.props.targets,events:u.map((function(t){return N(N({},t),{setMin:function(e){t.setMin(e),s()},setMax:function(e){t.setMax(e),c()}})})),setFixedDirection:l,setMin:function(t){n.setMin(t),s()},setMax:function(t){n.setMax(t),c()}}),d=Ge(t,"onResizeGroupStart",f);return r.isResize=!1!==d,!!r.isResize&&n},dragGroupControl:function(t,e){var r=e.datas;if(r.isResize){var n=he(t.props,"resizable");Te(t,"onBeforeResize",(function(r){Ge(t,"onBeforeResizeGroup",ze(t,e,N(N({},r),{targets:n.targets}),!0))}));var i=this.dragControl(t,N(N({},e),{isGroup:!0}));if(i){var a=i.boundingWidth,o=i.boundingHeight,s=i.dist,c=n.keepRatio,u=[a/(a-s[0]),o/(o-s[1])],l=r.fixedPosition,f=sr(t,this,"dragControl",e,(function(e,r){var n=Object(E.a)(Object(E.h)(t.rotation/180*Math.PI,3),[r.datas.originalX*u[0],r.datas.originalY*u[1],1],3),i=n[0],a=n[1];return N(N({},r),{parentDist:null,parentScale:u,dragClient:Object(E.s)(l,[i,a]),parentKeepRatio:c})})),d=N({targets:n.targets,events:f},i);return Ge(t,"onResizeGroup",d),d}}},dragGroupControlEnd:function(t,e){var r=e.isDrag;if(e.datas.isResize){this.dragControlEnd(t,e);var n=sr(t,this,"dragControlEnd",e);return Ge(t,"onResizeGroupEnd",Pe(t,e,{targets:t.props.targets,events:n})),r}},request:function(t){var e={},r=0,n=0,i=t.getRect();return{isControl:!0,requestStart:function(t){var r;return{datas:e,parentDirection:t.direction||[1,1],parentIsWidth:null===(r=null===t||void 0===t?void 0:t.horizontal)||void 0===r||r}},request:function(t){return"offsetWidth"in t?r=t.offsetWidth-i.offsetWidth:"deltaWidth"in t&&(r+=t.deltaWidth),"offsetHeight"in t?n=t.offsetHeight-i.offsetHeight:"deltaHeight"in t&&(n+=t.deltaHeight),{datas:e,parentDist:[r,n],parentKeepRatio:t.keepRatio}},requestEnd:function(){return{datas:e,isDrag:!0}}}},unset:function(t){t.state.gestos.resizable=null}};function Rn(t,e,r,n,i){var a=t.props.groupable,o=t.state,s=o.is3d?4:3,c=e.origin,u=se(t.state.rootMatrix,Object(E.p)([c[0],c[1]],a?[0,0]:[o.left,o.top]),s),l=Object(E.s)([i.left,i.top],u);e.startAbsoluteOrigin=l,e.prevDeg=Object(S.s)(l,[r,n])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=Object(S.n)(l,[r,n])}function Mn(t,e,r){var n=r.defaultDeg,i=r.prevDeg,a=i%360,o=Math.floor(i/360);a<0&&(a+=360),a>t&&a>270&&t<90?++o:a<t&&a<90&&t>270&&--o;var s=e*(360*o+t-n);return r.prevDeg=n+s,s}function zn(t,e,r,n){return Mn(Object(S.s)(n.startAbsoluteOrigin,[t,e])/Math.PI*180,r,n)}function Pn(t,e,r,n,i,a){var o=t.props.throttleRotate,s=void 0===o?0:o,c=r.prevSnapDeg,u=0,l=!1;if(a){var f=function(t,e,r,n){var i,a=t.props,o=null!==(i=a[pn])&&void 0!==i?i:5,s=a[vn];if(pr(t,"rotatable")){var c=e.pos1,u=e.pos2,l=e.pos3,f=e.pos4,d=e.origin,p=r*Math.PI/180,v=[c,u,l,f].map((function(t){return Object(E.p)(t,d)})),g=v.map((function(t){return Object(E.t)(t,p)})),h=W(W([],_r(t,v,g,d,r),!0),Gr(t,v,g,d,r),!0);h.sort((function(t,e){return nr(t-r)-nr(e-r)}));var b=h.length>0;if(b)return{isSnap:b,dist:b?h[0]:r}}if((null===s||void 0===s?void 0:s.length)&&o){var m=s.slice().sort((function(t,e){return cn(t,n)-cn(e,n)}))[0];if(cn(m,n)<=o)return{isSnap:!0,dist:r+sn(n,m)-n}}return{isSnap:!1,dist:r}}(t,e,n,i+n);l=f.isSnap,u=i+f.dist}l||(u=Object(S.O)(i+n,s));var d=u-i;return r.prevSnapDeg=d,[d-c,d,u]}function Tn(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3];if("none"===t)return[];if(Object(S.w)(t))return t.map((function(t){return Tn(t,[n,i,a,o],r)[0]}));var s=(t||"top").split("-"),c=s[0],u=s[1],l=[n,i];"left"===c?l=[a,n]:"right"===c?l=[i,o]:"bottom"===c&&(l=[o,a]);var f=[(l[0][0]+l[1][0])/2,(l[0][1]+l[1][1])/2],d=me(l,r);if(u){var p="top"===u||"left"===u,v="bottom"===c||"left"===c;f=l[p&&!v||!p&&v?0:1]}return[[f,d]]}function Gn(t,e){if(e.isRequest)return"rotatable"===e.requestAble;var r=e.inputEvent.target;if(Object(S.v)(r,Yt("rotation-control"))||t.props.rotateAroundControls&&Object(S.v)(r,Yt("around-control"))||Object(S.v)(r,Yt("control"))&&Object(S.v)(r,Yt("rotatable")))return!0;var n=t.props.rotationTarget;return!!n&&Ue(n,!0).some((function(t){return!!t&&(r===t||r.contains(t))}))}var Bn={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[".rotation {\nposition: absolute;\nheight: 40px;\nwidth: 1px;\ntransform-origin: 50% 100%;\nheight: calc(40px * var(--zoom));\ntop: auto;\nleft: 0;\nbottom: 100%;\nwill-change: transform;\n}\n.rotation .rotation-line {\ndisplay: block;\nwidth: 100%;\nheight: 100%;\ntransform-origin: 50% 50%;\n}\n.rotation .rotation-control {\nborder-color: #4af;\nborder-color: var(--moveable-color);\nbackground:#fff;\ncursor: alias;\n}\n:global .view-rotation-dragging, .rotatable.direction.control {\ncursor: alias;\n}\n.rotatable.direction.control.move {\ncursor: move;\n}\n"],viewClassName:function(t){return t.isDragging("rotatable")?Yt("view-rotation-dragging"):""},render:function(t,e){var r=he(t.props,"rotatable"),n=r.rotatable,i=r.rotationPosition,a=r.zoom,o=r.renderDirections,s=r.rotateAroundControls,c=r.resolveAblesWithRotatable,u=t.getState(),l=u.renderPoses,f=u.direction;if(!n)return null;var d=Tn(i,l,f),p=[];if(d.forEach((function(t,r){var n=t[0],i=t[1];p.push(e.createElement("div",{key:"rotation".concat(r),className:Yt("rotation"),style:{transform:"translate(-50%) translate(".concat(n[0],"px, ").concat(n[1],"px) rotate(").concat(i,"rad)")}},e.createElement("div",{className:Yt("line rotation-line"),style:{transform:"scaleX(".concat(a,")")}}),e.createElement("div",{className:Yt("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(a,")")}})))})),o){var v=Object(S.r)(c||{}),g={};v.forEach((function(t){c[t].forEach((function(e){g[e]=t}))}));var h=[];Object(S.w)(o)&&(h=o.map((function(t){var e=g[t];return{data:e?{resolve:e}:{},classNames:e?["move"]:[],dir:t}}))),p.push.apply(p,hn(t,"rotatable",h,e))}return s&&p.push.apply(p,Sn(t,e)),p},dragControlCondition:Gn,dragControlStart:function(t,e){var r,n,i=e.datas,a=e.clientX,o=e.clientY,s=e.parentRotate,c=e.parentFlag,u=e.isPinch,l=e.isRequest,f=t.state,d=f.target,p=f.left,v=f.top,g=f.direction,h=f.beforeDirection,b=f.targetTransform,m=f.moveableClientRect,O=f.offsetMatrix,x=f.targetMatrix,j=f.allMatrix,y=f.width,w=f.height;if(!l&&!d)return!1;var C=t.getRect();i.rect=C,i.transform=b,i.left=p,i.top=v;var D=function(e){var r=wn(t.state,e);i.fixedDirection=r.fixedDirection,i.fixedOffset=r.fixedOffset,i.fixedPosition=r.fixedPosition,F&&F.setFixedPosition(e)},R=function(e){var r=function(t,e){var r=t.allMatrix,n=t.is3d,i=t.width,a=t.height,o=n?4:3;return{fixedPosition:se(r,[i/2*(1+e[0]),a/2*(1+e[1])],o),fixedDirection:e,fixedOffset:[0,0]}}(t.state,e);i.fixedDirection=r.fixedDirection,i.fixedOffset=r.fixedOffset,i.fixedPosition=r.fixedPosition,F&&F.setFixedDirection(e)},M=a,z=o;if(l||u||c){var P=s||0;i.beforeInfo={origin:C.beforeOrigin,prevDeg:P,defaultDeg:P,prevSnapDeg:0,startDist:0},i.afterInfo=N(N({},i.beforeInfo),{origin:C.origin}),i.absoluteInfo=N(N({},i.beforeInfo),{origin:C.origin,startValue:P})}else{var T=null===(n=e.inputEvent)||void 0===n?void 0:n.target;if(T){var G=T.getAttribute("data-direction")||"",B=ft[G];if(B){i.isControl=!0,i.isAroundControl=Object(S.v)(T,Yt("around-control")),i.controlDirection=B;var k=T.getAttribute("data-resolve");k&&(i.resolveAble=k);var A=function(t,e,r){var n=16===t.length?4:3,i=e.map((function(e){return se(t,e,n)})),a=r.left,o=r.top;return i.map((function(t){return[t[0]+a,t[1]+o]}))}(f.rootMatrix,f.renderPoses,m);r=wt(A,B),M=r[0],z=r[1]}}i.beforeInfo={origin:C.beforeOrigin},i.afterInfo={origin:C.origin},i.absoluteInfo={origin:C.origin,startValue:C.rotation};var I=D;D=function(e){var r=f.is3d?4:3,n=Object(E.s)(Object(E.l)(x,r),e),a=n[0],o=n[1],s=Object(E.a)(O,Object(E.e)([a,o],r)),c=Object(E.a)(j,Object(E.e)([e[0],e[1]],r));I(e);var u=f.posDelta;i.beforeInfo.origin=Object(E.p)(s,u),i.afterInfo.origin=Object(E.p)(c,u),i.absoluteInfo.origin=Object(E.p)(c,u),Rn(t,i.beforeInfo,M,z,m),Rn(t,i.afterInfo,M,z,m),Rn(t,i.absoluteInfo,M,z,m)},R=function(t){var e=wt([[0,0],[y,0],[0,w],[y,w]],t);D(e)}}i.startClientX=M,i.startClientY=z,i.direction=g,i.beforeDirection=h,i.startValue=0,i.datas={},Rt(e,"rotate");var _=!1,F=!1;i.isControl&&i.resolveAble&&("resizable"===i.resolveAble&&(F=Dn.dragControlStart(t,N(N({},new ht("resizable").dragStart([0,0],e)),{parentPosition:i.controlPosition,parentFixedPosition:i.fixedPosition}))));F||(_=En.dragStart(t,(new ht).dragStart([0,0],e))),D(function(t){var e=t.props,r=e.groupable,n=e.svgOrigin,i=t.getState(),a=i.offsetWidth,o=i.offsetHeight,s=i.svg,c=i.transformOrigin;return!r&&s&&n?Qe(n,a,o):c}(t));var W=ze(t,e,N(N({set:function(t){i.startValue=t*Math.PI/180},setFixedDirection:R,setFixedPosition:D},Dt(e)),{dragStart:_,resizeStart:F})),H=Ge(t,"onRotateStart",W);return i.isRotate=!1!==H,f.snapRenderInfo={request:e.isRequest},!!i.isRotate&&W},dragControl:function(t,e){var r,n,i,a=e.datas,o=e.clientDistX,s=e.clientDistY,c=e.parentRotate,u=e.parentFlag,l=e.isPinch,f=e.groupDelta,d=e.resolveMatrix,p=a.beforeDirection,v=a.beforeInfo,g=a.afterInfo,h=a.absoluteInfo,b=a.isRotate,m=a.startValue,O=a.rect,x=a.startClientX,j=a.startClientY;if(b){Ot(e,"rotate");var y,w,C,D,R,M,z,P,T,G=function(t){return fe(t.datas.beforeTransform,[50,50],100,100).direction}(e),B=p*G,k=t.props.parentMoveable,A=180/Math.PI*m,I=h.startValue,_=!1,F=x+o,W=j+s;if(!u&&"parentDist"in e){var H=e.parentDist;w=H,R=H,P=H}else l||u?(w=Mn(c,p,v),R=Mn(c,B,g),P=Mn(c,B,h)):(w=zn(F,W,p,v),R=zn(F,W,B,g),P=zn(F,W,B,h),_=!0);if(Ge(t,"onBeforeRotate",ze(t,e,{beforeRotation:C=A+w,rotation:M=A+R,absoluteRotation:T=I+P,setRotation:function(t){w=R=t-A,P=R}},!0)),y=(r=Pn(t,O,v,w,A,_))[0],w=r[1],C=r[2],D=(n=Pn(t,O,g,R,A,_))[0],R=n[1],M=n[2],z=(i=Pn(t,O,h,P,I,_))[0],P=i[1],T=i[2],z||D||y||k||d){var q=xt(a,"rotate(".concat(M,"deg)"),"rotate(".concat(R,"deg)"));d&&(a.fixedPosition=At(t,a.targetAllTransform,a.fixedDirection,a.fixedOffset,a));var L=function(t,e,r){var n=r.fixedDirection,i=r.fixedPosition,a=r.fixedOffset;return It(t,"rotate(".concat(e,"deg)"),n,i,a,r)}(t,R,a),V=Object(E.p)(Object(E.s)(f||[0,0],L),a.prevInverseDist||[0,0]);a.prevInverseDist=L,a.requestValue=null;var Y=kt(t,q,V,l,e),X=Y,U=Object(S.n)([F,W],h.startAbsoluteOrigin)-h.startDist,Z=void 0;if("resizable"===a.resolveAble){var K=Dn.dragControl(t,N(N({},gt(e,t.state,[e.deltaX,e.deltaY],!!l,!1,"resizable")),{resolveMatrix:!0,parentDistance:U}));K&&(Z=K,X=Me(X,K,e))}var $=ze(t,e,N(N({delta:D,dist:R,rotate:M,rotation:M,beforeDist:w,beforeDelta:y,beforeRotate:C,beforeRotation:C,absoluteDist:P,absoluteDelta:z,absoluteRotate:T,absoluteRotation:T,isPinch:!!l,resize:Z},Y),X));return Ge(t,"onRotate",$),$}}},dragControlEnd:function(t,e){var r=e.datas;if(r.isRotate){r.isRotate=!1;var n=Pe(t,e,{});return Ge(t,"onRotateEnd",n),n}},dragGroupControlCondition:Gn,dragGroupControlStart:function(t,e){var r=e.datas,n=t.state,i=n.left,a=n.top,o=n.beforeOrigin,s=this.dragControlStart(t,e);if(!s)return!1;s.set(r.beforeDirection*t.rotation);var c=sr(t,this,"dragControlStart",e,(function(t,e){var r=t.state,n=r.left,s=r.top,c=r.beforeOrigin,u=Object(E.s)(Object(E.p)([n,s],[i,a]),Object(E.p)(c,o));return e.datas.startGroupClient=u,e.datas.groupClient=u,N(N({},e),{parentRotate:0})})),u=Ge(t,"onRotateGroupStart",N(N({},s),{targets:t.props.targets,events:c}));return r.isRotate=!1!==u,!!r.isRotate&&s},dragGroupControl:function(t,e){var r=e.datas;if(r.isRotate){Te(t,"onBeforeRotate",(function(r){Ge(t,"onBeforeRotateGroup",ze(t,e,N(N({},r),{targets:t.props.targets}),!0))}));var n=this.dragControl(t,e);if(n){var i=r.beforeDirection,a=n.beforeDist,o=a/180*Math.PI,s=sr(t,this,"dragControl",e,(function(t,e){var r=e.datas.startGroupClient,n=e.datas.groupClient,s=n[0],c=n[1],u=Object(E.t)(r,o*i),l=u[0],f=u[1],d=[l-s,f-c];return e.datas.groupClient=[l,f],N(N({},e),{parentRotate:a,groupDelta:d})}));t.rotation=i*n.beforeRotation;var c=N({targets:t.props.targets,events:s,set:function(e){t.rotation=e},setGroupRotation:function(e){t.rotation=e}},n);return Ge(t,"onRotateGroup",c),c}}},dragGroupControlEnd:function(t,e){var r=e.isDrag;if(e.datas.isRotate){this.dragControlEnd(t,e);var n=sr(t,this,"dragControlEnd",e);return Ge(t,"onRotateGroupEnd",Pe(t,e,{targets:t.props.targets,events:n})),r}},request:function(t){var e={},r=0,n=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaRotate"in t?r+=t.deltaRotate:"rotate"in t&&(r=t.rotate-n),{datas:e,parentDist:r}},requestEnd:function(){return{datas:e,isDrag:!0}}}}},kn=Ye("scalable"),An={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:xn("scalable"),dragControlCondition:kn,viewClassName:Ve("scalable"),dragControlStart:function(t,e){var r=e.datas,n=e.isPinch,i=e.inputEvent,a=Se(e.parentDirection,n,i,r),o=t.state,s=o.width,c=o.height,u=o.targetTransform,l=o.target,f=o.pos1,d=o.pos2,p=o.pos4;if(!a||!l)return!1;n||mt(t,e),r.datas={},r.transform=u,r.prevDist=[1,1],r.direction=a,r.startOffsetWidth=s,r.startOffsetHeight=c,r.startValue=[1,1];var v=Object(S.n)(f,d),g=Object(S.n)(d,p),h=!a[0]&&!a[1]||a[0]||!a[1];function b(t){r.ratio=t&&isFinite(t)?t:0}function m(t){var e=yn(r.startPositions,t);r.fixedDirection=e.fixedDirection,r.fixedPosition=e.fixedPosition,r.fixedOffset=e.fixedOffset}r.scaleWidth=v,r.scaleHeight=g,r.scaleXRatio=v/s,r.scaleYRatio=g/c,Rt(e,"scale"),r.isWidth=h,r.startPositions=we(t.state),r.setFixedDirection=m,b(Object(S.n)(f,d)/Object(S.n)(d,p)),m([-a[0],-a[1]]);var O=ze(t,e,N(N({direction:a,set:function(t){r.startValue=t},setRatio:b,setFixedDirection:m},Dt(e)),{dragStart:En.dragStart(t,(new ht).dragStart([0,0],e))})),x=Ge(t,"onScaleStart",O);return r.startFixedDirection=r.fixedDirection,!1!==x&&(r.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:a}),!!r.isScale&&O},dragControl:function(t,e){Ot(e,"scale");var r=e.datas,n=e.parentKeepRatio,i=e.parentFlag,a=e.isPinch,o=e.dragClient,s=e.isRequest,c=e.resolveMatrix,u=r.prevDist,l=r.direction,f=r.startOffsetWidth,d=r.startOffsetHeight,p=r.isScale,v=r.startValue,g=r.isWidth,h=r.ratio;if(!p)return!1;var b=t.props,m=b.throttleScale,O=b.parentMoveable,x=l;l[0]||l[1]||(x=[1,1]);var j=h&&(null!=n?n:b.keepRatio)||!1,y=t.state,w=v[0],C=v[1];function D(){var t=$e(x,j,r,e),n=t.distWidth,i=t.distHeight,a=f?(f+n)/f:1,o=d?(d+i)/d:1;return v[0]||(w=n/f),v[1]||(C=i/d),a=(x[0]||j?a:1)*w,o=(x[1]||j?o:1)*C,0===a&&(a=rr(u[0])*ct),0===o&&(o=rr(u[1])*ct),[a,o]}var R=D();if(!a&&t.props.groupable){var M=(y.snapRenderInfo||{}).direction;Object(S.w)(M)&&(M[0]||M[1])&&(y.snapRenderInfo={direction:l,request:e.isRequest})}Ge(t,"onBeforeScale",ze(t,e,{scale:R,setFixedDirection:function(t){return r.setFixedDirection(t),R=D()},startFixedDirection:r.startFixedDirection,setScale:function(t){R=t}},!0));var z=[R[0]/w,R[1]/C],P=o,T=[0,0],G=!o&&!i&&a;if(G||c?P=At(t,r.targetAllTransform,[0,0],[0,0],r):o||(P=r.fixedPosition),a||(T=un(t,z,l,s,r)),j){x[0]&&x[1]&&T[0]&&T[1]&&(Math.abs(T[0]*f)>Math.abs(T[1]*d)?T[1]=0:T[0]=0);var B=!T[0]&&!T[1];if(B&&(g?z[0]=Object(S.O)(z[0]*w,m)/w:z[1]=Object(S.O)(z[1]*C,m)/C),x[0]&&!x[1]||T[0]&&!T[1]||B&&g){z[0]+=T[0];var k=f*z[0]*w/h;z[1]=k/d/C}else if(!x[0]&&x[1]||!T[0]&&T[1]||B&&!g){z[1]+=T[1];var A=d*z[1]*C*h;z[0]=A/f/w}}else z[0]+=T[0],z[1]+=T[1],T[0]||(z[0]=Object(S.O)(z[0]*w,m)/w),T[1]||(z[1]=Object(S.O)(z[1]*C,m)/C);0===z[0]&&(z[0]=rr(u[0])*ct),0===z[1]&&(z[1]=rr(u[1])*ct);var I,_,F=[z[0]/u[0],z[1]/u[1]];_=[w,C],R=[(I=z)[0]*_[0],I[1]*_[1]];var W="scale(".concat(z.join(", "),")"),H="scale(".concat(R.join(", "),")"),q=xt(r,H,W),L=!v[0]||!v[1],V=function(t,e,r,n,i,a,o){return It(t,e,r,n,i,a,o)}(t,L?H:W,r.fixedDirection,P,r.fixedOffset,r,L),Y=G?V:Object(E.p)(V,r.prevInverseDist||[0,0]);if(r.prevDist=z,r.prevInverseDist=V,R[0]===u[0]&&R[1]===u[1]&&Y.every((function(t){return!t}))&&!O&&!G)return!1;var X=ze(t,e,N({offsetWidth:f,offsetHeight:d,direction:l,scale:R,dist:z,delta:F,isPinch:!!a},kt(t,q,Y,a,e)));return Ge(t,"onScale",X),X},dragControlEnd:function(t,e){var r=e.datas;if(!r.isScale)return!1;r.isScale=!1;var n=Pe(t,e,{});return Ge(t,"onScaleEnd",n),n},dragGroupControlCondition:kn,dragGroupControlStart:function(t,e){var r=e.datas,n=this.dragControlStart(t,e);if(!n)return!1;var i=ar(t,"resizable",e);r.moveableScale=t.scale;var a=sr(t,this,"dragControlStart",e,(function(e,n){return cr(t,e,r,n)})),o=function(e){n.setFixedDirection(e),a.forEach((function(n,a){n.setFixedDirection(e),cr(t,n.moveable,r,i[a])}))};r.setFixedDirection=o;var s=N(N({},n),{targets:t.props.targets,events:a,setFixedDirection:o}),c=Ge(t,"onScaleGroupStart",s);return r.isScale=!1!==c,!!r.isScale&&s},dragGroupControl:function(t,e){var r=e.datas;if(r.isScale){Te(t,"onBeforeScale",(function(r){Ge(t,"onBeforeScaleGroup",ze(t,e,N(N({},r),{targets:t.props.targets}),!0))}));var n=this.dragControl(t,e);if(n){var i=r.moveableScale;t.scale=[n.scale[0]*i[0],n.scale[1]*i[1]];var a=t.props.keepRatio,o=n.dist,s=n.scale,c=r.fixedPosition,u=sr(t,this,"dragControl",e,(function(e,r){var n=Object(E.a)(Object(E.h)(t.rotation/180*Math.PI,3),[r.datas.originalX*o[0],r.datas.originalY*o[1],1],3),i=n[0],u=n[1];return N(N({},r),{parentDist:null,parentScale:s,parentKeepRatio:a,dragClient:Object(E.s)(c,[i,u])})})),l=N({targets:t.props.targets,events:u},n);return Ge(t,"onScaleGroup",l),l}}},dragGroupControlEnd:function(t,e){var r=e.isDrag;if(e.datas.isScale){this.dragControlEnd(t,e);var n=sr(t,this,"dragControlEnd",e);return Ge(t,"onScaleGroupEnd",Pe(t,e,{targets:t.props.targets,events:n})),r}},request:function(){var t={},e=0,r=0;return{isControl:!0,requestStart:function(e){return{datas:t,parentDirection:e.direction||[1,1]}},request:function(n){return e+=n.deltaWidth,r+=n.deltaHeight,{datas:t,parentDist:[e,r],parentKeepRatio:n.keepRatio}},requestEnd:function(){return{datas:t,isDrag:!0}}}}};function In(t,e){return t.map((function(t,r){return Object(S.k)(t,e[r],1,2)}))}function _n(t,e,r){var n=Object(S.s)(t,e),i=Object(S.s)(t,r)-n;return i>=0?i:i+2*Math.PI}var Fn={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:Ve("warpable"),render:function(t,e){var r=t.props,n=r.resizable,i=r.scalable,a=r.warpable,o=r.zoom;if(n||i||!a)return[];var s=t.state,c=s.pos1,u=s.pos2,l=s.pos3,f=s.pos4,d=In(c,u),p=In(u,c),v=In(c,l),g=In(l,c),h=In(l,f),b=In(f,l),m=In(u,f),O=In(f,u);return W([e.createElement("div",{className:Yt("line"),key:"middeLine1",style:ve(d,h,o)}),e.createElement("div",{className:Yt("line"),key:"middeLine2",style:ve(p,b,o)}),e.createElement("div",{className:Yt("line"),key:"middeLine3",style:ve(v,m,o)}),e.createElement("div",{className:Yt("line"),key:"middeLine4",style:ve(g,O,o)})],jn(t,"warpable",e),!0)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var r=e.inputEvent.target;return Object(S.v)(r,Yt("direction"))&&Object(S.v)(r,Yt("warpable"))},dragControlStart:function(t,e){var r=e.datas,n=e.inputEvent,i=t.props.target,a=Ee(n.target,r);if(!a||!i)return!1;var o=t.state,s=o.transformOrigin,c=o.is3d,u=o.targetTransform,l=o.targetMatrix,f=o.width,d=o.height,p=o.left,v=o.top;return r.datas={},r.targetTransform=u,r.warpTargetMatrix=c?l:Object(E.c)(l,3,4),r.targetInverseMatrix=Object(E.m)(Object(E.n)(r.warpTargetMatrix,4),3,4),r.direction=a,r.left=p,r.top=v,r.poses=[[0,0],[f,0],[0,d],[f,d]].map((function(t){return Object(E.p)(t,s)})),r.nextPoses=r.poses.map((function(t){var e=t[0],n=t[1];return Object(E.a)(r.warpTargetMatrix,[e,n,0,1],4)})),r.startValue=Object(E.f)(4),r.prevMatrix=Object(E.f)(4),r.absolutePoses=we(o),r.posIndexes=yt(a),mt(t,e),Rt(e,"matrix3d"),o.snapRenderInfo={request:e.isRequest,direction:a},!1!==Ge(t,"onWarpStart",ze(t,e,N({set:function(t){r.startValue=t}},Dt(e))))&&(r.isWarp=!0),r.isWarp},dragControl:function(t,e){var r=e.datas,n=e.isRequest,i=e.distX,a=e.distY,o=r.targetInverseMatrix,s=r.prevMatrix,c=r.isWarp,u=r.startValue,l=r.poses,f=r.posIndexes,d=r.absolutePoses;if(!c)return!1;if(Ot(e,"matrix3d"),pr(t,"warpable")){var p=f.map((function(t){return d[t]}));p.length>1&&p.push([(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2]);var v=Xr(t,n,{horizontal:p.map((function(t){return t[1]+a})),vertical:p.map((function(t){return t[0]+i}))}),g=v.horizontal,h=v.vertical;a-=g.offset,i-=h.offset}var b=Et({datas:r,distX:i,distY:a},!0),m=r.nextPoses.slice();if(f.forEach((function(t){m[t]=Object(E.s)(m[t],b)})),!at.every((function(t){return function(t,e){var r=_n(t[0],t[1],t[2]),n=_n(e[0],e[1],e[2]),i=Math.PI;return!(r>=i&&n<=i||r<=i&&n>=i)}(t.map((function(t){return l[t]})),t.map((function(t){return m[t]})))})))return!1;var O=Object(E.j)(l[0],l[2],l[1],l[3],m[0],m[2],m[1],m[3]);if(!O.length)return!1;var x=jt(r,Object(E.r)(o,O,4),!0),j=Object(E.r)(Object(E.n)(s,4),x,4);r.prevMatrix=x;var S=Object(E.r)(u,x,4),y=xt(r,"matrix3d(".concat(S.join(", "),")"),"matrix3d(".concat(x.join(", "),")"));return zt(e,y),Ge(t,"onWarp",ze(t,e,N({delta:j,matrix:S,dist:x,multiply:E.r,transform:y},Re({transform:y},e)))),!0},dragControlEnd:function(t,e){var r=e.datas,n=e.isDrag;return!!r.isWarp&&(r.isWarp=!1,Ge(t,"onWarpEnd",Pe(t,e,{})),n)}},Nn=Yt("area-pieces"),Wn=Yt("area-piece"),Hn=Yt("avoid"),qn=Yt("view-dragging");function Ln(t){var e=t.areaElement;if(e){var r=t.state,n=r.width,i=r.height;Object(S.G)(e,Hn),e.style.cssText+="left: 0px; top: 0px; width: ".concat(n,"px; height: ").concat(i,"px")}}function Vn(t){return t.createElement("div",{key:"area_pieces",className:Nn},t.createElement("div",{className:Wn}),t.createElement("div",{className:Wn}),t.createElement("div",{className:Wn}),t.createElement("div",{className:Wn}))}var Yn={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(t,e){var r=t.props,n=r.target,i=r.dragArea,a=r.groupable,o=r.passDragArea,s=t.getState(),c=s.width,u=s.height,l=s.renderPoses,f=o?Yt("area","pass"):Yt("area");if(a)return[e.createElement("div",{key:"area",ref:Object(j.d)(t,"areaElement"),className:f}),Vn(e)];if(!n||!i)return[];var d=Object(E.j)([0,0],[c,0],[0,u],[c,u],l[0],l[1],l[2],l[3]),p=d.length?ie(d,!0):"none";return[e.createElement("div",{key:"area",ref:Object(j.d)(t,"areaElement"),className:f,style:{top:"0px",left:"0px",width:"".concat(c,"px"),height:"".concat(u,"px"),transformOrigin:"0 0",transform:p}}),Vn(e)]},dragStart:function(t,e){var r=e.datas,n=e.clientX,i=e.clientY;if(!e.inputEvent)return!1;r.isDragArea=!1;var a=t.areaElement,o=t.state,s=o.moveableClientRect,c=o.renderPoses,u=o.rootMatrix,l=o.is3d,f=s.left,d=s.top,p=ue(c),v=p.left,g=p.top,h=p.width,b=p.height,m=Ne(u,[n-f,i-d],l?4:3),O=m[0],x=m[1],j=[{left:v,top:g,width:h,height:(x-=g)-10},{left:v,top:g,width:(O-=v)-10,height:b},{left:v,top:g+x+10,width:h,height:b-x-10},{left:v+O+10,top:g,width:h-O-10,height:b}],E=[].slice.call(a.nextElementSibling.children);j.forEach((function(t,e){E[e].style.cssText="left: ".concat(t.left,"px;top: ").concat(t.top,"px; width: ").concat(t.width,"px; height: ").concat(t.height,"px;")})),Object(S.b)(a,Hn),o.disableNativeEvent=!0},drag:function(t,e){var r=e.datas,n=e.inputEvent;if(this.enableNativeEvent(t),!n)return!1;r.isDragArea||(r.isDragArea=!0,Ln(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var r=e.inputEvent,n=e.datas;if(!r)return!1;n.isDragArea||Ln(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){Ln(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&Object(S.I)((function(){e.disableNativeEvent=!1}))}},Xn=H("origin",{props:["origin","svgOrigin"],render:function(t,e){var r,n=t.props,i=n.zoom,a=n.svgOrigin,o=n.groupable,s=t.getState(),c=s.beforeOrigin,u=s.rotation,l=s.svg,f=s.allMatrix,d=s.is3d,p=s.left,v=s.top,g=s.offsetWidth,h=s.offsetHeight;if(!o&&l&&a){var b=Qe(a,g,h),m=se(f,[b[0],b[1]],d?4:3);r=ge(u,i,Object(E.p)(m,[p,v]))}else r=ge(u,i,c);return[e.createElement("div",{className:Yt("control","origin"),style:r,key:"beforeOrigin"})]}});function Un(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var Zn={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(t,e){var r=t.props,n=r.scrollContainer,i=void 0===n?t.getContainer():n,a=r.scrollOptions,o=new C.a,s=Xe(i,!0);e.datas.dragScroll=o,t.state.dragScroll=o;var c=e.isControl?"controlGesto":"targetGesto",u=e.targets;o.on("scroll",(function(r){var n=r.container,i=r.direction,a=ze(t,e,{scrollContainer:n,direction:i}),o=u?"onScrollGroup":"onScroll";u&&(a.targets=u),Ge(t,o,a)})).on("move",(function(e){var r=e.offsetX,n=e.offsetY,i=e.inputEvent;t[c].scrollBy(r,n,i.inputEvent,!0)})).on("scrollDrag",(function(e){(0,e.next)(t[c].getCurrentEvent())})),o.dragStart(e,N({container:s},a))},checkScroll:function(t,e){var r=e.datas.dragScroll;if(r){var n=t.props,i=n.scrollContainer,a=void 0===i?t.getContainer():i,o=n.scrollThreshold,s=void 0===o?0:o,c=n.scrollThrottleTime,u=void 0===c?0:c,l=n.getScrollPosition,f=void 0===l?Un:l,d=n.scrollOptions;return r.drag(e,N({container:a,threshold:s,throttleTime:u,getScrollPosition:function(t){return f({scrollContainer:t.container,direction:t.direction})}},d)),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,N(N({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,N(N({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,N(N({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,N(N({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,N(N({},e),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,e){return this.drag(t,N(N({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,N(N({},e),{targets:t.props.targets}))},unset:function(t){var e,r=t.state;null===(e=r.dragScroll)||void 0===e||e.dragEnd(),r.dragScroll=null}},Kn={name:"",props:["target","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","edge","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","displayAroundControls","controlPadding","preventDefault","requestStyles"],events:["changeTargets"]},$n=H("padding",{render:function(t,e){var r=t.props;if(r.dragArea)return[];var n=r.padding||{},i=n.left,a=void 0===i?0:i,o=n.top,s=void 0===o?0:o,c=n.right,u=void 0===c?0:c,l=n.bottom,f=void 0===l?0:l,d=t.getState(),p=d.renderPoses,v=[d.pos1,d.pos2,d.pos3,d.pos4],g=[];return a>0&&g.push([0,2]),s>0&&g.push([0,1]),u>0&&g.push([1,3]),f>0&&g.push([2,3]),g.map((function(t,r){var n=t[0],i=t[1],a=v[n],o=v[i],s=p[n],c=p[i],u=Object(E.j)([0,0],[100,0],[0,100],[100,100],a,o,s,c);if(u.length)return e.createElement("div",{key:"padding".concat(r),className:Yt("padding"),style:{transform:ie(u,!0)}})}))}}),Jn=["nw","ne","se","sw"];function Qn(t,e){var r=t[0]+t[1],n=r>e?e/r:1;return t[0]*=n,t[1]=e-t[1]*n,t}var ti=[1,2,5,6],ei=[0,3,4,7],ri=[1,-1,-1,1],ni=[1,1,-1,-1];function ii(t,e,r,n,i,a,o,s){void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=r),void 0===s&&(s=n);var c=[],u=!1,l=t.filter((function(t){return!t.virtual})),f=l.map((function(t){var l=t.horizontal,f=t.vertical,d=t.pos;if(f&&!u&&(u=!0,c.push("/")),u){var p=Math.max(0,1===f?d[1]-a:s-d[1]);return c.push(qe(p,n,e)),p}p=Math.max(0,1===l?d[0]-i:o-d[0]);return c.push(qe(p,r,e)),p}));return{radiusPoses:l,styles:c,raws:f}}function ai(t){for(var e=[0,0],r=[0,0],n=t.length,i=0;i<n;++i){var a=t[i];a.sub&&(a.horizontal&&(0===e[1]&&(e[0]=i),e[1]=i-e[0]+1,r[0]=i+1),a.vertical&&(0===r[1]&&(r[0]=i),r[1]=i-r[0]+1))}return{horizontalRange:e,verticalRange:r}}function oi(t,e,r,n,i,a,o){var s,c,u,l;void 0===a&&(a=[0,0]),void 0===o&&(o=!1);var f=t.indexOf("/"),d=(f>-1?t.slice(0,f):t).length,p=t.slice(0,d),v=t.slice(d+1),g=p.length,h=v.length,b=h>0,m=p[0],O=void 0===m?"0px":m,x=p[1],j=void 0===x?O:x,E=p[2],y=void 0===E?O:E,w=p[3],C=void 0===w?j:w,D=v[0],R=void 0===D?O:D,M=v[1],z=void 0===M?b?R:j:M,P=v[2],T=void 0===P?b?R:y:P,G=v[3],B=void 0===G?b?z:C:G,k=[O,j,y,C].map((function(t){return Object(S.i)(t,e)})),A=[R,z,T,B].map((function(t){return Object(S.i)(t,r)})),I=k.slice(),_=A.slice();s=Qn([I[0],I[1]],e),I[0]=s[0],I[1]=s[1],c=Qn([I[3],I[2]],e),I[3]=c[0],I[2]=c[1],u=Qn([_[0],_[3]],r),_[0]=u[0],_[3]=u[1],l=Qn([_[1],_[2]],r),_[1]=l[0],_[2]=l[1];var F=o?I:I.slice(0,Math.max(a[0],g)),N=o?_:_.slice(0,Math.max(a[1],h));return W(W([],F.map((function(t,e){var a=Jn[e];return{virtual:e>=g,horizontal:ri[e],vertical:0,pos:[n+t,i+(-1===ni[e]?r:0)],sub:!0,raw:k[e],direction:a}})),!0),N.map((function(t,r){var a=Jn[r];return{virtual:r>=h,horizontal:0,vertical:ni[r],pos:[n+(-1===ri[r]?e:0),i+t],sub:!0,raw:A[r],direction:a}})),!0)}var si=[[0,-1,"n"],[1,0,"e"]],ci=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function ui(t,e,r){var n=t.props.clipRelative,i=t.state,a=i.width,o=i.height,s=e,c=s.type,u=s.poses,l="rect"===c,f="circle"===c;if("polygon"===c)return r.map((function(t){return"".concat(qe(t[0],a,n)," ").concat(qe(t[1],o,n))}));if(l||"inset"===c){var d=r[1][1],p=r[3][0],v=r[7][0],g=r[5][1];if(l)return[d,p,g,v].map((function(t){return"".concat(t,"px")}));var h=[d,a-p,o-g,v].map((function(t,e){return qe(t,e%2?a:o,n)}));if(r.length>8){var b=Object(E.p)(r[4],r[0]),m=b[0],O=b[1];h.push.apply(h,W(["round"],ii(u.slice(8).map((function(t,e){return N(N({},t),{pos:r[e]})})),n,m,O,v,d,p,g).styles,!1))}return h}if(f||"ellipse"===c){var x=r[0],j=qe(nr(r[1][1]-x[1]),f?Math.sqrt((a*a+o*o)/2):o,n);return(h=f?[j]:[qe(nr(r[2][0]-x[0]),a,n),j]).push("at",qe(x[0],a,n),qe(x[1],o,n)),h}}function li(t,e,r,n){var i=[n,(n+e)/2,e],a=[t,(t+r)/2,r];return ci.map((function(t){var e=t[0],r=t[1],n=t[2],o=i[e+1],s=a[r+1];return{vertical:nr(r),horizontal:nr(e),direction:n,pos:[o,s]}}))}function fi(t){var e=[1/0,-1/0],r=[1/0,-1/0];return t.forEach((function(t){var n=t.pos;e[0]=Math.min(e[0],n[0]),e[1]=Math.max(e[1],n[0]),r[0]=Math.min(r[0],n[1]),r[1]=Math.max(r[1],n[1])})),[nr(e[1]-e[0]),nr(r[1]-r[0])]}function di(t,e,r,n,i){var a,o,s,c,u,l,f;if(t){var d=i;if(!d){var p=Vt(t),v=p("clipPath");d="none"!==v?v:p("clip")}if(d&&"none"!==d&&"auto"!==d||(d=n)){var g=Object(S.J)(d),h=g.prefix,b=void 0===h?d:h,m=g.value,O=void 0===m?"":m,x="circle"===b,j=" ";if("polygon"===b){j=",";var E=(z=Object(S.K)(O||"0% 0%, 100% 0%, 100% 100%, 0% 100%")).map((function(t){var n=t.split(" "),i=n[0],a=n[1];return{vertical:1,horizontal:1,pos:[Object(S.i)(i,e),Object(S.i)(a,r)]}})),y=Object(D.d)(E.map((function(t){return t.pos})));return{type:b,clipText:d,poses:E,splitter:j,left:y.minX,right:y.maxX,top:y.minY,bottom:y.maxY}}if(x||"ellipse"===b){var w="",C="",R=0,M=0,z=Object(S.L)(O);if(x){var P;P=void 0===(a=z[0])?"50%":a,w=void 0===(o=z[2])?"50%":o,C=void 0===(s=z[3])?"50%":s,R=Object(S.i)(P,Math.sqrt((e*e+r*r)/2)),M=R}else{var T,G;T=void 0===(c=z[0])?"50%":c,G=void 0===(u=z[1])?"50%":u,w=void 0===(l=z[3])?"50%":l,C=void 0===(f=z[4])?"50%":f,R=Object(S.i)(T,e),M=Object(S.i)(G,r)}var B=[Object(S.i)(w,e),Object(S.i)(C,r)];E=W([{vertical:1,horizontal:1,pos:B,direction:"nesw"}],si.slice(0,x?1:2).map((function(t){return{vertical:nr(t[1]),horizontal:t[0],direction:t[2],sub:!0,pos:[B[0]+t[0]*R,B[1]+t[1]*M]}})),!0);return{type:b,clipText:d,radiusX:R,radiusY:M,left:B[0]-R,top:B[1]-M,right:B[0]+R,bottom:B[1]+M,poses:E,splitter:j}}if("inset"===b){var k=(z=Object(S.L)(O||"0 0 0 0")).indexOf("round"),A=(k>-1?z.slice(0,k):z).length,I=z.slice(A+1),_=z.slice(0,A),F=_[0],N=_[1],H=void 0===N?F:N,q=_[2],L=void 0===q?F:q,V=_[3],Y=void 0===V?H:V,X=[F,L].map((function(t){return Object(S.i)(t,r)})),U=X[0],Z=X[1],K=[Y,H].map((function(t){return Object(S.i)(t,e)})),$=K[0],J=K[1],Q=e-J,tt=r-Z,et=oi(I,Q-$,tt-U,$,U);return{type:"inset",clipText:d,poses:E=W(W([],li(U,Q,tt,$),!0),et,!0),top:U,left:$,right:Q,bottom:tt,radius:I,splitter:j}}if("rect"===b){j=",";var rt=(z=Object(S.K)(O||"0px, ".concat(e,"px, ").concat(r,"px, 0px"))).map((function(t){return Object(S.M)(t).value}));return{type:"rect",clipText:d,poses:E=li(U=rt[0],J=rt[1],Z=rt[2],$=rt[3]),top:U,right:J,bottom:Z,left:$,values:z,splitter:j}}}}}function pi(t,e){var r=bt(t,e),n=r[0],i=r[1],a=e.datas,o=a.clipPath,s=a.clipIndex,c=o,u=c.type,l=c.poses,f=c.splitter,d=l.map((function(t){return t.pos}));if("polygon"===u)d.splice(s,0,[n,i]);else{if("inset"!==u)return;var p=ti.indexOf(s),v=ei.indexOf(s),g=l.length;if(function(t,e,r,n,i,a,o,s,c,u,l){void 0===u&&(u=0),void 0===l&&(l=0);var f=ai(t.slice(r)),d=f.horizontalRange,p=f.verticalRange;if(n>-1)for(var v=1===ri[n]?a-u:s-a,g=d[1];g<=n;++g){var h=1===ni[g]?l:c,b=0;if(n===g?b=a:0===g?b=u+v:-1===ri[g]&&(b=s-(e[r][0]-u)),t.splice(r+g,0,{horizontal:ri[g],vertical:0,pos:[b,h]}),e.splice(r+g,0,[b,h]),0===g)break}else if(i>-1){var m=1===ni[i]?o-l:c-o;if(0===d[1]&&0===p[1]){var O=[u+m,l];t.push({horizontal:ri[0],vertical:0,pos:O}),e.push(O)}var x=p[0];for(g=p[1];g<=i&&(b=1===ri[g]?u:s,h=0,i===g?h=o:0===g?h=l+m:1===ni[g]?h=e[r+x][1]:-1===ni[g]&&(h=c-(e[r+x][1]-l)),t.push({horizontal:0,vertical:ni[g],pos:[b,h]}),e.push([b,h]),0!==g);++g);}}(l,d,8,p,v,n,i,d[4][0],d[4][1],d[0][0],d[0][1]),g===l.length)return}var h=ui(t,o,d),b="".concat(u,"(").concat(h.join(f),")");Ge(t,"onClip",ze(t,e,N({clipEventType:"added",clipType:u,poses:d,clipStyles:h,clipStyle:b,distX:0,distY:0},Re({clipPath:b},e))))}function vi(t,e){var r=e.datas,n=r.clipPath,i=r.clipIndex,a=n,o=a.type,s=a.poses,c=a.splitter,u=s.map((function(t){return t.pos})),l=u.length;if("polygon"===o)s.splice(i,1),u.splice(i,1);else{if("inset"!==o)return;if(i<8)return;if(function(t,e,r,n,i){void 0===i&&(i=e.length);var a=ai(t.slice(n)),o=a.horizontalRange,s=a.verticalRange,c=r-n,u=0;if(0===c)u=i;else if(c>0&&c<o[1])u=o[1]-c;else{if(!(c>=s[0]))return;u=s[0]+s[1]-c}t.splice(r,u),e.splice(r,u)}(s,u,i,8,l),l===s.length)return}var f=ui(t,n,u),d="".concat(o,"(").concat(f.join(c),")");Ge(t,"onClip",ze(t,e,N({clipEventType:"removed",clipType:o,poses:u,clipStyles:f,clipStyle:d,distX:0,distY:0},Re({clipPath:d},e))))}var gi={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[".control.clip-control {\nbackground: #6d6;\ncursor: pointer;\n}\n.control.clip-control.clip-radius {\nbackground: #d66;\n}\n.line.clip-line {\nbackground: #6e6;\ncursor: move;\nz-index: 1;\n}\n.clip-area {\nposition: absolute;\ntop: 0;\nleft: 0;\n}\n.clip-ellipse {\nposition: absolute;\ncursor: move;\nborder: 1px solid #6d6;\nborder: var(--zoompx) solid #6d6;\nborder-radius: 50%;\ntransform-origin: 0px 0px;\n}",":host {\n--bounds-color: #d66;\n}",".guideline {\npointer-events: none;\nz-index: 2;\n}",".line.guideline.bounds {\nbackground: #d66;\nbackground: var(--bounds-color);\n}"],render:function(t,e){var r=t.props,n=r.customClipPath,i=r.defaultClipPath,a=r.clipArea,o=r.zoom,s=r.groupable,c=t.getState(),u=c.target,l=c.width,f=c.height,d=c.allMatrix,p=c.is3d,v=c.left,g=c.top,h=c.pos1,b=c.pos2,m=c.pos3,O=c.pos4,x=c.clipPathState,j=c.snapBoundInfos,y=c.rotation;if(!u||s)return[];var w=di(u,l,f,i||"inset",x||n);if(!w)return[];var C=p?4:3,D=w.type,R=w.poses.map((function(t){var e=se(d,t.pos,C);return[e[0]-v,e[1]-g]})),M=[],z=[],P="rect"===D,T="inset"===D,G="polygon"===D;if(P||T||G){var B=T?R.slice(0,8):R;z=B.map((function(t,r){var n=0===r?B[B.length-1]:B[r-1],i=Object(S.s)(n,t),a=pe(n,t);return e.createElement("div",{key:"clipLine".concat(r),className:Yt("line","clip-line","snap-control"),"data-clip-index":r,style:{width:"".concat(a,"px"),transform:"translate(".concat(n[0],"px, ").concat(n[1],"px) rotate(").concat(i,"rad) scaleY(").concat(o,")")}})}))}if(M=R.map((function(t,r){return e.createElement("div",{key:"clipControl".concat(r),className:Yt("control","clip-control","snap-control"),"data-clip-index":r,style:{transform:"translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(y,"rad) scale(").concat(o,")")}})})),T&&M.push.apply(M,R.slice(8).map((function(t,r){return e.createElement("div",{key:"clipRadiusControl".concat(r),className:Yt("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+r,style:{transform:"translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(y,"rad) scale(").concat(o,")")}})}))),"circle"===D||"ellipse"===D){var k=w.left,A=w.top,I=w.radiusX,_=w.radiusY,F=Object(E.p)(se(d,[k,A],C),se(d,[0,0],C)),N=F[0],H=F[1],q="none";if(!a){for(var L=Math.max(10,I/5,_/5),V=[],Y=0;Y<=L;++Y){var X=2*Math.PI/L*Y;V.push([I+(I-o)*Math.cos(X),_+(_-o)*Math.sin(X)])}V.push([I,-2]),V.push([-2,-2]),V.push([-2,2*_+2]),V.push([2*I+2,2*_+2]),V.push([2*I+2,-2]),V.push([I,-2]),q="polygon(".concat(V.map((function(t){return"".concat(t[0],"px ").concat(t[1],"px")})).join(", "),")")}M.push(e.createElement("div",{key:"clipEllipse",className:Yt("clip-ellipse","snap-control"),style:{width:"".concat(2*I,"px"),height:"".concat(2*_,"px"),clipPath:q,transform:"translate(".concat(-v+N,"px, ").concat(-g+H,"px) ").concat(ie(d))}}))}if(a){var U=ue(W([h,b,m,O],R,!0)),Z=U.width,K=U.height,$=U.left,J=U.top;if(G||P||T){V=T?R.slice(0,8):R;M.push(e.createElement("div",{key:"clipArea",className:Yt("clip-area","snap-control"),style:{width:"".concat(Z,"px"),height:"".concat(K,"px"),transform:"translate(".concat($,"px, ").concat(J,"px)"),clipPath:"polygon(".concat(V.map((function(t){return"".concat(t[0]-$,"px ").concat(t[1]-J,"px")})).join(", "),")")}}))}}return j&&["vertical","horizontal"].forEach((function(t){var r=j[t],n="horizontal"===t;r.isSnap&&z.push.apply(z,r.snap.posInfos.map((function(r,i){var a=r.pos,s=Object(E.p)(se(d,n?[0,a]:[a,0],C),[v,g]),c=Object(E.p)(se(d,n?[l,a]:[a,f],C),[v,g]);return mn(e,"",s,c,o,"clip".concat(t,"snap").concat(i),"guideline")}))),r.isBound&&z.push.apply(z,r.bounds.map((function(r,i){var a=r.pos,s=Object(E.p)(se(d,n?[0,a]:[a,0],C),[v,g]),c=Object(E.p)(se(d,n?[l,a]:[a,f],C),[v,g]);return mn(e,"",s,c,o,"clip".concat(t,"bounds").concat(i),"guideline","bounds","bold")})))})),W(W([],M,!0),z,!0)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var r=t.props.dragWithClip;return!(void 0===r||r)&&this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,N(N({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var r=t.state,n=t.props,i=n.defaultClipPath,a=n.customClipPath,o=r.target,s=r.width,c=r.height,u=e.inputEvent?e.inputEvent.target:null,l=u&&u.getAttribute("class")||"",f=e.datas,d=di(o,s,c,i||"inset",a);if(!d)return!1;var p=d.clipText;return!1===Ge(t,"onClipStart",ze(t,e,{clipType:d.type,clipStyle:p,poses:d.poses.map((function(t){return t.pos}))}))?(f.isClipStart=!1,!1):(f.isControl=l&&l.indexOf("clip-control")>-1,f.isLine=l.indexOf("clip-line")>-1,f.isArea=l.indexOf("clip-area")>-1||l.indexOf("clip-ellipse")>-1,f.clipIndex=u?parseInt(u.getAttribute("data-clip-index"),10):-1,f.clipPath=d,f.isClipStart=!0,r.clipPathState=p,mt(t,e),!0)},dragControl:function(t,e){var r,n,i=e.datas,a=e.originalDatas,o=e.isDragTarget;if(!i.isClipStart)return!1;var s=i,c=s.isControl,u=s.isLine,l=s.isArea,f=s.clipIndex,d=s.clipPath;if(!d)return!1;var p=he(t.props,"clippable"),v=p.keepRatio,g=0,h=0,b=a.draggable,m=Et(e);o&&b?(r=b.prevBeforeDist,g=r[0],h=r[1]):(g=m[0],h=m[1]);var O=[g,h],x=t.state,j=x.width,y=x.height,w=!l&&!c&&!u,C=d.type,D=d.poses,R=d.splitter,M=D.map((function(t){return t.pos}));w&&(g=-g,h=-h);var z=!c||"nesw"===D[f].direction,P="inset"===C||"rect"===C,T=D.map((function(){return[0,0]}));if(c&&!z){var G=D[f],B=G.horizontal,k=G.vertical,A=[g*nr(B),h*nr(k)];T=function(t,e,r,n,i){var a=t[e],o=a.direction,s=a.sub,c=t.map((function(){return[0,0]})),u=o?o.split(""):[];if(n&&e<8){var l=u.filter((function(t){return"w"===t||"e"===t})),f=u.filter((function(t){return"n"===t||"s"===t})),d=l[0],p=f[0];c[e]=r;var v=fi(t),g=v[0],h=v[1],b=g&&h?g/h:0;if(b&&i){var m=t[(e+4)%8].pos,O=[0,0];o.indexOf("w")>-1?O[0]=-1:o.indexOf("e")>-1&&(O[0]=1),o.indexOf("n")>-1?O[1]=-1:o.indexOf("s")>-1&&(O[1]=1);var x=Ke([g,h],r,b,O,!0),j=g+x[0],S=h+x[1],E=m[1],y=m[1],w=m[0],C=m[0];-1===O[0]?w=C-j:1===O[0]?C=w+j:(w-=j/2,C+=j/2),-1===O[1]?E=y-S:y=1===O[1]?E+S:(E=y-S/2)+S;var D=li(E,C,y,w);t.forEach((function(t,e){c[e][0]=D[e].pos[0]-t.pos[0],c[e][1]=D[e].pos[1]-t.pos[1]}))}else t.forEach((function(t,e){var n=t.direction;n&&(n.indexOf(d)>-1&&(c[e][0]=r[0]),n.indexOf(p)>-1&&(c[e][1]=r[1]))})),d&&(c[1][0]=r[0]/2,c[5][0]=r[0]/2),p&&(c[3][1]=r[1]/2,c[7][1]=r[1]/2)}else o&&!s?u.forEach((function(e){var n="n"===e||"s"===e;t.forEach((function(t,i){var a=t.direction,o=t.horizontal,s=t.vertical;a&&-1!==a.indexOf(e)&&(c[i]=[n||!o?0:r[0],n&&s?r[1]:0])}))})):c[e]=r;return c}(D,f,A,P,v)}else z&&(T=M.map((function(){return[g,h]})));var I=M.map((function(t,e){return Object(E.s)(t,T[e])})),_=W([],I,!0);x.snapBoundInfos=null;var F="circle"===d.type,H="ellipse"===d.type;if(F||H){var q=nr((at=ue(I)).bottom-at.top),L=nr(H?at.right-at.left:q),V=I[0][1]+q,Y=I[0][0]-L,X=I[0][0]+L;F&&(_.push([X,at.bottom]),T.push([1,0])),_.push([at.left,V]),T.push([0,1]),_.push([Y,at.bottom]),T.push([1,0])}var U=tn((p.clipHorizontalGuidelines||[]).map((function(t){return Object(S.i)("".concat(t),y)})),(p.clipVerticalGuidelines||[]).map((function(t){return Object(S.i)("".concat(t),j)})),j,y),Z=[],K=[];if(F||H)Z=[_[4][0],_[2][0]],K=[_[1][1],_[3][1]];else if(P){var $=[_[0],_[2],_[4],_[6]],J=[T[0],T[2],T[4],T[6]];Z=$.filter((function(t,e){return J[e][0]})).map((function(t){return t[0]})),K=$.filter((function(t,e){return J[e][1]})).map((function(t){return t[1]}))}else Z=_.filter((function(t,e){return T[e][0]})).map((function(t){return t[0]})),K=_.filter((function(t,e){return T[e][1]})).map((function(t){return t[1]}));var Q=[0,0],tt=Ur(U,p.clipTargetBounds&&{left:0,top:0,right:j,bottom:y},Z,K,5),et=tt.horizontal,rt=tt.vertical,nt=et.offset,it=rt.offset;if(et.isBound&&(Q[1]+=nt),rt.isBound&&(Q[0]+=it),(H||F)&&0===T[0][0]&&0===T[0][1]){var at,ot=(at=ue(I)).bottom-at.top,st=H?at.right-at.left:ot;st-=rt.isBound?nr(it):0===rt.snapIndex?-it:it,ot-=et.isBound?nr(nt):0===et.snapIndex?-nt:nt,F&&(st=ot=Sr(rt,et)>0?ot:st);var ct=_[0];_[1][1]=ct[1]-ot,_[2][0]=ct[0]+st,_[3][1]=ct[1]+ot,_[4][0]=ct[0]-st}else if(P&&v&&c){var ut=fi(D),lt=ut[0],ft=ut[1],dt=lt&&ft?lt/ft:0,pt=D[f].direction||"",vt=_[1][1];V=_[5][1],Y=_[7][0],X=_[3][0];nr(nt)<=nr(it)?nt=rr(nt)*nr(it)/dt:it=rr(it)*nr(nt)*dt,pt.indexOf("w")>-1?Y-=it:pt.indexOf("e")>-1?X-=it:(Y+=it/2,X-=it/2),pt.indexOf("n")>-1?vt-=nt:pt.indexOf("s")>-1?V-=nt:(vt+=nt/2,V-=nt/2);var gt=li(vt,X,V,Y);_.forEach((function(t,e){var r;r=gt[e].pos,t[0]=r[0],t[1]=r[1]}))}else _.forEach((function(t,e){var r=T[e];r[0]&&(t[0]-=it),r[1]&&(t[1]-=nt)}));var ht=ui(t,d,I),bt="".concat(C,"(").concat(ht.join(R),")");if(x.clipPathState=bt,F||H)Z=[_[4][0],_[2][0]],K=[_[1][1],_[3][1]];else if(P){Z=($=[_[0],_[2],_[4],_[6]]).map((function(t){return t[0]})),K=$.map((function(t){return t[1]}))}else Z=_.map((function(t){return t[0]})),K=_.map((function(t){return t[1]}));if(x.snapBoundInfos=Ur(U,p.clipTargetBounds&&{left:0,top:0,right:j,bottom:y},Z,K,1),b){var mt=x.is3d,Ot=x.allMatrix,xt=mt?4:3,jt=Q;o&&(jt=[O[0]+Q[0]-m[0],O[1]+Q[1]-m[1]]),b.deltaOffset=Object(E.r)(Ot,[jt[0],jt[1],0,0],xt)}return Ge(t,"onClip",ze(t,e,N({clipEventType:"changed",clipType:C,poses:I,clipStyle:bt,clipStyles:ht,distX:g,distY:h},Re(((n={})["rect"===C?"clip":"clipPath"]=bt,n),e)))),!0},dragControlEnd:function(t,e){this.unset(t);var r=e.isDrag,n=e.datas,i=e.isDouble,a=n.isLine,o=n.isClipStart,s=n.isControl;return!!o&&(Ge(t,"onClipEnd",Pe(t,e,{})),i&&(s?vi(t,e):a&&pi(t,e)),i||r)},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},hi={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[":host[data-able-origindraggable] .control.origin {\npointer-events: auto;\n}"],dragControlCondition:function(t,e){return e.isRequest?"originDraggable"===e.requestAble:Object(S.v)(e.inputEvent.target,Yt("origin"))},dragControlStart:function(t,e){var r=e.datas;mt(t,e);var n=ze(t,e,{dragStart:En.dragStart(t,(new ht).dragStart([0,0],e))}),i=Ge(t,"onDragOriginStart",n);return r.startOrigin=t.state.transformOrigin,r.startTargetOrigin=t.state.targetOrigin,r.prevOrigin=[0,0],r.isDragOrigin=!0,!1===i?(r.isDragOrigin=!1,!1):n},dragControl:function(t,e){var r=e.datas,n=e.isPinch,i=e.isRequest;if(!r.isDragOrigin)return!1;var a=Et(e),o=a[0],s=a[1],c=t.state,u=c.width,l=c.height,f=c.offsetMatrix,d=c.targetMatrix,p=c.is3d,v=t.props.originRelative,g=void 0===v||v,h=p?4:3,b=[o,s];if(i){var m=e.distOrigin;(m[0]||m[1])&&(b=m)}var O=Object(E.s)(r.startOrigin,b),x=Object(E.s)(r.startTargetOrigin,b),j=Object(E.p)(b,r.prevOrigin),S=Ct(f,d,O,h),y=t.getRect(),w=ue(ce(S,u,l,h)),C=[y.left-w.left,y.top-w.top];r.prevOrigin=b;var D=[qe(x[0],u,g),qe(x[1],l,g)].join(" "),R=En.drag(t,gt(e,t.state,C,!!n,!1)),M=ze(t,e,N(N({width:u,height:l,origin:O,dist:b,delta:j,transformOrigin:D,drag:R},Re({transformOrigin:D,transform:R.transform},e)),{afterTransform:R.transform}));return Ge(t,"onDragOrigin",M),M},dragControlEnd:function(t,e){return!!e.datas.isDragOrigin&&(Ge(t,"onDragOriginEnd",Pe(t,e,{})),!0)},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){return!!this.dragControlStart(t,e)},dragGroupControl:function(t,e){var r=this.dragControl(t,e);return!!r&&(t.transformOrigin=r.transformOrigin,!0)},request:function(t){var e={},r=t.getRect(),n=0,i=0,a=r.transformOrigin,o=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(t){return"deltaOrigin"in t?(o[0]+=t.deltaOrigin[0],o[1]+=t.deltaOrigin[1]):"origin"in t?(o[0]=t.origin[0]-a[0],o[1]=t.origin[1]-a[1]):("x"in t?n=t.x-r.left:"deltaX"in t&&(n+=t.deltaX),"y"in t?i=t.y-r.top:"deltaY"in t&&(i+=t.deltaY)),{datas:e,distX:n,distY:i,distOrigin:o}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function bi(t,e,r,n,i){void 0===n&&(n=[0,0]);return oi(t&&"0px"!==t?Object(S.L)(t):[],e,r,0,0,n,i)}function mi(t,e,r,n,i){var a=t.state,o=a.width,s=a.height,c=ii(i,t.props.roundRelative,o,s),u=c.raws,l=c.styles,f=function(t,e){return void 0===e&&(e=t.map((function(t){return t.raw}))),{horizontals:t.map((function(t,r){return t.horizontal?e[r]:null})).filter((function(t){return null!=t})),verticals:t.map((function(t,r){return t.vertical?e[r]:null})).filter((function(t){return null!=t}))}}(c.radiusPoses,u),d=f.horizontals,p=f.verticals,v=l.join(" ");a.borderRadiusState=v;var g=ze(t,e,N({horizontals:d,verticals:p,borderRadius:v,width:o,height:s,delta:n,dist:r},Re({borderRadius:v},e)));return Ge(t,"onRound",g),g}function Oi(t){var e,r,n=t.getState().style,i=n.borderRadius||"";if(!i&&t.props.groupable){var a=t.moveables[0],o=t.getTargets()[0];o&&((null===a||void 0===a?void 0:a.props.target)===o?(i=null!==(r=null===(e=t.moveables[0])||void 0===e?void 0:e.state.style.borderRadius)&&void 0!==r?r:"",n.borderRadius=i):(i=Be(o).borderRadius,n.borderRadius=i))}return i}var xi={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[".control.border-radius {\nbackground: #d66;\ncursor: pointer;\nz-index: 3;\n}",".control.border-radius.vertical {\nbackground: #d6d;\nz-index: 2;\n}",".control.border-radius.virtual {\nopacity: 0.5;\nz-index: 1;\n}",":host.round-line-clickable .line.direction {\ncursor: pointer;\n}"],className:function(t){var e=t.props.roundClickable;return!0===e||"line"===e?Yt("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(t,e){var r=t.getState(),n=r.target,i=r.width,a=r.height,o=r.allMatrix,s=r.is3d,c=r.left,u=r.top,l=r.borderRadiusState,f=t.props,d=f.minRoundControls,p=void 0===d?[0,0]:d,v=f.maxRoundControls,g=void 0===v?[4,4]:v,h=f.zoom,b=f.roundPadding,m=void 0===b?0:b,O=f.isDisplayShadowRoundControls,x=f.groupable;if(!n)return null;var j=l||Oi(t),S=s?4:3,y=bi(j,i,a,p,!0);if(!y)return null;var w=0,C=0,D=x?[0,0]:[c,u];return y.map((function(t,r){var n=t.horizontal,i=t.vertical,a=t.direction||"",s=W([],t.pos,!0);C+=Math.abs(n),w+=Math.abs(i),n&&a.indexOf("n")>-1&&(s[1]-=m),i&&a.indexOf("w")>-1&&(s[0]-=m),n&&a.indexOf("s")>-1&&(s[1]+=m),i&&a.indexOf("e")>-1&&(s[0]+=m);var c=Object(E.p)(se(o,s,S),D),u=t.vertical?w<=g[1]&&(O||!t.virtual):C<=g[0]&&(O||!t.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(r),className:Yt("control","border-radius",t.vertical?"vertical":"",t.virtual?"virtual":""),"data-radius-index":r,style:{display:u?"block":"none",transform:"translate(".concat(c[0],"px, ").concat(c[1],"px) scale(").concat(h,")")}})}))},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var r=e.inputEvent.target.getAttribute("class")||"";return r.indexOf("border-radius")>-1||r.indexOf("moveable-line")>-1&&r.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragControlStart:function(t,e){var r=e.inputEvent,n=e.datas,i=r.target,a=i.getAttribute("class")||"",o=a.indexOf("border-radius")>-1,s=a.indexOf("moveable-line")>-1&&a.indexOf("moveable-direction")>-1,c=o?parseInt(i.getAttribute("data-radius-index"),10):-1,u=-1;if(s){var l=i.getAttribute("data-line-key")||"";l&&(u=parseInt(l.replace(/render-line-/g,""),10),isNaN(u)&&(u=-1))}if(!o&&!s)return!1;var f=ze(t,e,{});if(!1===Ge(t,"onRoundStart",f))return!1;n.lineIndex=u,n.controlIndex=c,n.isControl=o,n.isLine=s,mt(t,e);var d=t.props,p=d.roundRelative,v=d.minRoundControls,g=void 0===v?[0,0]:v,h=t.state,b=h.width,m=h.height;n.isRound=!0,n.prevDist=[0,0];var O=bi(Oi(t)||"",b,m,g,!0)||[];return n.controlPoses=O,h.borderRadiusState=ii(O,p,b,m).styles.join(" "),f},dragControl:function(t,e){var r=e.datas,n=r.controlPoses;if(!r.isRound||!r.isControl||!n.length)return!1;var i=r.controlIndex,a=Et(e),o=a[0],s=a[1],c=[o,s],u=Object(E.p)(c,r.prevDist),l=t.props.maxRoundControls,f=void 0===l?[4,4]:l,d=t.state,p=d.width,v=d.height,g=n[i],h=g.vertical,b=g.horizontal,m=n.map((function(t){var e=t.horizontal,r=t.vertical,n=[e*b*c[0],r*h*c[1]];if(e){if(1===f[0])return n;if(f[0]<4&&e!==b)return n}else{if(0===f[1])return n[1]=r*b*c[0]/p*v,n;if(h){if(1===f[1])return n;if(f[1]<4&&r!==h)return n}}return[0,0]}));m[i]=c;var O=n.map((function(t,e){return N(N({},t),{pos:Object(E.s)(t.pos,m[e])})}));return i<4?O.slice(0,i+1).forEach((function(t){t.virtual=!1})):O.slice(4,i+1).forEach((function(t){t.virtual=!1})),r.prevDist=[o,s],mi(t,e,c,u,O)},dragControlEnd:function(t,e){var r=t.state;r.borderRadiusState="";var n=e.datas,i=e.isDouble;if(!n.isRound)return!1;var a=n.isControl,o=n.controlIndex,s=n.isLine,c=n.lineIndex,u=n.controlPoses,l=u.filter((function(t){return t.virtual})).length,f=t.props.roundClickable,d=void 0===f||f;if(i&&d){if(!a||!0!==d&&"control"!==d){if(s&&(!0===d||"line"===d)){var p=bt(t,e);!function(t,e,r,n){var i=t.filter((function(t){var e=t.virtual;return t.horizontal&&!e})).length,a=t.filter((function(t){var e=t.virtual;return t.vertical&&!e})).length,o=-1;if(0===e&&(0===i?o=0:1===i&&(o=1)),2===e&&(i<=2?o=2:i<=3&&(o=3)),3===e&&(0===a?o=4:a<4&&(o=7)),1===e&&(a<=1?o=5:a<=2&&(o=6)),-1!==o&&t[o].virtual){var s=t[o];!function(t,e){e<4?t.slice(0,e+1).forEach((function(t){t.virtual=!1})):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach((function(t){t.virtual=!1})))}(t,o),o<4?s.pos[0]=r:s.pos[1]=n}}(u,c,p[0],p[1])}}else!function(t,e){e<4?t.slice(e,4).forEach((function(t){t.virtual=!0})):t.slice(e).forEach((function(t){t.virtual=!0}))}(u,o);l!==u.filter((function(t){return t.virtual})).length&&mi(t,e,[0,0],[0,0],u)}var v=Pe(t,e,{});return Ge(t,"onRoundEnd",v),r.borderRadiusState="",v},dragGroupControlStart:function(t,e){var r=this.dragControlStart(t,e);if(!r)return!1;var n=t.moveables,i=t.props.targets,a=ar(t,"roundable",e);return Ge(t,"onRoundGroupStart",N({targets:t.props.targets,events:a.map((function(t,e){return N(N({},t),{target:i[e],moveable:n[e],currentTarget:n[e]})}))},r)),r},dragGroupControl:function(t,e){var r=this.dragControl(t,e);if(!r)return!1;var n=t.moveables,i=t.props.targets,a=ar(t,"roundable",e),o=N({targets:t.props.targets,events:a.map((function(t,e){return N(N(N({},t),{target:i[e],moveable:n[e],currentTarget:n[e]}),Re({borderRadius:r.borderRadius},t))}))},r);return Ge(t,"onRoundGroup",o),o},dragGroupControlEnd:function(t,e){var r=t.moveables,n=t.props.targets,i=ar(t,"roundable",e);Te(t,"onRound",(function(e){var a=N({targets:t.props.targets,events:i.map((function(t,i){return N(N(N({},t),{target:n[i],moveable:r[i],currentTarget:r[i]}),Re({borderRadius:e.borderRadius},t))}))},e);Ge(t,"onRoundGroup",a)}));var a=this.dragControlEnd(t,e);if(!a)return!1;var o=N({targets:t.props.targets,events:i.map((function(t,e){var i;return N(N({},t),{target:n[e],moveable:r[e],currentTarget:r[e],lastEvent:null===(i=t.datas)||void 0===i?void 0:i.lastEvent})}))},a);return Ge(t,"onRoundGroupEnd",o),o},unset:function(t){t.state.borderRadiusState=""}};var ji={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(t,e){var r=t.state,n=r.is3d,i=r.targetMatrix,a=r.inlineTransform,o=n?"matrix3d(".concat(i.join(","),")"):"matrix(".concat(Object(E.d)(i,!0),")"),s=a&&"none"!==a?a:o;e.datas.startTransforms=function(t,e){var r=e?4:3,n=Object(E.f)(r);return t==="matrix".concat(e?"3d":"","(").concat(n.join(","),")")||"matrix(1,0,0,1,0,0)"===t}(s,n)?[]:Object(S.L)(s)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return ze(t,e,{setTransform:function(t){e.datas.startTransforms=Object(S.w)(t)?t:Object(S.L)(t)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return ze(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),Ge(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){e.datas.startTransforms||this.setTransform(t,e),this.resetStyle(e),Ge(t,"onBeforeRender",ze(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){e.datas.startTransforms||(this.setTransform(t,e),this.resetStyle(e)),Ge(t,"onBeforeRenderEnd",ze(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var r=this;this.dragStart(t,e);var n=ar(t,"beforeRenderable",e),i=t.moveables,a=n.map((function(t,e){var n=i[e];return r.setTransform(n,t),r.resetStyle(t),r.fillDragStartParams(n,t)}));Ge(t,"onBeforeRenderGroupStart",ze(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:a}))},dragGroup:function(t,e){var r=this;this.drag(t,e);var n=ar(t,"beforeRenderable",e),i=t.moveables,a=n.map((function(t,e){var n=i[e];return r.resetStyle(t),r.fillDragParams(n,t)}));Ge(t,"onBeforeRenderGroup",ze(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:a}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),Ge(t,"onBeforeRenderGroupEnd",ze(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},Si={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(t,e){Ge(t,"onRenderStart",ze(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){Ge(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){return this.drag(t,e)},dragEnd:function(t,e){Ge(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){Ge(t,"onRenderGroupStart",ze(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var r=this,n=ar(t,"beforeRenderable",e),i=t.moveables,a=n.map((function(t,e){var n=i[e];return r.fillDragParams(n,t)}));Ge(t,"onRenderGroup",ze(t,e,N(N({isPinch:!!e.isPinch,targets:t.props.targets,transform:Gt(e),transformObject:{}},Re(Bt(e))),{events:a})))},dragGroupEnd:function(t,e){var r=this,n=ar(t,"beforeRenderable",e),i=t.moveables,a=n.map((function(t,e){var n=i[e];return r.fillDragEndParams(n,t)}));Ge(t,"onRenderGroupEnd",ze(t,e,N({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:a,transformObject:{},transform:Gt(e)},Re(Bt(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){var r={};return Object(y.d)(Tt(e)||[]).forEach((function(t){r[t.name]=t.functionValue})),ze(t,e,N({isPinch:!!e.isPinch,transformObject:r,transform:Gt(e)},Re(Bt(e))))},fillDragEndParams:function(t,e){var r={};return Object(y.d)(Tt(e)||[]).forEach((function(t){r[t.name]=t.functionValue})),ze(t,e,N({isPinch:!!e.isPinch,isDrag:e.isDrag,transformObject:r,transform:Gt(e)},Re(Bt(e))))}};function Ei(t,e,r,n,i,a,o){a.clientDistX=a.distX,a.clientDistY=a.distY;var s="Start"===i,c="End"===i,u="After"===i,l=t.state.target,f=a.isRequest,d=n.indexOf("Control")>-1;if(!l||s&&d&&!f&&t.areaElement===a.inputEvent.target)return!1;var p=W([],t[e],!0);if(f){var v=a.requestAble;p.some((function(t){return t.name===v}))||p.push.apply(p,t.props.ables.filter((function(t){return t.name===v})))}if(!p.length||p.every((function(t){return t.dragRelation})))return!1;var g,h=a.inputEvent;c&&h&&(g=document.elementFromPoint(a.clientX,a.clientY)||h.target);var b=!1,m=function(){var t;b=!0,null===(t=a.stop)||void 0===t||t.call(a)},O=s&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());O&&t.updateRect(i,!0,!1);var x=a.datas,j=d?"controlGesto":"targetGesto",S=t[j],E=function(e,r,n){if(!(r in e)||S!==t[j])return!1;var i=e.name,o=x[i]||(x[i]={});if(s&&(o.isEventStart=!n||!e[n]||e[n](t,a)),!o.isEventStart)return!1;var c=e[r](t,N(N({},a),{stop:m,datas:o,originalDatas:x,inputTarget:g}));return t._emitter.off(),s&&!1===c&&(o.isEventStart=!1),c};O&&p.forEach((function(e){e.unset&&e.unset(t)})),E(ji,"drag".concat(n).concat(i));var y=0,w=0;r.forEach((function(e){if(b)return!1;var r="".concat(e).concat(n).concat(i),o="".concat(e).concat(n,"Condition");""!==i||f||We(t.state,a);var c=p.filter((function(t){return t[r]})),u=(c=c.filter((function(t,e){return t.name&&c.indexOf(t)===e}))).filter((function(t){return E(t,r,o)})).length;b&&++y,u&&++w,!b&&s&&c.length&&!u&&(y+=c.filter((function(t){var e=t.name;return!!x[e].isEventStart&&"strong"!==t.dragRelation})).length?1:0)})),u&&!w||E(Si,"drag".concat(n).concat(i));var C=S!==t[j]||y===r.length;if((c||b||C)&&(t.state.gestos={},t.moveables&&t.moveables.forEach((function(t){t.state.gestos={}})),p.forEach((function(e){e.unset&&e.unset(t)}))),s&&!C&&!f&&w&&t.props.preventDefault&&(null===a||void 0===a||a.preventDefault()),t.isUnmounted||C)return!1;(!s&&w&&!o||c)&&(t.props.flushSync||Xt)((function(){t.updateRect(c?i:"",!0,!1),t.forceUpdate()}));return s||c||u||!w||o||Ei(t,e,r,n,i+"After",a),!0}function yi(t){return function(e){var r,n=t.props.dragTarget,i=e.inputEvent.target,a=t.areaElement;return!(null===(r=t.controlGesto)||void 0===r?void 0:r.isFlag())&&(n&&(i===n||n.contains(i))||i===a||!t.isMoveableElement(i)&&!t.controlBox.contains(i)||Object(S.v)(i,"moveable-area")||Object(S.v)(i,"moveable-padding")||Object(S.v)(i,"moveable-edgeDraggable"))}}function wi(t,e,r){var n=t.controlBox,i=[],a=t.props.dragTarget;return i.push(n),t.props.dragArea&&!a||i.push(e),Ci(t,i,"targetAbles",r,{dragStart:yi(t),pinchStart:yi(t)})}function Ci(t,e,r,n,i){void 0===i&&(i={});var a="targetAbles"===r,o=t.props,s=o.pinchOutside,c=o.pinchThreshold,u=o.preventClickEventOnDrag,l=o.preventClickDefault,f=o.checkInput,d=o.dragFocusedInput,p=o.preventDefault,v={preventDefault:void 0===p||p,preventRightClick:!0,preventWheelClick:!0,container:Xe(o.dragContainer,!0)||Object(S.u)(t.getControlBoxElement()),pinchThreshold:c,pinchOutside:s,preventClickEventOnDrag:!!a&&u,preventClickEventOnDragStart:!!a&&l,preventClickEventByCondition:a?null:function(e){return t.controlBox.contains(e.target)},checkInput:!!a&&f,dragFocusedInput:d},g=new M.a(e,v),h="Control"===n;return["drag","pinch"].forEach((function(e){["Start","","End"].forEach((function(a){g.on("".concat(e).concat(a),(function(o){var s,c=o.eventType,u="drag"===e&&o.isPinch;!i[c]||i[c](o)?u||(Ei(t,r,"drag"===e?[e]:["drag",e],n,a,o)?(t.props.stopPropagation||"Start"===a&&h)&&(null===(s=null===o||void 0===o?void 0:o.inputEvent)||void 0===s||s.stopPropagation()):o.stop()):o.stop()}))}))})),g}var Di=function(){function t(t,e,r){var n=this;this.target=t,this.moveable=e,this.eventName=r,this.ables=[],this._onEvent=function(t){var e=n.eventName,r=n.moveable;r.state.disableNativeEvent||n.ables.forEach((function(n){n[e](r,{inputEvent:t})}))},t.addEventListener(r.toLowerCase(),this._onEvent)}var e=t.prototype;return e.setAbles=function(t){this.ables=t},e.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function Ri(t,e,r,n){var i;void 0===r&&(r=e);var a=Nt(t,e),o=a.matrixes,s=a.is3d,c=a.targetMatrix,u=a.transformOrigin,l=a.targetOrigin,f=a.offsetContainer,d=a.hasFixed,p=a.zoom,v=function(t,e){if(qt){var r=Object(S.l)(qt,(function(r){return r[0][0]==t&&r[0][1]==e}));if(r)return r[1]}var n=Nt(t,e,!0);return qt&&qt.push([[t,e],n]),n}(f,r),g=v.matrixes,h=v.is3d,b=v.offsetContainer,m=v.zoom,O=n||h||s,x=O?4:3,j="svg"!==t.tagName.toLowerCase()&&"ownerSVGElement"in t,y=c,w=Object(E.f)(x),C=Object(E.f)(x),D=Object(E.f)(x),R=Object(E.f)(x),M=o.length,z=g.map((function(t){return N(N({},t),{matrix:t.matrix?W([],t.matrix,!0):void 0})})).reverse();o.reverse(),!s&&O&&(y=Object(E.c)(y,3,4),re(o)),!h&&O&&re(z),z.forEach((function(t){C=Object(E.r)(C,t.matrix,x)}));var P=r||Object(S.p)(t),T=(null===(i=z[0])||void 0===i?void 0:i.target)||Qt(P,P,!0).offsetParent,G=z.slice(1).reduce((function(t,e){return Object(E.r)(t,e.matrix,x)}),Object(E.f)(x));o.forEach((function(t,e){if(M-2===e&&(D=w.slice()),M-1===e&&(R=w.slice()),!t.matrix){var r=function(t,e,r,n,i){var a,o=t.target,s=t.origin,c=e.matrix,u=be(o),l=u.offsetWidth,f=u.offsetHeight,d=r.getBoundingClientRect(),p=[0,0];r===Object(S.p)(r)&&(p=ee(o,!0));for(var v=o.getBoundingClientRect(),g=v.left-d.left+r.scrollLeft-(r.clientLeft||0)+p[0],h=v.top-d.top+r.scrollTop-(r.clientTop||0)+p[1],b=v.width,m=v.height,O=Object(E.q)(n,i,c),x=le(O,l,f,n),j=x.left,y=x.top,w=x.width,C=x.height,D=se(O,s,n),R=Object(E.p)(D,[j,y]),M=[g+R[0]*b/w,h+R[1]*m/C],z=[0,0],P=0;++P<10;){var T=Object(E.n)(i,n);a=Object(E.p)(se(T,M,n),se(T,D,n)),z[0]=a[0],z[1]=a[1];var G=le(Object(E.q)(n,i,Object(E.g)(z,n),c),l,f,n),B=G.left-g,k=G.top-h;if(nr(B)<2&&nr(k)<2)break;M[0]-=B,M[1]-=k}return z.map((function(t){return Math.round(t)}))}(t,o[e+1],T,x,Object(E.r)(G,w,x));t.matrix=Object(E.g)(r,x)}w=Object(E.r)(w,t.matrix,x)}));var B=!j&&s;y||(y=Object(E.f)(B?4:3));var k=ie(j&&16===y.length?Object(E.c)(y,4,3):y,B),A=C;return{hasZoom:1!==p||1!==m,hasFixed:d,rootMatrix:C=Object(E.m)(C,x,x),originalRootMatrix:A,beforeMatrix:D,offsetMatrix:R,allMatrix:w,targetMatrix:y,targetTransform:k,inlineTransform:t.style.transform,transformOrigin:u,targetOrigin:l,is3d:O,offsetContainer:f,offsetRootContainer:b}}function Mi(t,e,r,n){void 0===r&&(r=e);var i=0,a=0,o=0,s={},c=be(t);if(t&&(i=c.offsetWidth,a=c.offsetHeight),t){var u=Ri(t,e,r,n),l=fe(u.allMatrix,u.transformOrigin,i,a);s=N(N({},u),l);var f=fe(u.allMatrix,[50,50],100,100);o=me([f.pos1,f.pos2],f.direction)}var d=n?4:3;return N(N(N({hasZoom:!1,width:i,height:a,rotation:o},c),{originalRootMatrix:Object(E.f)(d),rootMatrix:Object(E.f)(d),beforeMatrix:Object(E.f)(d),offsetMatrix:Object(E.f)(d),allMatrix:Object(E.f)(d),targetMatrix:Object(E.f)(d),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!n,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null}),s)}function zi(t,e,r,n,i,a){void 0===a&&(a=[]);var o=1,s=[0,0],c={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},u={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},l={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},f={left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0},d=[0,0],p={},v=Mi(e,r,i,!0);if(e){var g=Vt(e);a.forEach((function(t){p[t]=g(t)}));var h=v.is3d?4:3,b=fe(v.offsetMatrix,Object(E.s)(v.transformOrigin,Object(E.l)(v.targetMatrix,h)),v.width,v.height);o=b.direction,s=Object(E.s)(b.origin,[b.left-v.left,b.top-v.top]),f=je(v.offsetRootContainer);var m=Qt(n,n,!0).offsetParent||v.offsetRootContainer;if(v.hasZoom){var O=fe(Object(E.r)(v.originalRootMatrix,v.allMatrix),v.transformOrigin,v.width,v.height),x=fe(v.originalRootMatrix,$t(Vt(m)("transformOrigin")).map((function(t){return parseFloat(t)})),m.offsetWidth,m.offsetHeight);if(c=xe(O,f),l=xe(x,f,m,!0),t){var j=O.left,S=O.top;u=xe({left:j,top:S,bottom:S,right:S},f)}}else{c=je(e),l=function(t){var e=null===Ht||void 0===Ht?void 0:Ht.get(t);if(e)return e;var r=je(t,!0);return Ht&&Ht.set(t,r),r}(m),t&&(u=je(t));var y=l.left,w=l.top,C=l.clientLeft,D=l.clientTop,R=[c.left-y,c.top-w];d=Object(E.p)(Ne(v.rootMatrix,R,4),[C+v.left,D+v.top])}}return N({targetClientRect:c,containerClientRect:l,moveableClientRect:u,rootContainerClientRect:f,beforeDirection:o,beforeOrigin:s,originalBeforeOrigin:s,target:e,style:p,offsetDelta:d},v)}function Pi(t){var e=t.pos1,r=t.pos2,n=t.pos3,i=t.pos4;if(!e||!r||!n||!i)return null;var a=Object(D.d)([e,r,n,i]),o=[a.minX,a.minY],s=Object(E.p)(t.origin,o);return e=Object(E.p)(e,o),r=Object(E.p)(r,o),n=Object(E.p)(n,o),i=Object(E.p)(i,o),N(N({},t),{left:t.left,top:t.top,posDelta:o,pos1:e,pos2:r,pos3:n,pos4:i,origin:s,beforeOrigin:s,isPersisted:!0})}var Ti=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=N({container:null,gestos:{},renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},zi(null)),e.renderState={},e.enabledAbles=[],e.targetAbles=[],e.controlAbles=[],e.rotation=0,e.scale=[1,1],e.isMoveableMounted=!1,e.isUnmounted=!1,e.events={mouseEnter:null,mouseLeave:null},e._emitter=new A.a,e._prevTarget=null,e._prevDragArea=!1,e._isPropTargetChanged=!1,e._hasFirstTarget=!1,e._reiszeObserver=null,e._observerId=0,e._mutationObserver=null,e._rootContainer=null,e._viewContainer=null,e._viewClassNames=[],e._store={},e.checkUpdateRect=function(){if(!e.isDragging()){var t=e.props.parentMoveable;t?t.checkUpdateRect():(Object(S.h)(e._observerId),e._observerId=Object(S.I)((function(){e.isDragging()||e.updateRect()})))}},e._onPreventClick=function(t){t.stopPropagation(),t.preventDefault()},e}F(e,t);var r=e.prototype;return r.render=function(){var t=this.props,e=this.getState(),r=t.parentPosition,n=t.className,i=t.target,a=t.zoom,o=t.cspNonce,s=t.translateZ,c=t.cssStyled,u=t.groupable,l=t.linePadding,f=t.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var d=r||[0,0],p=d[0],v=d[1],g=e.left,h=e.top,b=e.target,m=e.direction,O=e.hasFixed,x=e.offsetDelta,S=t.targets,E=this.isDragging(),y={};this.getEnabledAbles().forEach((function(t){y["data-able-".concat(t.name.toLowerCase())]=!0}));var w=this._getAbleClassName(),C=S&&S.length&&(b||u)||i||!this._hasFirstTarget&&this.state.isPersisted,D=this.controlBox||this.props.firstRenderState||this.props.persistData,M=[g-p,h-v];!u&&t.useAccuratePosition&&(M[0]+=x[0],M[1]+=x[1]);var z={position:O?"fixed":"absolute",display:C?"block":"none",visibility:D?"visible":"hidden",transform:"translate3d(".concat(M[0],"px, ").concat(M[1],"px, ").concat(s,")"),"--zoom":a,"--zoompx":"".concat(a,"px")};return l&&(z["--moveable-line-padding"]=l),f&&(z["--moveable-control-padding"]=f),R.createElement(c,N({cspNonce:o,ref:Object(j.d)(this,"controlBox"),className:"".concat(Yt("control-box",-1===m?"reverse":"",E?"dragging":"")," ").concat(w," ").concat(n)},y,{onClick:this._onPreventClick,style:z}),this.renderAbles(),this._renderLines())},r.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var t=this.props,e=t.parentMoveable,r=t.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),r||e||this.state.isPersisted||(this.updateRect("",!1,!1),this.forceUpdate())},r.componentDidUpdate=function(t){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateEvents(),this._updateTargets(),this.updateCheckInput(),this._updateObserver(t)},r.componentWillUnmount=function(){var t,e;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),null===(t=this._reiszeObserver)||void 0===t||t.disconnect(),null===(e=this._mutationObserver)||void 0===e||e.disconnect(),this._viewContainer&&this._changeAbleViewClassNames([]),De(this,!1),De(this,!0);var r=this.events;for(var n in r){var i=r[n];i&&i.destroy()}},r.getTargets=function(){var t=this.props.target;return t?[t]:[]},r.getAble=function(t){var e=this.props.ables||[];return Object(S.l)(e,(function(e){return e.name===t}))},r.getContainer=function(){var t=this.props,e=t.parentMoveable,r=t.wrapperMoveable;return t.container||r&&r.getContainer()||e&&e.getContainer()||this.controlBox.parentElement},r.getControlBoxElement=function(){return this.controlBox},r.isMoveableElement=function(t){var e;return t&&((null===(e=t.getAttribute)||void 0===e?void 0:e.call(t,"class"))||"").indexOf(rt)>-1},r.dragStart=function(t){var e=this.targetGesto,r=this.controlGesto;return e&&yi(this)({inputEvent:t})?e.isFlag()||e.triggerDragStart(t):r&&this.isMoveableElement(t.target)&&(r.isFlag()||r.triggerDragStart(t)),this},r.hitTest=function(t){var e,r=this.state,n=r.target,i=r.pos1,a=r.pos2,o=r.pos3,s=r.pos4,c=r.targetClientRect;if(!n)return 0;if(Object(S.y)(t)){var u=t.getBoundingClientRect();e={left:u.left,top:u.top,width:u.width,height:u.height}}else e=N({width:0,height:0},t);var l=e.left,f=e.top,d=e.width,p=e.height,v=Object(D.a)([i,a,s,o],c),g=Object(D.f)(v,[[l,f],[l+d,f],[l+d,f+p],[l,f+p]]),h=Object(D.b)(v);return g&&h?Math.min(100,g/h*100):0},r.isInside=function(t,e){var r=this.state,n=r.target,i=r.pos1,a=r.pos2,o=r.pos3,s=r.pos4,c=r.targetClientRect;return!!n&&Object(D.g)([t,e],Object(D.a)([i,a,s,o],c))},r.updateRect=function(t,e,r){void 0===r&&(r=!0);var n=this.props,i=!n.parentPosition&&!n.wrapperMoveable;i&&Lt(!0);var a=n.parentMoveable,o=this.state.target||n.target,s=this.getContainer(),c=a?a._rootContainer:this._rootContainer,u=zi(this.controlBox,o,s,s,c||s,this._getRequestStyles());if(!o&&this._hasFirstTarget&&n.persistData){var l=Pi(n.persistData);for(var f in l)u[f]=l[f]}i&&Lt(),this.updateState(u,!a&&r)},r.isDragging=function(t){var e,r,n=this.targetGesto,i=this.controlGesto;return(null===n||void 0===n?void 0:n.isFlag())?!t||!!(null===(e=n.getEventData()[t])||void 0===e?void 0:e.isEventStart):!!(null===i||void 0===i?void 0:i.isFlag())&&(!t||!!(null===(r=i.getEventData()[t])||void 0===r?void 0:r.isEventStart))},r.updateTarget=function(t){this.updateRect(t,!0)},r.getRect=function(){var t=this.state,e=we(this.state),r=e[0],n=e[1],i=e[2],a=e[3],o=ue(e),s=t.width,c=t.height,u=o.width,l=o.height,f=o.left,d=o.top,p=[t.left,t.top],v=Object(E.s)(p,t.origin);return{width:u,height:l,left:f,top:d,pos1:r,pos2:n,pos3:i,pos4:a,offsetWidth:s,offsetHeight:c,beforeOrigin:Object(E.s)(p,t.beforeOrigin),origin:v,transformOrigin:t.transformOrigin,rotation:this.getRotation()}},r.getManager=function(){return this},r.stopDrag=function(t){var e;t&&"target"!==t||(!1===(null===(e=this.targetGesto)||void 0===e?void 0:e.isIdle())&&Ce(this,!1),null===e||void 0===e||e.stop());t&&"control"!==t||(!1===(null===(e=this.controlGesto)||void 0===e?void 0:e.isIdle())&&Ce(this,!0),null===e||void 0===e||e.stop())},r.getRotation=function(){var t=this.state;return function(t,e,r){var n=Object(S.s)(t,e)/Math.PI*180;return(n=r>=0?n:180-n)>=0?n:360+n}(t.pos1,t.pos2,t.direction)},r.request=function(t,e,r){void 0===e&&(e={});var n=this.props,i=n.ables,a=n.groupable,o=i.filter((function(e){return e.name===t}))[0];if(this.isDragging()||!o||!o.request)return{request:function(){return this},requestEnd:function(){return this}};var s=this,c=o.request(this),u=r||e.isInstant,l=c.isControl?"controlAbles":"targetAbles",f="".concat(a?"Group":"").concat(c.isControl?"Control":""),d={request:function(e){return Ei(s,l,["drag"],f,"",N(N({},c.request(e)),{requestAble:t,isRequest:!0}),u),this},requestEnd:function(){return Ei(s,l,["drag"],f,"End",N(N({},c.requestEnd()),{requestAble:t,isRequest:!0}),u),this}};return Ei(s,l,["drag"],f,"Start",N(N({},c.requestStart(e)),{requestAble:t,isRequest:!0}),u),u?d.request(e).requestEnd():d},r.destroy=function(){this.componentWillUnmount()},r.updateRenderPoses=function(){var t=this.getState(),e=this.props,r=t.originalBeforeOrigin,n=t.transformOrigin,i=t.allMatrix,a=t.is3d,o=t.pos1,s=t.pos2,c=t.pos3,u=t.pos4,l=t.left,f=t.top,d=t.isPersisted,p=e.padding||{},v=p.left,g=void 0===v?0:v,h=p.top,b=void 0===h?0:h,m=p.bottom,O=void 0===m?0:m,x=p.right,j=void 0===x?0:x,S=a?4:3,y=[];y=d?n:this.controlBox&&e.groupable?r:Object(E.s)(r,[l,f]),t.renderPoses=[Object(E.s)(o,He(i,[-g,-b],n,y,S)),Object(E.s)(s,He(i,[j,-b],n,y,S)),Object(E.s)(c,He(i,[-g,O],n,y,S)),Object(E.s)(u,He(i,[j,O],n,y,S))]},r.checkUpdate=function(){this._isPropTargetChanged=!1;var t=this.props,e=t.target,r=t.container,n=t.parentMoveable,i=this.state,a=i.target,o=i.container;if(a||e){this.updateAbles();var s=!Ae(a,e);if(s||!Ae(o,r)){var c=r||this.controlBox;c&&this.unsetAbles(),this.updateState({target:e,container:r}),!n&&c&&this.updateRect("End",!1,!1),this._isPropTargetChanged=s}}},r.waitToChangeTarget=function(){return new Promise((function(){}))},r.triggerEvent=function(t,e){this._emitter.trigger(t,e);var r=this.props[t];return r&&r(e)},r.useCSS=function(t,e){var r=this.props.customStyledMap,n=t+e;return r[n]||(r[n]=k(t,e)),r[n]},r.getState=function(){var t,e=this.props;(e.target||(null===(t=e.targets)||void 0===t?void 0:t.length))&&(this._hasFirstTarget=!0);var r=this.controlBox,n=e.persistData,i=e.firstRenderState;if(i&&!r)return i;if(!this._hasFirstTarget&&n){var a=Pi(n);if(a)return this.updateState(a,!1),this.state}return this.state.isPersisted=!1,this.state},r.updateSelectors=function(){},r.unsetAbles=function(){var t=this;this.targetAbles.forEach((function(e){e.unset&&e.unset(t)}))},r.updateAbles=function(t,e){void 0===t&&(t=this.props.ables),void 0===e&&(e="");var r=this.props.triggerAblesSimultaneously,n=this.getEnabledAbles(t),i="drag".concat(e,"Start"),a="pinch".concat(e,"Start"),o="drag".concat(e,"ControlStart"),s=ke(n,[i,a],r),c=ke(n,[o],r);this.enabledAbles=n,this.targetAbles=s,this.controlAbles=c},r.updateState=function(t,e){if(e){if(this.isUnmounted)return;this.setState(t)}else{var r=this.state;for(var n in t)r[n]=t[n]}},r.getEnabledAbles=function(t){void 0===t&&(t=this.props.ables);var e=this.props;return t.filter((function(t){return t&&(t.always&&!1!==e[t.name]||e[t.name])}))},r.renderAbles=function(){var t=this,e=this.props.triggerAblesSimultaneously,r={createElement:R.createElement};return this.renderState={},function(t,e){var r=[],n={};return t.forEach((function(i,a){var o=e(i,a,t),s=n[o];s||(s=[],n[o]=s,r.push(s)),s.push(i)})),r}(_e(ke(this.getEnabledAbles(),["render"],e).map((function(e){return(0,e.render)(t,r)||[]}))).filter((function(t){return t})),(function(t){return t.key})).map((function(t){return t[0]}))},r.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},r._getRequestStyles=function(){return this.getEnabledAbles().reduce((function(t,e){var r,n,i=null!==(n=null===(r=e.requestStyle)||void 0===r?void 0:r.call(e))&&void 0!==n?n:[];return W(W([],t,!0),i,!0)}),W([],this.props.requestStyles||[],!0))},r._updateObserver=function(t){this._updateResizeObserver(t),this._updateMutationObserver(t)},r._updateEvents=function(){var t=this.controlBox,e=this.targetAbles.length,r=this.controlAbles.length,n=this.props,i=n.dragTarget||n.target;(!e&&this.targetGesto||this._isTargetChanged(!0))&&(De(this,!1),this.updateState({gestos:{}})),r||De(this,!0),i&&e&&!this.targetGesto&&(this.targetGesto=wi(this,i,"")),!this.controlGesto&&r&&(this.controlGesto=Ci(this,t,"controlAbles","Control"))},r._updateTargets=function(){var t=this.props;this._prevTarget=t.dragTarget||t.target,this._prevDragArea=t.dragArea},r._renderLines=function(){var t=this.props,e=t.zoom,r=t.hideDefaultLines,n=t.hideChildMoveableDefaultLines,i=t.parentMoveable;if(r||i&&n)return[];var a=this.getState().renderPoses,o={createElement:R.createElement};return[[0,1],[1,3],[3,2],[2,0]].map((function(t,r){var n=t[0],i=t[1];return mn(o,"",a[n],a[i],e,"render-line-".concat(r))}))},r._isTargetChanged=function(t){var e=this.props,r=e.dragTarget||e.target,n=this._prevTarget,i=this._prevDragArea,a=e.dragArea;return!a&&n!==r||(t||a)&&i!==a},r._updateNativeEvents=function(){var t=this,e=this.props.dragArea?this.areaElement:this.state.target,r=this.events,n=Object(S.r)(r);if(this._isTargetChanged())for(var i in r){var a=r[i];a&&a.destroy(),r[i]=null}if(e){var o=this.enabledAbles;n.forEach((function(n){var i=ke(o,[n]),a=i.length>0,s=r[n];a?(s||(s=new Di(e,t,n),r[n]=s),s.setAbles(i)):s&&(s.destroy(),r[n]=null)}))}},r._checkUpdateRootContainer=function(){var t=this.props.rootContainer;!this._rootContainer&&t&&(this._rootContainer=Xe(t,!0))},r._checkUpdateViewContainer=function(){var t=this.props.viewContainer;!this._viewContainer&&t&&(this._viewContainer=Xe(t,!0)),this._viewContainer&&this._changeAbleViewClassNames(W(W([],this._getAbleViewClassNames(),!0),[this.isDragging()?qn:""],!1))},r._changeAbleViewClassNames=function(t){var e=this._viewContainer,r=Ie(t.filter(Boolean),(function(t){return t})).map((function(t){return t[0]})),n=this._viewClassNames,i=Object(I.b)(n,r),a=i.removed,o=i.added;a.forEach((function(t){Object(S.G)(e,n[t])})),o.forEach((function(t){Object(S.b)(e,r[t])})),this._viewClassNames=r},r._getAbleViewClassNames=function(){var t=this;return(this.getEnabledAbles().map((function(e){var r;return(null===(r=e.viewClassName)||void 0===r?void 0:r.call(e,t))||""})).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},r._getAbleClassName=function(t){var e=this;void 0===t&&(t="");var r=this.getEnabledAbles(),n=this.targetGesto,i=this.controlGesto,a=(null===n||void 0===n?void 0:n.isFlag())?n.getEventData():{},o=(null===i||void 0===i?void 0:i.isFlag())?i.getEventData():{};return r.map((function(r){var n,i,s,c=r.name,u=(null===(n=r.className)||void 0===n?void 0:n.call(r,e))||"";return((null===(i=a[c])||void 0===i?void 0:i.isEventStart)||(null===(s=o[c])||void 0===s?void 0:s.isEventStart))&&(u+=" ".concat(Yt("".concat(c).concat(t,"-dragging")))),u.trim()})).filter(Boolean).join(" ")},r._updateResizeObserver=function(t){var e,r=this.props,n=r.target;if(window.ResizeObserver&&n&&r.useResizeObserver){if(t.target!==n||!this._reiszeObserver){var i=new ResizeObserver(this.checkUpdateRect);i.observe(n,{box:"border-box"}),this._reiszeObserver=i}}else null===(e=this._reiszeObserver)||void 0===e||e.disconnect()},r._updateMutationObserver=function(t){var e,r=this,n=this.props,i=n.target;if(window.MutationObserver&&i&&n.useMutationObserver){if(t.target!==i||!this._mutationObserver){var a=new MutationObserver((function(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];"attributes"===i.type&&"style"===i.attributeName&&r.checkUpdateRect()}}));a.observe(i,{attributes:!0}),this._mutationObserver=a}}else null===(e=this._mutationObserver)||void 0===e||e.disconnect()},e.defaultProps={target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:Xt,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},e}(R.PureComponent),Gi={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(t,e){var r,n=t.props,i=n.targets||[],a=t.getState(),o=a.left,s=a.top,c=a.isPersisted,u=n.zoom||1,l=t.renderGroupRects,f=(null===(r=n.persistData)||void 0===r?void 0:r.children)||[];c?i=f.map((function(){return null})):f=[];var d=t._store,p=er(d,"parentPosition",[o,s],(function(t){return t.join(",")})),v=er(d,"requestStyles",t.getRequestChildStyles(),(function(t){return t.join(",")}));return t.moveables=t.moveables.slice(0,i.length),W(W([],i.map((function(r,i){return e.createElement(Ti,{key:"moveable"+i,ref:Object(j.e)(t,"moveables",i),target:r,origin:!1,requestStyles:v,cssStyled:n.cssStyled,customStyledMap:n.customStyledMap,useResizeObserver:n.useResizeObserver,hideChildMoveableDefaultLines:n.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:[o,s],persistData:f[i],zoom:u})})),!0),_e(l.map((function(t,r){var n=[t.pos1,t.pos2,t.pos3,t.pos4];return[[0,1],[1,3],[3,2],[2,0]].map((function(t,i){var a=t[0],o=t[1];return mn(e,"",Object(E.p)(n[a],p),Object(E.p)(n[o],p),u,"group-rect-".concat(r,"-").concat(i))}))}))),!0)}},Bi=H("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var r=t.props.target,n=e.inputEvent,i=e.inputTarget,a=!t.isMoveableElement(i)&&t.controlBox.contains(i);if(n&&i&&!e.isDrag&&!t.isMoveableElement(i)&&!a){var o=r.contains(i);Ge(t,"onClick",ze(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:r===i,moveableTarget:t.props.target,containsTarget:o}))}},dragGroupEnd:function(t,e){var r=e.inputEvent,n=e.inputTarget;if(r&&n&&!e.isDrag&&!t.isMoveableElement(n)&&e.datas.inputTarget!==n){var i=t.props.targets,a=i.indexOf(n),o=a>-1,s=!1;-1===a&&(s=(a=Object(S.m)(i,(function(t){return t.contains(n)})))>-1),Ge(t,"onClickGroup",ze(t,e,{isDouble:e.isDouble,targets:i,inputTarget:n,targetIndex:a,isTarget:o,containsTarget:s,moveableTarget:i[a]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function ki(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),N(N({},t),{datas:e})}var Ai=H("edgeDraggable",{css:[".edge.edgeDraggable.line {\ncursor: move;\n}"],render:function(t,e){var r=t.props,n=r.edgeDraggable;return n?On(e,"edgeDraggable",n,t.getState().renderPoses,r.zoom):[]},dragCondition:function(t,e){var r,n=t.props,i=null===(r=e.inputEvent)||void 0===r?void 0:r.target;return!(!n.edgeDraggable||!i)&&(!n.draggable&&Object(S.v)(i,Yt("direction"))&&Object(S.v)(i,Yt("edge"))&&Object(S.v)(i,Yt("edgeDraggable")))},dragStart:function(t,e){return En.dragStart(t,ki(e))},drag:function(t,e){return En.drag(t,ki(e))},dragEnd:function(t,e){return En.dragEnd(t,ki(e))},dragGroupCondition:function(t,e){var r,n=t.props,i=null===(r=e.inputEvent)||void 0===r?void 0:r.target;return!(!n.edgeDraggable||!i)&&(!n.draggable&&Object(S.v)(i,Yt("direction"))&&Object(S.v)(i,Yt("line")))},dragGroupStart:function(t,e){return En.dragGroupStart(t,ki(e))},dragGroup:function(t,e){return En.dragGroup(t,ki(e))},dragGroupEnd:function(t,e){return En.dragGroupEnd(t,ki(e))},unset:function(t){return En.unset(t)}}),Ii={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},_i=[ji,Kn,gn,ir,En,Ai,Dn,An,Fn,Bn,Zn,$n,Xn,hi,gi,xi,Gi,Ii,Bi,Yn,Si];function Fi(t,e){var r=t[0],n=t[1],i=t[2];return(r*e[0]+n*e[1]+i)/Math.sqrt(r*r+n*n)}function Ni(t,e){var r=t[0],n=t[1];return-r*e[0]-n*e[1]}function Wi(t,e){return Math.max.apply(Math,t.map((function(t){var r=t[0],n=t[1],i=t[2],a=t[3];return Math.max(r[e],n[e],i[e],a[e])})))}function Hi(t,e){return Math.min.apply(Math,t.map((function(t){var r=t[0],n=t[1],i=t[2],a=t[3];return Math.min(r[e],n[e],i[e],a[e])})))}function qi(t,e){var r=e.map((function(e){if(Object(S.w)(e)){var r=qi(t,e),n=r.length;return n>1?r:1===n?r[0]:null}var i=Object(S.l)(t,(function(t){return t.manager.props.target===e}));return i?(i.finded=!0,i.manager):null})).filter(Boolean);return 1===r.length&&Object(S.w)(r[0])?r[0]:r}var Li=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.differ=new w.a,e.moveables=[],e.transformOrigin="50% 50%",e.renderGroupRects=[],e._targetGroups=[],e._hasFirstTargets=!1,e}F(e,t);var r=e.prototype;return r.componentDidMount=function(){t.prototype.componentDidMount.call(this)},r.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},r.getTargets=function(){return this.props.targets},r.updateRect=function(t,e,r){var n;void 0===r&&(r=!0);var i=this.state;if(this.controlBox&&!i.isPersisted){Lt(!0),this.moveables.forEach((function(e){e.updateRect(t,!1,!1)}));var a=this.props,o=this.moveables,s=i.target||a.target,c=o.map((function(t){return{finded:!1,manager:t}})),u=this.props.targetGroups||[],l=qi(c,u),f=a.useDefaultGroupRotate;l.push.apply(l,c.filter((function(t){return!t.finded})).map((function(t){return t.manager})));var d=[],p=!e||""!==t&&a.updateGroup,v=a.defaultGroupRotate||0;if(!this._hasFirstTargets){var g=null===(n=a.persistData)||void 0===n?void 0:n.rotation;null!=g&&(v=g)}var h=function t(e,r,n){var i=e.map((function(e){if(Object(S.w)(e)){var n=t(e,r),i=[n.pos1,n.pos2,n.pos3,n.pos4];return d.push(n),{poses:i,rotation:n.rotation}}return{poses:we(e.state),rotation:e.getRotation()}})),a=i.map((function(t){return t.rotation})),o=0,s=a[0],c=a.every((function(t){return Math.abs(s-t)<.1}));o=p?!f&&c?s:v:f||n||!c?r:s;var u=i.map((function(t){return t.poses})),l=function(t,e){var r,n=[0,0],i=[0,0],a=[0,0],o=[0,0],s=0,c=0;if(!t.length)return{pos1:n,pos2:i,pos3:a,pos4:o,minX:0,minY:0,maxX:0,maxY:0,width:s,height:c,rotation:e};var u=Object(S.O)(e,st);if(u%90){var l=u/180*Math.PI,f=Math.tan(l),d=-1/f,p=[ut,lt],v=[[0,0],[0,0]],g=[ut,lt],h=[[0,0],[0,0]];t.forEach((function(t){t.forEach((function(t){var e=Fi([-f,1,0],t),r=Fi([-d,1,0],t);p[0]>e&&(v[0]=t,p[0]=e),p[1]<e&&(v[1]=t,p[1]=e),g[0]>r&&(h[0]=t,g[0]=r),g[1]<r&&(h[1]=t,g[1]=r)}))}));var b=v[0],m=v[1],O=h[0],x=h[1],j=[-f,1,Ni([-f,1],b)],E=[-f,1,Ni([-f,1],m)],y=[-d,1,Ni([-d,1],O)],w=[-d,1,Ni([-d,1],x)];n=(r=[[j,y],[j,w],[E,y],[E,w]].map((function(t){var e=t[0],r=t[1];return Object(D.c)(e,r)[0]})))[0],i=r[1],a=r[2],o=r[3],s=g[1]-g[0],c=p[1]-p[0]}else{var C,R=Hi(t,0),M=Hi(t,1),z=Wi(t,0),P=Wi(t,1);n=[R,M],i=[z,M],a=[R,P],o=[z,P],s=z-R,c=P-M,u%180&&(n=(C=[a,n,o,i])[0],i=C[1],a=C[2],o=C[3],s=P-M,c=z-R)}u%360>180&&(n=(C=[o,a,i,n])[0],i=C[1],a=C[2],o=C[3]);var T=Object(D.d)([n,i,a,o]);return{pos1:n,pos2:i,pos3:a,pos4:o,width:s,height:c,minX:T.minX,minY:T.minY,maxX:T.maxX,maxY:T.maxY,rotation:e}}(u,o);return l}(l,this.rotation,!0);p&&(this.rotation=h.rotation,this.transformOrigin=a.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=u,this.renderGroupRects=d;var b=this.transformOrigin,m=this.rotation,O=this.scale,x=h.width,j=h.height,y=h.minX,w=h.minY,C=function(t,e,r){var n=t.map((function(t){return Object(E.p)(t,e)})),i=n.map((function(t){return Object(E.t)(t,r)}));return{prev:n,next:i,result:i.map((function(t){return Object(E.s)(t,e)}))}}([[0,0],[x,0],[0,j],[x,j]],Qe(b,x,j),this.rotation/180*Math.PI),R=Object(D.d)(C.result),M=R.minX,z=R.minY,P=" rotate(".concat(m,"deg)")+" scale(".concat(rr(O[0]),", ").concat(rr(O[1]),")"),T="translate(".concat(-M,"px, ").concat(-z,"px)").concat(P);this.controlBox.style.transform="translate3d(".concat(y,"px, ").concat(w,"px, ").concat(this.props.translateZ||0,")"),s.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(b,";")+"width:".concat(x,"px;height:").concat(j,"px;")+"transform: ".concat(T),i.width=x,i.height=j;var G=this.getContainer(),B=zi(this.controlBox,s,this.controlBox,this.getContainer(),this._rootContainer||G,[]),k=[B.left,B.top],A=we(B),I=A[0],_=A[1],F=A[2],W=A[3],H=Object(D.d)([I,_,F,W]),q=[H.minX,H.minY],L=rr(O[0]*O[1]);B.pos1=Object(E.p)(I,q),B.pos2=Object(E.p)(_,q),B.pos3=Object(E.p)(F,q),B.pos4=Object(E.p)(W,q),B.left=y-B.left+q[0],B.top=w-B.top+q[1],B.origin=Object(E.p)(Object(E.s)(k,B.origin),q),B.beforeOrigin=Object(E.p)(Object(E.s)(k,B.beforeOrigin),q),B.originalBeforeOrigin=Object(E.s)(k,B.originalBeforeOrigin),B.transformOrigin=Object(E.p)(Object(E.s)(k,B.transformOrigin),q),s.style.transform="translate(".concat(-M-q[0],"px, ").concat(-z-q[1],"px)")+P,Lt(),this.updateState(N(N({},B),{posDelta:q,direction:L,beforeDirection:L}),r)}},r.getRect=function(){return N(N({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},r.triggerEvent=function(e,r,n){if(n||e.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,e,r);this._emitter.trigger(e,r)},r.getRequestChildStyles=function(){return this.getEnabledAbles().reduce((function(t,e){var r,n,i=null!==(n=null===(r=e.requestChildStyle)||void 0===r?void 0:r.call(e))&&void 0!==n?n:[];return W(W([],t,!0),i,!0)}),[])},r.updateAbles=function(){t.prototype.updateAbles.call(this,W(W([],this.props.ables,!0),[Gi],!1),"Group")},r._updateTargets=function(){t.prototype._updateTargets.call(this),this._prevTarget=this.props.dragTarget||this.areaElement},r._updateEvents=function(){var t=this.state,e=this.props,r=this._prevTarget,n=e.dragTarget||this.areaElement,i=e.targets,a=this.differ.update(i),o=a.added,s=a.changed,c=a.removed,u=o.length||c.length;(u||r!==n)&&(De(this,!1),De(this,!0),this.updateState({gestos:{}})),r!==n&&(t.target=null),t.target||(t.target=this.areaElement,this.controlBox.style.display="block"),t.target&&(this.targetGesto||(this.targetGesto=wi(this,n,"Group")),this.controlGesto||(this.controlGesto=Ci(this,this.controlBox,"controlAbles","GroupControl")));var l=!Ae(t.container,e.container);l&&(t.container=e.container),(l||u||this.transformOrigin!==(e.defaultGroupOrigin||"50% 50%")||s.length||i.length&&!tr(this._targetGroups,e.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!u},r._updateObserver=function(){},e.defaultProps=N(N({},Ti.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(Ti),Vi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveables=[],e}F(e,t);var r=e.prototype;return r.render=function(){var t,e=this,r=this.props,n=r.cspNonce,i=r.cssStyled,a=r.persistData,o=r.targets||[],s=o.length,c=this.isUnmounted||!s,u=null!==(t=null===a||void 0===a?void 0:a.children)&&void 0!==t?t:[];return c&&!s&&u.length?o=u.map((function(){return null})):c||(u=[]),R.createElement(i,{cspNonce:n,ref:Object(j.d)(this,"controlBox"),className:Yt("control-box")},o.map((function(t,n){var i,a,o=null!==(a=null===(i=r.individualGroupableProps)||void 0===i?void 0:i.call(r,t,n))&&void 0!==a?a:{};return R.createElement(Ti,N({key:"moveable"+n,ref:Object(j.e)(e,"moveables",n)},r,o,{target:t,wrapperMoveable:e,isWrapperMounted:e.isMoveableMounted,persistData:u[n]}))})))},r.componentDidMount=function(){},r.componentDidUpdate=function(){},r.getTargets=function(){return this.props.targets},r.updateRect=function(t,e,r){void 0===r&&(r=!0),Lt(!0),this.moveables.forEach((function(n){n.updateRect(t,e,r)})),Lt()},r.getRect=function(){return N(N({},t.prototype.getRect.call(this)),{children:this.moveables.map((function(t){return t.getRect()}))})},r.request=function(){return{request:function(){return this},requestEnd:function(){return this}}},r.dragStart=function(){return this},r.hitTest=function(){return 0},r.isInside=function(){return!1},r.isDragging=function(){return!1},r.updateRenderPoses=function(){},r.checkUpdate=function(){},r.triggerEvent=function(){},r.updateAbles=function(){},r._updateEvents=function(){},r._updateObserver=function(){},e}(Ti);function Yi(t,e){var r=[];return t.forEach((function(t){t&&(Object(S.B)(t)?e[t]&&r.push.apply(r,e[t]):Object(S.w)(t)?r.push.apply(r,Yi(t,e)):r.push(t))})),r}function Xi(t,e){var r=[];return t.forEach((function(t){t&&(Object(S.B)(t)?e[t]&&r.push.apply(r,e[t]):Object(S.w)(t)?r.push(Xi(t,e)):r.push(t))})),r}function Ui(t,e){return t.length!==e.length||t.some((function(t,r){var n=e[r];return!(!t&&!n)&&(t!=n&&(!Object(S.w)(t)||!Object(S.w)(n)||Ui(t,n)))}))}var Zi=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.refTargets=[],e.selectorMap={},e._differ=new w.a,e._elementTargets=[],e._onChangeTargets=null,e}F(e,t);var r=e.prototype;return e.makeStyled=function(){var t={};this.getTotalAbles().forEach((function(e){var r=e.css;r&&r.forEach((function(e){t[e]=!0}))}));var e=Object(S.r)(t).join("\n");this.defaultStyled=k("div",Object(j.b)(rt,it+e))},e.getTotalAbles=function(){return W([Kn,Gi,Ii,Yn],this.defaultAbles,!0)},r.render=function(){var t,e=this.constructor;e.defaultStyled||e.makeStyled();var r=this.props,n=r.ables,i=r.props,a=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}(r,["ables","props"]),o=this._updateRefs(!0),s=Yi(o,this.selectorMap),c=s.length>1,u=W(W([],e.getTotalAbles(),!0),n||[],!0),l=N(N(N({},a),i||{}),{ables:u,cssStyled:e.defaultStyled,customStyledMap:e.customStyledMap});this._elementTargets=s;var f=null,d=this.moveable,p=a.persistData;if((null===p||void 0===p?void 0:p.children)&&(c=!0),a.individualGroupable)return R.createElement(Vi,N({key:"individual-group",ref:Object(j.d)(this,"moveable")},l,{target:null,targets:s}));if(c){var v=Xi(o,this.selectorMap);if(d&&!d.props.groupable&&!d.props.individualGroupable){var g=d.props.target;g&&s.indexOf(g)>-1&&(f=N({},d.state))}return R.createElement(Li,N({key:"group",ref:Object(j.d)(this,"moveable")},l,null!==(t=a.groupableProps)&&void 0!==t?t:{},{target:null,targets:s,targetGroups:v,firstRenderState:f}))}var h=s[0];if(d&&(d.props.groupable||d.props.individualGroupable)){var b=d.moveables||[],m=Object(S.l)(b,(function(t){return t.props.target===h}));m&&(f=N({},m.state))}return R.createElement(Ti,N({key:"single",ref:Object(j.d)(this,"moveable")},l,{target:h,firstRenderState:f}))},r.componentDidMount=function(){this._checkChangeTargets(),this._updateRefs()},r.componentDidUpdate=function(){this._checkChangeTargets()},r.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},r.getTargets=function(){var t,e;return null!==(e=null===(t=this.moveable)||void 0===t?void 0:t.getTargets())&&void 0!==e?e:[]},r.updateSelectors=function(){this.selectorMap={},this._updateRefs()},r.waitToChangeTarget=function(){var t,e=this;return this._onChangeTargets=function(){e._onChangeTargets=null,t()},new Promise((function(e){t=e}))},r.waitToChangeTargets=function(){return this.waitToChangeTarget()},r.getManager=function(){return this.moveable},r._updateRefs=function(t){var e=this.refTargets,r=Ue(this.props.target||this.props.targets),n="undefined"!==typeof document,i=Ui(e,r),a=this.selectorMap,o={};return this.refTargets.forEach((function t(e){Object(S.B)(e)?a[e]?o[e]=a[e]:n&&(i=!0,o[e]=[].slice.call(document.querySelectorAll(e))):Object(S.w)(e)&&e.forEach(t)})),this.refTargets=r,this.selectorMap=o,!t&&i&&this.forceUpdate(),r},r._checkChangeTargets=function(){var t,e,r,n=this._differ.update(this._elementTargets),i=n.added,a=n.removed;(i.length||a.length)&&(null===(e=(t=this.props).onChangeTargets)||void 0===e||e.call(t,{moveable:this.moveable,targets:this._elementTargets}),null===(r=this._onChangeTargets)||void 0===r||r.call(this)),this._updateRefs()},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,function(t,e,r,n){var i,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,r,o):i(e,r))||o);a>3&&o&&Object.defineProperty(e,r,o)}([Object(j.f)(vt)],e.prototype,"moveable",void 0),e}(R.PureComponent),Ki=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.defaultAbles=_i,e}(Zi)},606:function(t,e,r){"use strict";var n=r(0),i=r(147),a="undefined",o=(typeof document!==a&&document,{cm:function(t){return 96*t/2.54},mm:function(t){return 96*t/254},in:function(t){return 96*t},pt:function(t){return 96*t/72},pc:function(t){return 96*t/6},"%":function(t,e){return t*e/100},vw:function(t,e){return void 0===e&&(e=window.innerWidth),t/100*e},vh:function(t,e){return void 0===e&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return void 0===e&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return void 0===e&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}});function s(t,e){var r=function(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var r=e[1],n=e[2];return{prefix:r,unit:e[3],value:parseFloat(n)}}(t),n=r.value,i=r.unit;if(function(t){return t&&"object"===typeof t}(e)){var a=e[i];if(a){if(function(t){return"function"===typeof t}(a))return a(n);if(o[i])return o[i](n,a)}}else if("%"===i)return n*e/100;return o[i]?o[i](n):n}var c=function(t,e){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},c(t,e)};var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={scrollPos:0},e.width=0,e.height=0,e._zoom=0,e._rulerScale=0,e._observer=null,e._checkResize=function(){e.resize()},e}!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t);var r=e.prototype;return r.render=function(){var t=this.props;return this._zoom=t.zoom,Object(n.createElement)("canvas",{ref:Object(i.d)(this,"canvasElement"),style:this.props.style})},r.componentDidMount=function(){var t=this.props;this.state.scrollPos=t.defaultScrollPos||0;var e=this.canvasElement,r=e.getContext("2d",{alpha:!1});this.canvasContext=r,t.useResizeObserver?(this._observer=new ResizeObserver(this._checkResize),this._observer.observe(e,{box:"border-box"})):this.resize()},r.componentDidUpdate=function(){this.resize()},r.componentWillUnmount=function(){var t;this.state.scrollPos=0,null===(t=this._observer)||void 0===t||t.disconnect()},r.getScrollPos=function(){return this.state.scrollPos},r.scroll=function(t,e){this.draw(t,e)},r.resize=function(t){var e=this.canvasElement,r=this.props,n=r.width,i=r.height,a=r.scrollPos,o=this._getRulerScale();this.width=n||e.offsetWidth,this.height=i||e.offsetHeight,e.width=this.width*o,e.height=this.height*o,this.draw(a,t)},r.draw=function(t,e){void 0===t&&(t=this.state.scrollPos),void 0===e&&(e=this._zoom),this._zoom=e;var r=this.props,n=r,i=n.unit,a=n.type,o=n.backgroundColor,c=n.lineColor,u=n.textColor,l=n.textBackgroundColor,f=n.direction,d=n.negativeRuler,p=void 0===d||d,v=n.segment,g=void 0===v?10:v,h=n.textFormat,b=n.range,m=void 0===b?[-1/0,1/0]:b,O=n.rangeBackgroundColor,x=n.selectedRanges,j=n.selectedBackgroundColor,S=n.lineWidth,E=void 0===S?1:S,y=n.selectedRangesText,w=n.selectedRangesTextColor,C=void 0===w?"#44aaff":w,D=n.selectedRangesTextOffset,R=void 0===D?[0,0]:D,M=this._getRulerScale(),z=this.width,P=this.height;this.state.scrollPos=t;var T=this.canvasContext,G="horizontal"===a,B=!1!==p,k=r.font||"10px sans-serif",A=r.textAlign||"left",I=r.textOffset||[0,0],_=G?P:z,F=s("".concat(r.mainLineSize||"100%"),_),N=s("".concat(r.longLineSize||10),_),W=s("".concat(r.shortLineSize||7),_),H=r.lineOffset||[0,0];switch("transparent"===o?T.clearRect(0,0,z*M,P*M):(T.rect(0,0,z*M,P*M),T.fillStyle=o,T.fill()),T.save(),T.scale(M,M),T.strokeStyle=c,T.lineWidth=E,T.font=k,T.fillStyle=u,T.textAlign=A,f){case"start":T.textBaseline="top";break;case"center":T.textBaseline="middle";break;case"end":T.textBaseline="bottom"}T.translate(.5,0),T.beginPath();for(var q=G?z:P,L=e*i,V=Math.floor(t*e/L),Y=Math.ceil((t*e+q)/L)-V,X=Math.max(["left","center","right"].indexOf(A)-1,-1),U=G?P:z,Z=[],K=0;K<=Y;++K){var $="".concat(et=(K+V)*i);h&&($=h(et));var J=T.measureText($).width;Z.push({color:u,offset:I,backgroundColor:l,value:et,text:$,textSize:J})}if("transparent"!==j&&(null===x||void 0===x?void 0:x.length)&&x.forEach((function(r){var n=Math.max(r[0],m[0],p?-1/0:0),i=Math.min(r[1],m[1]),a=(n-t)*e,o=(i-n)*e;y&&r.forEach((function(t){var r="".concat(t);h&&(r=h(t));var n=T.measureText(r).width,i=t*e,a=i+n;!function(t,e,r){var n=function(t,e,r){void 0===r&&(r=-1);for(var n=t.length-1;n>=0;--n)if(e(t[n],n,t))return n;return r}(t,e);n>-1&&t[n]}(Z,(function(t,r){var n=t.value,o=t.textSize,s=n*e;s<=a&&i<=s+o&&Z.splice(r,1)})),Z.push({value:t,color:C,offset:R,text:r,textSize:n})})),o<=0||(T.save(),T.fillStyle=j,G?T.fillRect(a,0,o,U):T.fillRect(0,a,U,o),T.restore())})),"transparent"!==O&&m[0]!==-1/0&&m[1]!==1/0){var Q=(m[0]-t)*e,tt=(m[1]-m[0])*e;T.save(),T.fillStyle=O,G?T.fillRect(Q,0,tt,U):T.fillRect(0,Q,U,tt),T.restore()}for(K=0;K<=Y;++K){var et=K+V;if(B||!(et<0))for(var rt=et*i,nt=(rt-t)*e,it=0;it<g;++it){var at=nt+it/g*L,ot=rt+it/g*i;if(!(at<0||at>=q||ot<m[0]||ot>m[1])){var st=0===it?F:it%2===0?N:W,ct=0;switch(f){case"start":ct=0;break;case"center":ct=U/2-st/2;break;case"end":ct=U-st}var ut=G?[at+H[0],ct+H[1]]:[ct+H[0],at+H[1]],lt=ut[0],ft=ut[1],dt=G?[lt,ft+st]:[lt+st,ft],pt=dt[0],vt=dt[1];T.moveTo(lt+H[0],ft+H[1]),T.lineTo(pt+H[0],vt+H[1])}}}T.stroke(),Z.forEach((function(r){var n=r.value,a=r.offset,o=r.backgroundColor,s=r.color,c=r.text,u=r.textSize;if(B||!(n<0)){var l=(n-t)*e;if(!(l<-L||l>=q+i*e||n<m[0]||n>m[1])){var d=0;switch(f){case"start":d=17;break;case"center":d=U/2;break;case"end":d=U-17}var p=G?[l+-3*X,d]:[d,l+3*X],v=p[0],g=p[1];if(o){var h=0;switch(A){case"left":h=0;break;case"center":h=-u/2;break;case"right":h=-u}T.save(),T.fillStyle=o,G?T.fillRect(v+a[0]+h,0,u,F):(T.translate(0,g+a[1]),T.rotate(-Math.PI/2),T.fillRect(h,0,u,F)),T.restore()}T.save(),T.fillStyle=s,G?T.fillText(c,v+a[0],g+a[1]):(T.translate(v+a[0],g+a[1]),T.rotate(-Math.PI/2),T.fillText(c,0,0)),T.restore()}}})),T.restore()},r._getRulerScale=function(){var t=this.props.defaultPixelScale||2;if(!this._rulerScale){var e=window.devicePixelRatio>1;if(!e&&window.matchMedia){var r=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");e=r&&r.matches}this._rulerScale=e?3:t}return this._rulerScale},e.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555",defaultScrollPos:0},e}(n.PureComponent);e.a=u},621:function(t,e,r){"use strict";var n=r(23),i=r(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"},o=r(72),s=function(t,e){return i.createElement(o.a,Object(n.a)(Object(n.a)({},t),{},{ref:e,icon:a}))};s.displayName="VerticalAlignTopOutlined";e.a=i.forwardRef(s)},622:function(t,e,r){"use strict";var n=r(23),i=r(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},o=r(72),s=function(t,e){return i.createElement(o.a,Object(n.a)(Object(n.a)({},t),{},{ref:e,icon:a}))};s.displayName="EyeInvisibleOutlined";e.a=i.forwardRef(s)},633:function(t,e,r){"use strict";var n=r(23),i=r(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},o=r(72),s=function(t,e){return i.createElement(o.a,Object(n.a)(Object(n.a)({},t),{},{ref:e,icon:a}))};s.displayName="LockOutlined";e.a=i.forwardRef(s)},634:function(t,e,r){"use strict";var n=r(23),i=r(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},o=r(72),s=function(t,e){return i.createElement(o.a,Object(n.a)(Object(n.a)({},t),{},{ref:e,icon:a}))};s.displayName="CopyOutlined";e.a=i.forwardRef(s)},635:function(t,e,r){"use strict";var n=r(23),i=r(0),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"},o=r(72),s=function(t,e){return i.createElement(o.a,Object(n.a)(Object(n.a)({},t),{},{ref:e,icon:a}))};s.displayName="VerticalAlignBottomOutlined";e.a=i.forwardRef(s)}}]);
//# sourceMappingURL=16.98122096.chunk.js.map
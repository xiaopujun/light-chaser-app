(this["webpackJsonplight-chaser"]=this["webpackJsonplight-chaser"]||[]).push([[10],{314:function(e,t,n){"use strict";var r=n(13),a=n(14),i=n(16),o=n(17),c=n(0),s=n.n(c),l=n(249),u=n(255),d=n(299),h=n(71),f=n(2),p=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(){var e,a;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(a=t.call.apply(t,[this].concat(o))).ref=null,a.mode=(null===(e=Object(l.d)())||void 0===e?void 0:e.action)||"edit",a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.layout;u.a.doAdd(this.ref,e)}},{key:"render",value:function(){var e=this,t=this.props.layout,n=d.a.auxiliaryBorder;return Object(f.jsx)(c.Suspense,{fallback:Object(f.jsx)(h.a,{}),children:Object(f.jsx)("div",{id:t.id,"data-type":t.type,"data-lock":t.lock,"data-hide":t.hide,style:{width:t.width,height:t.height,transform:"translate(".concat(t.position[0],"px, ").concat(t.position[1],"px)"),position:"absolute",display:t.hide?"none":"block",border:n?"1px solid #65eafc":"none"},className:"lc-comp-item",children:Object(f.jsx)("div",{ref:function(t){return e.ref=t},style:{width:"100%",height:"100%",pointerEvents:"".concat("view"===this.mode?"auto":"none"),position:"relative"}})},t.id+"")})}}]),n}(s.a.PureComponent);t.a=p},462:function(e,t,n){},463:function(e,t,n){},464:function(e,t,n){},465:function(e,t,n){},466:function(e,t,n){},467:function(e,t,n){},468:function(e,t,n){},469:function(e,t,n){},470:function(e,t,n){},471:function(e,t,n){},472:function(e,t,n){},473:function(e,t,n){},520:function(e,t,n){"use strict";n.r(t);var r,a=n(13),i=n(14),o=n(16),c=n(17),s=n(0),l=n.n(s),u=n(2),d=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"structure-header",children:this.props.children})}}]),n}(s.Component),h=d,f=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"structure-body",children:this.props.children})}}]),n}(s.Component),p=f,v=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"structure-body-left",children:this.props.children})}}]),n}(s.Component),j=v,m=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{id:"structureContent",className:"structure-body-content",children:this.props.children})}}]),n}(s.Component),b=m,g=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"structure-body-right",children:this.props.children})}}]),n}(s.Component),y=g,O=(n(462),function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"lc-designer-structure",children:this.props.children})}}]),n}(s.Component)),x=O,k=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"structure-foot",children:this.props.children})}}]),n}(s.Component),C=k,w=n(212),E=(n(463),n(213));!function(e){e.ALL="all",e.BASE="base",e.ORNAMENTAL="ornamental",e.BAR="bar",e.COLUMN="column",e.LINE="line",e.AREA="area",e.PIE="pie",e.PROGRESS="progress",e.SCATTER="scatter",e.RADAR="radar",e.ROSE="rose",e.WORD_CLOUD="word_cloud",e.HISTOGRAM="histogram",e.SUNBURST="sunburst",e.TREEMAP="treemap"}(r||(r={}));var D,L=n.p+"static/media/icon-all.fe79e4fd.svg",N=n.p+"static/media/icon-bar.dfbc87b2.svg",R=n.p+"static/media/icon-column.ae79292f.svg",S=n.p+"static/media/icon-area.f3992c44.svg",T=n.p+"static/media/icon-pie.4d05a7b6.svg",I=n.p+"static/media/icon-scatter.778bce01.svg",A=n.p+"static/media/icon-line.b79af542.svg",z=n.p+"static/media/icon-loading.9d197f5f.svg",M=n.p+"static/media/icon-flowers.442a19b5.svg",G=n.p+"static/media/icon-optimize.9b17ea95.svg",P=n.p+"static/media/icon-points.7fb541f7.svg",H=new(Object(i.a)((function e(){var t=this;Object(a.a)(this,e),this.classifies=[],this.classifyKey="all",this.doInit=function(){t.classifies=[{icon:L,name:"\u5168\u90e8",classify:r.ALL},{icon:P,name:"\u57fa\u7840",classify:r.BASE},{icon:G,name:"\u88c5\u9970",classify:r.ORNAMENTAL},{icon:N,name:"\u6761\u5f62\u56fe",classify:r.BAR},{icon:R,name:"\u67f1\u72b6\u56fe",classify:r.COLUMN},{icon:A,name:"\u6298\u7ebf\u56fe",classify:r.LINE},{icon:S,name:"\u9762\u79ef\u56fe",classify:r.AREA},{icon:T,name:"\u997c\u56fe",classify:r.PIE},{icon:z,name:"\u8fdb\u5ea6\u56fe",classify:r.PROGRESS},{icon:I,name:"\u6563\u70b9\u56fe",classify:r.SCATTER},{icon:M,name:"\u73ab\u7470\u56fe",classify:r.ROSE}]},this.doClear=function(){t.classifies=[]},this.setClassifyKey=function(e){t.classifyKey=e},Object(E.m)(this)}))),K=n(235),B=new(Object(i.a)((function e(){var t=this;Object(a.a)(this,e),this.compInfoArr=[],this.compKey="",this.visible=!1,this.doInit=function(){var e=[],n=K.a.getLoader().customComponentInfoMap;n&&Object.keys(n).forEach((function(t){var r=n[t].getBaseInfo();"LcBg"!==r.compKey&&e.push(r)})),t.compInfoArr=e},this.setVisible=function(e){return t.visible=e},this.setCompKey=function(e){return t.compKey=e},Object(E.n)(this,{compKey:E.o,visible:E.o,setVisible:E.f,setCompKey:E.f})}))),V=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).changeClassifyKey=function(e){var t=H.setClassifyKey,n=B.setVisible,r=B.visible;t(e.currentTarget.id),r||n&&n(!0)},r.buildClassifyList=function(){for(var e=H.classifies,t=[],n=0;n<e.length;n++){var a=e[n],i=a.icon,o=a.name,c=a.classify;t.push(Object(u.jsxs)("div",{className:"sort-item",id:c,onClick:r.changeClassifyKey,children:[Object(u.jsx)("div",{className:"sort-item-icon",children:Object(u.jsx)("img",{style:{width:20},src:i,alt:"all"})}),Object(u.jsx)("span",{className:"sort-item-content",children:o})]},n+""))}return t};var i=H.doInit;return i&&i(),r}return Object(i.a)(n,[{key:"render",value:function(){var e=this.buildClassifyList();return Object(u.jsx)("div",{className:"lc-charts-sort",style:{overflowY:"scroll"},children:e})}}]),n}(s.Component),U=Object(w.a)(V),W=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)(U,{})}}]),n}(s.Component),Y=Object(w.a)(W),X=(n(464),n(256)),F=n(507),q=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).menuChange=function(e){var t=X.a.setActiveMenu,n=X.a.setContentVisible;t&&t(e.currentTarget.id),n&&n(!0)},e.buildMenuList=function(){var t=X.a.menus;return 0===t.length?Object(u.jsxs)("div",{style:{writingMode:"vertical-rl",color:"#ced2d8",letterSpacing:"8px",padding:7,fontSize:12},children:[Object(u.jsx)(F.a,{style:{fontSize:15,position:"relative",left:2,marginBottom:7}}),"\u53cc\u51fb\u7ec4\u4ef6\u6fc0\u6d3b..."]}):t.map((function(t){var n=t.icon;return Object(u.jsxs)("div",{className:"menu-item",id:t.key,onClick:e.menuChange,children:[Object(u.jsx)("div",{className:"item-icon",children:Object(u.jsx)(n,{})}),Object(u.jsx)("div",{className:"item-content",children:t.name})]},t.key)}))},e}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"lc-config-menu",children:Object(u.jsx)("div",{className:"menu-list",children:this.buildMenuList()})})}}]),n}(s.Component),J=Object(w.a)(q),_=n(523),Q=(n(465),n(211)),Z=n(220),$=n(255),ee=n(71),te=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).createProxy=function(e){return new Proxy(e,{get:function(e,t){var n=e[t];return"function"===typeof n&&"update"===n.name?new Proxy(n,{apply:function(e,t,n){var r=n[0],a=Z.a.getOriginValue(t.config,n[0]);return $.a.doStyleUpd(r,a),e.apply(t,n)}}):n}})},e.buildConfigContent=function(){var t=Q.a.compInstances,n=X.a.activeMenu,r=X.a.activeElem,a=K.a.getLoader().customComponentInfoMap[r.type+""];if(a){var i=a.getMenuToConfigContentMap()[n],o=e.createProxy(t[r.id+""]);return Object(u.jsx)(s.Suspense,{fallback:Object(u.jsx)(ee.a,{}),children:Object(u.jsx)(i,{controller:o})})}},e.onClose=function(){var e=X.a.setContentVisible;e&&e(!1)},e}return Object(i.a)(n,[{key:"render",value:function(){for(var e=X.a.activeMenu,t=X.a.menus,n="",r=0;r<t.length;r++)if(t[r].key===e){n=t[r].name;break}return Object(u.jsxs)("div",{className:"lc-config-panel",children:[Object(u.jsxs)("div",{className:"lc-panel-top",children:[Object(u.jsx)("div",{className:"panel-title",children:Object(u.jsx)("span",{children:n})}),Object(u.jsx)("div",{className:"panel-operate",onClick:this.onClose,children:Object(u.jsx)(_.a,{})})]}),Object(u.jsx)("div",{className:"lc-panel-content",children:this.buildConfigContent()})]})}}]),n}(s.Component),ne=Object(w.a)(te),re=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=X.a.visible;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(J,{}),e&&Object(u.jsx)(ne,{})]})}}]),n}(s.Component),ae=Object(w.a)(re),ie=(n(466),n(253)),oe=(n(467),function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).hotkeys=[{name:"\u4fdd\u5b58\u9879\u76ee",key:"ctrl + s"},{name:"\u590d\u5236\u7ec4\u4ef6",key:"ctrl + v"},{name:"\u9501\u5b9a\u7ec4\u4ef6",key:"ctrl + l"},{name:"\u89e3\u9501\u7ec4\u4ef6",key:"ctrl + shift + l"},{name:"\u9690\u85cf\u7ec4\u4ef6",key:"ctrl + h"},{name:"\u5f00/\u5173\u8f85\u52a9\u8fb9\u6846",key:"ctrl + k"},{name:"\u5143\u7d20\u7f6e\u9876",key:"ctrl + up-arrow(\u65b9\u5411\u4e0a\u952e)"},{name:"\u5143\u7d20\u7f6e\u5e95",key:"ctrl + down-arrow(\u65b9\u5411\u4e0b\u952e)"},{name:"\u5220\u9664\u7ec4\u4ef6",key:"delete"},{name:"\u7f29\u653e\u753b\u5e03",key:"alt + wheel(\u9f20\u6807\u6ed1\u8f6e)"},{name:"\u62d6\u62fd\u753b\u5e03",key:"\u957f\u6309\u9f20\u6807\u53f3\u952e"},{name:"\u7ec4\u4ef6\u4e0a\u79fb",key:"\u65b9\u5411\u4e0a\u952e"},{name:"\u7ec4\u4ef6\u4e0b\u79fb",key:"\u65b9\u5411\u4e0b\u952e"},{name:"\u7ec4\u4ef6\u5de6\u79fb",key:"\u65b9\u5411\u5de6\u952e"},{name:"\u7ec4\u4ef6\u53f3\u79fb",key:"\u65b9\u5411\u53f3\u952e"},{name:"\u7ec4\u4ef6\u4e0a\u6269\u5927",key:"ctrl + shift + \u65b9\u5411\u4e0a\u952e"},{name:"\u7ec4\u4ef6\u4e0b\u6269\u5927",key:"ctrl + shift + \u65b9\u5411\u4e0b\u952e"},{name:"\u7ec4\u4ef6\u5de6\u6269\u5927",key:"ctrl + shift + \u65b9\u5411\u5de6\u952e"},{name:"\u7ec4\u4ef6\u53f3\u6269\u5927",key:"ctrl + shift + \u65b9\u5411\u53f3\u952e"},{name:"\u7ec4\u4ef6\u4e0a\u7f29\u5c0f",key:"ctrl + alt + \u65b9\u5411\u4e0a\u952e"},{name:"\u7ec4\u4ef6\u4e0b\u7f29\u5c0f",key:"ctrl + alt + \u65b9\u5411\u4e0b\u952e"},{name:"\u7ec4\u4ef6\u5de6\u7f29\u5c0f",key:"ctrl + alt + \u65b9\u5411\u5de6\u952e"},{name:"\u7ec4\u4ef6\u53f3\u7f29\u5c0f",key:"ctrl + alt + \u65b9\u5411\u53f3\u952e"},{name:"\u64a4\u9500",key:"ctrl + z"},{name:"\u91cd\u505a",key:"ctrl + shift + z"},{name:"\u6253\u5f00/\u5173\u95ed\u9879\u76ee\u8bbe\u7f6e",key:"ctrl + 1"},{name:"\u6253\u5f00/\u5173\u95ed\u753b\u5e03\u8bbe\u7f6e",key:"ctrl + 2"},{name:"\u6253\u5f00/\u5173\u95ed\u5168\u5c40\u4e3b\u9898\u8bbe\u7f6e",key:"ctrl + 3"},{name:"\u6253\u5f00/\u5173\u95ed\u56fe\u5c42",key:"ctrl + 4"},{name:"\u6253\u5f00/\u5173\u95ed\u5feb\u6377\u952e\u8bf4\u660e",key:"ctrl + 5"}],e}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"lc-hotkey-des",style:{color:"white"},children:this.hotkeys.map((function(e,t){return Object(u.jsxs)("div",{className:"hotkey-des-item",children:[Object(u.jsx)("div",{className:"hotkey-content",children:Object(u.jsx)("code",{children:e.key})}),Object(u.jsx)("div",{className:"hotkey-des",children:e.name})]},t)}))})}}]),n}(s.Component)),ce=oe,se=n(231),le=n.p+"static/media/keyboard-icon.1ed11794.svg",ue=n.p+"static/media/layers-icon.aabb7495.svg",de=n(329),he=n(215),fe=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).toggleHotKeyDes=function(){var e=de.a.hotKeyVisible;(0,de.a.setHotKeyVisible)(!e)},e.toggleLayerList=function(){var e=se.a.setVisible,t=se.a.visible;e&&e(!t)},e}return Object(i.a)(n,[{key:"render",value:function(){var e=Q.a.layoutConfigs,t=Q.a.projectConfig,n=t.name,r=t.state,a=de.a.hotKeyVisible,i=he.a.scale,o="";switch(r){case"0":o="\u8349\u7a3f";break;case"1":o="\u53d1\u5e03";break;case"2":o="\u5c01\u5b58"}return Object(u.jsxs)("div",{className:"lc-designer-footer",children:[Object(u.jsxs)("div",{className:"footer-left",children:[Object(u.jsxs)("div",{className:"footer-item",onClick:this.toggleHotKeyDes,children:[Object(u.jsx)("img",{width:16,alt:"\u5feb\u6377\u952e",src:le}),"\xa0",Object(u.jsx)("span",{style:{position:"relative",top:2},children:"\u5feb\u6377\u952e"})]}),Object(u.jsxs)("div",{className:"footer-item",onClick:this.toggleLayerList,children:[Object(u.jsx)("img",{width:16,alt:"\u56fe\u5c42",src:ue}),"\xa0",Object(u.jsx)("span",{style:{position:"relative",top:2},children:"\u56fe\u5c42"})]})]}),Object(u.jsxs)("div",{className:"footer-right",children:[Object(u.jsxs)("div",{className:"right-info-item",children:["\u7f29\u653e : ",(100*i).toFixed(0),"%"]}),Object(u.jsxs)("div",{className:"right-info-item",children:["\u5f53\u524d\u7ec4\u4ef6\u6570 : ",Object.keys(e).length]}),Object(u.jsxs)("div",{className:"right-info-item",children:["\u9879\u76ee : ",n]}),Object(u.jsxs)("div",{className:"right-info-item",children:["\u72b6\u6001 : ",o]})]}),Object(u.jsx)(ie.a,{title:"\u5feb\u6377\u952e\u8bf4\u660e",visible:a,width:500,onClose:this.toggleHotKeyDes,children:Object(u.jsx)(ce,{})})]})}}]),n}(s.Component),pe=Object(w.a)(fe),ve=(n(468),n(269)),je=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e,r,i){var o;return Object(a.a)(this,n),(o=t.call(this)).position={x:0,y:0},o.onDragEnd=function(){o.dragTarget.addEventListener("pointerup",(function(e){0===e.button&&(o.dragTarget.releasePointerCapture(e.pointerId),o.dragTarget.removeEventListener("pointermove",o.onDragMove))}))},o.onDragMove=function(e){o.position.x+=e.movementX,o.position.y+=e.movementY,o.target.style.transform="translate("+o.position.x+"px, "+o.position.y+"px)"},o.onDragStart=function(){o.dragTarget.addEventListener("pointerdown",(function(e){0===e.button&&(o.dragTarget.setPointerCapture(e.pointerId),o.dragTarget.addEventListener("pointermove",o.onDragMove))}))},o.target=e,o.dragTarget=r,o.registerDragger(),i&&(o.position=i),o}return Object(i.a)(n)}(function(){function e(){Object(a.a)(this,e),this.target=null,this.dragTarget=null,this.position={x:0,y:0}}return Object(i.a)(e,[{key:"registerDragger",value:function(){this.onDragStart(this.target),this.onDragEnd(this.target)}}]),e}()),me=(n(469),function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).panelRef=null,e.dragTargetRef=null,e.onClose=function(){var t=e.props.onClose;t&&t()},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.initPosition,t=void 0===e?{x:0,y:0}:e;this.dragTargetRef&&this.panelRef&&new je(this.panelRef,this.dragTargetRef,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.initPosition,r=void 0===n?{x:0,y:0}:n,a=t.title,i=t.className,o=t.width;return Object(u.jsxs)("div",{className:"float-panel ".concat(i),style:{transform:"translate(".concat(r.x,"px, ").concat(r.y,"px)"),width:o},ref:function(t){return e.panelRef=t},children:[Object(u.jsxs)("div",{className:"panel-title",children:[Object(u.jsx)("div",{className:"title-left",children:a}),Object(u.jsx)("div",{ref:function(t){return e.dragTargetRef=t},className:"title-drag-target",style:{width:"50%",height:"100%"}}),Object(u.jsx)("div",{className:"title-right",onClick:this.onClose,children:Object(u.jsx)("span",{children:Object(u.jsx)(_.a,{})})})]}),this.props.children]})}}]),n}(s.Component)),be=me,ge=n(107),ye=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).dragStart=function(e){if(e.target.classList.contains("droppable-element")){var t=e.target;e.dataTransfer.setData("type",t.getAttribute("data-type")),e.dataTransfer.setData("name",t.getAttribute("data-name"))}},r.dragover=function(e){e.preventDefault()},r.drop=function(e){e.preventDefault();var t=e.dataTransfer.getData("type"),n=e.dataTransfer.getData("name"),a=he.a.scale,i=he.a.dsContentRef,o=null===i||void 0===i?void 0:i.getBoundingClientRect(),c=(e.clientX-((null===o||void 0===o?void 0:o.x)||0))/a,s=(e.clientY-((null===o||void 0===o?void 0:o.y)||0))/a;r.addItem(t,n,[c,s])},r.addItem=function(e,t,n){var r=Q.a.addItem,a=he.a.maxLevel,i=he.a.setMaxLevel,o=he.a.setAddRecordCompId,c={name:t,type:e,width:320,height:200,position:n||[0,0],id:ve.a.generateId(),lock:!1,hide:!1,order:++a};o(c.id),i&&i(a),r&&r(c)},r.getChartDom=function(){var e=[],t=H.classifyKey,n=B.compInfoArr,a=B.compKey;"all"!==t&&(n=n.filter((function(e){return e.typeKey===t}))),""!==a&&(n=n.filter((function(e){return e.compName.indexOf(a)>=0})));for(var i=function(t){var a=n[t],i=a.compName,o=a.compKey,c=K.a.getLoader().customComponentInfoMap[o].getChartImg();e.push(Object(u.jsx)("div",{className:"list-item droppable-element",draggable:!0,onDoubleClick:function(){return r.addItem(o,i)},"data-type":o,"data-name":i,children:Object(u.jsxs)("div",{style:{pointerEvents:"none"},children:[Object(u.jsxs)("div",{className:"item-header",ref:"drag-target",children:[Object(u.jsx)("div",{className:"item-name",children:i}),Object(u.jsx)("div",{className:"item-type",children:"Antd"})]}),Object(u.jsx)("div",{className:"item-content",children:Object(u.jsx)("img",{src:c,alt:"\u7ec4\u4ef6\u9884\u89c8\u56fe"})})]})},t+""))},o=0;o<n.length;o++)i(o);return e},r.onClose=function(){var e=B.setVisible;e&&e(!1)},r.searchChart=function(e){var t=B.setCompKey;t&&t(e)};var i=B.doInit;return i&&i(),r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=document.getElementById("designer-ds-content"),t=document.getElementById("component-drag-container");t&&t.addEventListener("dragstart",this.dragStart),e&&e.addEventListener("dragover",this.dragover),e&&e.addEventListener("drop",this.drop)}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("designer-ds-content"),t=document.getElementById("component-drag-container");t&&t.removeEventListener("dragstart",this.dragStart),e&&e.removeEventListener("dragover",this.dragover),e&&e.removeEventListener("drop",this.drop)}},{key:"render",value:function(){return Object(u.jsxs)(be,{className:"comp-list",title:"\u7ec4\u4ef6\u5217\u8868",onClose:this.onClose,initPosition:{x:60,y:50-window.innerHeight},width:190,children:[Object(u.jsx)("div",{className:"list-search",children:Object(u.jsx)(ge.a,{placeholder:"\u641c\u7d22\u56fe\u5c42",onChange:this.searchChart})}),Object(u.jsx)("div",{className:"list-items",id:"component-drag-container",children:this.getChartDom()})]})}}]),n}(s.Component),Oe=Object(w.a)(ye),xe=(n(470),function(){function e(){Object(a.a)(this,e),this.events={}}return Object(i.a)(e,[{key:"register",value:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)}},{key:"unregister",value:function(e,t){if(this.events[e]){var n=this.events[e].indexOf(t);n>-1&&this.events[e].splice(n,1)}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e]&&this.events[e].forEach((function(e){e.apply(void 0,n)}))}}]),e}()),ke=new xe,Ce=n(9),we=n(104),Ee=n(89),De=n.n(Ee),Le=n(217),Ne=n(237),Re=(n(471),n.p+"static/media/lock.11cf90eb.svg"),Se=n.p+"static/media/preview-close.40634e66.svg",Te=n.p+"static/media/preview-open.fe6af5a2.svg",Ie=n.p+"static/media/unlock.a58cef96.svg",Ae=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).state={selected:!1,lock:!1,hide:!1,compId:"",name:""},r.toggleLock=function(){var e=se.a.lockChange;e&&e(r.state.compId,!r.state.lock)},r.toggleHide=function(){var e=se.a.hideChange;e&&e(r.state.compId,!r.state.hide)},r.onSelected=function(e){var t=se.a.selectedChange;t&&t(Object(Ce.a)(Object(Ce.a)({},r.state),{selected:!0}),e)};var i=e.selected,o=e.lock,c=e.hide,s=e.compId,l=e.name;return r.state={selected:i||!1,lock:o||!1,hide:c||!1,compId:s||"",name:l||""},r}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state||{},t=e.name,n=e.lock,r=e.hide,a=e.selected,i="layer-item ".concat(void 0!==a&&a?"layer-item-selected":r?"layer-item-hide":n?"layer-item-lock":"");return Object(u.jsxs)("div",{className:i,onClick:this.onSelected,children:[Object(u.jsx)("div",{className:"layer-item-name",children:t}),Object(u.jsxs)("div",{className:"layer-item-operators",children:[Object(u.jsx)("div",{className:"layer-item-operator",children:Object(u.jsx)("span",{onClick:this.toggleHide,children:Object(u.jsx)("img",{src:r?Se:Te,alt:r?"\u663e\u793a":"\u9690\u85cf",style:{width:14}})})}),Object(u.jsx)("div",{className:"layer-item-operator",children:Object(u.jsx)("span",{onClick:this.toggleLock,children:Object(u.jsx)("img",{src:n?Re:Ie,alt:n?"\u9501\u5b9a":"\u89e3\u9501"})})})]})]})}}]),n}(l.a.PureComponent),ze=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"create",value:function(){var e=Object(we.a)(De.a.mark((function e(t,n){var r=this;return De.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.config=n,this.instance||Ne.a.createAndRender(t,Ae,n).then((function(e){r.instance=e})),e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"destroy",value:function(){}},{key:"getConfig",value:function(){return this.config}},{key:"update",value:function(e,t){var n;this.config=Z.a.merge(this.config,e),(t=t||{reRender:!0,operateType:Le.OperateType.OPTIONS}).reRender&&(null===(n=this.instance)||void 0===n||n.setState(Object(Ce.a)({},this.config)))}}]),n}(Le.default),Me=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).layerContainerRef=null,e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=se.a.layerInstanceMap,t=this.props.item;(new ze).create(this.layerContainerRef,t).then((function(n){e[t.compId]=n}))}},{key:"render",value:function(){var e=this,t=this.props.item;return Object(u.jsx)("div",{id:t.compId+"",className:"layer-item-container",ref:function(t){return e.layerContainerRef=t}})}}]),n}(s.Component),Ge=Me,Pe=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).cancelSelected=function(e){var t=document.querySelector(".layer-list");t&&e.target&&(t.contains(e.target)&&!e.target.classList.contains("layer-item")&&(0,he.a.setTargets)([]))},e.onClose=function(){var e=se.a.setVisible;e&&e(!1)},e.searchLayer=function(e){var t=se.a.setContent;t&&t(e)},e.buildLayerList=function(){var e=Q.a.layoutConfigs,t=he.a.targetIds,n=se.a.searchContent,r=n.startsWith(":");return r&&(n=n.substring(1)),Object.values(e).filter((function(e){var t;return r?"hide"===n.trim()?e.hide:"lock"===n.trim()&&e.lock:null===(t=e.name)||void 0===t?void 0:t.includes(n)})).sort((function(e,t){return t.order-e.order})).map((function(e){var n={name:e.name,lock:e.lock,hide:e.hide,compId:e.id,selected:t.includes(e.id)};return Object(u.jsx)(Ge,{item:n},e.id)}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){ke.register("click",this.cancelSelected)}},{key:"componentWillUnmount",value:function(){ke.unregister("click",this.cancelSelected)}},{key:"render",value:function(){return Object(u.jsxs)(be,{title:"\u56fe\u5c42",onClose:this.onClose,initPosition:{x:250,y:50-window.innerHeight},className:"layer-list",children:[Object(u.jsx)("div",{className:"list-search",children:Object(u.jsx)(ge.a,{placeholder:"\u641c\u7d22\u56fe\u5c42",onChange:this.searchLayer})}),Object(u.jsx)("div",{className:"layer-items",children:this.buildLayerList()})]})}}]),n}(s.Component),He=Object(w.a)(Pe),Ke=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=B.visible,t=se.a.visible;return Object(u.jsxs)(u.Fragment,{children:[e&&Object(u.jsx)(Oe,{}),t&&Object(u.jsx)(He,{})]})}}]),n}(s.Component),Be=Object(w.a)(Ke),Ve=new(Object(i.a)((function e(){var t=this;Object(a.a)(this,e),this.visible=!1,this.position=[0,0],this.mouseDownTime=0,this.mouseUpTime=0,this.updateVisible=function(e){return t.visible=e},this.setPosition=function(e){return t.position=e},this.setMouseDownTime=function(e){return t.mouseDownTime=e},this.setMouseUpTime=function(e){return t.mouseUpTime=e},Object(E.n)(this,{visible:E.o,position:E.o,updateVisible:E.f,setPosition:E.f})}))),Ue=(n(472),n(238)),We=n(370),Ye=l.a.lazy((function(){return Promise.resolve().then(n.bind(null,423))})),Xe=l.a.lazy((function(){return Promise.resolve().then(n.bind(null,418))})),Fe=l.a.lazy((function(){return Promise.resolve().then(n.bind(null,427))})),qe=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).buildHeaderList=function(){for(var e=[],t=K.a.getLoader().headerItemInstances,n=0;n<t.length;n++){var r=t[n],a=r.icon,i=r.name,o=r.onClick;e.push(Object(u.jsx)("div",{className:"right-item",onClick:o,children:Object(u.jsxs)("span",{className:"item-span",children:[Object(u.jsx)(a,{}),"\xa0",i]})},n+""))}return e},e}return Object(i.a)(n,[{key:"render",value:function(){var e=Ue.a.canvasVisible,t=Ue.a.projectVisible,n=Ue.a.themeVisible,r=Ue.a.bluePrintVisible,a=this.buildHeaderList();return Object(u.jsxs)("div",{className:"designer-header",children:[Object(u.jsx)("div",{className:"header-left",children:Object(u.jsx)("div",{className:"header-title",children:"L C"})}),Object(u.jsx)("div",{className:"header-right",children:a}),e&&Object(u.jsx)(s.Suspense,{fallback:Object(u.jsx)(ee.a,{}),children:Object(u.jsx)(Xe,{})}),t&&Object(u.jsx)(s.Suspense,{fallback:Object(u.jsx)(ee.a,{}),children:Object(u.jsx)(Ye,{})}),n&&Object(u.jsx)(s.Suspense,{fallback:Object(u.jsx)(ee.a,{}),children:Object(u.jsx)(Fe,{})}),r&&Object(u.jsx)(s.Suspense,{fallback:Object(u.jsx)(ee.a,{}),children:Object(u.jsx)(We.BluePrintHdImpl,{})})]})}}]),n}(s.Component),Je=Object(w.a)(qe),_e=n(508),Qe=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={render:0},e.rulerX=null,e.rulerY=null,e.unit=50,e.scrollPos={x:0,y:0},e.baseOffset=20,e.ruleWheel=function(t){var n=he.a.dsContentRef,r=null===n||void 0===n?void 0:n.getBoundingClientRect(),a=r.x,i=r.y;e.scrollPos.x=-(a-80)/t,e.scrollPos.y=-(i-70)/t,e.unit=Math.floor(50/t),e.setState({render:e.state.render+1})},e.ruleDrag=function(){var t=he.a.dsContentRef,n=he.a.scale,r=null===t||void 0===t?void 0:t.getBoundingClientRect(),a=r.x,i=r.y;e.scrollPos.x=-(a-80)/n,e.scrollPos.y=-(i-70)/n,e.rulerX&&e.rulerX.scroll(e.scrollPos.x),e.rulerY&&e.rulerY.scroll(e.scrollPos.y)},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){(0,he.a.setRuleRef)(this)}},{key:"render",value:function(){var e=this,t=he.a.scale;return Object(u.jsxs)("div",{className:"lc-ruler",style:{position:"relative"},children:[Object(u.jsx)("div",{style:{position:"absolute",width:20,height:20,color:"#838383",textAlign:"center",fontSize:12,top:-1},children:"px"}),Object(u.jsx)("div",{className:"lc-ruler-horizontal",style:{height:this.baseOffset,width:"calc(100% - ".concat(this.baseOffset,"px)"),position:"relative",left:this.baseOffset},children:Object(u.jsx)(_e.a,{ref:function(t){return e.rulerX=t},scrollPos:this.scrollPos.x,zoom:t,lineColor:"#444b4d",textColor:"#a6a6a6",segment:2,negativeRuler:!0,textOffset:[0,10],backgroundColor:"#1a1a1a",unit:this.unit})}),Object(u.jsx)("div",{className:"lc-ruler-vertical",style:{width:this.baseOffset,height:window.innerHeight-this.baseOffset-90,position:"relative",overflow:"hidden"},children:Object(u.jsx)(_e.a,{ref:function(t){return e.rulerY=t},type:"vertical",scrollPos:this.scrollPos.y,lineColor:"#444b4d",textColor:"#a6a6a6",zoom:t,segment:2,negativeRuler:!0,textOffset:[10,0],backgroundColor:"#1a1a1a",unit:this.unit})}),Object(u.jsx)("div",{className:"lc-ruler-content",style:{position:"absolute",overflow:"hidden",top:this.baseOffset,left:this.baseOffset},children:this.props.children})]})}}]),n}(s.PureComponent),Ze=Qe,$e=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{style:{outline:"none"},className:"lc-event-container",children:this.props.children})}}]),n}(s.Component),et=$e,tt=n(378),nt=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).movableRef=s.createRef(),r.verticalGuidelines=[],r.horizontalGuidelines=[],r.onDragStart=function(e){var t=e.target;if(Q.a.layoutConfigs[t.id].lock)return!1},r.onDragEnd=function(e){var t=Q.a.updateLayout,n=he.a.backoff,r=he.a.setBackoff,a=e.lastEvent,i=e.target;if(a){var o=a.beforeTranslate,c=[{id:i.id,width:i.offsetWidth,height:i.offsetHeight,type:i.dataset.type,position:[o[0],o[1]]}];n?(t(c,!1),r(!1)):$.a.doDrag(c)}},r.onDragGroupEnd=function(e){var t,n=e.targets,r=Q.a.updateLayout;if(Q.a.layoutConfigs[n[0].id].lock)return!1;var a=he.a.backoff,i=he.a.setBackoff,o=he.a.setGroupCoordinate,c=he.a.groupCoordinate,s=[];e.events.forEach((function(e){var t=e.target,n=e.lastEvent;if(n){var r=n.beforeTranslate;s.push({id:t.id,width:t.offsetWidth,height:t.offsetHeight,type:t.dataset.type,position:[r[0],r[1]]})}}));var l=(null===e||void 0===e||null===(t=e.lastEvent)||void 0===t?void 0:t.beforeTranslate)||[0,0];o({minX:c.minX+l[0],minY:c.minY+l[1]}),s.length>0&&(a?(r(s,!1),i(!1)):$.a.doDrag(s))},r.onResizeEnd=function(e){var t=Q.a.updateLayout,n=he.a.backoff,r=he.a.setBackoff,a=e.target,i=e.lastEvent;if(i){var o=i.width,c=i.height,s=i.drag.translate,l=i.direction,u=[{id:a.id,width:o,height:c,type:a.dataset.type,position:[s[0],s[1]]}];n?(t(u,!1),r(!1)):$.a.doResize(u,l)}},r.onResizeGroupEnd=function(e){var t=Q.a.updateLayout,n=he.a.backoff,r=he.a.setBackoff,a=[];if(e.events.forEach((function(e){var t=e.target,n=e.lastEvent;if(n){var r=n.drag.translate;a.push({id:t.id,width:t.offsetWidth,height:t.offsetHeight,type:t.dataset.type,position:[r[0],r[1]]})}})),e.lastEvent){var i=e.lastEvent,o=i.dist,c=i.direction;if(a.length>0){n?(t(a,!1),r(!1)):$.a.doResize(a,c);var s=he.a.setGroupCoordinate,l=he.a.groupCoordinate;-1===c[0]||-1===c[1]?s({minX:l.minX-o[0],minY:l.minY-o[1],groupWidth:l.groupWidth+o[0],groupHeight:l.groupHeight+o[1]}):s({groupWidth:l.groupWidth+o[0],groupHeight:l.groupHeight+o[1]})}}},r.onResizeGroup=function(e){e.events.forEach((function(e){e.target.style.width="".concat(e.width,"px"),e.target.style.height="".concat(e.height,"px"),e.target.style.transform=e.drag.transform}))},r.onResize=function(e){var t=e.target,n=e.width,r=e.height,a=e.drag;t.style.width="".concat(n,"px"),t.style.height="".concat(r,"px"),t.style.transform="translate(".concat(a.beforeTranslate[0],"px, ").concat(a.beforeTranslate[1],"px)")},r.onResizeStart=function(e){var t=e.target;if(Q.a.layoutConfigs[t.id].lock)return!1},r.onDrag=function(e){var t=e.target,n=e.beforeTranslate;t.style.transform="translate(".concat(n[0],"px, ").concat(n[1],"px)")},r.onDragGroup=function(e){var t=e.targets;if(Q.a.layoutConfigs[t[0].id].lock)return!1;e.events.forEach((function(e){return e.target.style.transform=e.transform}))},r.onResizeGroupStart=function(e){var t=e.targets;if(Q.a.layoutConfigs[t[0].id].lock)return!1},r.generateSnapStep=function(e,t){for(var n=[],r=0;r<t;r+=e)n.push(r);return n},r.state={targets:[]};var i=Q.a.canvasConfig,o=i.width,c=i.height;return r.verticalGuidelines=r.generateSnapStep(50,o),r.horizontalGuidelines=r.generateSnapStep(50,c),r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){(0,he.a.setMovableRef)(this.movableRef)}},{key:"render",value:function(){var e=this.props.readonly,t=void 0!==e&&e,n=he.a.selectorRef,r=he.a.targets,a=he.a.scale,i=Q.a.canvasConfig,o=i.rasterize,c=i.dragStep,s=i.resizeStep,l=document.getElementsByClassName("lc-comp-item");return Object(u.jsxs)(u.Fragment,{children:[this.props.children,Object(u.jsx)(tt.a,{ref:this.movableRef,target:r,zoom:1/a,draggable:!t,resizable:!t,keepRatio:!1,maxSnapElementGapDistance:400,maxSnapElementGuidelineDistance:400,snappable:!0,snapGap:!0,snapThreshold:5,isDisplaySnapDigit:!0,snapDirections:{top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},elementSnapDirections:{top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},ables:[at],dimensionViewable:!0,roundable:!0,verticalGuidelines:this.verticalGuidelines,horizontalGuidelines:this.horizontalGuidelines,isDisplayInnerSnapDigit:!0,isDisplayGridGuidelines:!0,isDisplayShadowRoundControls:!0,displayAroundControls:!0,clipArea:!0,clipVerticalGuidelines:[0,"50%","100%"],clipHorizontalGuidelines:[0,"50%","100%"],clipTargetBounds:!0,elementGuidelines:Array.from(l),throttleDrag:o?c:1,throttleResize:o?s:1,onClickGroup:function(e){var t;return null===(t=n.current)||void 0===t?void 0:t.clickTarget(e.inputEvent,e.inputTarget)},onDrag:this.onDrag,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDragGroup:this.onDragGroup,onDragGroupEnd:this.onDragGroupEnd,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeEnd:this.onResizeEnd,onResizeGroupStart:this.onResizeGroupStart,onResizeGroup:this.onResizeGroup,onResizeGroupEnd:this.onResizeGroupEnd})]})}}]),n}(s.Component),rt=Object(w.a)(nt),at={name:"dimensionViewable",props:{dimensionViewable:Boolean},events:{},render:function(e){var t=e.getRect();return Object(u.jsx)("div",{className:"moveable-dimension",style:{left:"-125px",top:"-60px",color:"#cacacaff",fontSize:"14px",position:"absolute",boxSizing:"content-box",borderRadius:"5px",padding:"5px",pointerEvents:"none"},children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:["\u4f4d\u7f6e: ",Math.round(t.left)," x ",Math.round(t.top)]}),Object(u.jsxs)("p",{children:["\u5c3a\u5bf8: ",Math.round(t.offsetWidth)," x ",Math.round(t.offsetHeight)]})]})},"dimension-viewer")}},it=n(321),ot=(n(473),n(539)),ct=n(540),st=n(541),lt=n(522),ut=n(542),dt=n(146),ht=n(315),ft=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).menuList=[{name:"\u9501\u5b9a",icon:ot.a,onClick:ht.n},{name:"\u89e3\u9501",icon:ot.a,onClick:ht.t},{name:"\u9690\u85cf",icon:ct.a,onClick:ht.m},{name:"\u590d\u5236",icon:st.a,onClick:ht.k},{name:"\u7f6e\u9876",icon:lt.a,onClick:ht.x},{name:"\u7f6e\u5e95",icon:ut.a,onClick:ht.w},{name:"\u5220\u9664",icon:dt.a,onClick:ht.l}],e}return Object(i.a)(n,[{key:"render",value:function(){for(var e=Ve.visible,t=Ve.position,n=void 0===t?[0,0]:t,r=[],a=0;a<this.menuList.length;a++){var i=this.menuList[a],o=i.icon;r.push(Object(u.jsxs)("div",{className:"menu-item",onClick:i.onClick,children:[Object(u.jsx)("label",{children:Object(u.jsx)(o,{})}),Object(u.jsx)("span",{children:i.name})]},a+""))}return Object(u.jsx)(u.Fragment,{children:e&&Object(u.jsx)("div",{className:"lc-right-menu",style:{position:"fixed",top:n[1],left:n[0]},children:r})})}}]),n}(s.Component),pt=Object(w.a)(ft);!function(e){e[e.SINGLE=0]="SINGLE",e[e.COILED=1]="COILED"}(D||(D={}));var vt=["control + s","alt","control + l","control + shift + l","control + h","control + k","control + 1","control + 2","control + 3","control + 4","control + 5"],jt=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).handlerMapping={},r.currHotKey=[],r.existHandlerKey="",r.specialDomCache={},r.getSpecialDomCache=function(e){var t=r.specialDomCache[e];if(t)return t;var n=document.querySelector(e);return n?(r.specialDomCache[e]=n,n):null},r.doHandler=function(e,t){var n=r.handlerMapping[t]||{},a=n.handler,i=n.triggerType,o=void 0===i?D.SINGLE:i,c=n.range;if(a&&(o===D.SINGLE&&r.existHandlerKey!==t||o===D.COILED)){var s=he.a.pointerTarget;if(c){var l=r.getSpecialDomCache(c);if(!l||!l.contains(s))return}Array.isArray(a)?a.forEach((function(t){return t(e)})):a(e),r.existHandlerKey=t}},r.keyDown=function(e){var t=e.key.toLowerCase();r.currHotKey.some((function(e){return e===t}))||r.currHotKey.push(t);var n=r.currHotKey.join(" + ");vt.some((function(e){return e===n}))&&e.preventDefault(),r.doHandler(e,n)},r.keyUp=function(e){var t=e.key.toLowerCase();r.currHotKey.some((function(e){return e===t}))&&(r.currHotKey=r.currHotKey.filter((function(e){return e!==t})),r.existHandlerKey="")},r.onBlur=function(){r.currHotKey=[],r.existHandlerKey=""},r.handlerMapping=e.handlerMapping,r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyDown),document.addEventListener("keyup",this.keyUp),window.onblur=this.onBlur}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyDown),document.removeEventListener("keyup",this.keyUp),window.onblur=null}},{key:"render",value:function(){return null}}]),n}(s.Component),mt={"control + a":{handler:ht.v,range:".lc-ruler-content"},"control + v":{handler:ht.k,range:".lc-ruler-content"},"control + l":{handler:ht.n},"control + shift + l":{handler:ht.t},"control + h":{handler:ht.m},"control + arrowup":{handler:ht.x},"control + arrowdown":{handler:ht.w},"control + s":{handler:ht.s},delete:{handler:[ht.a,ht.b,ht.l]},"control + z":{handler:ht.E,range:".lc-ruler-content"},"control + shift + z":{handler:ht.u,range:".lc-ruler-content"},"control + k":{handler:ht.D},"control + 1":{handler:ht.C},"control + 2":{handler:ht.y},"control + 3":{handler:ht.z},"control + 4":{handler:ht.A},"control + 5":{handler:ht.B},arrowup:{handler:ht.r,triggerType:D.COILED,range:".lc-ruler-content"},arrowdown:{handler:ht.o,triggerType:D.COILED,range:".lc-ruler-content"},arrowleft:{handler:ht.p,triggerType:D.COILED,range:".lc-ruler-content"},arrowright:{handler:ht.q,triggerType:D.COILED,range:".lc-ruler-content"},"control + shift + arrowup":{handler:ht.d,triggerType:D.COILED,range:".lc-ruler-content"},"control + shift + arrowdown":{handler:ht.j,triggerType:D.COILED,range:".lc-ruler-content"},"control + shift + arrowleft":{handler:ht.h,triggerType:D.COILED,range:".lc-ruler-content"},"control + shift + arrowright":{handler:ht.f,triggerType:D.COILED,range:".lc-ruler-content"},"control + alt + arrowup":{handler:ht.c,triggerType:D.COILED,range:".lc-ruler-content"},"control + alt + arrowdown":{handler:ht.i,triggerType:D.COILED,range:".lc-ruler-content"},"control + alt + arrowleft":{handler:ht.g,triggerType:D.COILED,range:".lc-ruler-content"},"control + alt + arrowright":{handler:ht.e,triggerType:D.COILED,range:".lc-ruler-content"}},bt=n(314),gt=n(241),yt=n(385),Ot=Object(w.a)((function(e){var t=e.children,n=e.onDoubleClick,r=l.a.useRef(null),a=l.a.useRef(null),i=Q.a.canvasConfig;return Object(s.useEffect)((function(){var e=r.current,t=a.current;if(e&&t){(0,he.a.setDsContentRef)(t);var n=new yt.a({container:e,content:t,posOffset:{x:80,y:70},scaleCallback:function(e){var t=e.scale,n=e.ratio,r=he.a.setScale,a=he.a.setRatio,i=he.a.rulerRef;r(t),a(n),null===i||void 0===i||i.ruleWheel(t)},dragCallback:function(){var e=he.a.rulerRef;null===e||void 0===e||e.ruleDrag()}});return function(){n.destroy()}}}),[]),Object(u.jsx)("div",{className:"designer-ds-container",ref:r,style:{overflow:"hidden",height:window.innerHeight-90,width:window.innerWidth-95,backgroundColor:"#434343",position:"relative"},children:Object(u.jsx)("div",{className:"designer-ds-content lc-drag-scale-provider",id:"designer-ds-content",ref:a,onDoubleClick:n,style:{width:null===i||void 0===i?void 0:i.width,height:null===i||void 0===i?void 0:i.height,background:"#1c1c1c",position:"absolute"},children:t})})})),xt=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={designerRef:null},e.updateActive=function(e){var t=e.target,n=t.id,r=t.dataset.type,a=X.a.activeConfig,i=X.a.activeElem;Object(gt.isEqual)(i,{id:n,type:r})||a(n,r)},e.generateElement=function(){var e=Q.a.layoutConfigs;return Object.values(e).sort((function(e,t){return e.order-t.order})).map((function(e){return Object(u.jsx)(bt.a,{layout:e},e.id)}))},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.setState({designerRef:document.querySelector(".lc-ruler-content")})}},{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(et,{children:Object(u.jsx)(it.a,{children:Object(u.jsx)(Ze,{children:Object(u.jsx)(Ot,{onDoubleClick:this.updateActive,children:Object(u.jsx)(rt,{children:this.generateElement()})})})})}),Object(u.jsx)(pt,{}),Object(u.jsx)(jt,{handlerMapping:mt})]})}}]),n}(s.PureComponent),kt=Object(w.a)(xt),Ct=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){K.a.getLoader().load(),ke.register("click",Nt),ke.register("contextmenu",Rt),ke.register("pointerdown",St),ke.register("pointerup",Tt),document.addEventListener("click",wt),document.addEventListener("contextmenu",Et),document.addEventListener("pointerdown",Dt),document.addEventListener("pointerup",Lt)}},{key:"componentWillUnmount",value:function(){ke.unregister("click",Nt),ke.unregister("contextmenu",Rt),ke.unregister("pointerdown",St),ke.unregister("pointerup",Tt),document.removeEventListener("click",wt),document.removeEventListener("contextmenu",Et),document.removeEventListener("pointerdown",Dt),document.removeEventListener("pointerup",Lt)}},{key:"render",value:function(){return Q.a.loaded?Object(u.jsxs)(x,{children:[Object(u.jsx)(h,{children:Object(u.jsx)(Je,{})}),Object(u.jsxs)(p,{children:[Object(u.jsx)(j,{children:Object(u.jsx)(Y,{})}),Object(u.jsx)(b,{children:Object(u.jsx)(kt,{})}),Object(u.jsx)(y,{children:Object(u.jsx)(ae,{})})]}),Object(u.jsx)(C,{children:Object(u.jsx)(pe,{})}),Object(u.jsx)(Be,{})]}):Object(u.jsx)(ee.a,{})}}]),n}(s.Component);t.default=Object(w.a)(Ct);var wt=function(e){return ke.emit("click",e)},Et=function(e){return ke.emit("contextmenu",e)},Dt=function(e){return ke.emit("pointerdown",e)},Lt=function(e){return ke.emit("pointerup",e)},Nt=function(e){var t=Ve.visible,n=Ve.updateVisible;t&&0===e.button&&setTimeout((function(){n(!1)}))},Rt=function(e){e.preventDefault();var t=Ve.mouseDownTime,n=Ve.mouseUpTime,r=Ve.setPosition,a=Ve.updateVisible;["lc-comp-item","moveable-area"].some((function(t){return e.target.classList.contains(t)}))&&n-t<200?(a&&a(!0),r([e.clientX,e.clientY])):a&&a(!1)},St=function(){(0,Ve.setMouseDownTime)(Date.now())},Tt=function(e){(0,Ve.setMouseUpTime)(Date.now()),(0,he.a.setPointerTarget)(e.target)}}}]);
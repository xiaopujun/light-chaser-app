{"version":3,"sources":["../../src/consts.ts","../../src/utils.ts","../../src/dom.ts","../../src/index.ts","../../src/EventEmitter.ts","../../src/CssToMatrix.ts","../../src/ChildrenDiffer.ts","../../src/PolyMap.ts","../../src/HashMap.ts","../../src/Link.ts","../../src/Result.ts","../../src/ListDiffer.ts","../../src/DragScroll.ts","../../node_modules/tslib/tslib.es6.js","../../src/ClientStore.ts","../../src/Gesto.ts","../../src/styled.ts","../node_modules/shallowequal/index.js","../node_modules/rc-resize-observer/es/utils/observerUtil.js","../node_modules/rc-resize-observer/es/SingleObserver/DomWrapper.js","../node_modules/rc-resize-observer/es/Collection.js","../node_modules/rc-resize-observer/es/SingleObserver/index.js","../node_modules/rc-resize-observer/es/index.js","../../src/presets.ts","../../src/userAgent.ts","../../src/userAgentData.ts","../../src/agent.ts","../../src/react-css-styled/StyledElement.tsx","../../src/react-css-styled/styled.tsx","../node_modules/react-moveable/dist/moveable.esm.js","../../src/KeyController.ts","../../src/reactive.ts","../../src/SelectoManager.tsx","../../src/Selecto.tsx","../../src/react-selecto/consts.ts","../../src/react-selecto/Selecto.tsx","../node_modules/rc-textarea/es/calculateNodeHeight.js","../node_modules/rc-textarea/es/ResizableTextArea.js","../node_modules/rc-textarea/es/index.js","../../src/react-ruler/Ruler.tsx","../node_modules/@ant-design/icons-svg/es/asn/EyeInvisibleOutlined.js","../node_modules/@ant-design/icons/es/icons/EyeInvisibleOutlined.js","../node_modules/antd/es/input/utils.js","../node_modules/antd/es/input/ClearableLabeledInput.js","../node_modules/antd/es/input/Input.js","../node_modules/antd/es/input/Group.js","../node_modules/@ant-design/icons-svg/es/asn/SearchOutlined.js","../node_modules/@ant-design/icons/es/icons/SearchOutlined.js","../node_modules/antd/es/input/Search.js","../node_modules/antd/es/input/TextArea.js","../node_modules/antd/es/input/Password.js","../node_modules/antd/es/input/index.js","../node_modules/@ant-design/icons-svg/es/asn/VerticalAlignTopOutlined.js","../node_modules/@ant-design/icons/es/icons/VerticalAlignTopOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/LockOutlined.js","../node_modules/@ant-design/icons/es/icons/LockOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/CopyOutlined.js","../node_modules/@ant-design/icons/es/icons/CopyOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/VerticalAlignBottomOutlined.js","../node_modules/@ant-design/icons/es/icons/VerticalAlignBottomOutlined.js"],"names":["UNDEFINED","IS_WINDOW","window","doc","document","OPEN_CLOSED_CHARACTERS","open","close","TINY_NUM","DEFAULT_UNIT_PRESETS","pos","size","innerWidth","innerHeight","Math","max","min","dot","a1","a2","b1","b2","isUndefined","value","isObject","isArray","Array","isString","isNumber","isFunction","findOpen","openCharacter","texts","index","length","openCloseCharacters","findIgnore","closeCharacter","i","character","trim","nextIndex","find","_a","findClose","ignore","otherText","slice","join","RegExp","exec","splitText","text","splitOptions","separator","_b","isSeparateFirst","isSeparateOnlyOpenClose","_c","_d","openClosedText","map","regex","split","filter","chr","values","tempValues","resetTemp","push","isSeparateOpenClose","nextOpenCloseCharacters","splice","indexOf","isEqualSeparator","splitSpace","splitComma","splitBracket","matches","prefix","suffix","splitUnit","unit","NaN","parseFloat","camelize","str","replace","all","letter","toUpperCase","decamelize","letter2","toLowerCase","now","Date","getTime","findIndex","arr","callback","defaultIndex","defalutValue","requestAnimationFrame","firstTime","raf","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","bind","currTime","setTimeout","cancelAnimationFrame","caf","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","handle","clearTimeout","getKeys","obj","Object","keys","convertUnitSize","sizeFunction","between","checkBoundSize","targetSize","compareSize","isMax","ratio","throttle","every","defaultSize","throttledSize","calculateBoundSize","minSize","maxSize","keepRatio","width","height","minWidth","minHeight","maxWidth","maxHeight","sum","nums","total","average","getRad","pos1","pos2","distX","distY","rad","atan2","PI","getShapeDirection","points","center","getCenterPoint","pos1Rad","pos2Rad","getDist","a","b","sqrt","pow","num","reverseUnit","round","throttleArray","forEach","_","pushSet","elements","element","hasClass","className","classList","contains","match","addClass","add","removeClass","remove","reg","addEvent","el","type","listener","options","addEventListener","removeEvent","removeEventListener","getDocument","ownerDocument","getDocumentElement","documentElement","getDocumentBody","body","getWindow","defaultView","isWindow","val","isNode","nodeName","nodeType","prefixNames","classNames","name","prefixCSS","css","selector","ref","target","e","refs","Properties","properties","action","prototype","component","withMethods","methods","duplicate","methodName","args","result","_events","on","this","eventName","_addEvent","off","events","once","Promise","resolve","_this","emit","param","isStop","__spreadArrays","info","trigger","listeners","x","startIndex","fromX","fromIndex","matrix","inverseMatrix","v","iv","ignoreDimension","m","newMatrix","n","invert","createIdentityMatrix","identityIndex","j","swap","divide","targetStartIndex","getOrigin","originMatrix","w","fromTranslation","convertPositionMatrix","convertDimension","multiplies","matrixes","multiply","matrix2","k","l","plus","nextPos","minus","convertCSStoMatrix","convertMatrixtoCSS","calculate","rotateX3d","rotateY3d","rotateZ3d","createRotateMatrix","scale3d","rotate","translate3d","matrix3d","matrix1","cos","sin","createScaleMatrix","scale","createOriginMatrix","origin","createWarpMatrix","pos0","pos3","nextPos0","nextPos1","nextPos2","nextPos3","y0","y1","y2","y3","v0","v1","v2","v3","h","transpose","createMatrix","parseMat","transform","toMat","parse","calculateMatrixDist","res","getDistElementMatrix","container","getComputedStyle","matrixInfos","matrixFunction","functionValue","t","functionName","posX","posY","posZ","sx","_f","_g","sy","sz","_h","unitValue","findKeyCallback","childrenCount","list","_super","tslib_1","diff","prevList","listdiff","get","set","prevIndex","object","SUPPORT_MAP","connect","prevLink","nextLink","disconnect","getIndex","link","caculateOrdered","ordered","changed","fromLinks","toLinks","from","to","fixed","fromLink","toLink","orderChanged","pureChanged","fromBefore","toBefore","mapClass","added","removed","maintained","prevKeys","prevKeyMap","keyMap","changedBeforeAdded","removedMap","addedCount","removedCount","listIndex","prevListIndex","call","update","newData","getDefaultScrollPosition","scrollLeft","scrollTop","checkDefaultScrollEvent","getContainerElement","querySelector","Element","current","_currentOptions","_lock","next","inputEvent","checkScroll","__extends","dragStart","top","left","rect","getBoundingClientRect","_flag","_startPos","clientX","clientY","_startRect","_prevScrollPos","_getScrollPosition","_registerScrollEvent","drag","_timer","threshold","direction","_continueDrag","isDrag","_isWait","prevScrollPos","nextScrollPos","offsetX","offsetY","nextDirection","abs","throttleTime","dragEnd","_unregisterScrollEvent","useScroll","nowTime","distTime","_prevTime","requestScroll","checkScrollEvent","_unregister","_onScroll","tinyThrottle","getAreaSize","nextPoint","point","fitPoints","getMinMaxs","minX","minY","maxX","maxY","ratioX","ratioY","xs","ys","isInside","excludeLine","y","xLine","xLinearConstants","getLinearConstants","lines","convertLines","intersectionPosInfos","line","linearConstants2","linearConstants","standardPoint","getPointsOnLines","getIntersectionPointsByConstants","xPoints","linePoint","point2","point1","p","intersectionCount","xMap","prevValue","nextValue","x1","dx","dy","c","linearConstants1","c1","c2","isZeroA","isZeroB","results","Infinity","minMaxs","order","minMax","right","bottom","pointX","pointY","getOverlapPointInfos","points1","targetPoints1","targetPoints2","points2","lines1","lines2","linearConstantsList1","line1","linearConstantsList2","line2","overlapInfos","linePointInfos","index1","index2","isNext","pointMap","key","getOverlapPoints","getOverlapSize","d","setPrototypeOf","__proto__","hasOwnProperty","assign","s","arguments","apply","__","constructor","create","injectStyle","shadowRoot","style","createElement","setAttribute","nonce","innerHTML","original","trimmedSelector","trimmedSubSelector","subSelector","replaceStyle","head","appendChild","injectClassName","stringHash","toString","inject","parentElement","getRootNode","rootNode","getShadowRoot","styleElement","count","getAttribute","destroy","injectCount","parentNode","removeChild","module","exports","objA","objB","compare","compareContext","ret","keysA","keysB","bHasOwnProperty","idx","valueA","valueB","elementListeners","Map","resizeObserver","ResizeObserver","entities","entity","_elementListeners$get","DomWrapper","_React$Component","_inherits","_createSuper","_classCallCheck","_createClass","props","children","React","CollectionContext","SingleObserver","disabled","elementRef","wrapperRef","onCollectionResize","isRenderProps","mergedChildren","sizeRef","offsetWidth","offsetHeight","canRef","supportRef","originRef","mergedRef","composeRef","propsRef","onInternalResize","_propsRef$current","onResize","data","_target$getBoundingCl","fixedWidth","floor","fixedHeight","mergedOffsetWidth","mergedOffsetHeight","sizeInfo","_objectSpread","then","currentElement","findDOMNode","has","Set","observe","delete","unobserve","toArray","child","concat","_extends","Collection","_ref","onBatchResize","resizeIdRef","resizeInfosRef","currentId","Provider","some","getUserAgentString","agent","userAgent","navigator","execRegExp","pattern","hasUserAgentData","userAgentData","brands","convertVersion","findPreset","presets","userPreset","version","preset","versionTest","findVersion","findPresetBrand","brandInfo","brand","findBrand","BROWSER_PRESETS","test","id","CHROMIUM_PRESETS","versionAlias","WEBKIT_PRESETS","WEBVIEW_PRESETS","OS_PRESETS","isWebView","getClientHintsAgent","osData","fullVersionList","isMobile","firstBrand","platform","browser","majorVersion","webkit","webkitVersion","chromium","chromiumVersion","webview","os","chromiumBrand","webkitBrand","platfomResult","browserBrandByFullVersionList","browserBrand","parseInt","isHints","nextAgent","browserPreset","browserVersion","osPreset","osVersion","chromiumPreset","webkitPreset","getLegacyAgent","styled","Tag","injector","cssStyled","cssId","forwardRef","attributes","targetRef","useRef","useImperativeHandle","useEffect","injectResult","cspNonce","extendStatics","TypeError","String","__assign","__spreadArray","pack","ar","makeAble","able","DIRECTIONS4","DIRECTIONS","getAgent","IS_WEBKIT","IS_WEBKIT605","navi","browserName","IS_CHROME","IS_CHROMIUM","IS_CHROMIUM109","IS_FIREFOX","IS_SAFARI_ABOVE15","PREFIX","directionCSS","dir","originX","originY","offset","MOVEABLE_CSS","degree","getSVGCursor","degree45","defaultCursor","getCursorCSS","NEARBY_POS","FLOAT_POINT_NUM","MIN_SCALE","MAX_NUM","MIN_NUM","DIRECTION_REGION_TO_DIRECTION","nw","ne","sw","se","DIRECTION_INDEXES","DIRECTION_ROTATIONS","MOVEABLE_METHODS","setCustomDrag","state","delta","isPinch","isConvert","ableName","gestos","move","datas","originalDatas","ableDatas","convertDragDist","parentEvent","CustomGesto","prevX","prevY","startX","startY","isFlag","draggable","__proto","client","isFirstDrag","isPrevDrag","deltaX","deltaY","parentGesto","calculatePointerDist","moveable","moveableClientRect","rootMatrix","is3d","calculateInversePosition","getDragDist","setDragStart","allMatrix","beforeMatrix","offsetMatrix","targetMatrix","transformOrigin","inverseBeforeMatrix","absoluteOrigin","startDragBeforeDist","startDragDist","resolveTransformEvent","event","beforeRenderable","transformIndex","nextTransforms","nextTransformAppendedIndexes","transforms","beforeFunctionTexts","undefined","beforeFunctionTexts2","targetFunctionText","afterFunctionTexts","afterFunctionTexts2","beforeFunctions","beforeFunctions2","targetFunction","afterFunctions","afterFunctions2","targetFunctions","beforeFunctionMatrix","beforeFunctionMatrix2","afterFunctionMatrix","afterFunctionMatrix2","allFunctionMatrix","targetFunctionMatrix","convertTransformInfo","matFunctionName","beforeTransform","beforeTransform2","targetTansform","afterTransform","afterTransform2","targetAllTransform","isAppendTransform","isAppend","convertTransformFormat","dist","getTransfromMatrix","isAfter","nextTargetMatrix","res1","getBeforeDragDist","isBefore","getPosIndexesByDirection","indexes","getPosByDirection","poses","xRatio","yRatio","getNextMatrix","getAbsoluteMatrix","fillTransformStartEvent","getBeforeRenderableDatas","setTransform","startTransforms","setTransformIndex","setDefaultTransformIndex","property","func","startValue","fillOriginalTransform","getNextTransforms","getNextTransformText","getNextStyle","nextStyle","fillTransformEvent","nextTransform","Draggable","fillCSSObject","getTranslateFixedPosition","fixedDirection","fixedOffset","isAllTransform","nextMatrix","targetTransform","getNextTransformMatrix","nextFixedPosition","fixedOffsetPosition","calculatePosition","getDirectionOffset","getTranslateDist","fixedPosition","groupable","groupLeft","groupTop","getResizeDist","prevOrigin","prevWidth","prevHeight","nextOrigin","prevSize","isNaN","calculateTransformOrigin","startPos","fixedPos","calculatePoses","getMatrixStackInfo","checkContainer","targetTransformOrigin","requestEnd","isEnd","hasFixed","offsetContainer","getOffsetInfo","offsetParent","zoom","getStyle","getCachedStyle","position","getElementTransform","isFixed","getTransformMatrix","isOffsetEnd","isStatic","parentClientLeft","parentClientTop","fixedClientLeft","fixedClientTop","fixedInfo","hasTransform","fixedContainer","getPositionFixedInfo","convert3DMatrixes","getOffsetPosInfo","tagName","hasOffset","isSVG","targetOrigin","offsetPos","offsetLeft","offsetTop","getSVGMatrix","targetZoom","offsetInfo","offsetZoom","isCustomElement","parentSlotElement","customOffsetParent","customOffsetLeft","customOffsetTop","clientLeft","clientTop","margin","getBodyOffset","scaleX","scaleY","scaleMatrix","isElementTarget","cacheStyleMap","clientRectStyleMap","matrixContainerInfos","setStoreCache","useCache","cache","nextStyle_1","cached","_i","defaultSync","fn","getBeforeTransformOrigin","getTransformOriginArray","o","isHorizontal","getSVGViewBox","ownerSVGElement","measureSVGSize","computedTransform","baseVal","_loop_1","lastParent","isParent","checkZoom","getTargetStyle","hasSlot","assignedSlotParentElement","assignedSlot","targetPosition","willChange","slotParentNode","targetParentNode","host","isGTarget","getBBox","bbox","viewBox","getSVGGraphicsOffset","getBodyStyle","bodyPosition","marginLeft","marginTop","makeMatrixCSS","clientWidth","clientHeight","viewBoxWidth","viewBoxHeight","preserveAspectRatio","align","meetOrSlice","svgOrigin","translate","xAlign","yAlign","scaleDimension","getRect","posesX","posesY","calculateRect","calculateMoveablePosition","x2","x3","x4","y4","_e","pos4","sign","getDistSize","vec","getDiagonalSize","getLineStyle","getControlTransform","rotation","reduce","prev","getProps","self","getSize","cssWidth","cssHeight","contentWidth","contentHeight","minOffsetWidth","minOffsetHeight","maxOffsetWidth","maxOffsetHeight","inlineCSSWidth","inlineCSSHeight","svg","targetStyle","boxSizing","borderLeft","borderRight","borderTop","borderBottom","horizontalPadding","verticalPadding","horizontalOffset","verticalOffset","containerWidth","containerHeight","getParentStyle","getRotationRad","getExtendsRect","isRoot","extendsRect","scrollWidth","scrollHeight","overflow","getClientRectByPosition","base","isExtends","baseTop","baseLeft","getClientRect","clientRect","getTotalDirection","parentDirection","getDirection","deg","direciton","getAbsolutePoses","getAbsolutePosesByState","unsetAbles","isControl","unset","unsetGesto","gestoName","gesto","isIdle","resolvedEvent","cssText","fillAfterTransform","prevEvent","nextEvent","fillParams","params","isBeforeEvent","nextParams","currentTarget","isTrusted","stopAble","isEventStart","stopDrag","stop","isStartEvent","lastEvent","fillEndParams","isDouble","catchEvent","_emitter","triggerEvent","isManager","pseudoElt","filterAbles","ables","triggerAblesSimultaneously","enabledAbles","ableGroups","method","ableGroup","equals","groupBy","groups","groupKeys","groupKey","keyIndex","group","flat","cur","maxOffset","sort","calculatePadding","convertCSSSize","isRelative","getTinyDist","getDirectionViewClassName","isDragging","targetGesto","controlGesto","getEventData","getGestoData","getDirectionCondition","checkAbles","isRequest","requestAble","getRefTarget","isSelector","getRefTargets","targets","querySelectorAll","getDragDistByState","getSizeDistByDist","startSize","startOffsetWidth","startOffsetHeight","distWidth","distHeight","standardRad","signSize","startWidthSize","startHeightSize","secondRad","firstRad","rad_1","distSize","getOffsetSizeDist","sizeDirection","pinchScale","parentDistance","parentDist","parentScale","startFixedDirection","directionsDists","directionRatios","ratioDistance","dist_1","convertTransformUnit","xy","leftOrigin","rightOrigin","originObject","nextOriginObject","convertTransformOriginArray","isDeepArrayEquals","arr1","arr2","value1","value2","isArray1","isArray2","watchValue","store","valueKey","Pinchable","pinchStart","angle","pinchable","controlEventName","pinchAbles","controlAbles","canPinch","ableEvent","parentRotate","snapRenderInfo","request","pinch","distance","resolveMatrix","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd","fillChildEvents","groupableDatas","childDatas","moveables","triggerChildGesto","isStart","childs","ev","childMoveable","childEvent","childGestos","parentFlag","triggerChildAbles","eachEvent","startChildDist","parentDatas","startPositions","originalX","originalY","VERTICAL_NAMES","HORIZONTAL_NAMES","VERTICAL_NAMES_MAP","start","end","HORIZONTAL_NAMES_MAP","hasGuidelines","snappable","bounds","innerBounds","verticalGuidelines","horizontalGuidelines","snapGridWidth","snapGridHeight","guidelines","enableSnap","getSnapDirections","snapDirections","splitSnapDirectionPoses","snapPoses","nextSnapPoses","nextSnapDirections","mapSnapDirectionPoses","horizontalNames","verticalNames","horizontal","vertical","checkMoveableSnapPoses","customSnapThreshold","snapThreshold","selectValue","checkSnapPoses","checkSnap","checkSnaps","getNearestSnapGuidelineInfo","snapInfo","isSnap","guideline","posInfo","posInfos","guidelineInfo","guidelineInfos","targetType","targetPoses","posType","snapPosInfos","targetPos","snapPosInfo","getSnapInfosByDirection","snapDirection","nextPoses","getPosesByDirection","alignPoses","checkSnapBoundPriority","aDist","bDist","isBound","getNearOffsetInfo","offsets","aSign","bSign","aOffset","bOffset","isStartLine","cx","cy","hitTestLine","test1","test2","isSameStartLine","dots","centerSign","error","checkInnerBoundDot","checkLineBoundCollision","boundLine","isRender","dot1","boundDot1","boundDot2","dy2","hasDx","hasDy","slope","getInnerBoundInfo","lineInfos","verticalSign","horizontalSign","lineConstants","isAllBound","isVerticalBound","isHorizontalBound","leftLine","topLine","rightLine","bottomLine","topBoundInfo","bottomBoundInfo","leftBoundInfo","rightBoundInfo","isAllVerticalBound","isAllHorizontalBound","checkInnerBound","multiple","sizeOffset","getInnerBoundDragInfo","innerBoundInfo","getCheckInnerBoundLineInfos","widthOffsetInfo","heightOffsetInfo","getInverseDragDist","virtualPoses","lineDirections","getCheckSnapLineDirections","dir1","dir2","virtualLine","TINY_NUM$1","solveLineConstants","isBoundRotate$1","relativePoses","boundDots","checkRotateInnerBounds","prevPoses","relativeLeft","relativeRight","relativeTop","relativeBottom","dotInfos","lineRad","solveReverseLine","lineDist","getDistPointLine","dotDist","dotRad","distRad","acos","nextRad","checkBoundPoses","verticalPoses","horizontalPoses","nextBounds","checkBounds","getBounds","externalBounds","containerClientRect","snapOffset","snapOffsetLeft","snapOffsetTop","snapOffsetRight","snapOffsetBottom","isCSS","isVertical","startBoundPos","endBoundPos","minPos","maxPos","boundInfos","isBoundRotate","boundRect","checkRotateBounds","boundPos","relativeRad1","r","boundRotate","relativeRad2","renderInnerGuideline","scaleType","renderGuideline","sizeValue","posValue","renderSnapPoses","renderPos","renderGuidelines","targetRect","isDisplayInnerSnapDigit","mainNames","targetStart","targetEnd","hide","elementRect","renderDigitLine","lineType","gap","snapDigit","isDisplaySnapDigit","snapDistFormat","sizeName","absGap","snapSize","toFixed","renderDashedGuidelines","rendered","nextGuidelines","otherIndex","names","elementRect1","elementRect2","inner","groupByElementGuidelines","sideNames","sidePos","prevRect","nextRect","size1","size2","renderPos1","renderPos2","solveNextOffset","solveEquation","isOutside","getDist$1","dist1","dist2","getSnapBound","boundInfo","checkSnapBoundsDrag","throttleDragRotate","absolutePoses","boundPoses","checkMoveableSnapBounds","middle","verticalSnapBoundInfo","horizontalSnapBoundInfo","verticalInnerBoundInfo","horizontalInnerBoundInfo","isVerticalSnap","isHorizontalSnap","adjustPoses","adjustPos","prevDistY","checkThrottleDragRotate","horizontalBoundInfos","verticalBoundInfos","horizontalSnapInfo","verticalSnapInfo","horizontalDist","verticalDist","snapIndex","snap","checkSnapBounds","guideines","getSnapBoundInfo","directions","startDirection","endDirection","otherStartPos","otherEndPos","snapBoundInfo","endPos","endX","endY","isBottom","isRight","verticalInfo","horizontalInfo","checkBoundKeepRatio","horizontalBoundInfo","verticalBoundInfo","verticalGuideline","horizontalGuideline","horizontalPos","verticalPos","checkSnapKeepRatio","getSnapBoundOffset","checkSnapBoundsKeepRatio","otherHorizontalOffset","isOtherHorizontalBound","isOtherHorizontalSnap","otherVerticalOffset","isOtherVerticalBound","isOtherVerticalSnap","snapLine","rad180","isHorizontalLine","isVerticalLine","checkSnapRightLine","getTotalGuidelines","containerClientHeight","containerClientWidth","snapGap","maxSnapElementGuidelineDistance","isDisplayGridGuidelines","elementGuidelines","elementRects","prevValues","snapRect","refresh","nextElementGuidelines","nextValues","offsetDelta","containerRect","clientPos","calculateContainerPos","containerLeft","containerTop","elementLeft","elementTop","elementRight","elementBottom","getSnapElementRects","elementSnapDirections","topValue","leftValue","rightValue","bottomValue","centerValue","middleValue","rectTop","rectLeft","sizes","getElementGuidelines","totalGuidelines","maxSnapElementGapDistance","gapGuidelines","targetCenter","targetStart2","targetEnd2","nextElementRects","snapRect1","snapRect2","rect1","rect2","rect1Start","rect1End","rect2Start","rect2End","isCenter","checkBetweenRects","gapRects","getGapGuidelines","getGridGuidelines","left_1","top_1","getDefaultGuidelines","getObjectGuidelines","containerSize","posGuideline","snapWidth","snapHeight","checkSnapInfo","snapContainer","snapContainerTarget","snapContainerRect","offset1","offset2","getNextFixedPoses","nextFixedPos","getSizeOffsetInfo","endDirection_1","signX","signY","getCheckSnapDirections","innerBoundLineInfos","checkSizeDist","getNextPoses","widthOffset","heightOffset","isWidthBound","isHeightBound","nextWidthOffset","nextHeightOffset","widthDist","heightDist","right_1","bottom_1","otherDirection","isCheckVertical","isCheckHorizontal","otherPos","nextOtherPos","isHeightOutside","isWidthOutside","checkMaxBounds","snapPos","recheckSizeByTwoDirection","absDegree","bumpDegree","baseDeg","snapDeg","deg1","deg2","getMinDegreeDistance","deg3","checkSnapScale","sizeDist","getSnapGuidelines","addBoundGuidelines","verticalSnapPoses","horizontalSnapPoses","boundMap","lineInfo","isHorizontalStart","isVerticalStart","checkInnerBoundPoses","verticalInnerBoundPoses","horizontalInnerBoundPoses","innerPos","directionCondition$2","NAME_snapRotationThreshold","NAME_snapRotationDegress","Snappable","dragRelation","render","targetTop","targetLeft","snapRenderThreshold","minLeft","minTop","externalPoses","snapInfos","hasExternalPoses","externalRect","verticalPosInfos","horizontalPosInfos","allGuidelines","gaps","targetSideStart","targetSideEnd","sideStartPos","sideEndPos","sideCenterPos","renderGapGuidelines","dragControlCondition","dragControlStart","dragControl","dragControlEnd","dragGroupStart","dragGroup","dragGroupEnd","dragGroupControlStart","dragGroupControl","dragGroupControlEnd","renderDirectionControlsByInfos","renderDirections","getState","renderPoses","rotationRad","degRotation","directionMap","renderState","renderDirectionMap","directionSign","directionRotation","dataAttrs","renderDirectionControls","defaultDirections","displayAroundControls","renderAroundControls","renderLine","renderEdgeLines","edge","Boolean","getRenderDirections","renderDiagonalDirections","renderAllDirections","requestStyle","requestChildStyle","hideThrottleDragRotateLine","dragInfo","beforeOrigin","startCheckSnapDrag","prevDist","prevBeforeDist","deltaOffset","startRect","parentMoveable","throttleDrag","dragRotateRad","startDragRotate","ry","beforeTranslate","bx","by","getTransformDist","beforeDist","beforeDelta","passDelta","passDist","dragAfter","requestStart","getFixedDirectionInfo","getOffsetFixedPositionInfo","offsetFixedPosition","getDirectionByPos","directionCondition$1","Resizable","viewClassName","isGroup","parentFixedDirection","resizable","startWidth","startHeight","setRatio","isFinite","setFixedDirection","setFixedPosition","setMin","setMax","nextMaxSize","startOffsetMatrix","startTransformOrigin","isWidth","parentIsWidth","startRatio","setOrigin","startFixedPosition","isResize","parentKeepRatio","dragClient","targetN","nextAllMatrix","resizeFormat","throttleResize","keepRatioFinally","getNextBoundingSize","boundingWidth","boundingHeight","nextFixedDirection","setSize","getAbsolutePosition","snapDist","checkSnapResize","isNoSnap","computeSize","inverseDelta","nextWidth","nextHeight","nextSize","dragControlAfter","checkResizableError","errorWidth","errorHeight","isErrorWidth","isErrorHeight","dragGroupControlCondition","originalEvents","parentStartOffsetWidth","parentStartOffsetHeight","updateGroupMin","originalMinSize","childMinSize","childStartOffsetWidth","childStartOffsetHeight","parentMinWidth","parentMinHeight","updateGroupMax","originalMaxSize","childMaxSize","parentMaxWidth","parentMaxHeight","deltaWidth","deltaHeight","setRotateStartInfo","startAbsoluteOrigin","prevDeg","defaultDeg","prevSnapDeg","loop","startDist","getAbsoluteDist","normalizedPrevDeg","getAbsoluteDistByClient","getRotateInfo","moveableRect","throttleRotate","snapRotation","snapRotationThreshold","snapRotationDegress","origin2_1","firstDegree","checkSnapRotate","getRotationPositions","rotationPosition","radPoses","isReverse","rotateAroundControls","rotationTarget","Rotatable","rotatable","resolveAblesWithRotatable","positions","jsxs","resolveMap_1","directionControlInfos","beforeDirection","resizeStart","getOffsetFixedDirectionInfo","startClientX","startClientY","externalRotate","beforeInfo","afterInfo","absoluteInfo","inputTarget","regionDirection","controlDirection","isAroundControl","resolveAble","clientPoses","rootClientRect","rootPoses","calculateMoveableClientPositions","originalFixedPosition_1","fixedBeforeOrigin","fixedAfterOrigin","posDelta","parentPosition","controlPosition","parentFixedPosition","getTotalOrigin","rotatation","isRotate","clientDistX","clientDistY","groupDelta","beforeRotation","absoluteDelta","absoluteDist","absoluteRotation","targetDirection","getTransformDirection","startRotation","absoluteStartRotation","nextClientX","nextClientY","setRotation","nextRotation","inverseDist","rotateDist","getRotateDist","prevInverseDist","requestValue","dragEvent","transformEvent","resize","resizeEvent","beforeRotate","absoluteRotate","parentLeft","parentTop","parentBeforeOrigin","childClient","startGroupClient","groupClient","prevClientX","prevClientY","setGroupRotation","distRotate","getRotation","deltaRotate","directionCondition","Scalable","scaleWidth","scaleHeight","scaleXRatio","scaleYRatio","isScale","throttleScale","tempStartX","tempStartY","getNextScale","stateDirection","setScale","nextScale","isSelfPinch","distText","scaleText","isZeroScale","getScaleDist","scaleEndParam","moveableScale","getMiddleLinePos","getTriangleRad","rad1","Warpable","scalable","warpable","linePosFrom1","linePosFrom2","linePosFrom3","linePosFrom4","linePosTo1","linePosTo2","linePosTo3","linePosTo4","warpTargetMatrix","targetInverseMatrix","prevMatrix","posIndexes","isWarp","selectedPoses","nearByPoses","poses1","poses2","rad2","pi","isValidPos","totalMatrix","AREA_PIECES","AREA_PIECE","AVOID","VIEW_DRAGGING","restoreStyle","areaElement","renderPieces","DragArea","dragArea","passDragArea","isDragArea","rects","nextElementSibling","disableNativeEvent","enableNativeEvent","Origin","originStyle","scrollContainer","Scrollable","getContainer","scrollOptions","dragScroll","DragScroll","scrollContainerElement","scrollBy","getCurrentEvent","scrollThreshold","scrollThrottleTime","getScrollPosition","dragGroupControEnd","Default","Padding","padding","paddingDirections","paddingPos1","paddingPos2","paddingPos3","paddingPos4","RADIUS_DIRECTIONS","calculateRatio","sumSize","sumRatio","HORIZONTAL_RADIUS_ORDER","VERTICAL_RADIUS_ORDER","HORIZONTAL_RADIUS_DIRECTIONS","VERTICAL_RADIUS_DIRECTIONS","getRadiusStyles","clipStyles","radiusPoses","virtual","raws","rawPos","styles","getRadiusRange","controlPoses","horizontalRange","verticalRange","clipPose","sub","getRadiusValues","minCounts","full","splitIndex","splitLength","horizontalValues","verticalValues","horizontalValuesLength","verticalValuesLength","hasVerticalValues","nwValue","neValue","seValue","swValue","_j","wnValue","_k","enValue","_l","esValue","_m","wsValue","horizontalRawPoses","verticalRawPoses","nextHorizontalPoses","nextVerticalPoses","raw","CLIP_DIRECTIONS","CLIP_RECT_DIRECTIONS","getClipStyles","clipPath","clipRelative","clipType","clipPoses","isRect","isCircle","subWidth","subHeight","getRectPoses","dirx","diry","getControlSize","xRange","yRange","getClipPath","defaultClip","customClip","clipText","clipPrefix","splitter","xPos","yPos","radiusX_1","radiusY_1","radius","xRadius","yRadius","centerPos_1","radiusX","radiusY","roundIndex","rectLength","radiusValues","_o","_p","_q","_r","nextRight","nextBottom","_s","addClipPath","clipIndex","horizontalIndex","verticalIndex","startVerticalIndex","addRadiusPos","clipStyle","clipEventType","removeClipPath","radiuslIndex","deleteCount","removeRadiusPos","Clippable","customClipPath","defaultClipPath","clipArea","clipPathState","snapBoundInfos","calculatedPos","controls","isInset","isPolygon","linePoses_1","clipLeft","clipTop","distLeft","distTop","ellipseClipPath","piece","areaPoses","allWidth","allHeight","allLeft_1","allTop_1","directionType","snapPos1","snapPos2","dragWithClip","isDragTarget","isClipStart","isLine","isArea","originalDraggable","originalDist","firstDist","isDragWithTarget","isAll","dists","verticalDirections","horizontalDirections","verticalDirection_1","horizontalDirection_1","nextDist","nextControlPoses_1","controlPose","controlDir","dirDir","dirHorizontal","dirVertical","moveControlPos","guidePoses","isEllipse","guideRect","rx","clipHorizontalGuidelines","clipVerticalGuidelines","guideXPoses","guideYPoses","rectPoses","rectDists_1","boundDelta","clipTargetBounds","snapOffsetY","snapOffsetX","width_1","height_1","nextControlPoses_2","nextClipStyles","dragDist","OriginDraggable","startOrigin","startTargetOrigin","isDragOrigin","originRelative","distOrigin","dragDelta","deltaOrigin","getBorderRadius","borderRadius","triggerRoundEvent","roundRelative","horizontals","verticals","splitRadiusPoses","borderRadiusState","getStyleBorderRadius","firstMoveable","firstTarget","getTargets","Roundable","roundClickable","minRoundControls","maxRoundControls","roundPadding","isDisplayShadowRoundControls","verticalCount","horizontalCount","basePos","originalPos","isDisplay","display","controlIndex","lineIndex","indexAttr","isRound","selectedControlPose","selectedVertical","selectedHorizontal","pose","poseDist","horizontalsLength","verticalsLength","controlPoseInfo","addBorderRadius","addBorderRadiusByLine","removeBorderRadius","BeforeRenderable","inlineTransform","cssMatrix","startTransform","identityMatrix","isIdentityMatrix","resetStyle","fillDragStartParams","fillDragParams","Renderable","fillDragEndParams","transformObject","matrixInfo","triggerAble","ableType","eventOperations","eventAffix","eventType","requestInstant","requestAble_1","elementFromPoint","isDragStop","isFirstStart","updateRect","gestoType","prevGesto","conditionName","nextDatas","forceEndedCount","updatedCount","eventOperation","eventAbles","isUpdate","isForceEnd","preventDefault","isUnmounted","flushSync","forceUpdate","checkMoveableTarget","dragTarget","eventTarget","isMoveableElement","controlBox","getTargetAbleGesto","moveableTarget","getAbleGesto","conditionFunctions","isTargetAbles","pinchOutside","pinchThreshold","preventClickEventOnDrag","preventClickDefault","checkInput","dragFocusedInput","preventRightClick","preventWheelClick","dragContainer","getControlBoxElement","preventClickEventOnDragStart","preventClickEventByCondition","Gesto","isPinchScheduled","stopPropagation","EventManager","_onEvent","setAbles","calculateMatrixStack","rootContainer","isAbsolute3d","prevTargetMatrix","containerZoom","result_1","getCachedMatrixContainerInfo","rootMatrixes","isRoot3d","offsetRootContainer","rootZoom","isNext3d","isSVGGraphicElement","nextRootMatrixes","reverse","originalRootContainer","endContainer","rootMatrixBeforeOffset","targetInfo","rectWidth","rectHeight","mat","prevLeft","prevTop","posOrigin","rectOrigin","getSVGOffset","isMatrix3d","originalRootMatrix","hasZoom","calculateElementInfo","allResult","getMoveableTargetInfo","moveableElement","parentContainer","requestStyles","targetClientRect","rootContainerClientRect","getStyle_1","beforePosition","absoluteTargetPosition","absoluteContainerPosition","nextClientRect","getCachedClientRect","containerClientRectLeft","containerClientRectTop","containterClientLeft","containerClientTop","clientDelta","originalBeforeOrigin","getPersistState","isPersisted","MoveableManager","targetAbles","isMoveableMounted","EventEmitter","_prevTarget","_prevDragArea","_isPropTargetChanged","_hasFirstTarget","_reiszeObserver","_observerId","_mutationObserver","_rootContainer","_viewContainer","_viewClassNames","_store","checkUpdateRect","_onPreventClick","propsTarget","translateZ","ControlBoxElement","linePadding","controlPadding","_checkUpdateRootContainer","checkUpdate","updateRenderPoses","stateTarget","groupTargets","ableAttributes","getEnabledAbles","ableClassName","_getAbleClassName","isVisible","firstRenderState","persistData","useAccuratePosition","onClick","renderAbles","_renderLines","componentDidMount","_checkUpdateViewContainer","_updateTargets","_updateNativeEvents","_updateEvents","updateCheckInput","_updateObserver","componentDidUpdate","prevProps","componentWillUnmount","_changeAbleViewClassNames","manager","getAble","wrapperMoveable","triggerDragStart","hitTest","totalSize","isTarget","isSetState","isSingle","nextState","_getRequestStyles","persistState","updateState","updateTarget","statePos","getManager","getAbsoluteRotation","isInstant","requsetAble","ableRequester","requester","ableParam","stateLeft","stateTop","stateContainer","updateAbles","isTargetChanged","moveableContainer","waitToChangeTarget","useCSS","tag","customStyleMap","customStyledMap","hasControlBox","updateSelectors","setState","always","Renderer","groupByMap","ableStyleNames","_updateResizeObserver","_updateMutationObserver","controlBoxElement","hasTargetAble","hasControlAble","_isTargetChanged","hideDefaultLines","hideChildMoveableDefaultLines","useDragArea","prevTarget","prevDragArea","eventKeys","hasAbles","viewContainerOption","viewContainer","_getAbleViewClassNames","nextClassNames","prevClassNames","diff$1","classPrefix","targetGestoData","controlGestoData","useResizeObserver","observer","box","MutationObserver","useMutationObserver","records","records_1","mutation","attributeName","defaultProps","isWrapperMounted","warpSelf","Groupable","renderGroupRects","persistDatChildren","getRequestChildStyles","Clickable","containsElement","containsTarget","targetIndex","parentTarget","getDraggableEvent","edgeDraggable","dragCondition","dragGroupCondition","IndividualGroupable","MOVEABLE_ABLES","solveConstantsDistance","solveC","getMaxPos","getMinPos","findMoveableGroups","childTargetGroups","targetGroup","childMoveableGroups","checked","finded","MoveableGroup","differ","ChildrenDiffer","_targetGroups","_hasFirstTargets","checkeds","targetGroups","moveableGroups","useDefaultGroupRotate","isReset","updateGroup","defaultGroupRotate","persistedRoatation","rootGroupRect","getMoveableGroupRect","parentRotation","posesRotations","rotations","groupRotation","firstRotation","isSameRotation","groupPoses","groupRect","parentPoses","fixedRotation","a1_1","tan","a2_1","a1MinMax_1","a1MinMaxPos_1","a2MinMax_1","a2MinMaxPos_1","a1Dist","a2Dist","a1MinPos","a1MaxPos","a2MinPos","a2MaxPos","minHorizontalLine","maxHorizontalLine","minVerticalLine","maxVerticalLine","changedX","minX_1","minY_1","maxX_1","maxY_1","getGroupRect","defaultGroupOrigin","posesInfo","rotatePosesInfo","rotateScale","nextTarget","isContainerChanged","MoveableIndividualGroup","canPersist","individualProps","individualGroupableProps","getElementTargets","refTargets","selectorMap","elementTargets","getTargetGroups","compareRefTargets","prevRefTargets","nextRefTargets","InitialMoveable","_differ","_elementTargets","_onChangeTargets","makeStyled","cssMap","getTotalAbles","defaultStyled","defaultAbles","moveableContructor","userAbles","userProps","getOwnPropertySymbols","propertyIsEnumerable","__rest","_updateRefs","nextProps","prevMoveable","individualGroupable","groupableProps","target_1","prevTargetMoveable","mv","_checkChangeTargets","resolvePromise","waitToChangeTargets","isBrowser","nextSelectorMap","updateSelectorMap","onChangeTargets","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__decorate","Moveable","globalKeyController","codeData","keysSort","shift","ctrl","alt","meta","getKey","keyCode","keyName","getCombi","shiftKey","ctrlKey","altKey","metaKey","getModifierCombi","getArrangeCombi","arrangeKeys","clear","blur","keydownEvent","keyupEvent","KeyController","global","keydown","comb","offKeydown","offKeyup","keyup","isToggle","combi","jsx","elChildren","elStyle","diffValue","boundArea","getDefaultElementRect","passTargets","beforeTargets","afterTargets","continueSelectWithoutDeselect","getLineSize","CLASS_NAME","PROPERTIES","OPTIONS","EVENTS","METHODS","selectFromInside","selectByClick","boundContainer","clickBySelectEnd","win","boundElement","rectElement","hitRect","firstPassedTargets","pointTarget","clickedTarget","hasInsideTargets","isPreventSelect","preventDragFromInside","innerScrollOptions","isInnerScroll","innerScrollElement","hasScrollOptions","selectFlag","isClick","isSelect","baseNode","isKeyDown","keydownContinueSelect","keydownContinueSelectWithoutDeselection","_keydownContinueSelectWithoutDeselection","isKeyUp","containers","portalContainer","selectableTargets","hitRate","continueSelect","toggleContinueSelect","toggleContinueSelectWithoutDeselect","keyContainer","checkOverflow","getElementRect","setSelectedTargets","beforeSelected","selectedTargets","selected","setSelectedTargetsByPoints","ignoreClick","findSelectableTargets","selectedElements","selectTargetsByPoints","mousedown","MouseEvent","startPoint","cancelable","bubbles","mousemove","endPoint","mouseup","getSelectedTargets","keycon","getElementPoints","getSelectableElements","selectableElements","selectablePoints","hasIndexesMap","parentMap_1","parents","paths","prevParentElement","_refreshGroups","clickTarget","touch","getClient","_onDragStart","_onDragEnd","setKeyController","setKeyEvent","setKeyContainer","getContinueSelect","getContinueSelectWithoutDeselect","setToggleContinueSelect","setToggleContinueSelectWithoutDeselect","setPreventDefault","setCheckInput","initElement","attrs","checkWindowBlur","selectRect","innerGroups","gestoEvent","rectPoints","hitRateValue","isHit","inArea","overlapPoints","overlapSize","selectableInners","yGroups","filterDuplicated","initDragScroll","isMoveInnerScroll","parentMap_2","parentInfo","containerInfo","_select","_selectEnd","startPassedTargets","afterAdded","afterRemoved","afterPrevList","afterList","isDragStart","startSelected","_checkSelected","containerX","containerY","offsetSize","passedTargets","_sameCombiKey","nextKeys","toggleKeys","isKeyup","singleKey_1","_findElement","innerScrollContainer_1","parentMap_3","innerScrollPathsList","isAlwaysTrue","innerScrollPaths","selectablePoints_1","groups_1","Selecto","enumerable","configurable","getter","setter","REACT_EVENTS","selecto","selectionElement","selfProps","hiddenTextarea","HIDDEN_TEXTAREA_STYLE","SIZING_STYLE","computedStyleCache","calculateNodeStyling","node","nodeRef","getPropertyValue","paddingSize","borderSize","sizingStyle","nodeInfo","RESIZE_STATUS","ResizableTextArea","nextFrameActionId","resizeFrameId","textArea","saveTextArea","handleResize","resizeStatus","_this$props","autoSize","NONE","resizeOnNextFrame","resizeTextarea","minRows","maxRows","textareaStyles","uiTextNode","removeAttribute","_calculateNodeStyling","placeholder","overflowY","Number","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","singleRowHeight","calculateNodeHeight","RESIZING","RESIZED","fixFirefoxAutoScroll","renderTextArea","_this$props2","_this$props2$prefixCl","prefixCls","_this$state","otherProps","omit","cls","_defineProperty","overflowX","shallowEqual","activeElement","currentStart","selectionStart","currentEnd","selectionEnd","setSelectionRange","TextArea","resizableTextArea","focus","handleChange","onChange","setValue","handleKeyDown","onPressEnter","onKeyDown","defaultValue","scrollPos","_zoom","canvas","context","alpha","canvasContext","_observer","getScrollPos","scroll","draw","nextZoom","rulerScale","backgroundColor","lineColor","textColor","textBackgroundColor","textFormat","rangeBackgroundColor","selectedRanges","selectedBackgroundColor","selectedRangesText","isNegative","negativeRuler","font","textAlign","textOffset","mainLineSize","longLineSize","shortLineSize","lineOffset","zoomUnit","minRange","alignOffset","barSize","textSize","color","selectedRange","rangeStart","range","rangeEnd","rangeX","rangeWidth","findLastIndex","findLast","prevTextSize","prevStartPos","value_1","lineSize","backgroundOffset","_getRulerScale","defaultPixelScale","isHighDensity","mq","_rulerScale","Ruler","segment","lineWidth","defaultScrollPos","EyeInvisibleOutlined","AntdIcon","icon","EyeInvisibleOutlinedSvg","displayName","getInputClassName","bordered","_classNames","hasPrefixSuffix","allowClear","ClearableInputType","tuple","hasAddon","addonBefore","addonAfter","ClearableLabeledInput","containerRef","onInputMouseUp","triggerFocus","readOnly","handleReset","needClear","CloseCircleFilled","onMouseDown","role","renderClearIcon","_classNames2","_this$props3","focused","hidden","cloneElement","suffixNode","renderSuffix","prefixNode","affixWrapperCls","onMouseUp","labeledElement","_classNames4","_this$props4","wrapperClassName","addonClassName","addonBeforeNode","addonAfterNode","mergedWrapperClassName","mergedGroupClassName","_classNames5","_this$props5","_this$props6","inputType","renderTextAreaWithClearIcon","renderInputWithLabel","renderLabeledIcon","fixControlledValue","resolveOnChange","targetValue","cloneNode","option","cursor","len","Input","input","saveClearableInput","clearableInput","saveInput","onFocus","clearPasswordValueAttribute","onBlur","renderInput","customizeSize","htmlSize","autoComplete","removePasswordTimeout","hasAttribute","renderShowCountSuffix","maxLength","showCount","hasMaxLength","valueLength","_toConsumableArray","dataCount","_typeof","formatter","renderComponent","_ref2","getPrefixCls","customizePrefixCls","_this$props4$bordered","showCountSuffix","SizeContext","Consumer","devWarning","select","ConfigConsumer","_ref3","newState","Group","_props$className","compact","onMouseEnter","onMouseLeave","SearchOutlined","SearchOutlinedSvg","Search","button","customizeInputPrefixCls","inputPrefixCls","_props$enterButton","enterButton","loading","customOnSearch","onSearch","customOnChange","restProps","_React$useContext","ConfigContext","contextSize","inputRef","searchIcon","btnClassName","enterButtonAsElement","isAntdButton","__ANT_BUTTON","Button","fixEmojiLength","_a$bordered","_a$showCount","onCompositionStart","onCompositionEnd","innerRef","clearableInputRef","_React$useState","_React$useState2","_slicedToArray","compositing","setCompositing","_useMergedState","useMergedState","_useMergedState2","handleSetValue","RcTextArea","triggerValue","textareaNode","ActionMap","click","hover","Password","_useState","useState","_useState2","visible","setVisible","onVisibleChange","renderPassword","visibilityToggle","suffixIcon","_iconProps","_props$iconRender","iconRender","iconTrigger","iconProps","getIcon","inputClassName","omittedProps","EyeOutlined","VerticalAlignTopOutlined","VerticalAlignTopOutlinedSvg","LockOutlined","LockOutlinedSvg","CopyOutlined","CopyOutlinedSvg","VerticalAlignBottomOutlined","VerticalAlignBottomOutlinedSvg"],"mappings":"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","file":"static/js/9.32620d5b.chunk.js","sourcesContent":["/**\n* @namespace\n* @name Consts\n*/\n\nimport { IObject, OpenCloseCharacter } from \"./types\";\n\n/**\n* get string \"rgb\"\n* @memberof Color\n* @example\nimport {RGB} from \"@daybrush/utils\";\n\nconsole.log(RGB); // \"rgb\"\n*/\nexport const RGB = \"rgb\";\n/**\n* get string \"rgba\"\n* @memberof Color\n* @example\nimport {RGBA} from \"@daybrush/utils\";\n\nconsole.log(RGBA); // \"rgba\"\n*/\nexport const RGBA = \"rgba\";\n/**\n* get string \"hsl\"\n* @memberof Color\n* @example\nimport {HSL} from \"@daybrush/utils\";\n\nconsole.log(HSL); // \"hsl\"\n*/\nexport const HSL = \"hsl\";\n/**\n* get string \"hsla\"\n* @memberof Color\n* @example\nimport {HSLA} from \"@daybrush/utils\";\n\nconsole.log(HSLA); // \"hsla\"\n*/\nexport const HSLA = \"hsla\";\n/**\n* gets an array of color models.\n* @memberof Color\n* @example\nimport {COLOR_MODELS} from \"@daybrush/utils\";\n\nconsole.log(COLOR_MODELS); // [\"rgb\", \"rgba\", \"hsl\", \"hsla\"];\n*/\nexport const COLOR_MODELS = [RGB, RGBA, HSL, HSLA];\n\n/**\n* get string \"function\"\n* @memberof Consts\n* @example\nimport {FUNCTION} from \"@daybrush/utils\";\n\nconsole.log(FUNCTION); // \"function\"\n*/\nexport const FUNCTION = \"function\";\n/**\n* get string \"property\"\n* @memberof Consts\n* @example\nimport {PROPERTY} from \"@daybrush/utils\";\n\nconsole.log(PROPERTY); // \"property\"\n*/\nexport const PROPERTY = \"property\";\n/**\n* get string \"array\"\n* @memberof Consts\n* @example\nimport {ARRAY} from \"@daybrush/utils\";\n\nconsole.log(ARRAY); // \"array\"\n*/\nexport const ARRAY = \"array\";\n/**\n* get string \"object\"\n* @memberof Consts\n* @example\nimport {OBJECT} from \"@daybrush/utils\";\n\nconsole.log(OBJECT); // \"object\"\n*/\nexport const OBJECT = \"object\";\n/**\n* get string \"string\"\n* @memberof Consts\n* @example\nimport {STRING} from \"@daybrush/utils\";\n\nconsole.log(STRING); // \"string\"\n*/\nexport const STRING = \"string\";\n/**\n* get string \"number\"\n* @memberof Consts\n* @example\nimport {NUMBER} from \"@daybrush/utils\";\n\nconsole.log(NUMBER); // \"number\"\n*/\nexport const NUMBER = \"number\";\n/**\n* get string \"undefined\"\n* @memberof Consts\n* @example\nimport {UNDEFINED} from \"@daybrush/utils\";\n\nconsole.log(UNDEFINED); // \"undefined\"\n*/\nexport const UNDEFINED = \"undefined\";\n\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nexport const IS_WINDOW = typeof window !== UNDEFINED;\n\n/**\n* Check whether the environment is window or node.js.\n* @memberof Consts\n* @name document\n* @example\nimport {IS_WINDOW} from \"@daybrush/utils\";\n\nconsole.log(IS_WINDOW); // false in node.js\nconsole.log(IS_WINDOW); // true in browser\n*/\nconst doc = (typeof document !== UNDEFINED && document) as Document; // FIXME: this type maybe false\n\nexport {doc as document};\n\nconst prefixes: string[] = [\"webkit\", \"ms\", \"moz\", \"o\"];\n\n/**\n * @namespace CrossBrowser\n */\n\n/**\n* Get a CSS property with a vendor prefix that supports cross browser.\n* @function\n* @param {string} property - A CSS property\n* @return {string} CSS property with cross-browser vendor prefix\n* @memberof CrossBrowser\n* @example\nimport {getCrossBrowserProperty} from \"@daybrush/utils\";\n\nconsole.log(getCrossBrowserProperty(\"transform\")); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\nconsole.log(getCrossBrowserProperty(\"filter\")); // \"filter\", \"-webkit-filter\"\n*/\nexport const getCrossBrowserProperty =  /*#__PURE__*/(property: string) => {\n  if (!doc) {\n    return \"\";\n  }\n  const styles = (doc.body || doc.documentElement).style as any;\n  const length = prefixes.length;\n\n  if (typeof styles[property] !== UNDEFINED) {\n    return property;\n  }\n  for (let i = 0; i < length; ++i) {\n    const name = `-${prefixes[i]}-${property}`;\n\n    if (typeof styles[name] !== UNDEFINED) {\n      return name;\n    }\n  }\n  return \"\";\n};\n\n/**\n* get string \"transfrom\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {TRANSFORM} from \"@daybrush/utils\";\n\nconsole.log(TRANSFORM); // \"transform\", \"-ms-transform\", \"-webkit-transform\"\n*/\nexport const TRANSFORM = /*#__PURE__*/getCrossBrowserProperty(\"transform\");\n/**\n* get string \"filter\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {FILTER} from \"@daybrush/utils\";\n\nconsole.log(FILTER); // \"filter\", \"-ms-filter\", \"-webkit-filter\"\n*/\nexport const FILTER = /*#__PURE__*/getCrossBrowserProperty(\"filter\");\n/**\n* get string \"animation\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {ANIMATION} from \"@daybrush/utils\";\n\nconsole.log(ANIMATION); // \"animation\", \"-ms-animation\", \"-webkit-animation\"\n*/\nexport const ANIMATION = /*#__PURE__*/getCrossBrowserProperty(\"animation\");\n/**\n* get string \"keyframes\" with the vendor prefix.\n* @memberof CrossBrowser\n* @example\nimport {KEYFRAMES} from \"@daybrush/utils\";\n\nconsole.log(KEYFRAMES); // \"keyframes\", \"-ms-keyframes\", \"-webkit-keyframes\"\n*/\nexport const KEYFRAMES = /*#__PURE__*/ANIMATION.replace(\"animation\", \"keyframes\");\n\nexport const OPEN_CLOSED_CHARACTERS: OpenCloseCharacter[] = [\n  { open: \"(\", close: \")\" },\n  { open: `\"`, close: `\"`},\n  { open: `'`, close: `'`},\n  { open: `\\\\\"`, close: `\\\\\"`},\n  { open: `\\\\'`, close: `\\\\'`},\n];\nexport const TINY_NUM = 0.0000001;\nexport const REVERSE_TINY_NUM = 1 / TINY_NUM;\nexport const DEFAULT_UNIT_PRESETS: IObject<(pos: number, size?: number) => number> = {\n  \"cm\": pos => pos * 96 / 2.54,\n  \"mm\": pos => pos * 96 / 254,\n  \"in\": pos => pos * 96,\n  \"pt\": pos => pos * 96 / 72,\n  \"pc\": pos => pos * 96 / 6,\n  \"%\": (pos, size) => pos * size! / 100,\n  \"vw\": (pos, size = window.innerWidth) => pos / 100 * size,\n  \"vh\": (pos, size = window.innerHeight) => pos / 100 * size,\n  \"vmax\": (pos, size = Math.max(window.innerWidth, window.innerHeight)) => pos / 100 * size,\n  \"vmin\": (pos, size = Math.min(window.innerWidth, window.innerHeight)) => pos / 100 * size,\n};\n","import {\n  UNDEFINED, STRING,\n  OBJECT, FUNCTION,\n  IS_WINDOW, OPEN_CLOSED_CHARACTERS, NUMBER,\n  DEFAULT_UNIT_PRESETS,\n  TINY_NUM\n} from \"./consts\";\nimport {\n  FlattedElement,\n  IArrayFormat, IObject, OpenCloseCharacter,\n  SplitOptions,\n} from \"./types\";\n/**\n* @namespace\n* @name Utils\n*/\n\n/**\n * Returns the inner product of two numbers(`a1`, `a2`) by two criteria(`b1`, `b2`).\n * @memberof Utils\n * @param - The first number\n * @param - The second number\n * @param - The first number to base on the inner product\n * @param - The second number to base on the inner product\n * @return - Returns the inner product\nimport { dot } from \"@daybrush/utils\";\n\nconsole.log(dot(0, 15, 2, 3)); // 6\nconsole.log(dot(5, 15, 2, 3)); // 9\nconsole.log(dot(5, 15, 1, 1)); // 10\n */\nexport function dot(a1: number, a2: number, b1: number, b2: number) {\n  return (a1 * b2 + a2 * b1) / (b1 + b2);\n}\n/**\n* Check the type that the value is undefined.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {boolean} true if the type is correct, false otherwise\n* @example\nimport {isUndefined} from \"@daybrush/utils\";\n\nconsole.log(isUndefined(undefined)); // true\nconsole.log(isUndefined(\"\")); // false\nconsole.log(isUndefined(1)); // false\nconsole.log(isUndefined(null)); // false\n*/\nexport function isUndefined(value: any): value is undefined {\n  return (typeof value === UNDEFINED);\n}\n/**\n* Check the type that the value is object.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isObject} from \"@daybrush/utils\";\n\nconsole.log(isObject({})); // true\nconsole.log(isObject(undefined)); // false\nconsole.log(isObject(\"\")); // false\nconsole.log(isObject(null)); // false\n*/\nexport function isObject(value: any): value is IObject<any> {\n  return value && (typeof value === OBJECT);\n}\n/**\n* Check the type that the value is isArray.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isArray} from \"@daybrush/utils\";\n\nconsole.log(isArray([])); // true\nconsole.log(isArray({})); // false\nconsole.log(isArray(undefined)); // false\nconsole.log(isArray(null)); // false\n*/\nexport function isArray(value: any): value is any[] {\n  return Array.isArray(value);\n}\n/**\n* Check the type that the value is string.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isString} from \"@daybrush/utils\";\n\nconsole.log(isString(\"1234\")); // true\nconsole.log(isString(undefined)); // false\nconsole.log(isString(1)); // false\nconsole.log(isString(null)); // false\n*/\nexport function isString(value: any): value is string {\n  return typeof value === STRING;\n}\n\nexport function isNumber(value: any): value is number {\n  return typeof value === NUMBER;\n}\n\n/**\n* Check the type that the value is function.\n* @memberof Utils\n* @param {string} value - Value to check the type\n* @return {} true if the type is correct, false otherwise\n* @example\nimport {isFunction} from \"@daybrush/utils\";\n\nconsole.log(isFunction(function a() {})); // true\nconsole.log(isFunction(() => {})); // true\nconsole.log(isFunction(\"1234\")); // false\nconsole.log(isFunction(1)); // false\nconsole.log(isFunction(null)); // false\n*/\nexport function isFunction(value: any): value is (...args: any[]) => any {\n  return typeof value === FUNCTION;\n}\nfunction isEqualSeparator(\n  character: string,\n  separator: string,\n) {\n  const isCharacterSpace = character === \"\" || character == \" \";\n  const isSeparatorSpace = separator === \"\" || separator == \" \";\n\n  return (isSeparatorSpace && isCharacterSpace) || character === separator;\n}\nfunction findOpen(\n  openCharacter: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n  length: number,\n  openCloseCharacters: OpenCloseCharacter[],\n) {\n  const isIgnore = findIgnore(openCharacter, texts, index);\n\n  if (!isIgnore) {\n    return findClose(openCharacter, texts, index + 1, length, openCloseCharacters);\n  }\n  return index;\n}\nfunction findIgnore(\n  character: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n) {\n  if (!character.ignore) {\n    return null;\n  }\n  const otherText = texts.slice(Math.max(index - 3, 0), index + 3).join(\"\");\n\n  return new RegExp(character.ignore).exec(otherText);\n\n}\nfunction findClose(\n  closeCharacter: OpenCloseCharacter,\n  texts: string[],\n  index: number,\n  length: number,\n  openCloseCharacters: OpenCloseCharacter[],\n) {\n  for (let i = index; i < length; ++i) {\n    const character = texts[i].trim();\n\n    if (character === closeCharacter.close && !findIgnore(closeCharacter, texts, i)) {\n      return i;\n    }\n    let nextIndex = i;\n    // re open\n    const openCharacter = find(openCloseCharacters, ({ open }) => open === character);\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n    }\n    if (nextIndex === -1) {\n      break;\n    }\n    i = nextIndex;\n  }\n  return -1;\n}\n\nexport function splitText(\n  text: string,\n  splitOptions: string | SplitOptions,\n): string[] {\n  const {\n    separator = \",\",\n    isSeparateFirst,\n    isSeparateOnlyOpenClose,\n    isSeparateOpenClose = isSeparateOnlyOpenClose,\n    openCloseCharacters = OPEN_CLOSED_CHARACTERS,\n  } = isString(splitOptions) ? {\n    separator: splitOptions,\n  } as SplitOptions : splitOptions;\n  const openClosedText = openCloseCharacters.map(({ open, close }) => {\n    if (open === close) {\n      return open;\n    }\n    return `${open}|${close}`;\n  }).join(\"|\");\n  const regexText = `(\\\\s*${separator}\\\\s*|${openClosedText}|\\\\s+)`;\n  const regex = new RegExp(regexText, \"g\");\n  const texts = text.split(regex).filter(chr => {\n    return chr && chr !== \"undefined\";\n  });\n  const length = texts.length;\n  const values: string[] = [];\n  let tempValues: string[] = [];\n\n  function resetTemp() {\n    if (tempValues.length) {\n      values.push(tempValues.join(\"\"));\n      tempValues = [];\n\n      return true;\n    }\n    return false;\n  }\n  for (let i = 0; i < length; ++i) {\n    const character = texts[i].trim();\n    let nextIndex = i;\n\n\n    const openCharacter = find(openCloseCharacters, ({ open }) => open === character);\n    const closeCharacter = find(openCloseCharacters, ({ close }) => close === character);\n\n    if (openCharacter) {\n      nextIndex = findOpen(openCharacter, texts, i, length, openCloseCharacters);\n\n      if (nextIndex !== -1 && isSeparateOpenClose) {\n        if (resetTemp() && isSeparateFirst) {\n          break;\n        }\n        values.push(texts.slice(i, nextIndex + 1).join(\"\"));\n        i = nextIndex;\n\n        if (isSeparateFirst) {\n          break;\n        }\n        continue;\n      }\n    } else if (closeCharacter && !findIgnore(closeCharacter, texts, i)) {\n      const nextOpenCloseCharacters = [...openCloseCharacters];\n\n      nextOpenCloseCharacters.splice(openCloseCharacters.indexOf(closeCharacter), 1);\n\n      return splitText(\n        text,\n        {\n          separator,\n          isSeparateFirst,\n          isSeparateOnlyOpenClose,\n          isSeparateOpenClose,\n          openCloseCharacters: nextOpenCloseCharacters,\n        });\n    } else if (isEqualSeparator(character, separator) && !isSeparateOnlyOpenClose) {\n      resetTemp();\n      if (isSeparateFirst) {\n        break;\n      }\n      continue;\n    }\n\n    if (nextIndex === -1) {\n      nextIndex = length - 1;\n    }\n    tempValues.push(texts.slice(i, nextIndex + 1).join(\"\"));\n    i = nextIndex;\n  }\n  if (tempValues.length) {\n    values.push(tempValues.join(\"\"));\n  }\n  return values;\n}\n\n/**\n* divide text by space.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {spliceSpace} from \"@daybrush/utils\";\n\nconsole.log(splitSpace(\"a b c d e f g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitSpace(\"'a,b' c 'd,e' f g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nexport function splitSpace(text: string) {\n  // divide comma(space)\n  return splitText(text, \"\");\n}\n\n/**\n* divide text by comma.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {Array} divided texts\n* @example\nimport {splitComma} from \"@daybrush/utils\";\n\nconsole.log(splitComma(\"a,b,c,d,e,f,g\"));\n// [\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\"]\nconsole.log(splitComma(\"'a,b',c,'d,e',f,g\"));\n// [\"'a,b'\", \"c\", \"'d,e'\", \"f\", \"g\"]\n*/\nexport function splitComma(text: string): string[] {\n  // divide comma(,)\n  // \"[^\"]*\"|'[^']*'\n  return splitText(text, \",\");\n}\n/**\n* divide text by bracket \"(\", \")\".\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {object} divided texts\n* @example\nimport {splitBracket} from \"@daybrush/utils\";\n\nconsole.log(splitBracket(\"a(1, 2)\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"\"}\nconsole.log(splitBracket(\"a(1, 2)b\"));\n// {prefix: \"a\", value: \"1, 2\", suffix: \"b\"}\n*/\nexport function splitBracket(text: string) {\n  const matches = (/([^(]*)\\(([\\s\\S]*)\\)([\\s\\S]*)/g).exec(text);\n\n  if (!matches || matches.length < 4) {\n    return {};\n  } else {\n    return { prefix: matches[1], value: matches[2], suffix: matches[3] };\n  }\n}\n/**\n* divide text by number and unit.\n* @memberof Utils\n* @param {string} text - text to divide\n* @return {} divided texts\n* @example\nimport {splitUnit} from \"@daybrush/utils\";\n\nconsole.log(splitUnit(\"10px\"));\n// {prefix: \"\", value: 10, unit: \"px\"}\nconsole.log(splitUnit(\"-10px\"));\n// {prefix: \"\", value: -10, unit: \"px\"}\nconsole.log(splitUnit(\"a10%\"));\n// {prefix: \"a\", value: 10, unit: \"%\"}\n*/\nexport function splitUnit(text: string): { prefix: string, unit: string, value: number } {\n  const matches = /^([^\\d|e|\\-|\\+]*)((?:\\d|\\.|-|e-|e\\+)+)(\\S*)$/g.exec(text);\n\n  if (!matches) {\n    return { prefix: \"\", unit: \"\", value: NaN };\n  }\n  const prefix = matches[1];\n  const value = matches[2];\n  const unit = matches[3];\n\n  return { prefix, unit, value: parseFloat(value) };\n}\n\n/**\n* transform strings to camel-case\n* @memberof Utils\n* @param {String} text - string\n* @return {String} camel-case string\n* @example\nimport {camelize} from \"@daybrush/utils\";\n\nconsole.log(camelize(\"transform-origin\")); // transformOrigin\nconsole.log(camelize(\"abcd_efg\")); // abcdEfg\nconsole.log(camelize(\"abcd efg\")); // abcdEfg\n*/\nexport function camelize(str: string) {\n  return str.replace(/[\\s-_]+([^\\s-_])/g, (all, letter) => letter.toUpperCase());\n}\n/**\n* transform a camelized string into a lowercased string.\n* @memberof Utils\n* @param {string} text - a camel-cased string\n* @param {string} [separator=\"-\"] - a separator\n* @return {string}  a lowercased string\n* @example\nimport {decamelize} from \"@daybrush/utils\";\n\nconsole.log(decamelize(\"transformOrigin\")); // transform-origin\nconsole.log(decamelize(\"abcdEfg\", \"_\")); // abcd_efg\n*/\nexport function decamelize(str: string, separator: string = \"-\") {\n  return str.replace(/([a-z])([A-Z])/g, (all, letter, letter2) => `${letter}${separator}${letter2.toLowerCase()}`);\n}\n\n/**\n* transforms something in an array into an array.\n* @memberof Utils\n* @param - Array form\n* @return an array\n* @example\nimport {toArray} from \"@daybrush/utils\";\n\nconst arr1 = toArray(document.querySelectorAll(\".a\")); // Element[]\nconst arr2 = toArray(document.querySelectorAll<HTMLElement>(\".a\")); // HTMLElement[]\n*/\nexport function toArray<T>(value: IArrayFormat<T>): T[] {\n  return [].slice.call(value);\n}\n\n/**\n* Date.now() method\n* @memberof CrossBrowser\n* @return {number} milliseconds\n* @example\nimport {now} from \"@daybrush/utils\";\n\nconsole.log(now()); // 12121324241(milliseconds)\n*/\nexport function now() {\n  return Date.now ? Date.now() : new Date().getTime();\n}\n\n/**\n* Returns the index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findIndex } from \"@daybrush/utils\";\n\nfindIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nexport function findIndex<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defaultIndex: number = -1,\n): number {\n  const length = arr.length;\n\n  for (let i = 0; i < length; ++i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n\n/**\n* Returns the reverse direction index of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLastIndex` was called upon.\n* @param - A function to execute on each value in the array until the function returns true, indicating that the satisfying element was found.\n* @param - Returns defaultIndex if not found by the function.\n* @example\nimport { findLastIndex } from \"@daybrush/utils\";\n\nfindLastIndex([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // 1\n*/\nexport function findLastIndex<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defaultIndex: number = -1,\n): number {\n  const length = arr.length;\n\n  for (let i = length - 1; i >= 0; --i) {\n    if (callback(arr[i], i, arr)) {\n      return i;\n    }\n  }\n  return defaultIndex;\n}\n\n/**\n* Returns the value of the reverse direction element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `findLast` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nexport function findLast<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defalutValue?: T,\n): T | undefined {\n  const index = findLastIndex(arr, callback);\n\n  return index > - 1 ? arr[index] : defalutValue;\n}\n/**\n* Returns the value of the first element in the array that satisfies the provided testing function.\n* @function\n* @memberof CrossBrowser\n* @param - The array `find` was called upon.\n* @param - A function to execute on each value in the array,\n* @param - Returns defalutValue if not found by the function.\n* @example\nimport { find } from \"@daybrush/utils\";\n\nfind([{a: 1}, {a: 2}, {a: 3}, {a: 4}], ({ a }) => a === 2); // {a: 2}\n*/\nexport function find<T>(\n  arr: T[],\n  callback: (element: T, index: number, arr: T[]) => any,\n  defalutValue?: T,\n): T | undefined {\n  const index = findIndex(arr, callback);\n\n  return index > - 1 ? arr[index] : defalutValue;\n}\n\n/**\n* window.requestAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {FrameRequestCallback} callback - The function to call when it's time to update your animation for the next repaint.\n* @return {number} id\n* @example\nimport {requestAnimationFrame} from \"@daybrush/utils\";\n\nrequestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n*/\nexport const requestAnimationFrame = /*#__PURE__*/(() => {\n  const firstTime = now();\n\n  const raf = IS_WINDOW\n    && (window.requestAnimationFrame || (window as any).webkitRequestAnimationFrame\n      || (window as any).mozRequestAnimationFrame || (window as any).msRequestAnimationFrame);\n\n  return raf ? (raf.bind(window) as (callback: FrameRequestCallback) => number) : ((callback: FrameRequestCallback) => {\n    const currTime = now();\n    const id = setTimeout(() => {\n      callback(currTime - firstTime);\n    }, 1000 / 60);\n\n    return id as any as number;\n  });\n})();\n\n/**\n* window.cancelAnimationFrame() method with cross browser.\n* @function\n* @memberof CrossBrowser\n* @param {number} handle - the id obtained through requestAnimationFrame method\n* @return {void}\n* @example\nimport { requestAnimationFrame, cancelAnimationFrame } from \"@daybrush/utils\";\n\nconst id = requestAnimationFrame((timestamp) => {\n  console.log(timestamp);\n});\n\ncancelAnimationFrame(id);\n*/\nexport const cancelAnimationFrame = /*#__PURE__*/(() => {\n  const caf = IS_WINDOW\n    && (window.cancelAnimationFrame || (window as any).webkitCancelAnimationFrame\n      || (window as any).mozCancelAnimationFrame || (window as any).msCancelAnimationFrame);\n\n  return caf\n    ? caf.bind(window) as (handle: number) => void\n    : ((handle: number) => { clearTimeout(handle); });\n})();\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function getKeys(obj: IObject<any>): string[] {\n  return Object.keys(obj);\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function getValues(obj: IObject<any>): any[] {\n  const keys = getKeys(obj);\n\n  return keys.map(key => obj[key]);\n}\n/**\n* @function\n* @memberof Utils\n*/\nexport function getEntries(obj: IObject<any>): [string, any][] {\n  const keys = getKeys(obj);\n\n  return keys.map(key => [key, obj[key]]);\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function sortOrders(keys: Array<string | number>, orders: Array<string | number> = []) {\n  keys.sort((a, b) => {\n    const index1 = orders.indexOf(a);\n    const index2 = orders.indexOf(b);\n\n    if (index2 === -1 && index1 === -1) {\n      return 0;\n    }\n    if (index1 === -1) {\n      return 1;\n    }\n    if (index2 === -1) {\n      return -1;\n    }\n    return index1 - index2;\n  });\n}\n\n/**\n* convert unit size to px size\n* @function\n* @memberof Utils\n*/\nexport function convertUnitSize(pos: string, size: number | IObject<((pos: number) => number) | number>) {\n  const { value, unit } = splitUnit(pos);\n\n  if (isObject(size)) {\n    const sizeFunction = size[unit];\n    if (sizeFunction) {\n      if (isFunction(sizeFunction)) {\n        return sizeFunction(value);\n      } else if (DEFAULT_UNIT_PRESETS[unit]) {\n        return DEFAULT_UNIT_PRESETS[unit](value, sizeFunction);\n      }\n    }\n  } else if (unit === \"%\") {\n    return value * size / 100;\n  }\n  if (DEFAULT_UNIT_PRESETS[unit]) {\n    return DEFAULT_UNIT_PRESETS[unit](value);\n  }\n  return value;\n}\n\n/**\n* calculate between min, max\n* @function\n* @memberof Utils\n*/\nexport function between(value: number, min: number, max: number): number {\n  return Math.max(min, Math.min(value, max));\n}\n\nexport function checkBoundSize(targetSize: number[], compareSize: number[], isMax: boolean, ratio = targetSize[0] / targetSize[1]) {\n  return [\n    [throttle(compareSize[0], TINY_NUM), throttle(compareSize[0] / ratio, TINY_NUM)],\n    [throttle(compareSize[1] * ratio, TINY_NUM), throttle(compareSize[1], TINY_NUM)],\n  ].filter(size => size.every((value, i) => {\n    const defaultSize = compareSize[i];\n    const throttledSize = throttle(defaultSize, TINY_NUM);\n\n    return isMax ? value <= defaultSize || value <= throttledSize : value >= defaultSize || value >= throttledSize;\n  }))[0] || targetSize;\n}\n\n/**\n* calculate bound size\n* @function\n* @memberof Utils\n*/\nexport function calculateBoundSize(\n  size: number[],\n  minSize: number[],\n  maxSize: number[],\n  keepRatio?: number | boolean,\n): number[] {\n  if (!keepRatio) {\n    return size.map((value, i) => between(value, minSize[i], maxSize[i]));\n  }\n  let [width, height] = size;\n\n  const ratio = keepRatio === true ? width / height : keepRatio;\n  // width : height = minWidth : minHeight;\n  const [minWidth, minHeight] = checkBoundSize(size, minSize, false, ratio);\n  const [maxWidth, maxHeight] = checkBoundSize(size, maxSize, true, ratio);\n\n  if (width < minWidth || height < minHeight) {\n    width = minWidth;\n    height = minHeight;\n  } else if (width > maxWidth || height > maxHeight) {\n    width = maxWidth;\n    height = maxHeight;\n  }\n  return [width, height];\n}\n\n\n/**\n* Add all the numbers.\n* @function\n* @memberof Utils\n*/\nexport function sum(nums: number[]): number {\n  const length = nums.length;\n  let total = 0;\n\n  for (let i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return total;\n}\n\n/**\n* Average all numbers.\n* @function\n* @memberof Utils\n*/\nexport function average(nums: number[]) {\n  const length = nums.length;\n  let total = 0;\n\n  for (let i = length - 1; i >= 0; --i) {\n    total += nums[i];\n  }\n  return length ? total / length : 0;\n}\n/**\n* Get the angle of two points. (0 <= rad < 359)\n* @function\n* @memberof Utils\n*/\nexport function getRad(pos1: number[], pos2: number[]): number {\n  const distX = pos2[0] - pos1[0];\n  const distY = pos2[1] - pos1[1];\n  const rad = Math.atan2(distY, distX);\n\n  return rad >= 0 ? rad : rad + Math.PI * 2;\n}\n/**\n* Get the average point of all points.\n* @function\n* @memberof Utils\n*/\nexport function getCenterPoint(points: number[][]): number[] {\n  return [0, 1].map(i => average(points.map(pos => pos[i])));\n}\n/**\n* Gets the direction of the shape.\n* @function\n* @memberof Utils\n*/\nexport function getShapeDirection(points: number[][]): 1 | -1 {\n  const center = getCenterPoint(points);\n  const pos1Rad = getRad(center, points[0]);\n  const pos2Rad = getRad(center, points[1]);\n\n  return (pos1Rad < pos2Rad && pos2Rad - pos1Rad < Math.PI) || (pos1Rad > pos2Rad && pos2Rad - pos1Rad < -Math.PI)\n    ? 1 : -1;\n}\n\n/**\n* Get the distance between two points.\n* @function\n* @memberof Utils\n*/\nexport function getDist(a: number[], b?: number[]) {\n  return Math.sqrt(Math.pow((b ? b[0] : 0) - a[0], 2) + Math.pow((b ? b[1] : 0) - a[1], 2));\n}\n\n/**\n* throttle number depending on the unit.\n* @function\n* @memberof Utils\n*/\nexport function throttle(num: number, unit?: number) {\n  if (!unit) {\n    return num;\n  }\n  const reverseUnit = 1 / unit;\n  return Math.round(num / unit) / reverseUnit;\n}\n\n/**\n* throttle number array depending on the unit.\n* @function\n* @memberof Utils\n*/\nexport function throttleArray(nums: number[], unit?: number) {\n  nums.forEach((_, i) => {\n    nums[i] = throttle(nums[i], unit);\n  });\n  return nums;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function counter(num: number): number[] {\n  const nums: number[] = [];\n\n  for (let i = 0; i < num; ++i) {\n    nums.push(i);\n  }\n\n  return nums;\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function replaceOnce(text: string, fromText: RegExp | string, toText: string | ((...args: any[]) => string)): string {\n  let isOnce = false;\n  return text.replace(fromText, (...args: any[]) => {\n    if (isOnce) {\n      return args[0];\n    }\n    isOnce = true;\n    return isString(toText) ? toText : toText(...args);\n  });\n}\n\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function flat<Type>(arr: Type[][]): Type[] {\n  return arr.reduce((prev, cur) => {\n    return prev.concat(cur);\n  }, []);\n}\n\n/**\n* @function\n* @memberof Utils\n*/\nexport function deepFlat<T extends any[]>(arr: T): Array<FlattedElement<T[0]>> {\n  return arr.reduce((prev, cur) => {\n    if (isArray(cur)) {\n      prev.push(...deepFlat(cur));\n    } else {\n      prev.push(cur);\n    }\n    return prev;\n  }, [] as any[]);\n}\n\n\n/**\n * @function\n * @memberof Utils\n */\nexport function pushSet<T>(elements: T[], element: T) {\n  if (elements.indexOf(element) === -1) {\n    elements.push(element);\n  }\n}\n","import { document } from \"./consts\";\nimport { IObject, IEventMap } from \"./types\";\n\n/**\n * @namespace DOM\n */\n\nexport function $<K extends keyof HTMLElementTagNameMap>(selectors: K, multi: true):\n  NodeListOf<HTMLElementTagNameMap[K]>;\nexport function $<K extends keyof SVGElementTagNameMap>(selectors: K, multi: true): NodeListOf<SVGElementTagNameMap[K]>;\nexport function $<E extends Element = Element>(selectors: string, multi: true): NodeListOf<E>;\n\nexport function $<K extends keyof HTMLElementTagNameMap>(selectors: K, multi?: false): HTMLElementTagNameMap[K] | null;\nexport function $<K extends keyof SVGElementTagNameMap>(selectors: K, multi?: false): SVGElementTagNameMap[K] | null;\nexport function $<E extends Element = Element>(selectors: string, multi?: false): E | null;\n/**\n * Returns all element descendants of node that\n * match selectors.\n */\n\n/**\n * Checks if the specified class value exists in the element's class attribute.\n * @memberof DOM\n * @param - A DOMString containing one or more selectors to match\n * @param - If multi is true, a DOMString containing one or more selectors to match against.\n * @example\nimport {$} from \"@daybrush/utils\";\n\nconsole.log($(\"div\")); // div element\nconsole.log($(\"div\", true)); // [div, div] elements\n*/\nexport function $<E extends Element = Element>(selectors: string, multi?: boolean): E | NodeListOf<E> | null {\n  if (!document) {\n    return multi ? [] as any : null;\n  }\n  return multi ? document.querySelectorAll<E>(selectors) : document.querySelector<E>(selectors);\n}\n\n/**\n* Checks if the specified class value exists in the element's class attribute.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to search\n* @return {boolean} return false if the class is not found.\n* @example\nimport {hasClass} from \"@daybrush/utils\";\n\nconsole.log(hasClass(element, \"start\")); // true or false\n*/\nexport function hasClass(element: Element, className: string) {\n  if (element.classList) {\n    return element.classList.contains(className);\n  }\n  return !!element.className.match(new RegExp(`(\\\\s|^)${className}(\\\\s|$)`));\n}\n\n/**\n* Add the specified class value. If these classe already exist in the element's class attribute they are ignored.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to add\n* @example\nimport {addClass} from \"@daybrush/utils\";\n\naddClass(element, \"start\");\n*/\nexport function addClass(element: Element, className: string) {\n  if (element.classList) {\n    element.classList.add(className);\n  } else {\n    element.className += ` ${className}`;\n  }\n}\n\n/**\n* Removes the specified class value.\n* @memberof DOM\n* @param element - target\n* @param className - the class name to remove\n* @example\nimport {removeClass} from \"@daybrush/utils\";\n\nremoveClass(element, \"start\");\n*/\nexport function removeClass(element: Element, className: string) {\n  if (element.classList) {\n    element.classList.remove(className);\n  } else {\n    const reg = new RegExp(`(\\\\s|^)${className}(\\\\s|$)`);\n\n    element.className = element.className.replace(reg, \" \");\n  }\n}\n\n/**\n* Gets the CSS properties from the element.\n* @memberof DOM\n* @param elements - elements\n* @param properites - the CSS properties\n* @return returns CSS properties and values.\n* @example\nimport {fromCSS} from \"@daybrush/utils\";\n\nconsole.log(fromCSS(element, [\"left\", \"opacity\", \"top\"])); // {\"left\": \"10px\", \"opacity\": 1, \"top\": \"10px\"}\n*/\nexport function fromCSS(\n  elements: Element | Element[] | NodeListOf<Element>, properties: string[]): IObject<any> {\n  if (!elements || !properties || !properties.length) {\n    return {};\n  }\n  let element;\n\n  if (elements instanceof Element) {\n    element = elements;\n  } else if (elements.length) {\n    element = elements[0];\n  } else {\n    return {};\n  }\n  const cssObject: IObject<any> = {};\n  const styles = window.getComputedStyle(element) as any;\n  const length = properties.length;\n\n  for (let i = 0; i < length; ++i) {\n    cssObject[properties[i]] = styles[properties[i]];\n  }\n  return cssObject;\n}\n\nexport function addEvent<K extends keyof IEventMap>(\n  el: EventTarget, type: K, listener: (e: IEventMap[K]) => void, options?: boolean | AddEventListenerOptions): void;\n/**\n* Sets up a function that will be called whenever the specified event is delivered to the target\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The object which receives a notification (an object that implements the Event interface) when an event of the specified type occurs\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent} from \"@daybrush/utils\";\n\naddEvent(el, \"click\", e => {\n  console.log(e);\n});\n*/\nexport function addEvent(\n  el: EventTarget,\n  type: string, listener: (e: Event) => void,\n  options?: boolean | AddEventListenerOptions) {\n  el.addEventListener(type, listener, options);\n}\n\nexport function removeEvent<K extends keyof IEventMap>(\n  el: EventTarget, type: K, listener: (e: IEventMap[K]) => void, options?: boolean | EventListenerOptions): void;\n/**\n* removes from the EventTarget an event listener previously registered with EventTarget.addEventListener()\n* @memberof DOM\n* @param - event target\n* @param - A case-sensitive string representing the event type to listen for.\n* @param - The EventListener function of the event handler to remove from the event target.\n* @param - An options object that specifies characteristics about the event listener.\n* @example\nimport {addEvent, removeEvent} from \"@daybrush/utils\";\nconst listener = e => {\n  console.log(e);\n};\naddEvent(el, \"click\", listener);\nremoveEvent(el, \"click\", listener);\n*/\nexport function removeEvent(\n  el: EventTarget, type: string,\n  listener: (e: Event) => void,\n  options?: boolean | EventListenerOptions,\n) {\n  el.removeEventListener(type, listener, options);\n}\n","import { sum, findIndex, getShapeDirection, getDist, throttle, TINY_NUM, find } from \"@daybrush/utils\";\nimport { OverlapPointInfo, PointInfo, Rect } from \"./types\";\nimport { flat, isSameConstants, isSamePoint, tinyThrottle } from \"./utils\";\n\n/**\n * @namespace OverlapArea\n */\n\n/**\n * Gets the size of a shape (polygon) made of points.\n * @memberof OverlapArea\n */\nexport function getAreaSize(points: number[][]): number {\n    if (points.length < 3) {\n        return 0;\n    }\n    return Math.abs(sum(points.map((point, i) => {\n        const nextPoint = points[i + 1] || points[0];\n\n        return point[0] * nextPoint[1] - nextPoint[0] * point[1];\n    }))) / 2;\n}\n\n\n/**\n * Get points that fit the rect,\n * @memberof OverlapArea\n */\nexport function fitPoints(points: number[][], rect: Rect): number[][] {\n    const { width, height, left, top } = rect;\n    const { minX, minY, maxX, maxY } = getMinMaxs(points);\n    const ratioX = width / (maxX - minX);\n    const ratioY = height / (maxY - minY);\n\n    return points.map(point => {\n        return [\n            left + (point[0] - minX) * ratioX,\n            top + (point[1] - minY) * ratioY,\n        ];\n    });\n}\n/**\n * Get the minimum and maximum points of the points.\n * @memberof OverlapArea\n */\nexport function getMinMaxs(points: number[][]): { minX: number, minY: number, maxX: number, maxY: number } {\n    const xs = points.map(point => point[0]);\n    const ys = points.map(point => point[1]);\n\n    return {\n        minX: Math.min(...xs),\n        minY: Math.min(...ys),\n        maxX: Math.max(...xs),\n        maxY: Math.max(...ys),\n    };\n}\n/**\n * Whether the point is in shape\n * @param - point pos\n * @param - shape points\n * @param - whether to check except line\n * @memberof OverlapArea\n */\nexport function isInside(pos: number[], points: number[][], excludeLine?: boolean): boolean {\n    const [x, y] = pos;\n    const {\n        minX,\n        maxX,\n    } = getMinMaxs(points);\n\n    const xLine = [[minX, y], [maxX, y]];\n    const xLinearConstants = getLinearConstants(xLine[0], xLine[1]);\n    const lines = convertLines(points);\n\n    interface IntersectionPosInfo {\n        pos: number[];\n        line: number[][];\n        type: \"intersection\" | \"point\" | \"line\";\n    }\n    const intersectionPosInfos: IntersectionPosInfo[] = [];\n\n    lines.forEach(line => {\n        const linearConstants = getLinearConstants(line[0], line[1]);\n        const standardPoint = line[0];\n\n        if (isSameConstants(xLinearConstants, linearConstants)) {\n            intersectionPosInfos.push({\n                pos: pos,\n                line,\n                type: \"line\",\n            });\n        } else {\n            const xPoints = getPointsOnLines(getIntersectionPointsByConstants(xLinearConstants, linearConstants), [xLine, line]);\n\n            xPoints.forEach(point => {\n                if (line.some(linePoint => isSamePoint(linePoint, point))) {\n                    intersectionPosInfos.push({\n                        pos: point,\n                        line,\n                        type: \"point\",\n                    });\n                } else if (tinyThrottle(standardPoint[1] - y) !== 0) {\n                    intersectionPosInfos.push({\n                        pos: point,\n                        line,\n                        type: \"intersection\",\n                    });\n                }\n            })\n        }\n    });\n\n    if (!excludeLine) {\n        // on line\n        if (find(intersectionPosInfos, p => p[0] === x)) {\n            return true;\n        }\n    }\n    let intersectionCount = 0;\n    const xMap = {};\n\n    intersectionPosInfos.forEach(({ pos, type, line }) => {\n        if (pos[0] > x) {\n            return;\n        }\n        if (type === \"intersection\") {\n            ++intersectionCount;\n        } else if (type === \"line\") {\n            return;\n        } else if (type === \"point\") {\n            const point = find(line, linePoint => linePoint[1] !== y);\n            const prevValue = xMap[pos[0]];\n            const nextValue = point[1] > y ? 1 : -1;\n\n            if (!prevValue) {\n                xMap[pos[0]] = nextValue;\n            } else if (prevValue !== nextValue) {\n                ++intersectionCount;\n            }\n        }\n    });\n    return intersectionCount % 2 === 1;\n}\n/**\n * Get distance from point to constants. [a, b, c] (ax + by + c = 0)\n * @return [a, b, c]\n * @memberof OverlapArea\n */\nexport function getDistanceFromPointToConstants(\n    [a, b, c]: [number, number, number],\n    pos: number[],\n) {\n    return (a * pos[0] + b * pos[1] + c) / (a * a + b * b);\n}\n\n/**\n * Get the coefficient of the linear function. [a, b, c] (ax + by + c = 0)\n * @return [a, b, c]\n * @memberof OverlapArea\n */\nexport function getLinearConstants(point1: number[], point2: number[]): [number, number, number] {\n    const [x1, y1] = point1;\n    const [x2, y2] = point2;\n    // ax + by + c = 0\n    // [a, b, c]\n    let dx = x2 - x1;\n    let dy = y2 - y1;\n\n    if (Math.abs(dx) < TINY_NUM) {\n        dx = 0;\n    }\n    if (Math.abs(dy) < TINY_NUM) {\n        dy = 0;\n    }\n\n    // b > 0\n    // ax + by + c = 0\n    let a = 0;\n    let b = 0;\n    let c = 0;\n    if (!dx) {\n        if (dy) {\n            // -x + 1 = 0\n            a = -1;\n            c = x1;\n        }\n    } else if (!dy) {\n        // y - 1 = 0\n        b = 1;\n        c = -y1;\n    } else {\n        // y = -a(x - x1) + y1\n        // ax + y + a * x1 - y1 = 0\n        a = -dy / dx;\n        b = 1;\n        c = -a * x1 - y1;\n    }\n\n    return [a, b, c] as [number, number, number];\n}\n/**\n * Get intersection points with linear functions.\n * @memberof OverlapArea\n */\nexport function getIntersectionPointsByConstants(\n    linearConstants1: number[],\n    linearConstants2: number[],\n): number[][] {\n    const [a1, b1, c1] = linearConstants1;\n    const [a2, b2, c2] = linearConstants2;\n\n    const isZeroA = a1 === 0 && a2 === 0;\n    const isZeroB = b1 === 0 && b2 === 0;\n    let results: number[][] = [];\n\n    if (isZeroA && isZeroB) {\n        return [];\n    } else if (isZeroA) {\n        // b1 * y + c1 = 0\n        // b2 * y + c2 = 0\n        const y1 = -c1 / b1;\n        const y2 = -c2 / b2;\n\n        if (y1 !== y2) {\n            return [];\n        } else {\n            return [\n                [-Infinity, y1],\n                [Infinity, y1],\n            ];\n        }\n    } else if (isZeroB) {\n        // a1 * x + c1 = 0\n        // a2 * x + c2 = 0\n        const x1 = -c1 / a1;\n        const x2 = -c2 / a2;\n\n        if (x1 !== x2) {\n            return [];\n        } else {\n            return [\n                [x1, -Infinity],\n                [x1, Infinity],\n            ];\n        }\n    } else if (a1 === 0) {\n        // b1 * y + c1 = 0\n        // y = - c1 / b1;\n        // a2 * x + b2 * y + c2 = 0\n        const y = -c1 / b1;\n        const x = -(b2 * y + c2) / a2;\n\n        results = [[x, y]];\n    } else if (a2 === 0) {\n        // b2 * y + c2 = 0\n        // y = - c2 / b2;\n        // a1 * x + b1 * y + c1 = 0\n        const y = -c2 / b2;\n        const x = -(b1 * y + c1) / a1;\n\n        results = [[x, y]];\n    } else if (b1 === 0) {\n        // a1 * x + c1 = 0\n        // x = - c1 / a1;\n        // a2 * x + b2 * y + c2 = 0\n        const x = - c1 / a1;\n        const y = -(a2 * x + c2) / b2;\n\n        results = [[x, y]];\n    } else if (b2 === 0) {\n        // a2 * x + c2 = 0\n        // x = - c2 / a2;\n        // a1 * x + b1 * y + c1 = 0\n        const x = - c2 / a2;\n        const y = -(a1 * x + c1) / b1;\n\n        results = [[x, y]];\n    } else {\n        // a1 * x + b1 * y + c1 = 0\n        // a2 * x + b2 * y + c2 = 0\n        // b2 * a1 * x + b2 * b1 * y + b2 * c1 = 0\n        // b1 * a2 * x + b1 * b2 * y + b1 * c2 = 0\n        // (b2 * a1 - b1 * a2)  * x = (b1 * c2 - b2 * c1)\n        const x = (b1 * c2 - b2 * c1) / (b2 * a1 - b1 * a2);\n        const y = -(a1 * x + c1) / b1;\n\n        results = [[x, y]];\n    }\n\n    return results.map(result => [result[0], result[1]]);\n}\n/**\n * Get intersection points to the two lines.\n * @memberof OverlapArea\n */\nexport function getIntersectionPoints(\n    line1: number[][],\n    line2: number[][],\n    isLimit?: boolean,\n): number[][] {\n    const points = getIntersectionPointsByConstants(\n        getLinearConstants(line1[0], line1[1]),\n        getLinearConstants(line2[0], line2[1]),\n    );\n\n    if (isLimit) {\n        return getPointsOnLines(points, [line1, line2]);\n    }\n    return points;\n}\n\nexport function isPointOnLine(\n    pos: number[],\n    line: number[][],\n) {\n    const linearConstants = getLinearConstants(line[0], line[1]);\n\n    return tinyThrottle(getDistanceFromPointToConstants(linearConstants, pos)) === 0;\n}\n\n/**\n * Get the points on the lines (between two points).\n * @memberof OverlapArea\n */\nexport function getPointsOnLines(\n    points: number[][],\n    lines: number[][][],\n): number[][] {\n    const minMaxs = lines.map(line => [0, 1].map(order => [\n        Math.min(line[0][order], line[1][order]),\n        Math.max(line[0][order], line[1][order]),\n    ]));\n    let results: number[][] = [];\n\n    if (points.length === 2) {\n        const [x, y] = points[0];\n        if (!tinyThrottle(x - points[1][0])) {\n            /// Math.max(minY1, minY2)\n            const top = Math.max(...minMaxs.map(minMax => minMax[1][0]));\n            /// Math.min(maxY1, miax2)\n            const bottom = Math.min(...minMaxs.map(minMax => minMax[1][1]));\n\n            if (tinyThrottle(top - bottom) > 0) {\n                return [];\n            }\n            results = [\n                [x, top],\n                [x, bottom],\n            ];\n        } else if (!tinyThrottle(y - points[1][1])) {\n            /// Math.max(minY1, minY2)\n            const left = Math.max(...minMaxs.map(minMax => minMax[0][0]));\n            /// Math.min(maxY1, miax2)\n            const right = Math.min(...minMaxs.map(minMax => minMax[0][1]));\n\n            if (tinyThrottle(left - right) > 0) {\n                return [];\n            }\n            results = [\n                [left, y],\n                [right, y],\n            ];\n        }\n    }\n\n    if (!results.length) {\n        results = points.filter(point => {\n            const [pointX, pointY] = point;\n\n            return minMaxs.every(minMax => {\n                return (0 <= tinyThrottle(pointX - minMax[0][0]) && 0 <= tinyThrottle(minMax[0][1] - pointX))\n                && (0 <= tinyThrottle(pointY - minMax[1][0]) && 0 <= tinyThrottle(minMax[1][1] - pointY));\n            });\n        });\n    }\n\n    return results.map(result => [tinyThrottle(result[0]), tinyThrottle(result[1])]);\n\n}\n/**\n* Convert two points into lines.\n* @function\n* @memberof OverlapArea\n*/\nexport function convertLines(points: number[][]): number[][][] {\n    return [...points.slice(1), points[0]].map((point, i) => [points[i], point]);\n}\n\nfunction getOverlapPointInfos(points1: number[][], points2: number[][]): OverlapPointInfo[] {\n    const targetPoints1 = points1.slice();\n    const targetPoints2 = points2.slice();\n\n    if (getShapeDirection(targetPoints1) === -1) {\n        targetPoints1.reverse();\n    }\n    if (getShapeDirection(targetPoints2) === -1) {\n        targetPoints2.reverse();\n    }\n    const lines1 = convertLines(targetPoints1);\n    const lines2 = convertLines(targetPoints2);\n    const linearConstantsList1 = lines1.map(line1 => getLinearConstants(line1[0], line1[1]));\n    const linearConstantsList2 = lines2.map(line2 => getLinearConstants(line2[0], line2[1]));\n\n    const overlapInfos: OverlapPointInfo[] = [];\n\n    linearConstantsList1.forEach((linearConstants1, i) => {\n        const line1 = lines1[i];\n        const linePointInfos: OverlapPointInfo[] = [];\n        linearConstantsList2.forEach((linearConstants2, j) => {\n            const intersectionPoints = getIntersectionPointsByConstants(linearConstants1, linearConstants2);\n            const points = getPointsOnLines(intersectionPoints, [line1, lines2[j]]);\n\n            linePointInfos.push(...points.map(pos => ({\n                index1: i,\n                index2: j,\n                pos,\n                type: \"intersection\" as const,\n            })));\n        });\n        linePointInfos.sort((a, b) => {\n            return getDist(line1[0], a.pos) - getDist(line1[0], b.pos);\n        });\n\n        overlapInfos.push(...linePointInfos);\n\n        if (isInside(line1[1], targetPoints2)) {\n            overlapInfos.push({\n                index1: i,\n                index2: -1,\n                pos: line1[1],\n                type: \"inside\" as const,\n            });\n        }\n    });\n\n    lines2.forEach((line2, i) => {\n        if (!isInside(line2[1], targetPoints1)) {\n            return;\n        }\n        let isNext = false;\n        let index = findIndex(overlapInfos, ({ index2 }) => {\n            if (index2 === i) {\n                isNext = true;\n                return false;\n            }\n\n            if (isNext) {\n                return true;\n            }\n            return false;\n        });\n        if (index === -1) {\n            isNext = false;\n            index = findIndex(overlapInfos, ({ index1, index2 }) => {\n                if (index1 === -1 && index2 + 1 === i) {\n                    isNext = true;\n                    return false;\n                }\n\n                if (isNext) {\n                    return true;\n                }\n                return false;\n            });\n        }\n        if (index === -1) {\n            overlapInfos.push({\n                index1: -1,\n                index2: i,\n                pos: line2[1],\n                type: \"inside\" as const,\n            });\n        } else {\n            overlapInfos.splice(index, 0, {\n                index1: -1,\n                index2: i,\n                pos: line2[1],\n                type: \"inside\" as const,\n            });\n\n        }\n    });\n    const pointMap: Record<string, boolean> = {};\n\n    return overlapInfos.filter(({ pos }) => {\n        const key = `${pos[0]}x${pos[1]}`;\n\n        if (pointMap[key]) {\n            return false;\n        }\n        pointMap[key] = true;\n        return true;\n    });\n}\n\n/**\n* Get the points of the overlapped part of two shapes.\n* @function\n* @memberof OverlapArea\n*/\nexport function getOverlapPoints(points1: number[][], points2: number[][]): number[][] {\n    const infos = getOverlapPointInfos(points1, points2);\n\n    return infos.map(({ pos }) => pos);\n}\n\nfunction isConnectedLine(line: OverlapPointInfo[]) {\n    const {\n        0: {\n            index1: prevIndex1,\n            index2: prevIndex2,\n        },\n        1: {\n            index1: nextIndex1,\n            index2: nextIndex2,\n        }\n    } = line;\n\n    if (prevIndex1 !== -1) {\n        // same line\n        if (prevIndex1 === nextIndex1) {\n            return true;\n        }\n        if (prevIndex1 + 1 === nextIndex1) {\n            return true;\n        }\n    }\n    if (prevIndex2 !== -1) {\n        // same line\n        if (prevIndex2 === nextIndex2) {\n            return true;\n        }\n        if (prevIndex2 + 1 === nextIndex2) {\n            return true;\n        }\n    }\n\n    return false;\n\n}\n/**\n* Get the areas of the overlapped part of two shapes.\n* @function\n* @memberof OverlapArea\n*/\nexport function getOverlapAreas(points1: number[][], points2: number[][]): number[][][] {\n    const infos = getOverlapPointInfos(points1, points2);\n    const areas: OverlapPointInfo[][] = [];\n    let area: OverlapPointInfo[];\n\n    getOverlapPointInfos(points1, points2).forEach((info, i, arr) => {\n        if (i === 0 || !isConnectedLine([arr[i - 1], info])) {\n            area = [info];\n            areas.push(area);\n        } else {\n            area.push(info);\n        }\n    });\n\n    return areas.map(area => area.map(({ pos }) => pos));\n}\nfunction findReversedAreas(points1: number[][], points2: number[][], index: number = 0, areas: number[][][] = []): number[][][] {\n    const isFirst = areas.length === 0;\n    const length = points1.length;\n    const nextIndex = points1[index] ? index : 0;\n    const nextPoints1 = [...points1.slice(nextIndex), ...points1.slice(0, nextIndex)];\n\n    for (let i = 0; i < length; ++i) {\n        const point1 = nextPoints1[i];\n\n        if (find(points2, point2 => point2[0] === point1[0] && point2[1] === point1[1])) {\n            continue;\n        }\n        if (areas.some(nextArea => find(nextArea, areaPoint => areaPoint[0] === point1[0] && areaPoint[1] === point1[1]))) {\n            if (isFirst) {\n                continue;\n            } else {\n                break;\n            }\n        }\n        let nextArea: number[][];\n\n        if (isFirst) {\n            nextArea = [];\n            areas.push(nextArea);\n        } else {\n            nextArea = areas[areas.length - 1];\n        }\n        nextArea.push(point1);\n\n\n        const line = [point1, points1[index + 1] || points1[0]];\n        const nextPoint2 = points2.filter(point2 => {\n            return isPointOnLine(point2, line);\n        }).sort((a, b) => {\n            return getDist(point1, a) - getDist(point1, b);\n        })[0];\n\n        if (!nextPoint2) {\n            findReversedAreas(nextPoints1, points2, i + 1, areas);\n            break;\n        } else {\n            const point2Index = points2.indexOf(nextPoint2);\n\n            findReversedAreas(points2, points1, point2Index, areas);\n            if (!isFirst) {\n                break;\n            }\n        }\n    }\n    return areas;\n}\nexport function findConnectedAreas(points1: number[][], points2: number[][]) {\n    return findReversedAreas(points1, [...points2].reverse());\n}\n/**\n* Get non-overlapping areas of two shapes based on points1.\n* @memberof OverlapArea\n*/\nexport function getUnoverlapAreas(points1: number[][], points2: number[][]): number[][][] {\n    if (!points2.length) {\n        return [[...points1]];\n    }\n    const overlapAreas = getOverlapAreas(points1, points2);\n     let unoverlapAreas = [points1];\n\n    overlapAreas.forEach(overlapArea => {\n        const nextOverlapArea = [...overlapArea].reverse();\n\n        unoverlapAreas = flat(unoverlapAreas.map(area => {\n            const connectedAreas = findReversedAreas(area, nextOverlapArea);\n            const firstConnectedArea = connectedAreas[0];\n\n            if (connectedAreas.length === 1 && nextOverlapArea.every(point => firstConnectedArea.indexOf(point) === -1)) {\n                const lastPoint = firstConnectedArea[firstConnectedArea.length - 1];\n                const firstPoint = [...nextOverlapArea].sort((a, b) => {\n                    return getDist(lastPoint, a) - getDist(lastPoint, b);\n                })[0];\n                const firstIndex = nextOverlapArea.indexOf(firstPoint);\n\n                firstConnectedArea.push(\n                    ...nextOverlapArea.slice(firstIndex),\n                    ...nextOverlapArea.slice(0, firstIndex),\n                    nextOverlapArea[firstIndex],\n                    lastPoint,\n                );\n            }\n            return connectedAreas;\n        }));\n    });\n\n    return unoverlapAreas;\n}\n/**\n* Gets the size of the overlapped part of two shapes.\n* @function\n* @memberof OverlapArea\n*/\nexport function getOverlapSize(points1: number[][], points2: number[][]): number {\n    const points = getOverlapPoints(points1, points2);\n\n    return getAreaSize(points);\n}\n","import { findIndex, isObject } from \"@daybrush/utils\";\nimport { EventListener, EventHash, EventInfo, EventOptions, OnEvent, TargetParam } from \"./types\";\n\n/**\n * Implement EventEmitter on object or component.\n */\nclass EventEmitter<Events extends {} = { [key: string]: { [key: string]: any } }> {\n\n    private _events: {\n        [name: string]: EventInfo[],\n    } = {};\n    public on<Name extends keyof Events, Param = Events[Name]>(\n        eventName: Name, listener: EventListener<Param, this>): this;\n    public on(events: EventHash<Events, this>): this;\n    /**\n     * Add a listener to the registered event.\n     * @param - Name of the event to be added\n     * @param - listener function of the event to be added\n     * @example\n     * import EventEmitter from \"@scena/event-emitter\";\n     * cosnt emitter = new EventEmitter();\n     *\n     * // Add listener in \"a\" event\n     * emitter.on(\"a\", () => {\n     * });\n     * // Add listeners\n     * emitter.on({\n     *  a: () => {},\n     *  b: () => {},\n     * });\n     */\n    public on(eventName: string | object, listener?: EventListener<Events[any], this>): this {\n        if (isObject(eventName)) {\n            for (const name in eventName) {\n                this.on<any>(name, eventName[name]);\n            }\n        } else {\n            this._addEvent(eventName, listener, {});\n        }\n        return this;\n    }\n    public off<Name extends keyof Events, Param = Events[Name]>(\n        eventName?: Name, listener?: EventListener<Param, this>): this;\n    public off(events: EventHash<Events, this>): this;\n    /**\n     * Remove listeners registered in the event target.\n     * @param - Name of the event to be removed\n     * @param - listener function of the event to be removed\n     * @example\n     * import EventEmitter from \"@scena/event-emitter\";\n     * cosnt emitter = new EventEmitter();\n     *\n     * // Remove all listeners.\n     * emitter.off();\n     *\n     * // Remove all listeners in \"A\" event.\n     * emitter.off(\"a\");\n     *\n     *\n     * // Remove \"listener\" listener in \"a\" event.\n     * emitter.off(\"a\", listener);\n     */\n    public off(eventName?: string | object, listener?: EventListener<Events[any], this>): this {\n        if (!eventName) {\n            this._events = {};\n        } else if(isObject(eventName)) {\n            for (const name in eventName) {\n                this.off<any>(name);\n            }\n        } else if (!listener) {\n            this._events[eventName] = [];\n        } else {\n            const events = this._events[eventName];\n\n            if (events) {\n                const index = findIndex(events, e => e.listener === listener);\n\n                if (index > -1) {\n                    events.splice(index, 1);\n                }\n            }\n        }\n        return this;\n    }\n    /**\n     * Add a disposable listener and Use promise to the registered event.\n     * @param - Name of the event to be added\n     * @param - disposable listener function of the event to be added\n     * @example\n     * import EventEmitter from \"@scena/event-emitter\";\n     * cosnt emitter = new EventEmitter();\n     *\n     * // Add a disposable listener in \"a\" event\n     * emitter.once(\"a\", () => {\n     * });\n     *\n     * // Use Promise\n     * emitter.once(\"a\").then(e => {\n     * });\n     */\n    public once<Name extends keyof Events & string, Param = Events[Name]>(\n        eventName: Name, listener?: EventListener<Param, this>): Promise<OnEvent<Param, this>> {\n        if (listener) {\n            this._addEvent(eventName, listener, { once: true });\n        }\n        return new Promise<OnEvent<Param, this>>(resolve => {\n            this._addEvent(eventName, resolve, { once: true });\n        });\n    }\n    public emit<Name extends keyof Events, Param = Events[Name]>(\n        eventName: {} extends Param ? Name : never): boolean;\n    public emit<Name extends keyof Events, Param = Events[Name]>(\n        eventName: Name, param: TargetParam<Param>): boolean;\n    /**\n     * Fires an event to call listeners.\n     * @param - Event name\n     * @param - Event parameter\n     * @return If false, stop the event.\n     * @example\n     *\n     * import EventEmitter from \"@scena/event-emitter\";\n     *\n     *\n     * const emitter = new EventEmitter();\n     *\n     * emitter.on(\"a\", e => {\n     * });\n     *\n     *\n     * emitter.emit(\"a\", {\n     *   a: 1,\n     * });\n     */\n    public emit(eventName: string, param: TargetParam<any> = {}): boolean {\n        const events = this._events[eventName];\n\n        if (!eventName || !events) {\n            return true;\n        }\n        let isStop = false;\n\n        param.eventType = eventName;\n        param.stop = () => {\n            isStop = true;\n        };\n        param.currentTarget = this;\n\n\n        [...events].forEach(info => {\n            info.listener(param);\n            if (info.once) {\n                this.off<any>(eventName, info.listener);\n            }\n        });\n\n        return !isStop;\n    }\n    public trigger<Name extends keyof Events, Param = Events[Name]>(eventName: {} extends TargetParam<Param> ? Name : never): boolean;\n    public trigger<Name extends keyof Events, Param = Events[Name]>(eventName: Name, param: TargetParam<Param>): boolean;\n    /**\n     * Fires an event to call listeners.\n     * @param - Event name\n     * @param - Event parameter\n     * @return If false, stop the event.\n     * @example\n     *\n     * import EventEmitter from \"@scena/event-emitter\";\n     *\n     *\n     * const emitter = new EventEmitter();\n     *\n     * emitter.on(\"a\", e => {\n     * });\n     *\n     *\n     * emitter.emit(\"a\", {\n     *   a: 1,\n     * });\n     *//**\n     * Fires an event to call listeners.\n     * @param - Event name\n     * @param - Event parameter\n     * @return If false, stop the event.\n     * @example\n     *\n     * import EventEmitter from \"@scena/event-emitter\";\n     *\n     *\n     * const emitter = new EventEmitter();\n     *\n     * emitter.on(\"a\", e => {\n     * });\n     *\n     * // emit\n     * emitter.trigger(\"a\", {\n     *   a: 1,\n     * });\n     */\n    public trigger<Name extends keyof Events>(eventName: Name, param: TargetParam<any>= {}): boolean {\n        return this.emit<any>(eventName, param);\n    }\n\n    private _addEvent(eventName: string, listener: EventListener<Events[any], this>, options: Partial<EventOptions>) {\n        const events = this._events;\n\n        events[eventName] = events[eventName] || [];\n\n        const listeners = events[eventName];\n\n        listeners.push({ listener, ...options });\n    }\n}\n\nexport default EventEmitter;\n","import { splitComma, splitBracket, splitUnit, splitSpace, isArray } from \"@daybrush/utils\";\nimport { MatrixInfo } from \"./types\";\nimport { calculate, invert, matrix3d, rotateX3d, rotateY3d, rotateZ3d, scale3d, translate3d } from \"@scena/matrix\";\n\nexport function createMatrix() {\n    return [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ];\n}\nexport function parseMat(transform: string | string[]): number[] {\n    return toMat(parse(transform));\n}\nexport function getElementMatrix(el: HTMLElement) {\n    return parseMat(getComputedStyle(el).transform!);\n}\nexport function calculateMatrixDist(matrix: number[], pos: number[]) {\n    const res = calculate(matrix, [pos[0], pos[1] || 0, pos[2] || 0, 1], 4);\n    const w = res[3] || 1;\n\n    return [\n        res[0] / w,\n        res[1] / w,\n        res[2] / w,\n    ];\n}\nexport function getDistElementMatrix(el: HTMLElement, container = document.body): number[] {\n    let target: HTMLElement | null = el;\n    let matrix = createMatrix();\n\n    while (target) {\n        const transform = getComputedStyle(target).transform!;\n        matrix = matrix3d(parseMat(transform), matrix);\n\n        if (target === container) {\n            break;\n        }\n        target = target.parentElement;\n    }\n    matrix = invert(matrix, 4);\n\n    matrix[12] = 0;\n    matrix[13] = 0;\n    matrix[14] = 0;\n\n    return matrix;\n}\n\nexport function toMat(matrixInfos: MatrixInfo[]): number[] {\n    let target = createMatrix();\n\n    matrixInfos.forEach(info => {\n        const {\n            matrixFunction,\n            functionValue,\n        } = info;\n\n        if (!matrixFunction) {\n            return;\n        }\n        target = matrixFunction(target, functionValue);\n    });\n    return target;\n}\nexport function parse(transform: string | string[]): MatrixInfo[] {\n    const transforms = isArray(transform) ? transform : splitSpace(transform);\n\n    return transforms.map(t => {\n        const { prefix: name, value } = splitBracket(t);\n\n\n        let matrixFunction = null;\n        let functionName: string = name;\n        let functionValue: any = \"\";\n\n        if (name === \"translate\" || name === \"translateX\" || name === \"translate3d\") {\n            const [posX, posY = 0, posZ = 0] = splitComma(value!).map(v => parseFloat(v));\n\n            matrixFunction = translate3d;\n            functionValue = [posX, posY, posZ];\n        } else if (name === \"translateY\") {\n            const posY = parseFloat(value!);\n\n            matrixFunction = translate3d;\n            functionValue = [0, posY, 0];\n        } else if (name === \"translateZ\") {\n            const posZ = parseFloat(value!);\n\n            matrixFunction = translate3d;\n            functionValue = [0, 0, posZ];\n        } else if (name === \"scale\" || name === \"scale3d\") {\n            const [sx, sy = sx, sz = 1] = splitComma(value!).map(v => parseFloat(v)) as number[];\n\n            matrixFunction = scale3d;\n            functionValue = [sx, sy, sz];\n        } else if (name === \"scaleX\") {\n            const sx = parseFloat(value!);\n\n            matrixFunction = scale3d;\n            functionValue = [sx, 1, 1];\n        } else if (name === \"scaleY\") {\n            const sy = parseFloat(value!);\n\n            matrixFunction = scale3d;\n            functionValue = [1, sy, 1];\n        } else if (name === \"scaleZ\") {\n            const sz = parseFloat(value!);\n\n            matrixFunction = scale3d;\n            functionValue = [1, 1, sz];\n        } else if (name === \"rotate\" || name === \"rotateZ\" || name === \"rotateX\" || name === \"rotateY\") {\n            const { unit, value: unitValue } = splitUnit(value!);\n            const rad = unit === \"rad\" ? unitValue : unitValue * Math.PI / 180;\n\n            if (name === \"rotate\" || name === \"rotateZ\") {\n                functionName = \"rotateZ\";\n                matrixFunction = rotateZ3d;\n            } else if (name === \"rotateX\") {\n                matrixFunction = rotateX3d;\n            } else if (name === \"rotateY\") {\n                matrixFunction = rotateY3d;\n            }\n            functionValue = rad;\n        } else if (name === \"matrix3d\") {\n            matrixFunction = matrix3d;\n            functionValue = splitComma(value!).map(v => parseFloat(v));\n        } else if (name === \"matrix\") {\n            const m = splitComma(value!).map(v => parseFloat(v));\n            matrixFunction = matrix3d;\n            functionValue = [\n                m[0], m[1], 0, 0,\n                m[2], m[3], 0, 0,\n                0, 0, 1, 0,\n                m[4], m[5], 0, 1,\n            ];\n        } else {\n            functionName = \"\";\n        }\n        return {\n            name: name!,\n            functionName,\n            value: value!,\n            matrixFunction,\n            functionValue,\n        };\n    });\n}\n","/*\negjs-children-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nimport ListDiffer, { ListFormat } from \"@egjs/list-differ\";\nimport { findKeyCallback } from \"./consts\";\n\n/**\n * A module that checks diff when child are added, removed, or changed .\n * @ko 자식 노드들에서 자식 노드가 추가되거나 삭제되거나 순서가 변경된 사항을 체크하는 모듈입니다.\n * @memberof eg\n * @extends eg.ListDiffer\n */\nclass ChildrenDiffer<T extends Element = Element> extends ListDiffer<T> {\n  /**\n   * @param - Initializing Children <ko> 초기 설정할 자식 노드들</ko>\n   */\n  constructor(\n    list: ListFormat<T> = [],\n  ) {\n    super(list, findKeyCallback);\n  }\n}\nexport default ChildrenDiffer;\n","/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nexport default class PolyMap<T> {\n  private keys: T[] = [];\n  private values: number[] = [];\n  public get(key: T): number {\n    return this.values[this.keys.indexOf(key)];\n  }\n  public set(key: T, value: number) {\n    const keys = this.keys;\n    const values = this.values;\n    const prevIndex = keys.indexOf(key);\n    const index = prevIndex === -1 ? keys.length : prevIndex;\n\n    keys[index] = key;\n    values[index] = value;\n  }\n}\n","/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nexport default class HashMap<T> {\n  private object = {};\n  public get(key: number | string): T {\n    return this.object[key];\n  }\n  public set(key: number | string, value: T) {\n    this.object[key] = value;\n  }\n};\n\n","/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nexport default class Link {\n  prev?: Link;\n  next?: Link;\n\n  public connect(prevLink?: Link, nextLink?: Link) {\n    this.prev = prevLink;\n    this.next = nextLink;\n\n    prevLink && (prevLink.next = this);\n    nextLink && (nextLink.prev = this);\n  }\n  public disconnect() {\n    // In double linked list, diconnect the interconnected relationship.\n    const prevLink = this.prev;\n    const nextLink = this.next;\n    prevLink && (prevLink.next = nextLink);\n    nextLink && (nextLink.prev = prevLink);\n  }\n  public getIndex() {\n    let link: Link | undefined = this;\n    let index = -1;\n\n    while (link) {\n      link = link.prev;\n      ++index;\n    }\n    return index;\n  }\n}\n","/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nimport Link from \"./Link\";\n\nfunction orderChanged(changed: number[][], fixed: boolean[]) {\n  // It is roughly in the order of these examples.\n  // 4, 6, 0, 2, 1, 3, 5, 7\n  const fromLinks: Link[] = [];\n  // 0, 1, 2, 3, 4, 5, 6, 7\n  const toLinks: Link[] = [];\n\n  changed.forEach(([from, to]) => {\n    const link = new Link();\n\n    fromLinks[from] = link;\n    toLinks[to] = link;\n  });\n  // `fromLinks` are connected to each other by double linked list.\n  fromLinks.forEach((link, i) => {\n    link.connect(fromLinks[i - 1]);\n  });\n\n  return changed.filter((_, i) => !fixed[i]).map(([from, to], i) => {\n    if (from === to) {\n      return [0, 0];\n    }\n    const fromLink = fromLinks[from];\n    const toLink = toLinks[to - 1];\n    const fromIndex = fromLink.getIndex();\n\n    // Disconnect the link connected to `fromLink`.\n    fromLink.disconnect();\n\n    // Connect `fromLink` to the right of `toLink`.\n    if (!toLink) {\n      fromLink.connect(undefined, fromLinks[0]);\n    } else {\n      fromLink.connect(toLink, toLink.next);\n    }\n    const toIndex = fromLink.getIndex();\n    return [fromIndex, toIndex];\n  });\n}\n\nexport default class Result<T = any> {\n  public prevList: T[];\n  public list: T[];\n  public added: number[];\n  public removed: number[];\n  public changed: number[][];\n  public maintained: number[][];\n  private changedBeforeAdded: number[][];\n  private fixed: boolean[];\n\n  private cacheOrdered: number[][];\n  private cachePureChanged: number[][];\n  constructor(\n    prevList: T[],\n    list: T[],\n    added: number[],\n    removed: number[],\n    changed: number[][],\n    maintained: number[][],\n    changedBeforeAdded: number[][],\n    fixed: boolean[],\n  ) {\n    this.prevList = prevList;\n    this.list = list;\n    this.added = added;\n    this.removed = removed;\n    this.changed = changed;\n    this.maintained = maintained;\n    this.changedBeforeAdded = changedBeforeAdded;\n    this.fixed = fixed;\n  }\n  get ordered(): number[][] {\n    if (!this.cacheOrdered) {\n      this.caculateOrdered();\n    }\n    return this.cacheOrdered;\n  }\n  get pureChanged(): number[][] {\n    if (!this.cachePureChanged) {\n      this.caculateOrdered();\n    }\n    return this.cachePureChanged;\n  }\n  private caculateOrdered() {\n    const ordered = orderChanged(this.changedBeforeAdded, this.fixed);\n    const changed: number[][] = this.changed;\n    const pureChanged: number[][] = [];\n\n    this.cacheOrdered = ordered.filter(([from, to], i) => {\n      const [fromBefore, toBefore] = changed[i];\n\n      if (from !== to) {\n        pureChanged.push([fromBefore, toBefore]);\n        return true;\n      }\n    });\n    this.cachePureChanged = pureChanged;\n  }\n}\n","/*\negjs-list-differ\nCopyright (c) 2019-present NAVER Corp.\nMIT license\n*/\nimport { DiffResult, ListFormat } from \"./types\";\nimport { diff } from \"./utils\";\n\n/**\n * A module that checks diff when values are added, removed, or changed in an array.\n * @ko 배열 또는 오브젝트에서 값이 추가되거나 삭제되거나 순서가 변경사항을 체크하는 모듈입니다.\n * @memberof eg\n */\nclass ListDiffer<T> {\n  private list: T[];\n  /**\n   * @param - Initializing Data Array. <ko> 초기 설정할 데이터 배열.</ko>\n   * @param - This callback function returns the key of the item. <ko> 아이템의 키를 반환하는 콜백 함수입니다.</ko>\n   * @example\n   * import ListDiffer from \"@egjs/list-differ\";\n   * // script => eg.ListDiffer\n   * const differ = new ListDiffer([0, 1, 2, 3, 4, 5], e => e);\n   * const result = differ.update([7, 8, 0, 4, 3, 6, 2, 1]);\n   * // List before update\n   * // [1, 2, 3, 4, 5]\n   * console.log(result.prevList);\n   * // Updated list\n   * // [4, 3, 6, 2, 1]\n   * console.log(result.list);\n   * // Index array of values added to `list`.\n   * // [0, 1, 5]\n   * console.log(result.added);\n   * // Index array of values removed in `prevList`.\n   * // [5]\n   * console.log(result.removed);\n   * // An array of index pairs of `prevList` and `list` with different indexes from `prevList` and `list`.\n   * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n   * console.log(result.changed);\n   * // The subset of `changed` and an array of index pairs that moved data directly. Indicate an array of absolute index pairs of `ordered`.(Formatted by: Array<[index of prevList, index of list]>)\n   * // [[4, 3], [3, 4], [2, 6]]\n   * console.log(result.pureChanged);\n   * // An array of index pairs to be `ordered` that can synchronize `list` before adding data. (Formatted by: Array<[prevIndex, nextIndex]>)\n   * // [[4, 1], [4, 2], [4, 3]]\n   * console.log(result.ordered);\n   * // An array of index pairs of `prevList` and `list` that have not been added/removed so data is preserved.\n   * // [[0, 2], [4, 3], [3, 4], [2, 6], [1, 7]]\n   * console.log(result.maintained);\n   */\n  constructor(\n    list: ListFormat<T> = [],\n    private findKeyCallback?: (e: T, i: number, arr: T[]) => number | string,\n  ) {\n    this.list = [].slice.call(list);\n  }\n  /**\n   * Update list.\n   * @ko 리스트를 업데이트를 합니다.\n   * @param - List to update <ko> 업데이트할 리스트 </ko>\n   * @return - Returns the results of an update from `prevList` to `list`.<ko> `prevList`에서 `list`로 업데이트한 결과를 반환한다. </ko>\n   */\n  public update(list: ListFormat<T>): DiffResult<T> {\n    const newData: T[] = [].slice.call(list);\n    const result = diff<T>(this.list, newData, this.findKeyCallback);\n\n    this.list = newData;\n    return result;\n  }\n}\n\nexport default ListDiffer;\n","import EventEmitter from \"@scena/event-emitter\";\nimport { isFunction, isString, now } from \"@daybrush/utils\";\nimport { CheckScrollOptions, DragScrollEvents, DragScrollOptions, Rect } from \"./types\";\n\nfunction getDefaultScrollPosition(e: { container: HTMLElement, direction: number[] }) {\n    let container = e.container;\n\n    if (container === document.body) {\n        return [\n            container.scrollLeft || document.documentElement.scrollLeft,\n            container.scrollTop || document.documentElement.scrollTop,\n        ];\n    }\n    return [\n        container.scrollLeft,\n        container.scrollTop,\n    ];\n}\n\nfunction checkDefaultScrollEvent(container: HTMLElement | Window, callback: () => void) {\n    container.addEventListener(\"scroll\", callback);\n\n    return () => {\n        container.removeEventListener(\"scroll\", callback);\n    }\n}\n\nfunction getContainerElement(container: DragScrollOptions[\"container\"]): HTMLElement {\n    if (!container) {\n        return null;\n    } else if (isString(container)) {\n        return document.querySelector<HTMLElement>(container);\n    } if (isFunction(container)) {\n        return container();\n    } else if (container instanceof Element) {\n        return container;\n    } else if (\"current\" in container) {\n        return container.current;\n    } else if (\"value\" in container) {\n        return container.value;\n    }\n}\n\n/**\n * @sort 1\n */\nclass DragScroll extends EventEmitter<DragScrollEvents> {\n    private _startRect: Rect | null = null;\n    private _startPos: number[] = [];\n    private _prevTime: number = 0;\n    private _timer: number = 0;\n    private _prevScrollPos: number[] = [0, 0];\n    private _isWait = false;\n    private _flag = false;\n    private _currentOptions: DragScrollOptions | null = null;\n    private _lock = false;\n    private _unregister: (() => void) | null = null;\n    /**\n     */\n    public dragStart(e: any, options: DragScrollOptions) {\n        const container = getContainerElement(options.container);\n\n        if (!container) {\n            this._flag = false;\n            return;\n        }\n        let top = 0;\n        let left = 0;\n        let width = 0;\n        let height = 0;\n\n        if (container === document.body) {\n            width = window.innerWidth;\n            height = window.innerHeight;\n        } else {\n            const rect = container.getBoundingClientRect();\n\n            top = rect.top;\n            left = rect.left;\n            width = rect.width;\n            height = rect.height;\n        }\n\n        this._flag = true;\n        this._startPos = [e.clientX, e.clientY];\n        this._startRect = { top, left, width, height };\n        this._prevScrollPos = this._getScrollPosition([0, 0], options);\n        this._currentOptions = options;\n        this._registerScrollEvent(options);\n    }\n    public drag(e: any, options: DragScrollOptions) {\n        clearTimeout(this._timer);\n        if (!this._flag) {\n            return;\n        }\n        const {\n            clientX,\n            clientY,\n        } = e;\n        const {\n            threshold = 0,\n        } = options;\n        const {\n            _startRect,\n            _startPos,\n        } = this;\n\n\n        this._currentOptions = options;\n        const direction = [0, 0];\n\n        if (_startRect.top > clientY - threshold) {\n            if (_startPos[1] > _startRect.top || clientY < _startPos[1]) {\n                direction[1] = -1;\n            }\n        } else if (_startRect.top + _startRect.height < clientY + threshold) {\n            if (_startPos[1] < _startRect.top + _startRect.height || clientY > _startPos[1]) {\n                direction[1] = 1;\n            }\n        }\n        if (_startRect.left > clientX - threshold) {\n            if (_startPos[0] > _startRect.left || clientX < _startPos[0]) {\n                direction[0] = -1;\n            }\n        } else if (_startRect.left + _startRect.width < clientX + threshold) {\n            if (_startPos[0] < _startRect.left + _startRect.width || clientX > _startPos[0]) {\n                direction[0] = 1;\n            }\n        }\n\n        if (!direction[0] && !direction[1]) {\n            return false;\n        }\n        return this._continueDrag({\n            ...options,\n            direction,\n            inputEvent: e,\n            isDrag: true,\n        });\n    }\n    /**\n     */\n    public checkScroll(options: CheckScrollOptions) {\n        if (this._isWait) {\n            return false;\n        }\n        const {\n            prevScrollPos = this._prevScrollPos,\n            direction,\n            throttleTime = 0,\n            inputEvent,\n            isDrag,\n        } = options;\n        const nextScrollPos = this._getScrollPosition(direction || [0, 0], options);\n        const offsetX = nextScrollPos[0] - prevScrollPos[0];\n        const offsetY = nextScrollPos[1] - prevScrollPos[1];\n\n        const nextDirection = direction || [\n            offsetX ? Math.abs(offsetX) / offsetX : 0,\n            offsetY ? Math.abs(offsetY) / offsetY : 0,\n        ];\n        this._prevScrollPos = nextScrollPos;\n        this._lock = false;\n\n        if (!offsetX && !offsetY) {\n            return false;\n        }\n        /**\n         * @event DragScroll#move\n         */\n        this.emit(\"move\", {\n            offsetX: nextDirection[0] ? offsetX : 0,\n            offsetY: nextDirection[1] ? offsetY : 0,\n            inputEvent,\n        });\n\n        if (throttleTime && isDrag) {\n            clearTimeout(this._timer);\n            this._timer = window.setTimeout(() => {\n                this._continueDrag(options);\n            }, throttleTime);\n        }\n        return true;\n    }\n    /**\n     *\n     */\n    public dragEnd() {\n        this._flag = false;\n        this._lock = false;\n        clearTimeout(this._timer);\n        this._unregisterScrollEvent();\n    }\n    private _getScrollPosition(direction: number[], options: DragScrollOptions) {\n        const {\n            container,\n            getScrollPosition = getDefaultScrollPosition,\n        } = options;\n        return getScrollPosition({ container: getContainerElement(container), direction });\n    }\n    private _continueDrag(options: CheckScrollOptions) {\n        const {\n            container,\n            direction,\n            throttleTime,\n            useScroll,\n            isDrag,\n            inputEvent,\n        } = options;\n\n        if (!this._flag || (isDrag && this._isWait)) {\n            return;\n        }\n        const nowTime = now();\n        const distTime = Math.max(throttleTime + this._prevTime - nowTime, 0);\n\n        if (distTime > 0) {\n            clearTimeout(this._timer);\n            this._timer = window.setTimeout(() => {\n                this._continueDrag(options);\n            }, distTime);\n\n            return false;\n        }\n        this._prevTime = nowTime;\n        const prevScrollPos = this._getScrollPosition(direction, options);\n\n        this._prevScrollPos = prevScrollPos;\n\n        if (isDrag) {\n            this._isWait = true;\n        }\n\n        // unregister native scroll event\n        if (!useScroll) {\n            this._lock = true;\n        }\n        const param = {\n            container: getContainerElement(container),\n            direction,\n            inputEvent,\n        };\n        options.requestScroll?.(param);\n        /**\n         * @event DragScroll#scroll\n         */\n        this.emit(\"scroll\", param);\n\n        this._isWait = false;\n        return useScroll || this.checkScroll({\n            ...options,\n            prevScrollPos,\n            direction,\n            inputEvent,\n        });\n    }\n\n    private _registerScrollEvent(options: DragScrollOptions) {\n        this._unregisterScrollEvent();\n        const checkScrollEvent = options.checkScrollEvent;\n\n        if (!checkScrollEvent) {\n            return;\n        }\n        const callback = checkScrollEvent === true ? checkDefaultScrollEvent : checkScrollEvent;\n        const container = getContainerElement(options.container);\n\n        if (checkScrollEvent === true && (container === document.body || container === document.documentElement)) {\n            this._unregister = checkDefaultScrollEvent(window, this._onScroll);\n        } else {\n            this._unregister = callback(container, this._onScroll);\n        }\n    }\n    private _unregisterScrollEvent() {\n        this._unregister?.();\n        this._unregister = null;\n    }\n\n    private _onScroll = () => {\n        const options = this._currentOptions;\n        if (this._lock || !options) {\n            return;\n        }\n\n        this.emit(\"scrollDrag\", {\n            next: (inputEvent: any) => {\n                this.checkScroll({\n                    container: options.container,\n                    inputEvent,\n                });\n            },\n        });\n    };\n}\n\nexport default DragScroll;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n",null,null,"import { getHash, injectStyle, getShadowRoot } from \"./utils\";\nimport { StyledInjector, InjectOptions } from \"./types\";\n\n/**\n * Create an styled object that can be defined and inserted into the css.\n * @param - css styles\n */\nfunction styled(css: string): StyledInjector {\n    const injectClassName = \"rCS\" + getHash(css);\n\n    return {\n        className: injectClassName,\n        inject(el: HTMLElement | SVGElement, options: Partial<InjectOptions> = {}) {\n            const shadowRoot = getShadowRoot(el);\n            let styleElement = (shadowRoot || el.ownerDocument || document).querySelector<HTMLStyleElement>(`style[data-styled-id=\"${injectClassName}\"]`);\n\n            if (!styleElement) {\n                styleElement = injectStyle(injectClassName, css, options, el, shadowRoot);\n            } else {\n                const count = parseFloat(styleElement.getAttribute(\"data-styled-count\")) || 0;\n                styleElement.setAttribute(\"data-styled-count\", `${count + 1}`);\n            }\n            return {\n                destroy() {\n                    const injectCount = parseFloat(styleElement.getAttribute(\"data-styled-count\")) || 0;\n\n                    if (injectCount <= 1) {\n                        if (styleElement.remove) {\n                            styleElement.remove();\n                        } else {\n                            styleElement.parentNode?.removeChild(styleElement);\n                        }\n                        styleElement = null;\n                    } else {\n                        styleElement.setAttribute(\"data-styled-count\", `${injectCount - 1}`);\n                    }\n                },\n            };\n        },\n    };\n}\n\nexport * from \"./types\";\nexport default styled;\n","//\n\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB);\n\n  // Test for A's keys different from B.\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || (ret === void 0 && valueA !== valueB)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n","import ResizeObserver from 'resize-observer-polyfill'; // =============================== Const ===============================\n\nvar elementListeners = new Map();\n\nfunction onResize(entities) {\n  entities.forEach(function (entity) {\n    var _elementListeners$get;\n\n    var target = entity.target;\n    (_elementListeners$get = elementListeners.get(target)) === null || _elementListeners$get === void 0 ? void 0 : _elementListeners$get.forEach(function (listener) {\n      return listener(target);\n    });\n  });\n} // Note: ResizeObserver polyfill not support option to measure border-box resize\n\n\nvar resizeObserver = new ResizeObserver(onResize); // Dev env only\n\nexport var _el = process.env.NODE_ENV !== 'production' ? elementListeners : null; // eslint-disable-line\n\nexport var _rs = process.env.NODE_ENV !== 'production' ? onResize : null; // eslint-disable-line\n// ============================== Observe ==============================\n\nexport function observe(element, callback) {\n  if (!elementListeners.has(element)) {\n    elementListeners.set(element, new Set());\n    resizeObserver.observe(element);\n  }\n\n  elementListeners.get(element).add(callback);\n}\nexport function unobserve(element, callback) {\n  if (elementListeners.has(element)) {\n    elementListeners.get(element).delete(callback);\n\n    if (!elementListeners.get(element).size) {\n      resizeObserver.unobserve(element);\n      elementListeners.delete(element);\n    }\n  }\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport * as React from 'react';\n/**\n * Fallback to findDOMNode if origin ref do not provide any dom element\n */\n\nvar DomWrapper = /*#__PURE__*/function (_React$Component) {\n  _inherits(DomWrapper, _React$Component);\n\n  var _super = _createSuper(DomWrapper);\n\n  function DomWrapper() {\n    _classCallCheck(this, DomWrapper);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(DomWrapper, [{\n    key: \"render\",\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n\n  return DomWrapper;\n}(React.Component);\n\nexport { DomWrapper as default };","import * as React from 'react';\nexport var CollectionContext = /*#__PURE__*/React.createContext(null);\n/**\n * Collect all the resize event from children ResizeObserver\n */\n\nexport function Collection(_ref) {\n  var children = _ref.children,\n      onBatchResize = _ref.onBatchResize;\n  var resizeIdRef = React.useRef(0);\n  var resizeInfosRef = React.useRef([]);\n  var onCollectionResize = React.useContext(CollectionContext);\n  var onResize = React.useCallback(function (size, element, data) {\n    resizeIdRef.current += 1;\n    var currentId = resizeIdRef.current;\n    resizeInfosRef.current.push({\n      size: size,\n      element: element,\n      data: data\n    });\n    Promise.resolve().then(function () {\n      if (currentId === resizeIdRef.current) {\n        onBatchResize === null || onBatchResize === void 0 ? void 0 : onBatchResize(resizeInfosRef.current);\n        resizeInfosRef.current = [];\n      }\n    }); // Continue bubbling if parent exist\n\n    onCollectionResize === null || onCollectionResize === void 0 ? void 0 : onCollectionResize(size, element, data);\n  }, [onBatchResize, onCollectionResize]);\n  return /*#__PURE__*/React.createElement(CollectionContext.Provider, {\n    value: onResize\n  }, children);\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { composeRef, supportRef } from \"rc-util/es/ref\";\nimport * as React from 'react';\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport { observe, unobserve } from '../utils/observerUtil';\nimport DomWrapper from './DomWrapper';\nimport { CollectionContext } from '../Collection';\nexport default function SingleObserver(props) {\n  var children = props.children,\n      disabled = props.disabled;\n  var elementRef = React.useRef(null);\n  var wrapperRef = React.useRef(null);\n  var onCollectionResize = React.useContext(CollectionContext); // =========================== Children ===========================\n\n  var isRenderProps = typeof children === 'function';\n  var mergedChildren = isRenderProps ? children(elementRef) : children; // ============================= Size =============================\n\n  var sizeRef = React.useRef({\n    width: -1,\n    height: -1,\n    offsetWidth: -1,\n    offsetHeight: -1\n  }); // ============================= Ref ==============================\n\n  var canRef = !isRenderProps && /*#__PURE__*/React.isValidElement(mergedChildren) && supportRef(mergedChildren);\n  var originRef = canRef ? mergedChildren.ref : null;\n  var mergedRef = React.useMemo(function () {\n    return composeRef(originRef, elementRef);\n  }, [originRef, elementRef]); // =========================== Observe ============================\n\n  var propsRef = React.useRef(props);\n  propsRef.current = props; // Handler\n\n  var onInternalResize = React.useCallback(function (target) {\n    var _propsRef$current = propsRef.current,\n        onResize = _propsRef$current.onResize,\n        data = _propsRef$current.data;\n\n    var _target$getBoundingCl = target.getBoundingClientRect(),\n        width = _target$getBoundingCl.width,\n        height = _target$getBoundingCl.height;\n\n    var offsetWidth = target.offsetWidth,\n        offsetHeight = target.offsetHeight;\n    /**\n     * Resize observer trigger when content size changed.\n     * In most case we just care about element size,\n     * let's use `boundary` instead of `contentRect` here to avoid shaking.\n     */\n\n    var fixedWidth = Math.floor(width);\n    var fixedHeight = Math.floor(height);\n\n    if (sizeRef.current.width !== fixedWidth || sizeRef.current.height !== fixedHeight || sizeRef.current.offsetWidth !== offsetWidth || sizeRef.current.offsetHeight !== offsetHeight) {\n      var size = {\n        width: fixedWidth,\n        height: fixedHeight,\n        offsetWidth: offsetWidth,\n        offsetHeight: offsetHeight\n      };\n      sizeRef.current = size; // IE is strange, right?\n\n      var mergedOffsetWidth = offsetWidth === Math.round(width) ? width : offsetWidth;\n      var mergedOffsetHeight = offsetHeight === Math.round(height) ? height : offsetHeight;\n\n      var sizeInfo = _objectSpread(_objectSpread({}, size), {}, {\n        offsetWidth: mergedOffsetWidth,\n        offsetHeight: mergedOffsetHeight\n      }); // Let collection know what happened\n\n\n      onCollectionResize === null || onCollectionResize === void 0 ? void 0 : onCollectionResize(sizeInfo, target, data);\n\n      if (onResize) {\n        // defer the callback but not defer to next frame\n        Promise.resolve().then(function () {\n          onResize(sizeInfo, target);\n        });\n      }\n    }\n  }, []); // Dynamic observe\n\n  React.useEffect(function () {\n    var currentElement = findDOMNode(elementRef.current) || findDOMNode(wrapperRef.current);\n\n    if (currentElement && !disabled) {\n      observe(currentElement, onInternalResize);\n    }\n\n    return function () {\n      return unobserve(currentElement, onInternalResize);\n    };\n  }, [elementRef.current, disabled]); // ============================ Render ============================\n\n  return /*#__PURE__*/React.createElement(DomWrapper, {\n    ref: wrapperRef\n  }, canRef ? /*#__PURE__*/React.cloneElement(mergedChildren, {\n    ref: mergedRef\n  }) : mergedChildren);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport { warning } from \"rc-util/es/warning\";\nimport SingleObserver from './SingleObserver';\nimport { Collection } from './Collection';\nvar INTERNAL_PREFIX_KEY = 'rc-observer-key';\n\nfunction ResizeObserver(props) {\n  var children = props.children;\n  var childNodes = typeof children === 'function' ? [children] : toArray(children);\n\n  if (process.env.NODE_ENV !== 'production') {\n    if (childNodes.length > 1) {\n      warning(false, 'Find more than one child node with `children` in ResizeObserver. Please use ResizeObserver.Collection instead.');\n    } else if (childNodes.length === 0) {\n      warning(false, '`children` of ResizeObserver is empty. Nothing is in observe.');\n    }\n  }\n\n  return childNodes.map(function (child, index) {\n    var key = (child === null || child === void 0 ? void 0 : child.key) || \"\".concat(INTERNAL_PREFIX_KEY, \"-\").concat(index);\n    return /*#__PURE__*/React.createElement(SingleObserver, _extends({}, props, {\n      key: key\n    }), child);\n  });\n}\n\nResizeObserver.Collection = Collection;\nexport default ResizeObserver;","import { PresetInfo } from \"./types\";\n\nexport const BROWSER_PRESETS: PresetInfo[] = [\n    {\n        test: \"phantomjs\",\n        id: \"phantomjs\",\n    },\n    {\n        test: \"whale\",\n        id: \"whale\",\n    }, {\n        test: \"edgios|edge|edg\",\n        id: \"edge\",\n    },\n    {\n        test: \"msie|trident|windows phone\",\n        id: \"ie\",\n        versionTest: \"iemobile|msie|rv\",\n    },\n    {\n        test: \"miuibrowser\",\n        id: \"miui browser\",\n    },\n    {\n        test: \"samsungbrowser\",\n        id: \"samsung internet\",\n    },\n    {\n        test: \"samsung\",\n        id: \"samsung internet\",\n        versionTest: \"version\",\n    },\n    {\n        test: \"chrome|crios\",\n        id: \"chrome\",\n    },\n    {\n        test: \"firefox|fxios\",\n        id: \"firefox\",\n    },\n    {\n        test: \"android\",\n        id: \"android browser\",\n        versionTest: \"version\",\n    },\n    {\n        test: \"safari|iphone|ipad|ipod\",\n        id: \"safari\",\n        versionTest: \"version\",\n    },\n];\n\n// chromium's engine(blink) is based on applewebkit 537.36.\nexport const CHROMIUM_PRESETS: PresetInfo[] = [\n    {\n        test: \"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\\\schrome)\",\n        id: \"chrome\",\n        versionTest: \"chrome\",\n    },\n    {\n        test: \"chromium\",\n        id: \"chrome\",\n    },\n    {\n        test: \"whale\",\n        id: \"chrome\",\n        versionAlias: \"-1\",\n        brand: true,\n    },\n];\nexport const WEBKIT_PRESETS: PresetInfo[] = [\n    {\n        test: \"applewebkit\",\n        id: \"webkit\",\n        versionTest: \"applewebkit|safari\",\n    },\n];\nexport const WEBVIEW_PRESETS: PresetInfo[] = [\n    {\n        test: \"(?=(iphone|ipad))(?!(.*version))\",\n        id: \"webview\",\n    },\n    {\n        test: \"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))\",\n        id: \"webview\",\n    },\n    {\n        // test webview\n        test: \"webview\",\n        id: \"webview\",\n    },\n];\nexport const OS_PRESETS: PresetInfo[] = [\n    {\n        test: \"windows phone\",\n        id: \"windows phone\",\n    },\n    {\n        test: \"windows 2000\",\n        id: \"window\",\n        versionAlias: \"5.0\",\n    },\n    {\n        test: \"windows nt\",\n        id: \"window\",\n    },\n    {\n        test: \"win32|windows\",\n        id: \"window\",\n    },\n    {\n        test: \"iphone|ipad|ipod\",\n        id: \"ios\",\n        versionTest: \"iphone os|cpu os\",\n    },\n    {\n        test: \"macos|macintel|mac os x\",\n        id: \"mac\",\n    },\n    {\n        test: \"android|linux armv81\",\n        id: \"android\",\n    },\n    {\n        test: \"tizen\",\n        id: \"tizen\",\n    },\n    {\n        test: \"webos|web0s\",\n        id: \"webos\",\n    },\n    // {\n    //     test: \"linux|ubuntu|debian\",\n    //     id: \"linux\",\n    //     versionAlias: \"-1\",\n    // },\n];\n","import { AgentInfo } from \"./types\";\nimport { getUserAgentString, findPreset } from \"./utils\";\nimport { WEBVIEW_PRESETS, CHROMIUM_PRESETS, BROWSER_PRESETS, OS_PRESETS, WEBKIT_PRESETS } from \"./presets\";\n\nexport function isWebView(userAgent: string): boolean {\n    return !!findPreset(WEBVIEW_PRESETS, userAgent).preset;\n}\n\nexport function getLegacyAgent(userAgent?: string): AgentInfo {\n    const nextAgent = getUserAgentString(userAgent);\n    const isMobile = !!/mobi/g.exec(nextAgent);\n    const browser = {\n        name: \"unknown\",\n        version: \"-1\",\n        majorVersion: -1,\n        webview: isWebView(nextAgent),\n        chromium: false,\n        chromiumVersion: \"-1\",\n        webkit: false,\n        webkitVersion: \"-1\",\n    };\n    const os = {\n        name: \"unknown\",\n        version: \"-1\",\n        majorVersion: -1,\n    };\n    const {\n        preset: browserPreset,\n        version: browserVersion,\n    } = findPreset(BROWSER_PRESETS, nextAgent);\n\n    const {\n        preset: osPreset,\n        version: osVersion,\n    } = findPreset(OS_PRESETS, nextAgent);\n\n    const chromiumPreset = findPreset(CHROMIUM_PRESETS, nextAgent);\n\n    browser.chromium = !!chromiumPreset.preset;\n    browser.chromiumVersion = chromiumPreset.version;\n    if (!browser.chromium) {\n        const webkitPreset = findPreset(WEBKIT_PRESETS, nextAgent);\n\n        browser.webkit = !!webkitPreset.preset;\n        browser.webkitVersion = webkitPreset.version;\n    }\n\n    if (osPreset) {\n        os.name = osPreset.id;\n        os.version = osVersion;\n        os.majorVersion = parseInt(osVersion, 10);\n    }\n    if (browserPreset) {\n        browser.name = browserPreset.id;\n        browser.version = browserVersion;\n\n        // Early whale bugs\n        if (browser.webview && os.name === \"ios\" && browser.name !== \"safari\") {\n            browser.webview = false;\n        }\n    }\n    browser.majorVersion = parseInt(browser.version, 10);\n\n    return {\n        browser,\n        os,\n        isMobile,\n        isHints: false,\n    };\n}\n","import { UADataValues, AgentInfo, AgentBrowserInfo, AgentOSInfo } from \"./types\";\nimport { some, find, findBrand, convertVersion, findPresetBrand, getUserAgentString } from \"./utils\";\nimport { BROWSER_PRESETS, OS_PRESETS, CHROMIUM_PRESETS, WEBKIT_PRESETS, WEBVIEW_PRESETS } from \"./presets\";\nimport { isWebView } from \"./userAgent\";\n\nexport function getClientHintsAgent(osData?: UADataValues): AgentInfo {\n    const userAgentData = navigator.userAgentData;\n    const brands = [...(userAgentData.uaList || userAgentData.brands)!];\n    const fullVersionList = osData && osData.fullVersionList;\n    const isMobile = userAgentData.mobile || false;\n    const firstBrand = brands[0];\n    const platform = (osData && osData.platform || userAgentData.platform || navigator.platform).toLowerCase();\n    const browser: AgentBrowserInfo = {\n        name: firstBrand.brand,\n        version: firstBrand.version,\n        majorVersion: -1,\n        webkit: false,\n        webkitVersion: \"-1\",\n        chromium: false,\n        chromiumVersion: \"-1\",\n        webview: !!findPresetBrand(WEBVIEW_PRESETS, brands).brand || isWebView(getUserAgentString()),\n    };\n    const os: AgentOSInfo = {\n        name: \"unknown\",\n        version: \"-1\",\n        majorVersion: -1,\n    };\n    browser.webkit = !browser.chromium && some(WEBKIT_PRESETS, preset => findBrand(brands, preset));\n\n    const chromiumBrand = findPresetBrand(CHROMIUM_PRESETS, brands);\n\n    browser.chromium = !!chromiumBrand.brand;\n    browser.chromiumVersion = chromiumBrand.version;\n    if (!browser.chromium) {\n        const webkitBrand = findPresetBrand(WEBKIT_PRESETS, brands);\n\n        browser.webkit = !!webkitBrand.brand;\n        browser.webkitVersion = webkitBrand.version;\n    }\n\n    const platfomResult = find(OS_PRESETS, preset => {\n        return new RegExp(`${preset.test}`, \"g\").exec(platform);\n    });\n    os.name = platfomResult ? platfomResult.id : \"\";\n\n    if (osData) {\n        os.version = osData.platformVersion;\n    }\n    if (fullVersionList && fullVersionList.length) {\n        const browserBrandByFullVersionList = findPresetBrand(BROWSER_PRESETS, fullVersionList);\n\n        browser.name = browserBrandByFullVersionList.brand || browser.name;\n        browser.version = browserBrandByFullVersionList.version || browser.version;\n    } else {\n        const browserBrand = findPresetBrand(BROWSER_PRESETS, brands);\n\n        browser.name = browserBrand.brand || browser.name;\n        browser.version = browserBrand.brand && osData ? osData.uaFullVersion : browserBrand.version;\n    }\n    if (browser.webkit) {\n        os.name = isMobile ? \"ios\" : \"mac\";\n    }\n    if (os.name === \"ios\" && browser.webview) {\n        browser.version = \"-1\";\n    }\n\n    os.version = convertVersion(os.version);\n    browser.version = convertVersion(browser.version);\n    os.majorVersion = parseInt(os.version, 10);\n    browser.majorVersion = parseInt(browser.version, 10);\n\n    return {\n        browser,\n        os,\n        isMobile,\n        isHints: true,\n    };\n}\n","import { AgentInfo } from \"./types\";\nimport { hasUserAgentData } from \"./utils\";\nimport { getClientHintsAgent } from \"./userAgentData\";\nimport { getLegacyAgent } from \"./userAgent\";\n\n/**\n * @namespace eg.agent\n */\n\n/**\n* Extracts accuate browser and operating system information from the user agent string or client hints.\n* @ko 유저 에이전트 문자열 또는 client hints에서 정확한 브라우저와 운영체제 정보를 추출한다.\n* @function eg.agent#getAccurateAgent\n* @param - Callback function to get the accuate agent <ko>정확한 에이전트를 가져오기 위한 callback 함수</ko>\n* @return - get the accuate agent promise. If Promise are not supported, null is returned. <ko> 정확한 에이전트 promise를 가져온다. Promise를 지원 하지 않는 경우, null을 반환한다. </ko>\n* @example\nimport { getAccurateAgent } from \"@egjs/agent\";\n// eg.agent.getAccurateAgent()\ngetAccurateAgent().then(agent => {\n   const { os, browser, isMobile } = agent;\n});\ngetAccurateAgent(agent => {\n    const { os, browser, isMobile } = agent;\n});\n*/\nexport function getAccurateAgent(callback?: (result: AgentInfo) => void): Promise<AgentInfo> | null {\n    if (hasUserAgentData()) {\n        return navigator.userAgentData.getHighEntropyValues([\n            \"architecture\",\n            \"model\",\n            \"platform\",\n            \"platformVersion\",\n            \"uaFullVersion\",\n            \"fullVersionList\",\n        ]).then(info => {\n            const agentInfo = getClientHintsAgent(info);\n\n            callback && callback(agentInfo);\n            return agentInfo;\n        });\n    }\n    callback && callback(agent());\n    if (typeof Promise === \"undefined\" || !Promise) {\n        return null;\n    }\n    return Promise.resolve(agent());\n}\n\n\n\n/**\n * Extracts browser and operating system information from the user agent string.\n * @ko 유저 에이전트 문자열에서 브라우저와 운영체제 정보를 추출한다.\n * @function eg.agent#agent\n * @param - user agent string to parse <ko>파싱할 유저에이전트 문자열</ko>\n * @return - agent Info <ko> 에이전트 정보 </ko>\n * @example\nimport agent from \"@egjs/agent\";\n// eg.agent();\nconst { os, browser, isMobile } = agent();\n */\nfunction agent(userAgent?: string): AgentInfo {\n    if (typeof userAgent === \"undefined\" && hasUserAgentData()) {\n        return getClientHintsAgent();\n    } else {\n        return getLegacyAgent(userAgent);\n    }\n}\nexport { getLegacyAgent };\n\nexport default agent;\n\nexport * from \"./types\";\n","import { Component, createElement, version } from \"react\";\nimport { IObject } from \"@daybrush/utils\";\nimport { StyledInjector, InjectResult } from \"css-styled\";\nimport { ref } from \"framework-utils\";\n\nexport class StyledElement<T extends HTMLElement | SVGElement = HTMLElement> extends Component<IObject<any>> {\n    public injector!: StyledInjector;\n    public element!: T;\n    public injectResult: InjectResult | null = null;\n    public tag: string = \"div\";\n    public render(): any {\n        const {\n            className = \"\",\n            cspNonce,\n            portalContainer,\n            ...attributes\n        } = this.props;\n        const cssId = this.injector!.className;\n        const Tag = this.tag;\n        let portalAttributes: Record<string, any> = {};\n\n        if ((version || \"\").indexOf(\"simple\") > -1 && portalContainer) {\n            portalAttributes = { portalContainer };\n        }\n\n        return createElement(Tag, {\n            \"ref\": ref(this, \"element\"),\n            \"data-styled-id\": cssId,\n            \"className\": `${className} ${cssId}`,\n            ...portalAttributes,\n            ...attributes,\n        });\n    }\n    public componentDidMount() {\n        this.injectResult = this.injector!.inject(this.element!, {\n            nonce: this.props.cspNonce,\n        });\n    }\n    public componentWillUnmount() {\n        this.injectResult!.destroy();\n        this.injectResult = null;\n    }\n    public getElement() {\n        return this.element;\n    }\n}\n","import cssStyled from \"css-styled\";\nimport {\n    createElement, forwardRef,\n    ForwardRefExoticComponent,\n    PropsWithoutRef,\n    useEffect,\n    useImperativeHandle,\n    useRef,\n} from \"react\";\nimport { StyledElement } from \"./StyledElement\";\n\nexport default function defaultStyled<T extends HTMLElement | SVGElement = HTMLElement>(\n    tag: string, css: string): typeof StyledElement & (new (...args: any[]) => StyledElement<T>) {\n    const injector = cssStyled(css);\n\n    return class Styled extends StyledElement<T> {\n        public injector = injector;\n        public tag = tag;\n    };\n}\n\n\nexport function styled<\n    Target extends HTMLElement | SVGElement = HTMLElement,\n    Props extends Record<string, any> = Record<string, any>,\n>(\n    Tag: string,\n    css: string\n): ForwardRefExoticComponent<PropsWithoutRef<Props> & React.RefAttributes<Target>> {\n    const injector = cssStyled(css);\n    const cssId = injector!.className;\n\n    return forwardRef<Target, Props>((props, ref) => {\n        const {\n            className = \"\",\n            cspNonce,\n            ...attributes\n        } = props;\n        const targetRef = useRef<Target>();\n\n        useImperativeHandle(ref, () => targetRef.current!, []);\n        useEffect(() => {\n            const injectResult = injector.inject(targetRef.current!, {\n                nonce: props.cspNonce,\n            });\n\n            return () => {\n                injectResult.destroy();\n            };\n        }, []);\n        return createElement(Tag, {\n            \"ref\": targetRef,\n            \"data-styled-id\": cssId,\n            \"className\": `${className} ${cssId}`,\n            ...attributes,\n        });\n    });\n}\n","/*\nCopyright (c) 2019 Daybrush\nname: react-moveable\nlicense: MIT\nauthor: Daybrush\nrepository: https://github.com/daybrush/moveable/blob/master/packages/react-moveable\nversion: 0.51.0\n*/\nimport getAgent from '@egjs/agent';\nimport { prefixNames, ref, refs, prefixCSS, withMethods } from 'framework-utils';\nimport { isArray, splitSpace, dot, findIndex, find, splitUnit, isString, getDocumentElement, getDocumentBody, getWindow, convertUnitSize, getKeys, decamelize, getRad, isObject, hasClass, isUndefined, isNode, isFunction, isWindow, isNumber, between, throttle, TINY_NUM as TINY_NUM$1, average, getDist as getDist$1, throttleArray, calculateBoundSize, addClass, requestAnimationFrame, removeClass, splitBracket, splitComma, cancelAnimationFrame, pushSet } from '@daybrush/utils';\nimport { minus, calculate, plus, convertPositionMatrix, multiply, invert, fromTranslation, convertDimension, createScaleMatrix, convertCSStoMatrix, createIdentityMatrix, createOriginMatrix, convertMatrixtoCSS, multiplies, rotate, createRotateMatrix, getOrigin, ignoreDimension, createWarpMatrix } from '@scena/matrix';\nimport { parse, parseMat, toMat, calculateMatrixDist } from 'css-to-mat';\nimport ChildrenDiffer, { diff } from '@egjs/children-differ';\nimport DragScroll from '@scena/dragscroll';\nimport { getMinMaxs, fitPoints, getOverlapSize, getAreaSize, isInside, getIntersectionPointsByConstants } from 'overlap-area';\nimport * as React from 'react';\nimport { createElement } from 'react';\nimport Gesto from 'gesto';\nimport { styled } from 'react-css-styled';\nimport EventEmitter from '@scena/event-emitter';\nimport { diff as diff$1 } from '@egjs/list-differ';\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n\n  return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\nfunction __rest(s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nfunction __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nfunction __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nfunction makeAble(name, able) {\n  return __assign({\n    events: [],\n    props: [],\n    name: name\n  }, able);\n}\n\nvar DIRECTIONS4 = [\"n\", \"w\", \"s\", \"e\"];\nvar DIRECTIONS = [\"n\", \"w\", \"s\", \"e\", \"nw\", \"ne\", \"sw\", \"se\"];\n\nfunction getSVGCursor(scale, degree) {\n  return \"data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"\".concat(32 * scale, \"px\\\" height=\\\"\").concat(32 * scale, \"px\\\" viewBox=\\\"0 0 32 32\\\" ><path d=\\\"M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"1.2\\\" fill=\\\"black\\\" stroke=\\\"white\\\" style=\\\"transform:rotate(\").concat(degree, \"deg);transform-origin: 16px 16px\\\"></path></svg>\");\n}\n\nfunction getCursorCSS(degree) {\n  var x1 = getSVGCursor(1, degree); // const x2 = getSVGCursor(2, degree);\n\n  var degree45 = Math.round(degree / 45) * 45 % 180;\n  var defaultCursor = \"ns-resize\";\n\n  if (degree45 === 135) {\n    defaultCursor = \"nwse-resize\";\n  } else if (degree45 === 45) {\n    defaultCursor = \"nesw-resize\";\n  } else if (degree45 === 90) {\n    defaultCursor = \"ew-resize\";\n  } // tslint:disable-next-line: max-line-length\n\n\n  return \"cursor:\".concat(defaultCursor, \";cursor: url('\").concat(x1, \"') 16 16, \").concat(defaultCursor, \";\");\n}\n\nvar agent = getAgent();\nvar IS_WEBKIT = agent.browser.webkit;\nvar IS_WEBKIT605 = IS_WEBKIT && function () {\n  var navi = typeof window === \"undefined\" ? {\n    userAgent: \"\"\n  } : window.navigator;\n  var res = /applewebkit\\/([^\\s]+)/g.exec(navi.userAgent.toLowerCase());\n  return res ? parseFloat(res[1]) < 605 : false;\n}();\nvar browserName = agent.browser.name;\nvar browserVersion = parseInt(agent.browser.version, 10);\nvar IS_CHROME = browserName === \"chrome\";\nvar IS_CHROMIUM = agent.browser.chromium;\nvar chromiumVersion = parseInt(agent.browser.chromiumVersion, 10) || 0;\nvar IS_CHROMIUM109 = IS_CHROME && browserVersion >= 109 || IS_CHROMIUM && chromiumVersion >= 109;\nvar IS_FIREFOX = browserName === \"firefox\";\nvar IS_SAFARI_ABOVE15 = parseInt(agent.browser.webkitVersion, 10) >= 612 || browserVersion >= 15;\nvar PREFIX = \"moveable-\";\nvar directionCSS = DIRECTIONS.map(function (dir) {\n  var top = \"\";\n  var left = \"\";\n  var originX = \"center\";\n  var originY = \"center\";\n  var offset = \"calc(var(--moveable-control-padding, 20) * -1px)\";\n\n  if (dir.indexOf(\"n\") > -1) {\n    top = \"top: \".concat(offset, \";\");\n    originY = \"bottom\";\n  }\n\n  if (dir.indexOf(\"s\") > -1) {\n    top = \"top: 0px;\";\n    originY = \"top\";\n  }\n\n  if (dir.indexOf(\"w\") > -1) {\n    left = \"left: \".concat(offset, \";\");\n    originX = \"right\";\n  }\n\n  if (dir.indexOf(\"e\") > -1) {\n    left = \"left: 0px;\";\n    originX = \"left\";\n  }\n\n  return \".around-control[data-direction*=\\\"\".concat(dir, \"\\\"] {\\n        \").concat(left).concat(top, \"\\n        transform-origin: \").concat(originX, \" \").concat(originY, \";\\n    }\");\n}).join(\"\\n\");\nvar MOVEABLE_CSS = \"\\n{\\nposition: absolute;\\nwidth: 1px;\\nheight: 1px;\\nleft: 0;\\ntop: 0;\\nz-index: 3000;\\n--moveable-color: #4af;\\n--zoom: 1;\\n--zoompx: 1px;\\n--moveable-line-padding: 0;\\n--moveable-control-padding: 0;\\nwill-change: transform;\\noutline: 1px solid transparent;\\n}\\n.control-box {\\nz-index: 0;\\n}\\n.line, .control {\\nposition: absolute;\\nleft: 0;\\ntop: 0;\\nwill-change: transform;\\n}\\n.control {\\nwidth: 14px;\\nheight: 14px;\\nborder-radius: 50%;\\nborder: 2px solid #fff;\\nbox-sizing: border-box;\\nbackground: #4af;\\nbackground: var(--moveable-color);\\nmargin-top: -7px;\\nmargin-left: -7px;\\nborder: 2px solid #fff;\\nz-index: 10;\\n}\\n.around-control {\\nposition: absolute;\\nwill-change: transform;\\nwidth: calc(var(--moveable-control-padding, 20) * 1px);\\nheight: calc(var(--moveable-control-padding, 20) * 1px);\\nleft: calc(var(--moveable-control-padding, 20) * -0.5px);\\ntop: calc(var(--moveable-control-padding, 20) * -0.5px);\\nbox-sizing: border-box;\\nbackground: transparent;\\nz-index: 8;\\ncursor: alias;\\ntransform-origin: center center;\\n}\\n\".concat(directionCSS, \"\\n.padding {\\nposition: absolute;\\ntop: 0px;\\nleft: 0px;\\nwidth: 100px;\\nheight: 100px;\\ntransform-origin: 0 0;\\n}\\n.line {\\nwidth: 1px;\\nheight: 1px;\\nbackground: #4af;\\nbackground: var(--moveable-color);\\ntransform-origin: 0px 50%;\\n}\\n.line.edge {\\nz-index: 1;\\nbackground: transparent;\\n}\\n.line.dashed {\\nbox-sizing: border-box;\\nbackground: transparent;\\n}\\n.line.dashed.horizontal {\\nborder-top: 1px dashed #4af;\\nborder-top-color: #4af;\\nborder-top-color: var(--moveable-color);\\n}\\n.line.dashed.vertical {\\nborder-left: 1px dashed #4af;\\nborder-left-color: #4af;\\nborder-left-color: var(--moveable-color);\\n}\\n.line.vertical {\\ntransform: translateX(-50%);\\n}\\n.line.horizontal {\\ntransform: translateY(-50%);\\n}\\n.line.vertical.bold {\\nwidth: 2px;\\n}\\n.line.horizontal.bold {\\nheight: 2px;\\n}\\n\\n.control.origin {\\nborder-color: #f55;\\nbackground: #fff;\\nwidth: 12px;\\nheight: 12px;\\nmargin-top: -6px;\\nmargin-left: -6px;\\npointer-events: none;\\n}\\n\").concat([0, 15, 30, 45, 60, 75, 90, 105, 120, 135, 150, 165].map(function (degree) {\n  return \"\\n.direction[data-rotation=\\\"\".concat(degree, \"\\\"], :global .view-control-rotation\").concat(degree, \" {\\n\").concat(getCursorCSS(degree), \"\\n}\\n\");\n}).join(\"\\n\"), \"\\n\\n.line.direction:before {\\ncontent: \\\"\\\";\\nposition: absolute;\\nwidth: 100%;\\nheight: calc(var(--moveable-line-padding, 0) * 1px);\\nbottom: 0;\\nleft: 0;\\n}\\n.group {\\nz-index: -1;\\n}\\n.area {\\nposition: absolute;\\n}\\n.area-pieces {\\nposition: absolute;\\ntop: 0;\\nleft: 0;\\ndisplay: none;\\n}\\n.area.avoid, .area.pass {\\npointer-events: none;\\n}\\n.area.avoid+.area-pieces {\\ndisplay: block;\\n}\\n.area-piece {\\nposition: absolute;\\n}\\n\\n\").concat(IS_WEBKIT605 ? \":global svg *:before {\\ncontent:\\\"\\\";\\ntransform-origin: inherit;\\n}\" : \"\", \"\\n\");\nvar NEARBY_POS = [[0, 1, 2], [1, 0, 3], [2, 0, 3], [3, 1, 2]];\nvar FLOAT_POINT_NUM = 0.0001;\nvar TINY_NUM = 0.0000001;\nvar MIN_SCALE = 0.000000001;\nvar MAX_NUM = Math.pow(10, 10);\nvar MIN_NUM = -MAX_NUM;\nvar DIRECTION_REGION_TO_DIRECTION = {\n  n: [0, -1],\n  e: [1, 0],\n  s: [0, 1],\n  w: [-1, 0],\n  nw: [-1, -1],\n  ne: [1, -1],\n  sw: [-1, 1],\n  se: [1, 1]\n};\nvar DIRECTION_INDEXES = {\n  n: [0, 1],\n  e: [1, 3],\n  s: [3, 2],\n  w: [2, 0],\n  nw: [0],\n  ne: [1],\n  sw: [2],\n  se: [3]\n};\nvar DIRECTION_ROTATIONS = {\n  n: 0,\n  s: 180,\n  w: 270,\n  e: 90,\n  nw: 315,\n  ne: 45,\n  sw: 225,\n  se: 135\n};\nvar MOVEABLE_METHODS = [\"isMoveableElement\", \"updateRect\", \"updateTarget\", \"destroy\", \"dragStart\", \"isInside\", \"hitTest\", \"setState\", \"getRect\", \"request\", \"isDragging\", \"getManager\", \"forceUpdate\", \"waitToChangeTarget\", \"updateSelectors\", \"getTargets\", \"stopDrag\", \"getControlBoxElement\"];\n\nfunction setCustomDrag(e, state, delta, isPinch, isConvert, ableName) {\n  var _a, _b;\n\n  if (ableName === void 0) {\n    ableName = \"draggable\";\n  }\n\n  var result = (_b = (_a = state.gestos[ableName]) === null || _a === void 0 ? void 0 : _a.move(delta, e.inputEvent)) !== null && _b !== void 0 ? _b : {};\n  var datas = result.originalDatas || result.datas;\n  var ableDatas = datas[ableName] || (datas[ableName] = {});\n  return __assign(__assign({}, isConvert ? convertDragDist(state, result) : result), {\n    isPinch: !!isPinch,\n    parentEvent: true,\n    datas: ableDatas,\n    originalDatas: e.originalDatas\n  });\n}\n\nvar CustomGesto =\n/*#__PURE__*/\nfunction () {\n  function CustomGesto(ableName) {\n    var _a;\n\n    if (ableName === void 0) {\n      ableName = \"draggable\";\n    }\n\n    this.ableName = ableName;\n    this.prevX = 0;\n    this.prevY = 0;\n    this.startX = 0;\n    this.startY = 0;\n    this.isDrag = false;\n    this.isFlag = false;\n    this.datas = {\n      draggable: {}\n    };\n    this.datas = (_a = {}, _a[ableName] = {}, _a);\n  }\n\n  var __proto = CustomGesto.prototype;\n\n  __proto.dragStart = function (client, e) {\n    this.isDrag = false;\n    this.isFlag = false;\n    var originalDatas = e.originalDatas;\n    this.datas = originalDatas;\n\n    if (!originalDatas[this.ableName]) {\n      originalDatas[this.ableName] = {};\n    }\n\n    return __assign(__assign({}, this.move(client, e.inputEvent)), {\n      type: \"dragstart\"\n    });\n  };\n\n  __proto.drag = function (client, inputEvent) {\n    return this.move([client[0] - this.prevX, client[1] - this.prevY], inputEvent);\n  };\n\n  __proto.move = function (delta, inputEvent) {\n    var clientX;\n    var clientY;\n    var isFirstDrag = false;\n\n    if (!this.isFlag) {\n      this.prevX = delta[0];\n      this.prevY = delta[1];\n      this.startX = delta[0];\n      this.startY = delta[1];\n      clientX = delta[0];\n      clientY = delta[1];\n      this.isFlag = true;\n    } else {\n      var isPrevDrag = this.isDrag;\n      clientX = this.prevX + delta[0];\n      clientY = this.prevY + delta[1];\n\n      if (delta[0] || delta[1]) {\n        this.isDrag = true;\n      }\n\n      if (!isPrevDrag && this.isDrag) {\n        isFirstDrag = true;\n      }\n    }\n\n    this.prevX = clientX;\n    this.prevY = clientY;\n    return {\n      type: \"drag\",\n      clientX: clientX,\n      clientY: clientY,\n      inputEvent: inputEvent,\n      isFirstDrag: isFirstDrag,\n      isDrag: this.isDrag,\n      distX: clientX - this.startX,\n      distY: clientY - this.startY,\n      deltaX: delta[0],\n      deltaY: delta[1],\n      datas: this.datas[this.ableName],\n      originalDatas: this.datas,\n      parentEvent: true,\n      parentGesto: this\n    };\n  };\n\n  return CustomGesto;\n}();\n\nfunction calculatePointerDist(moveable, e) {\n  var clientX = e.clientX,\n      clientY = e.clientY,\n      datas = e.datas;\n  var _a = moveable.state,\n      moveableClientRect = _a.moveableClientRect,\n      rootMatrix = _a.rootMatrix,\n      is3d = _a.is3d,\n      pos1 = _a.pos1;\n  var left = moveableClientRect.left,\n      top = moveableClientRect.top;\n  var n = is3d ? 4 : 3;\n\n  var _b = minus(calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n), pos1),\n      posX = _b[0],\n      posY = _b[1];\n\n  var _c = getDragDist({\n    datas: datas,\n    distX: posX,\n    distY: posY\n  }),\n      distX = _c[0],\n      distY = _c[1];\n\n  return [distX, distY];\n}\nfunction setDragStart(moveable, _a) {\n  var datas = _a.datas;\n  var _b = moveable.state,\n      allMatrix = _b.allMatrix,\n      beforeMatrix = _b.beforeMatrix,\n      is3d = _b.is3d,\n      left = _b.left,\n      top = _b.top,\n      origin = _b.origin,\n      offsetMatrix = _b.offsetMatrix,\n      targetMatrix = _b.targetMatrix,\n      transformOrigin = _b.transformOrigin;\n  var n = is3d ? 4 : 3;\n  datas.is3d = is3d;\n  datas.matrix = allMatrix;\n  datas.targetMatrix = targetMatrix;\n  datas.beforeMatrix = beforeMatrix;\n  datas.offsetMatrix = offsetMatrix;\n  datas.transformOrigin = transformOrigin;\n  datas.inverseMatrix = invert(allMatrix, n);\n  datas.inverseBeforeMatrix = invert(beforeMatrix, n);\n  datas.absoluteOrigin = convertPositionMatrix(plus([left, top], origin), n);\n  datas.startDragBeforeDist = calculate(datas.inverseBeforeMatrix, datas.absoluteOrigin, n);\n  datas.startDragDist = calculate(datas.inverseMatrix, datas.absoluteOrigin, n);\n}\nfunction getTransformDirection(e) {\n  return calculateMoveablePosition(e.datas.beforeTransform, [50, 50], 100, 100).direction;\n}\nfunction resolveTransformEvent(event, functionName) {\n  var datas = event.datas,\n      originalDatas = event.originalDatas.beforeRenderable;\n  var index = datas.transformIndex;\n  var nextTransforms = originalDatas.nextTransforms;\n  var length = nextTransforms.length;\n  var nextTransformAppendedIndexes = originalDatas.nextTransformAppendedIndexes;\n  var nextIndex = -1;\n\n  if (index === -1) {\n    // translate => rotate => scale\n    if (functionName === \"translate\") {\n      nextIndex = 0;\n    } else if (functionName === \"rotate\") {\n      nextIndex = findIndex(nextTransforms, function (text) {\n        return text.match(/scale\\(/g);\n      });\n    }\n\n    if (nextIndex === -1) {\n      nextIndex = nextTransforms.length;\n    }\n\n    datas.transformIndex = nextIndex;\n  } else if (find(nextTransformAppendedIndexes, function (info) {\n    return info.index === index && info.functionName === functionName;\n  })) {\n    nextIndex = index;\n  } else {\n    nextIndex = index + nextTransformAppendedIndexes.filter(function (info) {\n      return info.index < index;\n    }).length;\n  }\n\n  var result = convertTransformInfo(nextTransforms, nextIndex);\n  var targetFunction = result.targetFunction;\n  var matFunctionName = functionName === \"rotate\" ? \"rotateZ\" : functionName;\n  datas.beforeFunctionTexts = result.beforeFunctionTexts;\n  datas.afterFunctionTexts = result.afterFunctionTexts;\n  datas.beforeTransform = result.beforeFunctionMatrix;\n  datas.beforeTransform2 = result.beforeFunctionMatrix2;\n  datas.targetTansform = result.targetFunctionMatrix;\n  datas.afterTransform = result.afterFunctionMatrix;\n  datas.afterTransform2 = result.afterFunctionMatrix2;\n  datas.targetAllTransform = result.allFunctionMatrix;\n\n  if (targetFunction.functionName === matFunctionName) {\n    datas.afterFunctionTexts.splice(0, 1);\n    datas.isAppendTransform = false;\n  } else if (length > nextIndex) {\n    datas.isAppendTransform = true;\n    originalDatas.nextTransformAppendedIndexes = __spreadArray(__spreadArray([], nextTransformAppendedIndexes, true), [{\n      functionName: functionName,\n      index: nextIndex,\n      isAppend: true\n    }], false);\n  }\n}\nfunction convertTransformFormat(datas, value, dist) {\n  return \"\".concat(datas.beforeFunctionTexts.join(\" \"), \" \").concat(datas.isAppendTransform ? dist : value, \" \").concat(datas.afterFunctionTexts.join(\" \"));\n}\nfunction getTransformDist(_a) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY;\n\n  var _b = getBeforeDragDist({\n    datas: datas,\n    distX: distX,\n    distY: distY\n  }),\n      bx = _b[0],\n      by = _b[1]; // B * [tx, ty] * A = [bx, by] * targetMatrix;\n  // [tx, ty] = B-1 * [bx, by] * targetMatrix * A-1 * [0, 0];\n\n\n  var res = getTransfromMatrix(datas, fromTranslation([bx, by], 4));\n  return calculate(res, convertPositionMatrix([0, 0, 0], 4), 4);\n}\nfunction getTransfromMatrix(datas, targetMatrix, isAfter) {\n  var beforeTransform = datas.beforeTransform,\n      afterTransform = datas.afterTransform,\n      beforeTransform2 = datas.beforeTransform2,\n      afterTransform2 = datas.afterTransform2,\n      targetAllTransform = datas.targetAllTransform; // B * afterTargetMatrix * A = (targetMatrix * targetAllTransform)\n  // afterTargetMatrix = B-1 * targetMatrix * targetAllTransform * A-1\n  // nextTargetMatrix = (targetMatrix * targetAllTransform)\n\n  var nextTargetMatrix = isAfter ? multiply(targetAllTransform, targetMatrix, 4) : multiply(targetMatrix, targetAllTransform, 4); // res1 = B-1 * nextTargetMatrix\n\n  var res1 = multiply(invert(isAfter ? beforeTransform2 : beforeTransform, 4), nextTargetMatrix, 4); // res3 = res2 * A-1\n\n  var afterTargetMatrix = multiply(res1, invert(isAfter ? afterTransform2 : afterTransform, 4), 4);\n  return afterTargetMatrix;\n}\nfunction getBeforeDragDist(_a) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY; // TT = BT\n\n  var inverseBeforeMatrix = datas.inverseBeforeMatrix,\n      is3d = datas.is3d,\n      startDragBeforeDist = datas.startDragBeforeDist,\n      absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3; // ABS_ORIGIN * [distX, distY] = BM * (ORIGIN + [tx, ty])\n  // BM -1 * ABS_ORIGIN * [distX, distY] - ORIGIN = [tx, ty]\n\n  return minus(calculate(inverseBeforeMatrix, plus(absoluteOrigin, [distX, distY]), n), startDragBeforeDist);\n}\nfunction getDragDist(_a, isBefore) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY;\n  var inverseBeforeMatrix = datas.inverseBeforeMatrix,\n      inverseMatrix = datas.inverseMatrix,\n      is3d = datas.is3d,\n      startDragBeforeDist = datas.startDragBeforeDist,\n      startDragDist = datas.startDragDist,\n      absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3;\n  return minus(calculate(isBefore ? inverseBeforeMatrix : inverseMatrix, plus(absoluteOrigin, [distX, distY]), n), isBefore ? startDragBeforeDist : startDragDist);\n}\nfunction getInverseDragDist(_a, isBefore) {\n  var datas = _a.datas,\n      distX = _a.distX,\n      distY = _a.distY;\n  var beforeMatrix = datas.beforeMatrix,\n      matrix = datas.matrix,\n      is3d = datas.is3d,\n      startDragBeforeDist = datas.startDragBeforeDist,\n      startDragDist = datas.startDragDist,\n      absoluteOrigin = datas.absoluteOrigin;\n  var n = is3d ? 4 : 3;\n  return minus(calculate(isBefore ? beforeMatrix : matrix, plus(isBefore ? startDragBeforeDist : startDragDist, [distX, distY]), n), absoluteOrigin);\n}\nfunction calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin) {\n  if (prevWidth === void 0) {\n    prevWidth = width;\n  }\n\n  if (prevHeight === void 0) {\n    prevHeight = height;\n  }\n\n  if (prevOrigin === void 0) {\n    prevOrigin = [0, 0];\n  }\n\n  if (!transformOrigin) {\n    return prevOrigin;\n  }\n\n  return transformOrigin.map(function (pos, i) {\n    var _a = splitUnit(pos),\n        value = _a.value,\n        unit = _a.unit;\n\n    var prevSize = i ? prevHeight : prevWidth;\n    var size = i ? height : width;\n\n    if (pos === \"%\" || isNaN(value)) {\n      // no value but %\n      var measureRatio = prevSize ? prevOrigin[i] / prevSize : 0;\n      return size * measureRatio;\n    } else if (unit !== \"%\") {\n      return value;\n    }\n\n    return size * value / 100;\n  });\n}\nfunction getPosIndexesByDirection(direction) {\n  var indexes = [];\n\n  if (direction[1] >= 0) {\n    if (direction[0] >= 0) {\n      indexes.push(3);\n    }\n\n    if (direction[0] <= 0) {\n      indexes.push(2);\n    }\n  }\n\n  if (direction[1] <= 0) {\n    if (direction[0] >= 0) {\n      indexes.push(1);\n    }\n\n    if (direction[0] <= 0) {\n      indexes.push(0);\n    }\n  }\n\n  return indexes;\n}\nfunction getPosesByDirection(poses, direction) {\n  /*\n  [-1, -1](pos1)       [0, -1](pos1,pos2)       [1, -1](pos2)\n  [-1, 0](pos1, pos3)                           [1, 0](pos2, pos4)\n  [-1, 1](pos3)        [0, 1](pos3, pos4)       [1, 1](pos4)\n  */\n  return getPosIndexesByDirection(direction).map(function (index) {\n    return poses[index];\n  });\n}\nfunction getPosByDirection(poses, direction) {\n  var xRatio = (direction[0] + 1) / 2;\n  var yRatio = (direction[1] + 1) / 2;\n  var top = [dot(poses[0][0], poses[1][0], xRatio, 1 - xRatio), dot(poses[0][1], poses[1][1], xRatio, 1 - xRatio)];\n  var bottom = [dot(poses[2][0], poses[3][0], xRatio, 1 - xRatio), dot(poses[2][1], poses[3][1], xRatio, 1 - xRatio)];\n  return [dot(top[0], bottom[0], yRatio, 1 - yRatio), dot(top[1], bottom[1], yRatio, 1 - yRatio)];\n}\n\nfunction getDist(startPos, matrix, width, height, n, fixedDirection) {\n  var poses = calculatePoses(matrix, width, height, n);\n  var fixedPos = getPosByDirection(poses, fixedDirection);\n  var distX = startPos[0] - fixedPos[0];\n  var distY = startPos[1] - fixedPos[1];\n  return [distX, distY];\n}\n\nfunction getNextMatrix(offsetMatrix, targetMatrix, origin, n) {\n  return multiply(offsetMatrix, getAbsoluteMatrix(targetMatrix, n, origin), n);\n}\nfunction getNextTransformMatrix(state, datas, transform, isAllTransform) {\n  var transformOrigin = state.transformOrigin,\n      offsetMatrix = state.offsetMatrix,\n      is3d = state.is3d;\n  var n = is3d ? 4 : 3;\n  var targetTransform;\n\n  if (isString(transform)) {\n    var beforeTransform = datas.beforeTransform,\n        afterTransform = datas.afterTransform;\n\n    if (isAllTransform) {\n      targetTransform = convertDimension(parseMat(transform), 4, n);\n    } else {\n      targetTransform = convertDimension(multiply(multiply(beforeTransform, parseMat([transform]), 4), afterTransform, 4), 4, n);\n    }\n  } else {\n    targetTransform = transform;\n  }\n\n  return getNextMatrix(offsetMatrix, targetTransform, transformOrigin, n);\n}\nfunction scaleMatrix(state, scale) {\n  var transformOrigin = state.transformOrigin,\n      offsetMatrix = state.offsetMatrix,\n      is3d = state.is3d,\n      targetMatrix = state.targetMatrix,\n      targetAllTransform = state.targetAllTransform;\n  var n = is3d ? 4 : 3;\n  return getNextMatrix(offsetMatrix, multiply(targetAllTransform || targetMatrix, createScaleMatrix(scale, n), n), transformOrigin, n);\n}\nfunction fillTransformStartEvent(e) {\n  var originalDatas = getBeforeRenderableDatas(e);\n  return {\n    setTransform: function (transform, index) {\n      if (index === void 0) {\n        index = -1;\n      }\n\n      originalDatas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\n      setTransformIndex(e, index);\n    },\n    setTransformIndex: function (index) {\n      setTransformIndex(e, index);\n    }\n  };\n}\nfunction setDefaultTransformIndex(e, property) {\n  var originalDatas = getBeforeRenderableDatas(e);\n  var startTransforms = originalDatas.startTransforms;\n  setTransformIndex(e, findIndex(startTransforms, function (func) {\n    return func.indexOf(\"\".concat(property, \"(\")) === 0;\n  }));\n}\nfunction setTransformIndex(e, index) {\n  var originalDatas = getBeforeRenderableDatas(e);\n  var datas = e.datas;\n  datas.transformIndex = index;\n\n  if (index === -1) {\n    return;\n  }\n\n  var transform = originalDatas.startTransforms[index];\n\n  if (!transform) {\n    return;\n  }\n\n  var info = parse([transform]);\n  datas.startValue = info[0].functionValue;\n}\nfunction fillOriginalTransform(e, transform) {\n  var originalDatas = getBeforeRenderableDatas(e);\n  originalDatas.nextTransforms = splitSpace(transform); // originalDatas.nextTargetMatrix = parseMat(transform);\n}\nfunction getBeforeRenderableDatas(e) {\n  return e.originalDatas.beforeRenderable;\n}\nfunction getNextTransforms(e) {\n  var originalDatas = e.originalDatas.beforeRenderable;\n  return originalDatas.nextTransforms;\n}\nfunction getNextTransformText(e) {\n  return (getNextTransforms(e) || []).join(\" \");\n}\nfunction getNextStyle(e) {\n  return getBeforeRenderableDatas(e).nextStyle;\n}\nfunction fillTransformEvent(moveable, nextTransform, delta, isPinch, e) {\n  fillOriginalTransform(e, nextTransform);\n  var drag = Draggable.drag(moveable, setCustomDrag(e, moveable.state, delta, isPinch, false));\n  var afterTransform = drag ? drag.transform : nextTransform;\n  return __assign(__assign({\n    transform: nextTransform,\n    drag: drag\n  }, fillCSSObject({\n    transform: afterTransform\n  }, e)), {\n    afterTransform: afterTransform\n  });\n}\nfunction getTranslateFixedPosition(moveable, transform, fixedDirection, fixedOffset, datas, isAllTransform) {\n  var nextMatrix = getNextTransformMatrix(moveable.state, datas, transform, isAllTransform);\n  var nextFixedPosition = getDirectionOffset(moveable, fixedDirection, fixedOffset, nextMatrix);\n  return nextFixedPosition;\n}\nfunction getTranslateDist(moveable, transform, fixedDirection, fixedPosition, fixedOffset, datas, isAllTransform) {\n  var nextFixedPosition = getTranslateFixedPosition(moveable, transform, fixedDirection, fixedOffset, datas, isAllTransform);\n  var state = moveable.state;\n  var left = state.left,\n      top = state.top;\n  var groupable = moveable.props.groupable;\n  var groupLeft = groupable ? left : 0;\n  var groupTop = groupable ? top : 0;\n  var dist = minus(fixedPosition, nextFixedPosition);\n  return minus(dist, [groupLeft, groupTop]);\n}\nfunction getScaleDist(moveable, transform, fixedDirection, fixedPosition, fixedOffset, datas, isAllTransform) {\n  var dist = getTranslateDist(moveable, transform, fixedDirection, fixedPosition, fixedOffset, datas, isAllTransform);\n  return dist;\n}\nfunction getDirectionByPos(pos, width, height) {\n  return [width ? -1 + pos[0] / (width / 2) : 0, height ? -1 + pos[1] / (height / 2) : 0];\n}\nfunction getDirectionOffset(moveable, fixedDirection, fixedOffset, nextMatrix) {\n  if (nextMatrix === void 0) {\n    nextMatrix = moveable.state.allMatrix;\n  }\n\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height,\n      is3d = _a.is3d;\n  var n = is3d ? 4 : 3;\n  var fixedOffsetPosition = [width / 2 * (1 + fixedDirection[0]) + fixedOffset[0], height / 2 * (1 + fixedDirection[1]) + fixedOffset[1]];\n  return calculatePosition(nextMatrix, fixedOffsetPosition, n);\n}\nfunction getRotateDist(moveable, rotateDist, datas) {\n  var fixedDirection = datas.fixedDirection;\n  var fixedPosition = datas.fixedPosition;\n  var fixedOffset = datas.fixedOffset;\n  return getTranslateDist(moveable, \"rotate(\".concat(rotateDist, \"deg)\"), fixedDirection, fixedPosition, fixedOffset, datas);\n}\nfunction getResizeDist(moveable, width, height, fixedPosition, transformOrigin, datas) {\n  var groupable = moveable.props.groupable;\n  var state = moveable.state;\n  var prevOrigin = state.transformOrigin,\n      offsetMatrix = state.offsetMatrix,\n      is3d = state.is3d,\n      prevWidth = state.width,\n      prevHeight = state.height,\n      left = state.left,\n      top = state.top;\n  var fixedDirection = datas.fixedDirection;\n  var targetMatrix = datas.nextTargetMatrix || state.targetMatrix;\n  var n = is3d ? 4 : 3;\n  var nextOrigin = calculateTransformOrigin(transformOrigin, width, height, prevWidth, prevHeight, prevOrigin);\n  var groupLeft = groupable ? left : 0;\n  var groupTop = groupable ? top : 0;\n  var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, nextOrigin, n);\n  var dist = getDist(fixedPosition, nextMatrix, width, height, n, fixedDirection);\n  return minus(dist, [groupLeft, groupTop]);\n}\nfunction getAbsolutePosition(moveable, direction) {\n  return getPosByDirection(getAbsolutePosesByState(moveable.state), direction);\n}\n\nfunction getGestoData(moveable, ableName) {\n  var targetGesto = moveable.targetGesto;\n  var controlGesto = moveable.controlGesto;\n  var data;\n\n  if (targetGesto === null || targetGesto === void 0 ? void 0 : targetGesto.isFlag()) {\n    data = targetGesto.getEventData()[ableName];\n  }\n\n  if (!data && (controlGesto === null || controlGesto === void 0 ? void 0 : controlGesto.isFlag())) {\n    data = controlGesto.getEventData()[ableName];\n  }\n\n  return data || {};\n}\n\nfunction getShadowRoot(parentElement) {\n  if (parentElement && parentElement.getRootNode) {\n    var rootNode = parentElement.getRootNode();\n\n    if (rootNode.nodeType === 11) {\n      return rootNode;\n    }\n  }\n\n  return;\n}\nfunction getMatrixStackInfo(target, container, checkContainer) {\n  var el = target;\n  var matrixes = [];\n  var documentElement = getDocumentElement(target) || getDocumentBody(target);\n  var requestEnd = !checkContainer && target === container || target === documentElement;\n  var isEnd = requestEnd;\n  var is3d = false;\n  var n = 3;\n  var transformOrigin;\n  var targetTransformOrigin;\n  var targetMatrix;\n  var hasFixed = false;\n  var offsetContainer = getOffsetInfo(container, container, true).offsetParent;\n  var zoom = 1;\n\n  while (el && !isEnd) {\n    isEnd = requestEnd;\n    var getStyle = getCachedStyle(el);\n    var position = getStyle(\"position\");\n    var scale = getStyle(\"scale\");\n    var transform = getElementTransform(el);\n    var isFixed = position === \"fixed\";\n    var matrix = convertCSStoMatrix(getTransformMatrix(transform));\n    var offsetParent = void 0;\n    var isOffsetEnd = false;\n    var isStatic = false;\n    var parentClientLeft = 0;\n    var parentClientTop = 0;\n    var fixedClientLeft = 0;\n    var fixedClientTop = 0;\n    var fixedInfo = {\n      hasTransform: false,\n      fixedContainer: null\n    };\n\n    if (isFixed) {\n      hasFixed = true;\n      fixedInfo = getPositionFixedInfo(el);\n      offsetContainer = fixedInfo.fixedContainer;\n    } // convert 3 to 4\n\n\n    var length = matrix.length;\n\n    if (!is3d && length === 16) {\n      is3d = true;\n      n = 4;\n      convert3DMatrixes(matrixes);\n\n      if (targetMatrix) {\n        targetMatrix = convertDimension(targetMatrix, 3, 4);\n      }\n    }\n\n    if (is3d && length === 9) {\n      matrix = convertDimension(matrix, 3, 4);\n    }\n\n    var _a = getOffsetPosInfo(el, target),\n        tagName = _a.tagName,\n        hasOffset = _a.hasOffset,\n        isSVG = _a.isSVG,\n        origin = _a.origin,\n        targetOrigin = _a.targetOrigin,\n        offsetPos = _a.offset;\n\n    var offsetLeft = offsetPos[0],\n        offsetTop = offsetPos[1];\n\n    if (tagName === \"svg\" && targetMatrix) {\n      // scale matrix for svg's SVGElements.\n      matrixes.push({\n        type: \"target\",\n        target: el,\n        matrix: getSVGMatrix(el, n)\n      });\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        matrix: createIdentityMatrix(n)\n      });\n    }\n\n    var targetZoom = parseFloat(getStyle(\"zoom\")) || 1;\n\n    if (isFixed) {\n      offsetParent = fixedInfo.fixedContainer;\n      isOffsetEnd = true;\n    } else {\n      var offsetInfo = getOffsetInfo(el, container, false, true, getStyle);\n      var offsetZoom = offsetInfo.offsetZoom;\n      offsetParent = offsetInfo.offsetParent;\n      isOffsetEnd = offsetInfo.isEnd;\n      isStatic = offsetInfo.isStatic;\n      zoom *= offsetZoom;\n\n      if ((offsetInfo.isCustomElement || offsetZoom !== 1) && isStatic) {\n        offsetLeft -= offsetParent.offsetLeft;\n        offsetTop -= offsetParent.offsetTop;\n      } else if (IS_FIREFOX || IS_CHROMIUM109) {\n        var parentSlotElement = offsetInfo.parentSlotElement;\n\n        if (parentSlotElement) {\n          var customOffsetParent = offsetParent;\n          var customOffsetLeft = 0;\n          var customOffsetTop = 0;\n\n          while (customOffsetParent) {\n            if (!getShadowRoot(customOffsetParent)) {\n              break;\n            }\n\n            customOffsetLeft += customOffsetParent.offsetLeft;\n            customOffsetTop += customOffsetParent.offsetTop;\n            customOffsetParent = customOffsetParent.offsetParent;\n          }\n\n          offsetLeft -= customOffsetLeft;\n          offsetTop -= customOffsetTop;\n        }\n      }\n    }\n\n    if (IS_WEBKIT && !IS_SAFARI_ABOVE15 && hasOffset && !isSVG && isStatic && (position === \"relative\" || position === \"static\")) {\n      offsetLeft -= offsetParent.offsetLeft;\n      offsetTop -= offsetParent.offsetTop;\n      requestEnd = requestEnd || isOffsetEnd;\n    }\n\n    if (isFixed) {\n      if (hasOffset && fixedInfo.hasTransform) {\n        // border\n        fixedClientLeft = offsetParent.clientLeft;\n        fixedClientTop = offsetParent.clientTop;\n      }\n    } else {\n      if (hasOffset && offsetContainer !== offsetParent) {\n        // border\n        parentClientLeft = offsetParent.clientLeft;\n        parentClientTop = offsetParent.clientTop;\n      }\n\n      if (hasOffset && offsetParent === documentElement) {\n        var margin = getBodyOffset(el, false);\n        offsetLeft += margin[0];\n        offsetTop += margin[1];\n      }\n    }\n\n    matrixes.push({\n      type: \"target\",\n      target: el,\n      matrix: getAbsoluteMatrix(matrix, n, origin)\n    });\n\n    if (scale && scale !== \"1\" && scale !== \"none\") {\n      var _b = scale.split(\" \").map(function (scale) {\n        return parseFloat(scale);\n      }),\n          scaleX = _b[0],\n          _c = _b[1],\n          scaleY = _c === void 0 ? scaleX : _c;\n\n      var scaleMatrix = createScaleMatrix([scaleX, scaleY], n);\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        matrix: createIdentityMatrix(n)\n      });\n      matrixes.push({\n        type: \"target\",\n        target: el,\n        matrix: getAbsoluteMatrix(scaleMatrix, n, origin)\n      });\n    }\n\n    if (hasOffset) {\n      var isElementTarget = el === target;\n      var scrollLeft = isElementTarget ? 0 : el.scrollLeft;\n      var scrollTop = isElementTarget ? 0 : el.scrollTop;\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        matrix: createOriginMatrix([offsetLeft - scrollLeft + parentClientLeft - fixedClientLeft, offsetTop - scrollTop + parentClientTop - fixedClientTop], n)\n      });\n    } else {\n      // svg\n      matrixes.push({\n        type: \"offset\",\n        target: el,\n        origin: origin\n      });\n    } // transform으로 계산되지 않는 zoom을 위한 (0, 0) 을 기준 matrix 추가.\n\n\n    if (targetZoom !== 1) {\n      matrixes.push({\n        type: \"zoom\",\n        target: el,\n        matrix: getAbsoluteMatrix(createScaleMatrix([targetZoom, targetZoom], n), n, [0, 0])\n      });\n    }\n\n    if (!targetMatrix) {\n      targetMatrix = matrix;\n    }\n\n    if (!transformOrigin) {\n      transformOrigin = origin;\n    }\n\n    if (!targetTransformOrigin) {\n      targetTransformOrigin = targetOrigin;\n    }\n\n    if (isEnd || isFixed) {\n      break;\n    } else {\n      el = offsetParent;\n      requestEnd = isOffsetEnd;\n    }\n\n    if (!checkContainer || el === documentElement) {\n      isEnd = requestEnd;\n    }\n  }\n\n  if (!targetMatrix) {\n    targetMatrix = createIdentityMatrix(n);\n  }\n\n  if (!transformOrigin) {\n    transformOrigin = [0, 0];\n  }\n\n  if (!targetTransformOrigin) {\n    targetTransformOrigin = [0, 0];\n  }\n\n  return {\n    zoom: zoom,\n    offsetContainer: offsetContainer,\n    matrixes: matrixes,\n    targetMatrix: targetMatrix,\n    transformOrigin: transformOrigin,\n    targetOrigin: targetTransformOrigin,\n    is3d: is3d,\n    hasFixed: hasFixed\n  };\n}\n\nvar cacheStyleMap = null;\nvar clientRectStyleMap = null;\nvar matrixContainerInfos = null;\nfunction setStoreCache(useCache) {\n  if (useCache) {\n    if (window.Map) {\n      cacheStyleMap = new Map();\n      clientRectStyleMap = new Map();\n    }\n\n    matrixContainerInfos = [];\n  } else {\n    cacheStyleMap = null;\n    matrixContainerInfos = null;\n    clientRectStyleMap = null;\n  }\n}\nfunction getCachedClientRect(el) {\n  var clientRect = clientRectStyleMap === null || clientRectStyleMap === void 0 ? void 0 : clientRectStyleMap.get(el);\n\n  if (clientRect) {\n    return clientRect;\n  }\n\n  var nextClientRect = getClientRect(el, true);\n\n  if (clientRectStyleMap) {\n    clientRectStyleMap.set(el, nextClientRect);\n  }\n\n  return nextClientRect;\n}\nfunction getCachedMatrixContainerInfo(target, container) {\n  if (matrixContainerInfos) {\n    var result_1 = find(matrixContainerInfos, function (info) {\n      return info[0][0] == target && info[0][1] == container;\n    });\n\n    if (result_1) {\n      return result_1[1];\n    }\n  }\n\n  var result = getMatrixStackInfo(target, container, true);\n\n  if (matrixContainerInfos) {\n    matrixContainerInfos.push([[target, container], result]);\n  }\n\n  return result;\n}\nfunction getCachedStyle(element) {\n  var cache = cacheStyleMap === null || cacheStyleMap === void 0 ? void 0 : cacheStyleMap.get(element);\n\n  if (!cache) {\n    var nextStyle_1 = getWindow(element).getComputedStyle(element);\n\n    if (!cacheStyleMap) {\n      return function (property) {\n        return nextStyle_1[property];\n      };\n    }\n\n    cache = {\n      style: nextStyle_1,\n      cached: {}\n    };\n    cacheStyleMap.set(element, cache);\n  }\n\n  var cached = cache.cached;\n  var style = cache.style;\n  return function (property) {\n    if (!(property in cached)) {\n      cached[property] = style[property];\n    }\n\n    return cached[property];\n  };\n}\n\nfunction multiply2(pos1, pos2) {\n  return [pos1[0] * pos2[0], pos1[1] * pos2[1]];\n}\nfunction prefix() {\n  var classNames = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    classNames[_i] = arguments[_i];\n  }\n\n  return prefixNames.apply(void 0, __spreadArray([PREFIX], classNames, false));\n}\nfunction defaultSync(fn) {\n  fn();\n}\nfunction getTransformMatrix(transform) {\n  if (!transform || transform === \"none\") {\n    return [1, 0, 0, 1, 0, 0];\n  }\n\n  if (isObject(transform)) {\n    return transform;\n  }\n\n  return parseMat(transform);\n}\nfunction getAbsoluteMatrix(matrix, n, origin) {\n  return multiplies(n, createOriginMatrix(origin, n), matrix, createOriginMatrix(origin.map(function (a) {\n    return -a;\n  }), n));\n}\nfunction measureSVGSize(el, unit, isHorizontal) {\n  if (unit === \"%\") {\n    var viewBox = getSVGViewBox(el.ownerSVGElement);\n    return viewBox[isHorizontal ? \"width\" : \"height\"] / 100;\n  }\n\n  return 1;\n}\nfunction getBeforeTransformOrigin(el) {\n  var relativeOrigin = getTransformOrigin(getComputedStyle(el, \":before\"));\n  return relativeOrigin.map(function (o, i) {\n    var _a = splitUnit(o),\n        value = _a.value,\n        unit = _a.unit;\n\n    return value * measureSVGSize(el, unit, i === 0);\n  });\n}\nfunction getTransformOriginArray(transformOrigin) {\n  return transformOrigin ? transformOrigin.split(\" \") : [\"0\", \"0\"];\n}\nfunction getTransformOrigin(style) {\n  return getTransformOriginArray(style.transformOrigin);\n}\nfunction getElementTransform(target) {\n  var getStyle = getCachedStyle(target);\n  var computedTransform = getStyle(\"transform\");\n\n  if (computedTransform && computedTransform !== \"none\") {\n    return computedTransform;\n  }\n\n  if (\"transform\" in target) {\n    var list = target.transform;\n    var baseVal = list.baseVal;\n\n    if (!baseVal) {\n      return \"\";\n    }\n\n    var length = baseVal.length;\n\n    if (!length) {\n      return \"\";\n    }\n\n    var matrixes = [];\n\n    var _loop_1 = function (i) {\n      var matrix = baseVal[i].matrix;\n      matrixes.push(\"matrix(\".concat([\"a\", \"b\", \"c\", \"d\", \"e\", \"f\"].map(function (chr) {\n        return matrix[chr];\n      }).join(\", \"), \")\"));\n    };\n\n    for (var i = 0; i < length; ++i) {\n      _loop_1(i);\n    }\n\n    return matrixes.join(\" \");\n  }\n\n  return \"\";\n}\nfunction getOffsetInfo(el, lastParent, isParent, checkZoom, getTargetStyle) {\n  var _a, _b;\n\n  var documentElement = getDocumentElement(el) || getDocumentBody(el);\n  var hasSlot = false;\n  var target;\n  var parentSlotElement;\n\n  if (!el || isParent) {\n    target = el;\n  } else {\n    var assignedSlotParentElement = (_a = el === null || el === void 0 ? void 0 : el.assignedSlot) === null || _a === void 0 ? void 0 : _a.parentElement;\n    var parentElement = el.parentElement;\n\n    if (assignedSlotParentElement) {\n      hasSlot = true;\n      parentSlotElement = parentElement;\n      target = assignedSlotParentElement;\n    } else {\n      target = parentElement;\n    }\n  }\n\n  var isCustomElement = false;\n  var isEnd = el === lastParent || target === lastParent;\n  var position = \"relative\";\n  var offsetZoom = 1;\n  var targetZoom = parseFloat(getTargetStyle === null || getTargetStyle === void 0 ? void 0 : getTargetStyle(\"zoom\")) || 1;\n  var targetPosition = getTargetStyle === null || getTargetStyle === void 0 ? void 0 : getTargetStyle(\"position\");\n\n  while (target && target !== documentElement) {\n    if (lastParent === target) {\n      isEnd = true;\n    }\n\n    var getStyle = getCachedStyle(target);\n    var tagName = target.tagName.toLowerCase();\n    var transform = getElementTransform(target);\n    var willChange = getStyle(\"willChange\");\n    var zoom = parseFloat(getStyle(\"zoom\")) || 1;\n    position = getStyle(\"position\");\n\n    if (checkZoom && zoom !== 1) {\n      offsetZoom = zoom;\n      break;\n    }\n\n    if ( // offsetParent is the parentElement if the target's zoom is not 1 and not absolute.\n    !isParent && checkZoom && targetZoom !== 1 && targetPosition && targetPosition !== \"absolute\" || tagName === \"svg\" || position !== \"static\" || transform && transform !== \"none\" || willChange === \"transform\") {\n      break;\n    }\n\n    var slotParentNode = (_b = el === null || el === void 0 ? void 0 : el.assignedSlot) === null || _b === void 0 ? void 0 : _b.parentNode;\n    var targetParentNode = target.parentNode;\n\n    if (slotParentNode) {\n      hasSlot = true;\n      parentSlotElement = targetParentNode;\n    }\n\n    var parentNode = targetParentNode;\n\n    if (parentNode && parentNode.nodeType === 11) {\n      // Shadow Root\n      target = parentNode.host;\n      isCustomElement = true;\n      position = getCachedStyle(target)(\"position\");\n      break;\n    }\n\n    target = parentNode;\n    position = \"relative\";\n  }\n\n  return {\n    offsetZoom: offsetZoom,\n    hasSlot: hasSlot,\n    parentSlotElement: parentSlotElement,\n    isCustomElement: isCustomElement,\n    isStatic: position === \"static\",\n    isEnd: isEnd || !target || target === documentElement,\n    offsetParent: target || documentElement\n  };\n}\nfunction getOffsetPosInfo(el, target) {\n  var _a;\n\n  var tagName = el.tagName.toLowerCase();\n  var offsetLeft = el.offsetLeft;\n  var offsetTop = el.offsetTop;\n  var getStyle = getCachedStyle(el); // svg\n\n  var isSVG = isUndefined(offsetLeft);\n  var hasOffset = !isSVG;\n  var origin;\n  var targetOrigin; // inner svg element\n\n  if (!hasOffset && tagName !== \"svg\") {\n    origin = IS_WEBKIT605 ? getBeforeTransformOrigin(el) : getTransformOriginArray(getStyle(\"transformOrigin\")).map(function (pos) {\n      return parseFloat(pos);\n    });\n    targetOrigin = origin.slice();\n    hasOffset = true;\n    _a = getSVGGraphicsOffset(el, origin, el === target && target.tagName.toLowerCase() === \"g\"), offsetLeft = _a[0], offsetTop = _a[1], origin[0] = _a[2], origin[1] = _a[3];\n  } else {\n    origin = getTransformOriginArray(getStyle(\"transformOrigin\")).map(function (pos) {\n      return parseFloat(pos);\n    });\n    targetOrigin = origin.slice();\n  }\n\n  return {\n    tagName: tagName,\n    isSVG: isSVG,\n    hasOffset: hasOffset,\n    offset: [offsetLeft || 0, offsetTop || 0],\n    origin: origin,\n    targetOrigin: targetOrigin\n  };\n}\nfunction getBodyOffset(el, isSVG) {\n  var getStyle = getCachedStyle(el);\n  var getBodyStyle = getCachedStyle(getDocumentBody(el));\n  var bodyPosition = getBodyStyle(\"position\");\n\n  if (!isSVG && (!bodyPosition || bodyPosition === \"static\")) {\n    return [0, 0];\n  }\n\n  var marginLeft = parseInt(getBodyStyle(\"marginLeft\"), 10);\n  var marginTop = parseInt(getBodyStyle(\"marginTop\"), 10);\n\n  if (getStyle(\"position\") === \"absolute\") {\n    if (getStyle(\"top\") !== \"auto\" || getStyle(\"bottom\") !== \"auto\") {\n      marginTop = 0;\n    }\n\n    if (getStyle(\"left\") !== \"auto\" || getStyle(\"right\") !== \"auto\") {\n      marginLeft = 0;\n    }\n  }\n\n  return [marginLeft, marginTop];\n}\nfunction convert3DMatrixes(matrixes) {\n  matrixes.forEach(function (info) {\n    var matrix = info.matrix;\n\n    if (matrix) {\n      info.matrix = convertDimension(matrix, 3, 4);\n    }\n  });\n}\nfunction getPositionFixedInfo(el) {\n  var fixedContainer = el.parentElement;\n  var hasTransform = false;\n  var body = getDocumentBody(el);\n\n  while (fixedContainer) {\n    var transform = getComputedStyle(fixedContainer).transform;\n\n    if (transform && transform !== \"none\") {\n      hasTransform = true;\n      break;\n    }\n\n    if (fixedContainer === body) {\n      break;\n    }\n\n    fixedContainer = fixedContainer.parentElement;\n  }\n\n  return {\n    fixedContainer: fixedContainer || body,\n    hasTransform: hasTransform\n  };\n}\nfunction makeMatrixCSS(matrix, is3d) {\n  if (is3d === void 0) {\n    is3d = matrix.length > 9;\n  }\n\n  return \"\".concat(is3d ? \"matrix3d\" : \"matrix\", \"(\").concat(convertMatrixtoCSS(matrix, !is3d).join(\",\"), \")\");\n}\nfunction getSVGViewBox(el) {\n  var clientWidth = el.clientWidth;\n  var clientHeight = el.clientHeight;\n\n  if (!el) {\n    return {\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0,\n      clientWidth: clientWidth,\n      clientHeight: clientHeight\n    };\n  }\n\n  var viewBox = el.viewBox;\n  var baseVal = viewBox && viewBox.baseVal || {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n  return {\n    x: baseVal.x,\n    y: baseVal.y,\n    width: baseVal.width || clientWidth,\n    height: baseVal.height || clientHeight,\n    clientWidth: clientWidth,\n    clientHeight: clientHeight\n  };\n}\nfunction getSVGMatrix(el, n) {\n  var _a = getSVGViewBox(el),\n      viewBoxWidth = _a.width,\n      viewBoxHeight = _a.height,\n      clientWidth = _a.clientWidth,\n      clientHeight = _a.clientHeight;\n\n  var scaleX = clientWidth / viewBoxWidth;\n  var scaleY = clientHeight / viewBoxHeight;\n  var preserveAspectRatio = el.preserveAspectRatio.baseVal; // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/preserveAspectRatio\n\n  var align = preserveAspectRatio.align; // 1 : meet 2: slice\n\n  var meetOrSlice = preserveAspectRatio.meetOrSlice;\n  var svgOrigin = [0, 0];\n  var scale = [scaleX, scaleY];\n  var translate = [0, 0];\n\n  if (align !== 1) {\n    var xAlign = (align - 2) % 3;\n    var yAlign = Math.floor((align - 2) / 3);\n    svgOrigin[0] = viewBoxWidth * xAlign / 2;\n    svgOrigin[1] = viewBoxHeight * yAlign / 2;\n    var scaleDimension = meetOrSlice === 2 ? Math.max(scaleY, scaleX) : Math.min(scaleX, scaleY);\n    scale[0] = scaleDimension;\n    scale[1] = scaleDimension;\n    translate[0] = (clientWidth - viewBoxWidth) / 2 * xAlign;\n    translate[1] = (clientHeight - viewBoxHeight) / 2 * yAlign;\n  }\n\n  var scaleMatrix = createScaleMatrix(scale, n);\n  scaleMatrix[n * (n - 1)] = translate[0], scaleMatrix[n * (n - 1) + 1] = translate[1];\n  return getAbsoluteMatrix(scaleMatrix, n, svgOrigin);\n}\nfunction getSVGGraphicsOffset(el, origin, isGTarget) {\n  if (!el.getBBox || !isGTarget && el.tagName.toLowerCase() === \"g\") {\n    return [0, 0, 0, 0];\n  }\n\n  var bbox = el.getBBox();\n  var viewBox = getSVGViewBox(el.ownerSVGElement);\n  var left = bbox.x - viewBox.x;\n  var top = bbox.y - viewBox.y;\n  return [left, top, origin[0] - left, origin[1] - top];\n}\nfunction calculatePosition(matrix, pos, n) {\n  return calculate(matrix, convertPositionMatrix(pos, n), n);\n}\nfunction calculatePoses(matrix, width, height, n) {\n  return [[0, 0], [width, 0], [0, height], [width, height]].map(function (pos) {\n    return calculatePosition(matrix, pos, n);\n  });\n}\nfunction getRect(poses) {\n  var posesX = poses.map(function (pos) {\n    return pos[0];\n  });\n  var posesY = poses.map(function (pos) {\n    return pos[1];\n  });\n  var left = Math.min.apply(Math, posesX);\n  var top = Math.min.apply(Math, posesY);\n  var right = Math.max.apply(Math, posesX);\n  var bottom = Math.max.apply(Math, posesY);\n  var rectWidth = right - left;\n  var rectHeight = bottom - top;\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom,\n    width: rectWidth,\n    height: rectHeight\n  };\n}\nfunction calculateRect(matrix, width, height, n) {\n  var poses = calculatePoses(matrix, width, height, n);\n  return getRect(poses);\n}\nfunction getSVGOffset(offsetInfo, targetInfo, container, n, beforeMatrix) {\n  var _a;\n\n  var target = offsetInfo.target;\n  var origin = offsetInfo.origin;\n  var targetMatrix = targetInfo.matrix;\n\n  var _b = getSize(target),\n      width = _b.offsetWidth,\n      height = _b.offsetHeight;\n\n  var containerClientRect = container.getBoundingClientRect();\n  var margin = [0, 0];\n\n  if (container === getDocumentBody(container)) {\n    margin = getBodyOffset(target, true);\n  }\n\n  var rect = target.getBoundingClientRect();\n  var rectLeft = rect.left - containerClientRect.left + container.scrollLeft - (container.clientLeft || 0) + margin[0];\n  var rectTop = rect.top - containerClientRect.top + container.scrollTop - (container.clientTop || 0) + margin[1];\n  var rectWidth = rect.width;\n  var rectHeight = rect.height;\n  var mat = multiplies(n, beforeMatrix, targetMatrix);\n\n  var _c = calculateRect(mat, width, height, n),\n      prevLeft = _c.left,\n      prevTop = _c.top,\n      prevWidth = _c.width,\n      prevHeight = _c.height;\n\n  var posOrigin = calculatePosition(mat, origin, n);\n  var prevOrigin = minus(posOrigin, [prevLeft, prevTop]);\n  var rectOrigin = [rectLeft + prevOrigin[0] * rectWidth / prevWidth, rectTop + prevOrigin[1] * rectHeight / prevHeight];\n  var offset = [0, 0];\n  var count = 0;\n\n  while (++count < 10) {\n    var inverseBeforeMatrix = invert(beforeMatrix, n);\n    _a = minus(calculatePosition(inverseBeforeMatrix, rectOrigin, n), calculatePosition(inverseBeforeMatrix, posOrigin, n)), offset[0] = _a[0], offset[1] = _a[1];\n    var mat2 = multiplies(n, beforeMatrix, createOriginMatrix(offset, n), targetMatrix);\n\n    var _d = calculateRect(mat2, width, height, n),\n        nextLeft = _d.left,\n        nextTop = _d.top;\n\n    var distLeft = nextLeft - rectLeft;\n    var distTop = nextTop - rectTop;\n\n    if (abs(distLeft) < 2 && abs(distTop) < 2) {\n      break;\n    }\n\n    rectOrigin[0] -= distLeft;\n    rectOrigin[1] -= distTop;\n  }\n\n  return offset.map(function (p) {\n    return Math.round(p);\n  });\n}\nfunction calculateMoveableClientPositions(rootMatrix, poses, rootClientRect) {\n  var is3d = rootMatrix.length === 16;\n  var n = is3d ? 4 : 3;\n  var rootPoses = poses.map(function (pos) {\n    return calculatePosition(rootMatrix, pos, n);\n  });\n  var left = rootClientRect.left,\n      top = rootClientRect.top;\n  return rootPoses.map(function (pos) {\n    return [pos[0] + left, pos[1] + top];\n  });\n}\nfunction calculateMoveablePosition(matrix, origin, width, height) {\n  var is3d = matrix.length === 16;\n  var n = is3d ? 4 : 3;\n  var poses = calculatePoses(matrix, width, height, n);\n  var _a = poses[0],\n      x1 = _a[0],\n      y1 = _a[1],\n      _b = poses[1],\n      x2 = _b[0],\n      y2 = _b[1],\n      _c = poses[2],\n      x3 = _c[0],\n      y3 = _c[1],\n      _d = poses[3],\n      x4 = _d[0],\n      y4 = _d[1];\n\n  var _e = calculatePosition(matrix, origin, n),\n      originX = _e[0],\n      originY = _e[1];\n\n  var left = Math.min(x1, x2, x3, x4);\n  var top = Math.min(y1, y2, y3, y4);\n  var right = Math.max(x1, x2, x3, x4);\n  var bottom = Math.max(y1, y2, y3, y4);\n  x1 = x1 - left || 0;\n  x2 = x2 - left || 0;\n  x3 = x3 - left || 0;\n  x4 = x4 - left || 0;\n  y1 = y1 - top || 0;\n  y2 = y2 - top || 0;\n  y3 = y3 - top || 0;\n  y4 = y4 - top || 0;\n  originX = originX - left || 0;\n  originY = originY - top || 0;\n  var sx = matrix[0];\n  var sy = matrix[n + 1];\n  var direction = sign(sx * sy);\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom,\n    origin: [originX, originY],\n    pos1: [x1, y1],\n    pos2: [x2, y2],\n    pos3: [x3, y3],\n    pos4: [x4, y4],\n    direction: direction\n  };\n}\nfunction getDistSize(vec) {\n  return Math.sqrt(vec[0] * vec[0] + vec[1] * vec[1]);\n}\nfunction getDiagonalSize(pos1, pos2) {\n  return getDistSize([pos2[0] - pos1[0], pos2[1] - pos1[1]]);\n}\nfunction getLineStyle(pos1, pos2, zoom, rad) {\n  if (zoom === void 0) {\n    zoom = 1;\n  }\n\n  if (rad === void 0) {\n    rad = getRad(pos1, pos2);\n  }\n\n  var width = getDiagonalSize(pos1, pos2);\n  return {\n    transform: \"translateY(-50%) translate(\".concat(pos1[0], \"px, \").concat(pos1[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\"),\n    width: \"\".concat(width, \"px\")\n  };\n}\nfunction getControlTransform(rotation, zoom) {\n  var poses = [];\n\n  for (var _i = 2; _i < arguments.length; _i++) {\n    poses[_i - 2] = arguments[_i];\n  }\n\n  var length = poses.length;\n  var x = poses.reduce(function (prev, pos) {\n    return prev + pos[0];\n  }, 0) / length;\n  var y = poses.reduce(function (prev, pos) {\n    return prev + pos[1];\n  }, 0) / length;\n  return {\n    transform: \"translateZ(0px) translate(\".concat(x, \"px, \").concat(y, \"px) rotate(\").concat(rotation, \"rad) scale(\").concat(zoom, \")\")\n  };\n}\nfunction getProps(props, ableName) {\n  var self = props[ableName];\n\n  if (isObject(self)) {\n    return __assign(__assign({}, props), self);\n  }\n\n  return props;\n}\nfunction getSize(target) {\n  var hasOffset = target && !isUndefined(target.offsetWidth);\n  var offsetWidth = 0;\n  var offsetHeight = 0;\n  var clientWidth = 0;\n  var clientHeight = 0;\n  var cssWidth = 0;\n  var cssHeight = 0;\n  var contentWidth = 0;\n  var contentHeight = 0;\n  var minWidth = 0;\n  var minHeight = 0;\n  var minOffsetWidth = 0;\n  var minOffsetHeight = 0;\n  var maxWidth = Infinity;\n  var maxHeight = Infinity;\n  var maxOffsetWidth = Infinity;\n  var maxOffsetHeight = Infinity;\n  var inlineCSSWidth = 0;\n  var inlineCSSHeight = 0;\n  var svg = false;\n\n  if (target) {\n    if (!hasOffset && target.tagName.toLowerCase() !== \"svg\") {\n      // check svg elements\n      var bbox = target.getBBox();\n      svg = true;\n      offsetWidth = bbox.width;\n      offsetHeight = bbox.height;\n      cssWidth = offsetWidth;\n      cssHeight = offsetHeight;\n      contentWidth = offsetWidth;\n      contentHeight = offsetHeight;\n      clientWidth = offsetWidth;\n      clientHeight = offsetHeight;\n    } else {\n      // check html elements\n      var getStyle = getCachedStyle(target);\n      var targetStyle = target.style;\n      var boxSizing = getStyle(\"boxSizing\") === \"border-box\";\n      var borderLeft = parseFloat(getStyle(\"borderLeftWidth\")) || 0;\n      var borderRight = parseFloat(getStyle(\"borderRightWidth\")) || 0;\n      var borderTop = parseFloat(getStyle(\"borderTopWidth\")) || 0;\n      var borderBottom = parseFloat(getStyle(\"borderBottomWidth\")) || 0;\n      var paddingLeft = parseFloat(getStyle(\"paddingLeft\")) || 0;\n      var paddingRight = parseFloat(getStyle(\"paddingRight\")) || 0;\n      var paddingTop = parseFloat(getStyle(\"paddingTop\")) || 0;\n      var paddingBottom = parseFloat(getStyle(\"paddingBottom\")) || 0;\n      var horizontalPadding = paddingLeft + paddingRight;\n      var verticalPadding = paddingTop + paddingBottom;\n      var horizontalBorder = borderLeft + borderRight;\n      var verticalBorder = borderTop + borderBottom;\n      var horizontalOffset = horizontalPadding + horizontalBorder;\n      var verticalOffset = verticalPadding + verticalBorder;\n      var position = getStyle(\"position\");\n      var containerWidth = 0;\n      var containerHeight = 0; // SVGSVGElement, HTMLElement\n\n      if (\"clientLeft\" in target) {\n        var parentElement = null;\n\n        if (position === \"absolute\") {\n          var offsetInfo = getOffsetInfo(target, getDocumentBody(target));\n          parentElement = offsetInfo.offsetParent;\n        } else {\n          parentElement = target.parentElement;\n        }\n\n        if (parentElement) {\n          var getParentStyle = getCachedStyle(parentElement);\n          containerWidth = parseFloat(getParentStyle(\"width\"));\n          containerHeight = parseFloat(getParentStyle(\"height\"));\n        }\n      }\n\n      minWidth = Math.max(horizontalPadding, convertUnitSize(getStyle(\"minWidth\"), containerWidth) || 0);\n      minHeight = Math.max(verticalPadding, convertUnitSize(getStyle(\"minHeight\"), containerHeight) || 0);\n      maxWidth = convertUnitSize(getStyle(\"maxWidth\"), containerWidth);\n      maxHeight = convertUnitSize(getStyle(\"maxHeight\"), containerHeight);\n\n      if (isNaN(maxWidth)) {\n        maxWidth = Infinity;\n      }\n\n      if (isNaN(maxHeight)) {\n        maxHeight = Infinity;\n      }\n\n      inlineCSSWidth = convertUnitSize(targetStyle.width, 0) || 0;\n      inlineCSSHeight = convertUnitSize(targetStyle.height, 0) || 0;\n      cssWidth = parseFloat(getStyle(\"width\")) || 0;\n      cssHeight = parseFloat(getStyle(\"height\")) || 0;\n      contentWidth = abs(cssWidth - inlineCSSWidth) < 1 ? between(minWidth, inlineCSSWidth || cssWidth, maxWidth) : cssWidth;\n      contentHeight = abs(cssHeight - inlineCSSHeight) < 1 ? between(minHeight, inlineCSSHeight || cssHeight, maxHeight) : cssHeight;\n      offsetWidth = contentWidth;\n      offsetHeight = contentHeight;\n      clientWidth = contentWidth;\n      clientHeight = contentHeight;\n\n      if (boxSizing) {\n        maxOffsetWidth = maxWidth;\n        maxOffsetHeight = maxHeight;\n        minOffsetWidth = minWidth;\n        minOffsetHeight = minHeight;\n        contentWidth = offsetWidth - horizontalOffset;\n        contentHeight = offsetHeight - verticalOffset;\n      } else {\n        maxOffsetWidth = maxWidth + horizontalOffset;\n        maxOffsetHeight = maxHeight + verticalOffset;\n        minOffsetWidth = minWidth + horizontalOffset;\n        minOffsetHeight = minHeight + verticalOffset;\n        offsetWidth = contentWidth + horizontalOffset;\n        offsetHeight = contentHeight + verticalOffset;\n      }\n\n      clientWidth = contentWidth + horizontalPadding;\n      clientHeight = contentHeight + verticalPadding;\n    }\n  }\n\n  return {\n    svg: svg,\n    offsetWidth: offsetWidth,\n    offsetHeight: offsetHeight,\n    clientWidth: clientWidth,\n    clientHeight: clientHeight,\n    contentWidth: contentWidth,\n    contentHeight: contentHeight,\n    inlineCSSWidth: inlineCSSWidth,\n    inlineCSSHeight: inlineCSSHeight,\n    cssWidth: cssWidth,\n    cssHeight: cssHeight,\n    minWidth: minWidth,\n    minHeight: minHeight,\n    maxWidth: maxWidth,\n    maxHeight: maxHeight,\n    minOffsetWidth: minOffsetWidth,\n    minOffsetHeight: minOffsetHeight,\n    maxOffsetWidth: maxOffsetWidth,\n    maxOffsetHeight: maxOffsetHeight\n  };\n}\nfunction getRotationRad(poses, direction) {\n  return getRad(direction > 0 ? poses[0] : poses[1], direction > 0 ? poses[1] : poses[0]);\n}\nfunction resetClientRect() {\n  return {\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0,\n    right: 0,\n    bottom: 0,\n    clientLeft: 0,\n    clientTop: 0,\n    clientWidth: 0,\n    clientHeight: 0,\n    scrollWidth: 0,\n    scrollHeight: 0\n  };\n}\nfunction getExtendsRect(el, rect) {\n  var isRoot = el === getDocumentBody(el) || el === getDocumentElement(el);\n  var extendsRect = {\n    clientLeft: el.clientLeft,\n    clientTop: el.clientTop,\n    clientWidth: el.clientWidth,\n    clientHeight: el.clientHeight,\n    scrollWidth: el.scrollWidth,\n    scrollHeight: el.scrollHeight,\n    overflow: false\n  };\n\n  if (isRoot) {\n    extendsRect.clientHeight = Math.max(rect.height, extendsRect.clientHeight);\n    extendsRect.scrollHeight = Math.max(rect.height, extendsRect.scrollHeight);\n  }\n\n  extendsRect.overflow = getCachedStyle(el)(\"overflow\") !== \"visible\";\n  return __assign(__assign({}, rect), extendsRect);\n}\nfunction getClientRectByPosition(position, base, el, isExtends) {\n  var left = position.left,\n      right = position.right,\n      top = position.top,\n      bottom = position.bottom;\n  var baseTop = base.top;\n  var baseLeft = base.left;\n  var rect = {\n    left: baseLeft + left,\n    top: baseTop + top,\n    right: baseLeft + right,\n    bottom: baseTop + bottom,\n    width: right - left,\n    height: bottom - top\n  };\n\n  if (el && isExtends) {\n    return getExtendsRect(el, rect);\n  }\n\n  return rect;\n}\nfunction getClientRect(el, isExtends) {\n  var left = 0;\n  var top = 0;\n  var width = 0;\n  var height = 0; // let isRoot = false;\n\n  if (el) {\n    var clientRect = el.getBoundingClientRect();\n    left = clientRect.left;\n    top = clientRect.top;\n    width = clientRect.width;\n    height = clientRect.height;\n  }\n\n  var rect = {\n    left: left,\n    top: top,\n    width: width,\n    height: height,\n    right: left + width,\n    bottom: top + height\n  };\n\n  if (el && isExtends) {\n    return getExtendsRect(el, rect);\n  }\n\n  return rect;\n}\nfunction getTotalOrigin(moveable) {\n  var _a = moveable.props,\n      groupable = _a.groupable,\n      svgOrigin = _a.svgOrigin;\n\n  var _b = moveable.getState(),\n      offsetWidth = _b.offsetWidth,\n      offsetHeight = _b.offsetHeight,\n      svg = _b.svg,\n      transformOrigin = _b.transformOrigin;\n\n  if (!groupable && svg && svgOrigin) {\n    return convertTransformOriginArray(svgOrigin, offsetWidth, offsetHeight);\n  }\n\n  return transformOrigin;\n}\nfunction getTotalDirection(parentDirection, isPinch, inputEvent, datas) {\n  var direction;\n\n  if (parentDirection) {\n    direction = parentDirection;\n  } else if (isPinch) {\n    direction = [0, 0];\n  } else {\n    var target = inputEvent.target;\n    direction = getDirection(target, datas);\n  }\n\n  return direction;\n}\nfunction getDirection(target, datas) {\n  if (!target) {\n    return;\n  }\n\n  var deg = target.getAttribute(\"data-rotation\") || \"\";\n  var direciton = target.getAttribute(\"data-direction\");\n  datas.deg = deg;\n\n  if (!direciton) {\n    return;\n  }\n\n  var dir = [0, 0];\n  direciton.indexOf(\"w\") > -1 && (dir[0] = -1);\n  direciton.indexOf(\"e\") > -1 && (dir[0] = 1);\n  direciton.indexOf(\"n\") > -1 && (dir[1] = -1);\n  direciton.indexOf(\"s\") > -1 && (dir[1] = 1);\n  return dir;\n}\nfunction getAbsolutePoses(poses, dist) {\n  return [plus(dist, poses[0]), plus(dist, poses[1]), plus(dist, poses[2]), plus(dist, poses[3])];\n}\nfunction getAbsolutePosesByState(_a) {\n  var left = _a.left,\n      top = _a.top,\n      pos1 = _a.pos1,\n      pos2 = _a.pos2,\n      pos3 = _a.pos3,\n      pos4 = _a.pos4;\n  return getAbsolutePoses([pos1, pos2, pos3, pos4], [left, top]);\n}\nfunction unsetAbles(self, isControl) {\n  self[isControl ? \"controlAbles\" : \"targetAbles\"].forEach(function (able) {\n    able.unset && able.unset(self);\n  });\n}\nfunction unsetGesto(self, isControl) {\n  var gestoName = isControl ? \"controlGesto\" : \"targetGesto\";\n  var gesto = self[gestoName];\n\n  if ((gesto === null || gesto === void 0 ? void 0 : gesto.isIdle()) === false) {\n    unsetAbles(self, isControl);\n  }\n\n  gesto === null || gesto === void 0 ? void 0 : gesto.unset();\n  self[gestoName] = null;\n}\nfunction fillCSSObject(style, resolvedEvent) {\n  if (resolvedEvent) {\n    var originalDatas = getBeforeRenderableDatas(resolvedEvent);\n    originalDatas.nextStyle = __assign(__assign({}, originalDatas.nextStyle), style);\n  }\n\n  return {\n    style: style,\n    cssText: getKeys(style).map(function (name) {\n      return \"\".concat(decamelize(name, \"-\"), \": \").concat(style[name], \";\");\n    }).join(\"\")\n  };\n}\nfunction fillAfterTransform(prevEvent, nextEvent, resolvedEvent) {\n  var afterTransform = nextEvent.afterTransform || nextEvent.transform;\n  return __assign(__assign({}, fillCSSObject(__assign(__assign(__assign({}, prevEvent.style), nextEvent.style), {\n    transform: afterTransform\n  }), resolvedEvent)), {\n    afterTransform: afterTransform,\n    transform: prevEvent.transform\n  });\n}\nfunction fillParams(moveable, e, params, isBeforeEvent) {\n  var datas = e.datas;\n\n  if (!datas.datas) {\n    datas.datas = {};\n  }\n\n  var nextParams = __assign(__assign({}, params), {\n    target: moveable.state.target,\n    clientX: e.clientX,\n    clientY: e.clientY,\n    inputEvent: e.inputEvent,\n    currentTarget: moveable,\n    moveable: moveable,\n    datas: datas.datas,\n    isFirstDrag: !!e.isFirstDrag,\n    isTrusted: e.isTrusted !== false,\n    stopAble: function () {\n      datas.isEventStart = false;\n    },\n    stopDrag: function () {\n      var _a;\n\n      (_a = e.stop) === null || _a === void 0 ? void 0 : _a.call(e);\n    }\n  });\n\n  if (!datas.isStartEvent) {\n    datas.isStartEvent = true;\n  } else if (!isBeforeEvent) {\n    datas.lastEvent = nextParams;\n  }\n\n  return nextParams;\n}\nfunction fillEndParams(moveable, e, params) {\n  var datas = e.datas;\n  var isDrag = \"isDrag\" in params ? params.isDrag : e.isDrag;\n\n  if (!datas.datas) {\n    datas.datas = {};\n  }\n\n  return __assign(__assign({\n    isDrag: isDrag\n  }, params), {\n    moveable: moveable,\n    target: moveable.state.target,\n    clientX: e.clientX,\n    clientY: e.clientY,\n    inputEvent: e.inputEvent,\n    currentTarget: moveable,\n    lastEvent: datas.lastEvent,\n    isDouble: e.isDouble,\n    datas: datas.datas,\n    isFirstDrag: !!e.isFirstDrag\n  });\n}\nfunction catchEvent(moveable, name, callback) {\n  moveable._emitter.on(name, callback);\n}\nfunction triggerEvent(moveable, name, params, isManager) {\n  return moveable.triggerEvent(name, params, isManager);\n}\nfunction getComputedStyle(el, pseudoElt) {\n  return getWindow(el).getComputedStyle(el, pseudoElt);\n}\nfunction filterAbles(ables, methods, triggerAblesSimultaneously) {\n  var enabledAbles = {};\n  var ableGroups = {};\n  return ables.filter(function (able) {\n    var name = able.name;\n\n    if (enabledAbles[name] || !methods.some(function (method) {\n      return able[method];\n    })) {\n      return false;\n    }\n\n    if (!triggerAblesSimultaneously && able.ableGroup) {\n      if (ableGroups[able.ableGroup]) {\n        return false;\n      }\n\n      ableGroups[able.ableGroup] = true;\n    }\n\n    enabledAbles[name] = true;\n    return true;\n  });\n}\nfunction equals(a1, a2) {\n  return a1 === a2 || a1 == null && a2 == null;\n}\nfunction selectValue() {\n  var values = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    values[_i] = arguments[_i];\n  }\n\n  var length = values.length - 1;\n\n  for (var i = 0; i < length; ++i) {\n    var value = values[i];\n\n    if (!isUndefined(value)) {\n      return value;\n    }\n  }\n\n  return values[length];\n}\nfunction groupBy(arr, func) {\n  var groups = [];\n  var groupKeys = [];\n  arr.forEach(function (el, index) {\n    var groupKey = func(el, index, arr);\n    var keyIndex = groupKeys.indexOf(groupKey);\n    var group = groups[keyIndex] || [];\n\n    if (keyIndex === -1) {\n      groupKeys.push(groupKey);\n      groups.push(group);\n    }\n\n    group.push(el);\n  });\n  return groups;\n}\nfunction groupByMap(arr, func) {\n  var groups = [];\n  var groupKeys = {};\n  arr.forEach(function (el, index) {\n    var groupKey = func(el, index, arr);\n    var group = groupKeys[groupKey];\n\n    if (!group) {\n      group = [];\n      groupKeys[groupKey] = group;\n      groups.push(group);\n    }\n\n    group.push(el);\n  });\n  return groups;\n}\nfunction flat(arr) {\n  return arr.reduce(function (prev, cur) {\n    return prev.concat(cur);\n  }, []);\n}\nfunction maxOffset() {\n  var args = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    args[_i] = arguments[_i];\n  }\n\n  args.sort(function (a, b) {\n    return abs(b) - abs(a);\n  });\n  return args[0];\n}\nfunction calculateInversePosition(matrix, pos, n) {\n  return calculate(invert(matrix, n), convertPositionMatrix(pos, n), n);\n}\nfunction convertDragDist(state, e) {\n  var _a;\n\n  var is3d = state.is3d,\n      rootMatrix = state.rootMatrix;\n  var n = is3d ? 4 : 3;\n  _a = calculateInversePosition(rootMatrix, [e.distX, e.distY], n), e.distX = _a[0], e.distY = _a[1];\n  return e;\n}\nfunction calculatePadding(matrix, pos, transformOrigin, origin, n) {\n  return minus(calculatePosition(matrix, plus(transformOrigin, pos), n), origin);\n}\nfunction convertCSSSize(value, size, isRelative) {\n  return isRelative ? \"\".concat(value / size * 100, \"%\") : \"\".concat(value, \"px\");\n}\nfunction getTinyDist(v) {\n  return abs(v) <= TINY_NUM ? 0 : v;\n}\nfunction getDirectionViewClassName(ableName) {\n  return function (moveable) {\n    if (!moveable.isDragging(ableName)) {\n      return \"\";\n    }\n\n    var data = getGestoData(moveable, ableName);\n    var deg = data.deg;\n\n    if (!deg) {\n      return \"\";\n    }\n\n    return prefix(\"view-control-rotation\".concat(deg));\n  };\n}\nfunction getDirectionCondition(ableName, checkAbles) {\n  if (checkAbles === void 0) {\n    checkAbles = [ableName];\n  }\n\n  return function (moveable, e) {\n    if (e.isRequest) {\n      if (checkAbles.some(function (name) {\n        return e.requestAble === name;\n      })) {\n        return e.parentDirection;\n      } else {\n        return false;\n      }\n    }\n\n    var target = e.inputEvent.target;\n    return hasClass(target, prefix(\"direction\")) && (!ableName || hasClass(target, prefix(ableName)));\n  };\n}\nfunction convertTransformInfo(transforms, index) {\n  var _a;\n\n  var matrixInfos = parse(transforms);\n  var beforeFunctionTexts = transforms.slice(0, index < 0 ? undefined : index);\n  var beforeFunctionTexts2 = transforms.slice(0, index < 0 ? undefined : index + 1);\n  var targetFunctionText = transforms[index] || \"\";\n  var afterFunctionTexts = index < 0 ? [] : transforms.slice(index);\n  var afterFunctionTexts2 = index < 0 ? [] : transforms.slice(index + 1);\n  var beforeFunctions = matrixInfos.slice(0, index < 0 ? undefined : index);\n  var beforeFunctions2 = matrixInfos.slice(0, index < 0 ? undefined : index + 1);\n  var targetFunction = (_a = matrixInfos[index]) !== null && _a !== void 0 ? _a : parse([\"\"])[0];\n  var afterFunctions = index < 0 ? [] : matrixInfos.slice(index);\n  var afterFunctions2 = index < 0 ? [] : matrixInfos.slice(index + 1);\n  var targetFunctions = targetFunction ? [targetFunction] : [];\n  var beforeFunctionMatrix = toMat(beforeFunctions);\n  var beforeFunctionMatrix2 = toMat(beforeFunctions2);\n  var afterFunctionMatrix = toMat(afterFunctions);\n  var afterFunctionMatrix2 = toMat(afterFunctions2);\n  var allFunctionMatrix = multiply(beforeFunctionMatrix, afterFunctionMatrix, 4);\n  return {\n    transforms: transforms,\n    beforeFunctionMatrix: beforeFunctionMatrix,\n    beforeFunctionMatrix2: beforeFunctionMatrix2,\n    targetFunctionMatrix: toMat(targetFunctions),\n    afterFunctionMatrix: afterFunctionMatrix,\n    afterFunctionMatrix2: afterFunctionMatrix2,\n    allFunctionMatrix: allFunctionMatrix,\n    beforeFunctions: beforeFunctions,\n    beforeFunctions2: beforeFunctions2,\n    targetFunction: targetFunctions[0],\n    afterFunctions: afterFunctions,\n    afterFunctions2: afterFunctions2,\n    beforeFunctionTexts: beforeFunctionTexts,\n    beforeFunctionTexts2: beforeFunctionTexts2,\n    targetFunctionText: targetFunctionText,\n    afterFunctionTexts: afterFunctionTexts,\n    afterFunctionTexts2: afterFunctionTexts2\n  };\n}\nfunction isArrayFormat(arr) {\n  if (!arr || !isObject(arr)) {\n    return false;\n  }\n\n  if (isNode(arr)) {\n    return false;\n  }\n\n  return isArray(arr) || \"length\" in arr;\n}\nfunction getRefTarget(target, isSelector) {\n  if (!target) {\n    return null;\n  }\n\n  if (isNode(target)) {\n    return target;\n  }\n\n  if (isString(target)) {\n    if (isSelector) {\n      return document.querySelector(target);\n    }\n\n    return target;\n  }\n\n  if (isFunction(target)) {\n    return target();\n  }\n\n  if (isWindow(target)) {\n    return target;\n  }\n\n  if (\"current\" in target) {\n    return target.current;\n  }\n\n  return target;\n}\nfunction getRefTargets(targets, isSelector) {\n  if (!targets) {\n    return [];\n  }\n\n  var userTargets = isArrayFormat(targets) ? [].slice.call(targets) : [targets];\n  return userTargets.reduce(function (prev, target) {\n    if (isString(target) && isSelector) {\n      return __spreadArray(__spreadArray([], prev, true), [].slice.call(document.querySelectorAll(target)), true);\n    }\n\n    if (isArray(target)) {\n      prev.push(getRefTargets(target, isSelector));\n    } else {\n      prev.push(getRefTarget(target, isSelector));\n    }\n\n    return prev;\n  }, []);\n}\nfunction getAbsoluteRotation(pos1, pos2, direction) {\n  var deg = getRad(pos1, pos2) / Math.PI * 180;\n  deg = direction >= 0 ? deg : 180 - deg;\n  deg = deg >= 0 ? deg : 360 + deg;\n  return deg;\n}\nfunction getDragDistByState(state, dist) {\n  var rootMatrix = state.rootMatrix,\n      is3d = state.is3d;\n  var n = is3d ? 4 : 3;\n  var inverseMatrix = invert(rootMatrix, n);\n\n  if (!is3d) {\n    inverseMatrix = convertDimension(inverseMatrix, 3, 4);\n  }\n\n  inverseMatrix[12] = 0;\n  inverseMatrix[13] = 0;\n  inverseMatrix[14] = 0;\n  return calculateMatrixDist(inverseMatrix, dist);\n}\nfunction getSizeDistByDist(startSize, dist, ratio, direction, keepRatio) {\n  var startOffsetWidth = startSize[0],\n      startOffsetHeight = startSize[1];\n  var distWidth = 0;\n  var distHeight = 0;\n\n  if (keepRatio && startOffsetWidth && startOffsetHeight) {\n    var rad = getRad([0, 0], dist);\n    var standardRad = getRad([0, 0], direction);\n    var size = getDistSize(dist);\n    var signSize = Math.cos(rad - standardRad) * size;\n\n    if (!direction[0]) {\n      // top, bottom\n      distHeight = signSize;\n      distWidth = distHeight * ratio;\n    } else if (!direction[1]) {\n      // left, right\n      distWidth = signSize;\n      distHeight = distWidth / ratio;\n    } else {\n      // two-way\n      var startWidthSize = direction[0] * startOffsetWidth;\n      var startHeightSize = direction[1] * startOffsetHeight;\n      var secondRad = Math.atan2(startWidthSize + dist[0], startHeightSize + dist[1]);\n      var firstRad = Math.atan2(startWidthSize, startHeightSize);\n\n      if (secondRad < 0) {\n        secondRad += Math.PI * 2;\n      }\n\n      if (firstRad < 0) {\n        firstRad += Math.PI * 2;\n      }\n\n      var rad_1 = 0;\n\n      if (abs(secondRad - firstRad) < Math.PI / 2 || abs(secondRad - firstRad) > Math.PI / 2 * 3) {\n        rad_1 = secondRad - firstRad;\n      } else {\n        firstRad += Math.PI;\n        rad_1 = secondRad - firstRad;\n      }\n\n      if (rad_1 > Math.PI * 2) {\n        rad_1 -= Math.PI * 2;\n      } else if (rad_1 > Math.PI) {\n        rad_1 = 2 * Math.PI - rad_1;\n      } else if (rad_1 < -Math.PI) {\n        rad_1 = -2 * Math.PI - rad_1;\n      } //       180\n      // -1, -1,  // 1, -1\n      // 270            90\n      // -1, 1    // 1, 1\n      //       0\n\n\n      var distSize = getDistSize([startWidthSize + dist[0], startHeightSize + dist[1]]) * Math.cos(rad_1);\n      distWidth = distSize * Math.sin(firstRad) - startWidthSize;\n      distHeight = distSize * Math.cos(firstRad) - startHeightSize;\n\n      if (direction[0] < 0) {\n        distWidth *= -1;\n      }\n\n      if (direction[1] < 0) {\n        distHeight *= -1;\n      }\n    }\n  } else {\n    distWidth = direction[0] * dist[0];\n    distHeight = direction[1] * dist[1];\n  }\n\n  return [distWidth, distHeight];\n}\nfunction getOffsetSizeDist(sizeDirection, keepRatio, datas, e) {\n  var _a;\n\n  var ratio = datas.ratio,\n      startOffsetWidth = datas.startOffsetWidth,\n      startOffsetHeight = datas.startOffsetHeight;\n  var distWidth = 0;\n  var distHeight = 0;\n  var distX = e.distX,\n      distY = e.distY,\n      pinchScale = e.pinchScale,\n      parentDistance = e.parentDistance,\n      parentDist = e.parentDist,\n      parentScale = e.parentScale;\n  var startFixedDirection = datas.fixedDirection;\n  var directionsDists = [0, 1].map(function (index) {\n    return abs(sizeDirection[index] - startFixedDirection[index]);\n  });\n  var directionRatios = [0, 1].map(function (index) {\n    var dist = directionsDists[index];\n\n    if (dist !== 0) {\n      dist = 2 / dist;\n    }\n\n    return dist;\n  });\n\n  if (parentDist) {\n    distWidth = parentDist[0];\n    distHeight = parentDist[1];\n\n    if (keepRatio) {\n      if (!distWidth) {\n        distWidth = distHeight * ratio;\n      } else if (!distHeight) {\n        distHeight = distWidth / ratio;\n      }\n    }\n  } else if (isNumber(pinchScale)) {\n    distWidth = (pinchScale - 1) * startOffsetWidth;\n    distHeight = (pinchScale - 1) * startOffsetHeight;\n  } else if (parentScale) {\n    distWidth = (parentScale[0] - 1) * startOffsetWidth;\n    distHeight = (parentScale[1] - 1) * startOffsetHeight;\n  } else if (parentDistance) {\n    var scaleX = startOffsetWidth * directionsDists[0];\n    var scaleY = startOffsetHeight * directionsDists[1];\n    var ratioDistance = getDistSize([scaleX, scaleY]);\n    distWidth = parentDistance / ratioDistance * scaleX * directionRatios[0];\n    distHeight = parentDistance / ratioDistance * scaleY * directionRatios[1];\n  } else {\n    var dist_1 = getDragDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    });\n    dist_1 = directionRatios.map(function (ratio, i) {\n      return dist_1[i] * ratio;\n    });\n    _a = getSizeDistByDist([startOffsetWidth, startOffsetHeight], dist_1, ratio, sizeDirection, keepRatio), distWidth = _a[0], distHeight = _a[1];\n  }\n\n  return {\n    // direction,\n    // sizeDirection,\n    distWidth: distWidth,\n    distHeight: distHeight\n  };\n}\nfunction convertTransformUnit(origin, xy) {\n  if (xy) {\n    if (origin === \"left\") {\n      return {\n        x: \"0%\",\n        y: \"50%\"\n      };\n    } else if (origin === \"top\") {\n      return {\n        x: \"50%\",\n        y: \"50%\"\n      };\n    } else if (origin === \"center\") {\n      return {\n        x: \"50%\",\n        y: \"50%\"\n      };\n    } else if (origin === \"right\") {\n      return {\n        x: \"100%\",\n        y: \"50%\"\n      };\n    } else if (origin === \"bottom\") {\n      return {\n        x: \"50%\",\n        y: \"100%\"\n      };\n    }\n\n    var _a = origin.split(\" \"),\n        left = _a[0],\n        right = _a[1];\n\n    var leftOrigin = convertTransformUnit(left || \"\");\n    var rightOrigin = convertTransformUnit(right || \"\");\n\n    var originObject = __assign(__assign({}, leftOrigin), rightOrigin);\n\n    var nextOriginObject = {\n      x: \"50%\",\n      y: \"50%\"\n    };\n\n    if (originObject.x) {\n      nextOriginObject.x = originObject.x;\n    }\n\n    if (originObject.y) {\n      nextOriginObject.y = originObject.y;\n    }\n\n    if (originObject.value) {\n      if (originObject.x && !originObject.y) {\n        nextOriginObject.y = originObject.value;\n      }\n\n      if (!originObject.x && originObject.y) {\n        nextOriginObject.x = originObject.value;\n      }\n    }\n\n    return nextOriginObject;\n  }\n\n  if (origin === \"left\") {\n    return {\n      x: \"0%\"\n    };\n  }\n\n  if (origin === \"right\") {\n    return {\n      x: \"100%\"\n    };\n  }\n\n  if (origin === \"top\") {\n    return {\n      y: \"0%\"\n    };\n  }\n\n  if (origin === \"bottom\") {\n    return {\n      y: \"100%\"\n    };\n  }\n\n  if (!origin) {\n    return {};\n  }\n\n  if (origin === \"center\") {\n    return {\n      value: \"50%\"\n    };\n  }\n\n  return {\n    value: origin\n  };\n}\nfunction convertTransformOriginArray(transformOrigin, width, height) {\n  var _a = convertTransformUnit(transformOrigin, true),\n      x = _a.x,\n      y = _a.y;\n\n  return [convertUnitSize(x, width) || 0, convertUnitSize(y, height) || 0];\n}\nfunction rotatePosesInfo(poses, origin, rad) {\n  var prevPoses = poses.map(function (pos) {\n    return minus(pos, origin);\n  });\n  var nextPoses = prevPoses.map(function (pos) {\n    return rotate(pos, rad);\n  });\n  return {\n    prev: prevPoses,\n    next: nextPoses,\n    result: nextPoses.map(function (pos) {\n      return plus(pos, origin);\n    })\n  };\n}\nfunction isDeepArrayEquals(arr1, arr2) {\n  return arr1.length === arr2.length && arr1.every(function (value1, i) {\n    var value2 = arr2[i];\n    var isArray1 = isArray(value1);\n    var isArray2 = isArray(value2);\n\n    if (isArray1 && isArray2) {\n      return isDeepArrayEquals(value1, value2);\n    } else if (!isArray1 && !isArray2) {\n      return value1 === value2;\n    }\n\n    return false;\n  });\n}\nfunction watchValue(store, property, nextValue, valueKey) {\n  var prevValue = store[property];\n\n  if (property in store && (prevValue === nextValue || valueKey(prevValue) === valueKey(nextValue))) {\n    return prevValue;\n  }\n\n  store[property] = nextValue;\n  return nextValue;\n}\nfunction sign(value) {\n  return value >= 0 ? 1 : -1;\n}\nfunction abs(value) {\n  return Math.abs(value);\n}\n\n/**\n * @namespace Moveable.Pinchable\n * @description Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\n */\n\nvar Pinchable = makeAble(\"pinchable\", {\n  props: [\"pinchable\"],\n  events: [\"pinchStart\", \"pinch\", \"pinchEnd\", \"pinchGroupStart\", \"pinchGroup\", \"pinchGroupEnd\"],\n  dragStart: function () {\n    return true;\n  },\n  pinchStart: function (moveable, e) {\n    var datas = e.datas,\n        targets = e.targets,\n        angle = e.angle,\n        originalDatas = e.originalDatas;\n    var _a = moveable.props,\n        pinchable = _a.pinchable,\n        ables = _a.ables;\n\n    if (!pinchable) {\n      return false;\n    }\n\n    var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\", \"Start\");\n    var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"ControlStart\");\n    var pinchAbles = (pinchable === true ? moveable.controlAbles : ables.filter(function (able) {\n      return pinchable.indexOf(able.name) > -1;\n    })).filter(function (able) {\n      return able.canPinch && able[controlEventName];\n    });\n    var params = fillParams(moveable, e, {});\n\n    if (targets) {\n      params.targets = targets;\n    }\n\n    var result = triggerEvent(moveable, eventName, params);\n    datas.isPinch = result !== false;\n    datas.ables = pinchAbles;\n    var isPinch = datas.isPinch;\n\n    if (!isPinch) {\n      return false;\n    }\n\n    pinchAbles.forEach(function (able) {\n      originalDatas[able.name] = originalDatas[able.name] || {};\n\n      if (!able[controlEventName]) {\n        return;\n      }\n\n      var ableEvent = __assign(__assign({}, e), {\n        datas: originalDatas[able.name],\n        parentRotate: angle,\n        isPinch: true\n      });\n\n      able[controlEventName](moveable, ableEvent);\n    });\n    moveable.state.snapRenderInfo = {\n      request: e.isRequest,\n      direction: [0, 0]\n    };\n    return isPinch;\n  },\n  pinch: function (moveable, e) {\n    var datas = e.datas,\n        pinchScale = e.scale,\n        distance = e.distance,\n        originalDatas = e.originalDatas,\n        inputEvent = e.inputEvent,\n        targets = e.targets,\n        angle = e.angle;\n\n    if (!datas.isPinch) {\n      return;\n    }\n\n    var parentDistance = distance * (1 - 1 / pinchScale);\n    var params = fillParams(moveable, e, {});\n\n    if (targets) {\n      params.targets = targets;\n    }\n\n    var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\");\n    triggerEvent(moveable, eventName, params);\n    var ables = datas.ables;\n    var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"Control\");\n    ables.forEach(function (able) {\n      if (!able[controlEventName]) {\n        return;\n      }\n\n      able[controlEventName](moveable, __assign(__assign({}, e), {\n        datas: originalDatas[able.name],\n        inputEvent: inputEvent,\n        resolveMatrix: true,\n        pinchScale: pinchScale,\n        parentDistance: parentDistance,\n        parentRotate: angle,\n        isPinch: true\n      }));\n    });\n    return params;\n  },\n  pinchEnd: function (moveable, e) {\n    var datas = e.datas,\n        isPinch = e.isPinch,\n        inputEvent = e.inputEvent,\n        targets = e.targets,\n        originalDatas = e.originalDatas;\n\n    if (!datas.isPinch) {\n      return;\n    }\n\n    var eventName = \"onPinch\".concat(targets ? \"Group\" : \"\", \"End\");\n    var params = fillEndParams(moveable, e, {\n      isDrag: isPinch\n    });\n\n    if (targets) {\n      params.targets = targets;\n    }\n\n    triggerEvent(moveable, eventName, params);\n    var ables = datas.ables;\n    var controlEventName = \"drag\".concat(targets ? \"Group\" : \"\", \"ControlEnd\");\n    ables.forEach(function (able) {\n      if (!able[controlEventName]) {\n        return;\n      }\n\n      able[controlEventName](moveable, __assign(__assign({}, e), {\n        isDrag: isPinch,\n        datas: originalDatas[able.name],\n        inputEvent: inputEvent,\n        isPinch: true\n      }));\n    });\n    return isPinch;\n  },\n  pinchGroupStart: function (moveable, e) {\n    return this.pinchStart(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  pinchGroup: function (moveable, e) {\n    return this.pinch(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  pinchGroupEnd: function (moveable, e) {\n    return this.pinchEnd(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  }\n});\n/**\n * Whether or not target can be pinched with draggable, resizable, scalable, rotatable (default: false)\n * @name Moveable.Pinchable#pinchable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.pinchable = true;\n */\n\n/**\n * When the pinch starts, the pinchStart event is called with part of scaleStart, rotateStart, resizeStart\n * @memberof Moveable.Pinchable\n * @event pinchStart\n * @param {Moveable.Pinchable.OnPinchStart} - Parameters for the pinchStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinchStart\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotateStart\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scaleStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When pinching, the pinch event is called with part of scale, rotate, resize\n * @memberof Moveable.Pinchable\n * @event pinch\n * @param {Moveable.Pinchable.OnPinch} - Parameters for the pinch event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinch\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotate\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scale\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When the pinch finishes, the pinchEnd event is called.\n * @memberof Moveable.Pinchable\n * @event pinchEnd\n * @param {Moveable.Pinchable.OnPinchEnd} - Parameters for the pinchEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     rotatable: true,\n *     scalable: true,\n *     pinchable: true, // [\"rotatable\", \"scalable\"]\n * });\n * moveable.on(\"pinchEnd\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"rotateEnd\", ({ target }) => {\n *     console.log(target);\n * });\n * moveable.on(\"scaleEnd\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When the group pinch starts, the `pinchGroupStart` event is called.\n * @memberof Moveable.Pinchable\n * @event pinchGroupStart\n * @param {Moveable.Pinchable.OnPinchGroupStart} - Parameters for the `pinchGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroupStart\", ({ targets }) => {\n *     console.log(\"onPinchGroupStart\", targets);\n * });\n */\n\n/**\n * When the group pinch, the `pinchGroup` event is called.\n * @memberof Moveable.Pinchable\n * @event pinchGroup\n * @param {Moveable.Pinchable.OnPinchGroup} - Parameters for the `pinchGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroup\", ({ targets, events }) => {\n *     console.log(\"onPinchGroup\", targets);\n * });\n */\n\n/**\n * When the group pinch finishes, the `pinchGroupEnd` event is called.\n * @memberof Moveable.Pinchable\n * @event pinchGroupEnd\n * @param {Moveable.Pinchable.OnPinchGroupEnd} - Parameters for the `pinchGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     pinchable: true\n * });\n * moveable.on(\"pinchGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onPinchGroupEnd\", targets, isDrag);\n * });\n */\n\nfunction fillChildEvents(moveable, name, e) {\n  var datas = e.originalDatas;\n  datas.groupable = datas.groupable || {};\n  var groupableDatas = datas.groupable;\n  groupableDatas.childDatas = groupableDatas.childDatas || [];\n  var childDatas = groupableDatas.childDatas;\n  return moveable.moveables.map(function (_, i) {\n    childDatas[i] = childDatas[i] || {};\n    childDatas[i][name] = childDatas[i][name] || {};\n    return __assign(__assign({}, e), {\n      datas: childDatas[i][name],\n      originalDatas: childDatas[i]\n    });\n  });\n}\nfunction triggerChildGesto(moveable, able, type, delta, e, isConvert, ableName) {\n  var isStart = !!type.match(/Start$/g);\n  var isEnd = !!type.match(/End$/g);\n  var isPinch = e.isPinch;\n  var datas = e.datas;\n  var events = fillChildEvents(moveable, able.name, e);\n  var moveables = moveable.moveables;\n  var childs = events.map(function (ev, i) {\n    var childMoveable = moveables[i];\n    var state = childMoveable.state;\n    var gestos = state.gestos;\n    var childEvent = ev;\n\n    if (isStart) {\n      childEvent = new CustomGesto(ableName).dragStart(delta, ev);\n    } else {\n      if (!gestos[ableName]) {\n        gestos[ableName] = datas.childGestos[i];\n      }\n\n      if (!gestos[ableName]) {\n        return;\n      }\n\n      childEvent = setCustomDrag(ev, state, delta, isPinch, isConvert, ableName);\n    }\n\n    var result = able[type](childMoveable, __assign(__assign({}, childEvent), {\n      parentFlag: true\n    }));\n\n    if (isEnd) {\n      gestos[ableName] = null;\n    }\n\n    return result;\n  });\n\n  if (isStart) {\n    datas.childGestos = moveables.map(function (child) {\n      return child.state.gestos[ableName];\n    });\n  }\n\n  return childs;\n}\nfunction triggerChildAbles(moveable, able, type, e, eachEvent, callback) {\n  if (eachEvent === void 0) {\n    eachEvent = function (_, ev) {\n      return ev;\n    };\n  }\n\n  var isEnd = !!type.match(/End$/g);\n  var events = fillChildEvents(moveable, able.name, e);\n  var moveables = moveable.moveables;\n  var childs = events.map(function (ev, i) {\n    var childMoveable = moveables[i];\n    var childEvent = ev;\n    childEvent = eachEvent(childMoveable, ev);\n    var result = able[type](childMoveable, __assign(__assign({}, childEvent), {\n      parentFlag: true\n    }));\n    result && callback && callback(childMoveable, ev, result, i);\n\n    if (isEnd) {\n      childMoveable.state.gestos = {};\n    }\n\n    return result;\n  });\n  return childs;\n}\nfunction startChildDist(moveable, child, parentDatas, childEvent) {\n  var fixedDirection = parentDatas.fixedDirection;\n  var fixedPosition = parentDatas.fixedPosition;\n  var startPositions = childEvent.datas.startPositions || getAbsolutePosesByState(child.state);\n  var pos = getPosByDirection(startPositions, fixedDirection);\n\n  var _a = calculate(createRotateMatrix(-moveable.rotation / 180 * Math.PI, 3), [pos[0] - fixedPosition[0], pos[1] - fixedPosition[1], 1], 3),\n      originalX = _a[0],\n      originalY = _a[1];\n\n  childEvent.datas.originalX = originalX;\n  childEvent.datas.originalY = originalY;\n  return childEvent;\n}\n\nvar VERTICAL_NAMES = [\"left\", \"right\", \"center\"];\nvar HORIZONTAL_NAMES = [\"top\", \"bottom\", \"middle\"];\nvar VERTICAL_NAMES_MAP = {\n  start: \"left\",\n  end: \"right\",\n  center: \"center\"\n};\nvar HORIZONTAL_NAMES_MAP = {\n  start: \"top\",\n  end: \"bottom\",\n  center: \"middle\"\n};\nfunction hasGuidelines(moveable, ableName) {\n  var _a = moveable.props,\n      snappable = _a.snappable,\n      bounds = _a.bounds,\n      innerBounds = _a.innerBounds,\n      verticalGuidelines = _a.verticalGuidelines,\n      horizontalGuidelines = _a.horizontalGuidelines,\n      snapGridWidth = _a.snapGridWidth,\n      snapGridHeight = _a.snapGridHeight,\n      _b = moveable.state,\n      guidelines = _b.guidelines,\n      enableSnap = _b.enableSnap;\n\n  if (!snappable || !enableSnap || ableName && snappable !== true && snappable.indexOf(ableName) < 0) {\n    return false;\n  }\n\n  if (snapGridWidth || snapGridHeight || bounds || innerBounds || guidelines && guidelines.length || verticalGuidelines && verticalGuidelines.length || horizontalGuidelines && horizontalGuidelines.length) {\n    return true;\n  }\n\n  return false;\n}\nfunction getSnapDirections(snapDirections) {\n  if (snapDirections === false) {\n    return {};\n  } else if (snapDirections === true || !snapDirections) {\n    return {\n      left: true,\n      right: true,\n      top: true,\n      bottom: true\n    };\n  }\n\n  return snapDirections;\n}\nfunction mapSnapDirectionPoses(snapDirections, snapPoses) {\n  var nextSnapDirections = getSnapDirections(snapDirections);\n  var nextSnapPoses = {};\n\n  for (var name in nextSnapDirections) {\n    if (name in snapPoses && nextSnapDirections[name]) {\n      nextSnapPoses[name] = snapPoses[name];\n    }\n  }\n\n  return nextSnapPoses;\n}\nfunction splitSnapDirectionPoses(snapDirections, snapPoses) {\n  var nextSnapPoses = mapSnapDirectionPoses(snapDirections, snapPoses);\n  var horizontalNames = HORIZONTAL_NAMES.filter(function (name) {\n    return name in nextSnapPoses;\n  });\n  var verticalNames = VERTICAL_NAMES.filter(function (name) {\n    return name in nextSnapPoses;\n  });\n  return {\n    horizontal: horizontalNames.map(function (name) {\n      return nextSnapPoses[name];\n    }),\n    vertical: verticalNames.map(function (name) {\n      return nextSnapPoses[name];\n    })\n  };\n}\nfunction calculateContainerPos(rootMatrix, containerRect, n) {\n  var clientPos = calculatePosition(rootMatrix, [containerRect.clientLeft, containerRect.clientTop], n);\n  return [containerRect.left + clientPos[0], containerRect.top + clientPos[1]];\n}\nfunction solveLineConstants(_a) {\n  var point1 = _a[0],\n      point2 = _a[1];\n  var dx = point2[0] - point1[0];\n  var dy = point2[1] - point1[1];\n\n  if (Math.abs(dx) < TINY_NUM$1) {\n    dx = 0;\n  }\n\n  if (Math.abs(dy) < TINY_NUM$1) {\n    dy = 0;\n  } // b > 0\n  // ax + by + c = 0\n\n\n  var a = 0;\n  var b = 0;\n  var c = 0;\n\n  if (!dx) {\n    // -x + 1 = 0\n    a = -1;\n    c = point1[0];\n  } else if (!dy) {\n    // y - 1 = 0\n    b = 1;\n    c = -point1[1];\n  } else {\n    // y = -a(x - x1) + y1\n    // ax + y + a * x1 - y1 = 0\n    a = -dy / dx;\n    b = 1;\n    c = a * point1[0] - point1[1];\n  }\n\n  return [a, b, c].map(function (v) {\n    return throttle(v, TINY_NUM$1);\n  });\n}\n\nfunction checkMoveableSnapPoses(moveable, posesX, posesY, customSnapThreshold) {\n  var props = moveable.props;\n  var snapThreshold = selectValue(customSnapThreshold, props.snapThreshold, 5);\n  return checkSnapPoses(moveable.state.guidelines, posesX, posesY, snapThreshold);\n}\nfunction checkSnapPoses(guidelines, posesX, posesY, snapThreshold) {\n  return {\n    vertical: checkSnap(guidelines, \"vertical\", posesX, snapThreshold),\n    horizontal: checkSnap(guidelines, \"horizontal\", posesY, snapThreshold)\n  };\n}\nfunction checkSnapKeepRatio(moveable, startPos, endPos) {\n  var endX = endPos[0],\n      endY = endPos[1];\n  var startX = startPos[0],\n      startY = startPos[1];\n\n  var _a = minus(endPos, startPos),\n      dx = _a[0],\n      dy = _a[1];\n\n  var isBottom = dy > 0;\n  var isRight = dx > 0;\n  dx = getTinyDist(dx);\n  dy = getTinyDist(dy);\n  var verticalInfo = {\n    isSnap: false,\n    offset: 0,\n    pos: 0\n  };\n  var horizontalInfo = {\n    isSnap: false,\n    offset: 0,\n    pos: 0\n  };\n\n  if (dx === 0 && dy === 0) {\n    return {\n      vertical: verticalInfo,\n      horizontal: horizontalInfo\n    };\n  }\n\n  var _b = checkMoveableSnapPoses(moveable, dx ? [endX] : [], dy ? [endY] : []),\n      verticalSnapInfo = _b.vertical,\n      horizontalSnapInfo = _b.horizontal;\n\n  verticalSnapInfo.posInfos.filter(function (_a) {\n    var pos = _a.pos;\n    return isRight ? pos >= startX : pos <= startX;\n  });\n  horizontalSnapInfo.posInfos.filter(function (_a) {\n    var pos = _a.pos;\n    return isBottom ? pos >= startY : pos <= startY;\n  });\n  verticalSnapInfo.isSnap = verticalSnapInfo.posInfos.length > 0;\n  horizontalSnapInfo.isSnap = horizontalSnapInfo.posInfos.length > 0;\n\n  var _c = getNearestSnapGuidelineInfo(verticalSnapInfo),\n      isVerticalSnap = _c.isSnap,\n      verticalGuideline = _c.guideline;\n\n  var _d = getNearestSnapGuidelineInfo(horizontalSnapInfo),\n      isHorizontalSnap = _d.isSnap,\n      horizontalGuideline = _d.guideline;\n\n  var horizontalPos = isHorizontalSnap ? horizontalGuideline.pos[1] : 0;\n  var verticalPos = isVerticalSnap ? verticalGuideline.pos[0] : 0;\n\n  if (dx === 0) {\n    if (isHorizontalSnap) {\n      horizontalInfo.isSnap = true;\n      horizontalInfo.pos = horizontalGuideline.pos[1];\n      horizontalInfo.offset = endY - horizontalInfo.pos;\n    }\n  } else if (dy === 0) {\n    if (isVerticalSnap) {\n      verticalInfo.isSnap = true;\n      verticalInfo.pos = verticalPos;\n      verticalInfo.offset = endX - verticalPos;\n    }\n  } else {\n    // y - y1 = a * (x - x1)\n    var a = dy / dx;\n    var b = endPos[1] - a * endX;\n    var y = 0;\n    var x = 0;\n    var isSnap = false;\n\n    if (isVerticalSnap) {\n      x = verticalPos;\n      y = a * x + b;\n      isSnap = true;\n    } else if (isHorizontalSnap) {\n      y = horizontalPos;\n      x = (y - b) / a;\n      isSnap = true;\n    }\n\n    if (isSnap) {\n      verticalInfo.isSnap = true;\n      verticalInfo.pos = x;\n      verticalInfo.offset = endX - x;\n      horizontalInfo.isSnap = true;\n      horizontalInfo.pos = y;\n      horizontalInfo.offset = endY - y;\n    }\n  }\n\n  return {\n    vertical: verticalInfo,\n    horizontal: horizontalInfo\n  };\n}\nfunction checkSnaps(moveable, rect, customSnapThreshold) {\n  var poses = splitSnapDirectionPoses(moveable.props.snapDirections, rect);\n  return checkMoveableSnapPoses(moveable, poses.vertical, poses.horizontal, customSnapThreshold);\n}\nfunction getNearestSnapGuidelineInfo(snapInfo) {\n  var isSnap = snapInfo.isSnap;\n\n  if (!isSnap) {\n    return {\n      isSnap: false,\n      offset: 0,\n      dist: -1,\n      pos: 0,\n      guideline: null\n    };\n  }\n\n  var posInfo = snapInfo.posInfos[0];\n  var guidelineInfo = posInfo.guidelineInfos[0];\n  var offset = guidelineInfo.offset;\n  var dist = guidelineInfo.dist;\n  var guideline = guidelineInfo.guideline;\n  return {\n    isSnap: isSnap,\n    offset: offset,\n    dist: dist,\n    pos: posInfo.pos,\n    guideline: guideline\n  };\n}\n\nfunction checkSnap(guidelines, targetType, targetPoses, snapThreshold) {\n  if (!guidelines || !guidelines.length) {\n    return {\n      isSnap: false,\n      index: -1,\n      posInfos: []\n    };\n  }\n\n  var isVertical = targetType === \"vertical\";\n  var posType = isVertical ? 0 : 1;\n  var snapPosInfos = targetPoses.map(function (targetPos, index) {\n    var guidelineInfos = guidelines.map(function (guideline) {\n      var pos = guideline.pos;\n      var offset = targetPos - pos[posType];\n      return {\n        offset: offset,\n        dist: abs(offset),\n        guideline: guideline\n      };\n    }).filter(function (_a) {\n      var guideline = _a.guideline,\n          dist = _a.dist;\n      var type = guideline.type;\n\n      if (type !== targetType || dist > snapThreshold) {\n        return false;\n      }\n\n      return true;\n    }).sort(function (a, b) {\n      return a.dist - b.dist;\n    });\n    return {\n      pos: targetPos,\n      index: index,\n      guidelineInfos: guidelineInfos\n    };\n  }).filter(function (snapPosInfo) {\n    return snapPosInfo.guidelineInfos.length > 0;\n  }).sort(function (a, b) {\n    return a.guidelineInfos[0].dist - b.guidelineInfos[0].dist;\n  });\n  var isSnap = snapPosInfos.length > 0;\n  return {\n    isSnap: isSnap,\n    index: isSnap ? snapPosInfos[0].index : -1,\n    posInfos: snapPosInfos\n  };\n}\n\nfunction getSnapInfosByDirection(moveable, poses, snapDirection, snapThreshold) {\n  if (snapThreshold === void 0) {\n    snapThreshold = 1;\n  }\n\n  var nextPoses = [];\n\n  if (snapDirection[0] && snapDirection[1]) {\n    nextPoses = [snapDirection, [-snapDirection[0], snapDirection[1]], [snapDirection[0], -snapDirection[1]]].map(function (direction) {\n      return getPosByDirection(poses, direction);\n    });\n  } else if (!snapDirection[0] && !snapDirection[1]) {\n    var alignPoses = [poses[0], poses[1], poses[3], poses[2], poses[0]];\n\n    for (var i = 0; i < 4; ++i) {\n      nextPoses.push(alignPoses[i]);\n      nextPoses.push([(alignPoses[i][0] + alignPoses[i + 1][0]) / 2, (alignPoses[i][1] + alignPoses[i + 1][1]) / 2]);\n    }\n  } else {\n    if (moveable.props.keepRatio) {\n      nextPoses = [[-1, -1], [-1, 1], [1, -1], [1, 1], snapDirection].map(function (dir) {\n        return getPosByDirection(poses, dir);\n      });\n    } else {\n      nextPoses = getPosesByDirection(poses, snapDirection);\n\n      if (nextPoses.length > 1) {\n        nextPoses.push([(nextPoses[0][0] + nextPoses[1][0]) / 2, (nextPoses[0][1] + nextPoses[1][1]) / 2]);\n      }\n    }\n  }\n\n  return checkMoveableSnapPoses(moveable, nextPoses.map(function (pos) {\n    return pos[0];\n  }), nextPoses.map(function (pos) {\n    return pos[1];\n  }), snapThreshold);\n}\nfunction checkSnapBoundPriority(a, b) {\n  var aDist = abs(a.offset);\n  var bDist = abs(b.offset);\n\n  if (a.isBound && b.isBound) {\n    return bDist - aDist;\n  } else if (a.isBound) {\n    return -1;\n  } else if (b.isBound) {\n    return 1;\n  } else if (a.isSnap && b.isSnap) {\n    return bDist - aDist;\n  } else if (a.isSnap) {\n    return -1;\n  } else if (b.isSnap) {\n    return 1;\n  } else if (aDist < TINY_NUM) {\n    return 1;\n  } else if (bDist < TINY_NUM) {\n    return -1;\n  }\n\n  return aDist - bDist;\n}\nfunction getNearOffsetInfo(offsets, index) {\n  return offsets.slice().sort(function (a, b) {\n    var aSign = a.sign[index];\n    var bSign = b.sign[index];\n    var aOffset = a.offset[index];\n    var bOffset = b.offset[index]; // -1 The positions of a and b do not change.\n    // 1 The positions of a and b are reversed.\n\n    if (!aSign) {\n      return 1;\n    } else if (!bSign) {\n      return -1;\n    }\n\n    return checkSnapBoundPriority({\n      isBound: a.isBound,\n      isSnap: a.isSnap,\n      offset: aOffset\n    }, {\n      isBound: b.isBound,\n      isSnap: b.isSnap,\n      offset: bOffset\n    });\n  })[0];\n}\nfunction getCheckSnapDirections(direction, fixedDirection, keepRatio) {\n  var directions = []; // const fixedDirection = [-direction[0], -direction[1]];\n\n  if (keepRatio) {\n    if (abs(fixedDirection[0]) !== 1 || abs(fixedDirection[1]) !== 1) {\n      directions.push([fixedDirection, [-1, -1]], [fixedDirection, [-1, 1]], [fixedDirection, [1, -1]], [fixedDirection, [1, 1]]);\n    } else {\n      directions.push([fixedDirection, [direction[0], -direction[1]]], [fixedDirection, [-direction[0], direction[1]]]);\n    }\n\n    directions.push([fixedDirection, direction]);\n  } else {\n    if (direction[0] && direction[1] || !direction[0] && !direction[1]) {\n      var endDirection_1 = direction[0] ? direction : [1, 1];\n      [1, -1].forEach(function (signX) {\n        [1, -1].forEach(function (signY) {\n          var nextDirection = [signX * endDirection_1[0], signY * endDirection_1[1]];\n\n          if (fixedDirection[0] === nextDirection[0] && fixedDirection[1] === nextDirection[1]) {\n            return;\n          }\n\n          directions.push([fixedDirection, nextDirection]);\n        });\n      });\n    } else if (direction[0]) {\n      var signs = abs(fixedDirection[0]) === 1 ? [1] : [1, -1];\n      signs.forEach(function (sign) {\n        directions.push([[fixedDirection[0], -1], [sign * direction[0], -1]], [[fixedDirection[0], 0], [sign * direction[0], 0]], [[fixedDirection[0], 1], [sign * direction[0], 1]]);\n      });\n    } else if (direction[1]) {\n      var signs = abs(fixedDirection[1]) === 1 ? [1] : [1, -1];\n      signs.forEach(function (sign) {\n        directions.push([[-1, fixedDirection[1]], [-1, sign * direction[1]]], [[0, fixedDirection[1]], [0, sign * direction[1]]], [[1, fixedDirection[1]], [1, sign * direction[1]]]);\n      });\n    }\n  }\n\n  return directions;\n}\n\nfunction isStartLine(dot, line) {\n  // l    o     => true\n  // o    l    => false\n  var cx = average([line[0][0], line[1][0]]);\n  var cy = average([line[0][1], line[1][1]]);\n  return {\n    vertical: cx <= dot[0],\n    horizontal: cy <= dot[1]\n  };\n}\n\nfunction hitTestLine(dot, _a) {\n  var pos1 = _a[0],\n      pos2 = _a[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (abs(dx) < TINY_NUM) {\n    dx = 0;\n  }\n\n  if (abs(dy) < TINY_NUM) {\n    dy = 0;\n  }\n\n  var test1;\n  var test2;\n\n  if (!dx) {\n    test1 = pos1[0];\n    test2 = dot[0];\n  } else if (!dy) {\n    test1 = pos1[1];\n    test2 = dot[1];\n  } else {\n    var a = dy / dx; // y = a * (x - pos1) + pos1\n\n    test1 = a * (dot[0] - pos1[0]) + pos1[1];\n    test2 = dot[1];\n  }\n\n  return test1 - test2;\n}\n\nfunction isSameStartLine(dots, line, centerSign, error) {\n  if (error === void 0) {\n    error = TINY_NUM;\n  }\n\n  return dots.every(function (dot) {\n    var value = hitTestLine(dot, line);\n    var sign = value <= 0;\n    return sign === centerSign || abs(value) <= error;\n  });\n}\n\nfunction checkInnerBoundDot(pos, start, end, isStart, threshold) {\n  if (threshold === void 0) {\n    threshold = 0;\n  }\n\n  if (isStart && start - threshold <= pos || !isStart && pos <= end + threshold) {\n    // false 402 565 602 => 37 ([0, 37])\n    // true 400 524.9712603540036 600 => 124 ([124, 0])\n    // true 400 410 600 => 10 ([10, 0])\n    return {\n      isBound: true,\n      offset: isStart ? start - pos : end - pos\n    };\n  }\n\n  return {\n    isBound: false,\n    offset: 0\n  };\n}\n\nfunction checkInnerBound(moveable, _a) {\n  var line = _a.line,\n      centerSign = _a.centerSign,\n      verticalSign = _a.verticalSign,\n      horizontalSign = _a.horizontalSign,\n      lineConstants = _a.lineConstants;\n  var bounds = moveable.props.innerBounds;\n\n  if (!bounds) {\n    return {\n      isAllBound: false,\n      isBound: false,\n      isVerticalBound: false,\n      isHorizontalBound: false,\n      offset: [0, 0]\n    };\n  }\n\n  var left = bounds.left,\n      top = bounds.top,\n      width = bounds.width,\n      height = bounds.height;\n  var leftLine = [[left, top], [left, top + height]];\n  var topLine = [[left, top], [left + width, top]];\n  var rightLine = [[left + width, top], [left + width, top + height]];\n  var bottomLine = [[left, top + height], [left + width, top + height]];\n\n  if (isSameStartLine([[left, top], [left + width, top], [left, top + height], [left + width, top + height]], line, centerSign)) {\n    return {\n      isAllBound: false,\n      isBound: false,\n      isVerticalBound: false,\n      isHorizontalBound: false,\n      offset: [0, 0]\n    };\n  } // test vertical\n\n\n  var topBoundInfo = checkLineBoundCollision(line, lineConstants, topLine, verticalSign);\n  var bottomBoundInfo = checkLineBoundCollision(line, lineConstants, bottomLine, verticalSign); // test horizontal\n\n  var leftBoundInfo = checkLineBoundCollision(line, lineConstants, leftLine, horizontalSign);\n  var rightBoundInfo = checkLineBoundCollision(line, lineConstants, rightLine, horizontalSign);\n  var isAllVerticalBound = topBoundInfo.isBound && bottomBoundInfo.isBound;\n  var isVerticalBound = topBoundInfo.isBound || bottomBoundInfo.isBound;\n  var isAllHorizontalBound = leftBoundInfo.isBound && rightBoundInfo.isBound;\n  var isHorizontalBound = leftBoundInfo.isBound || rightBoundInfo.isBound;\n  var verticalOffset = maxOffset(topBoundInfo.offset, bottomBoundInfo.offset);\n  var horizontalOffset = maxOffset(leftBoundInfo.offset, rightBoundInfo.offset);\n  var offset = [0, 0];\n  var isBound = false;\n  var isAllBound = false;\n\n  if (abs(horizontalOffset) < abs(verticalOffset)) {\n    offset = [verticalOffset, 0];\n    isBound = isVerticalBound;\n    isAllBound = isAllVerticalBound;\n  } else {\n    offset = [0, horizontalOffset];\n    isBound = isHorizontalBound;\n    isAllBound = isAllHorizontalBound;\n  }\n\n  return {\n    isAllBound: isAllBound,\n    isVerticalBound: isVerticalBound,\n    isHorizontalBound: isHorizontalBound,\n    isBound: isBound,\n    offset: offset\n  };\n}\n\nfunction checkLineBoundCollision(line, _a, boundLine, isStart, threshold, isRender) {\n  var a = _a[0],\n      b = _a[1];\n  var dot1 = line[0]; // const dot2 = line[1];\n\n  var boundDot1 = boundLine[0];\n  var boundDot2 = boundLine[1]; // const dy1 = getTinyDist(dot2[1] - dot1[1]);\n  // const dx1 = getTinyDist(dot2[0] - dot1[0]);\n\n  var dy2 = getTinyDist(boundDot2[1] - boundDot1[1]);\n  var dx2 = getTinyDist(boundDot2[0] - boundDot1[0]);\n  var hasDx = b;\n  var hasDy = a;\n  var slope = -a / b; // lineConstants\n  // ax + by + c = 0\n  // dx2 or dy2 is zero\n\n  if (!dx2) {\n    // vertical\n    // by + c = 0\n    if (isRender && !hasDy) {\n      // 90deg\n      return {\n        isBound: false,\n        offset: 0\n      };\n    } else if (hasDx) {\n      // ax + by + c = 0\n      // const y = dy1 ? dy1 / dx1 * (boundDot1[0] - dot1[0]) + dot1[1] : dot1[1];\n      var y = slope * (boundDot1[0] - dot1[0]) + dot1[1]; // boundDot1[1] <= y  <= boundDot2[1]\n\n      return checkInnerBoundDot(y, boundDot1[1], boundDot2[1], isStart, threshold);\n    } else {\n      // ax + c = 0\n      var offset = boundDot1[0] - dot1[0];\n      var isBound = abs(offset) <= (threshold || 0);\n      return {\n        isBound: isBound,\n        offset: isBound ? offset : 0\n      };\n    }\n  } else if (!dy2) {\n    // horizontal\n    if (isRender && !hasDx) {\n      // 90deg\n      return {\n        isBound: false,\n        offset: 0\n      };\n    } else if (hasDy) {\n      // y = a * (x - x1) + y1\n      // x = (y - y1) / a + x1\n      // const a = dy1 / dx1;\n      // const x = dx1 ? (boundDot1[1] - dot1[1]) / a + dot1[0] : dot1[0];\n      var x = (boundDot1[1] - dot1[1]) / slope + dot1[0]; // boundDot1[0] <= x && x <= boundDot2[0]\n\n      return checkInnerBoundDot(x, boundDot1[0], boundDot2[0], isStart, threshold);\n    } else {\n      var offset = boundDot1[1] - dot1[1];\n      var isBound = abs(offset) <= (threshold || 0);\n      return {\n        isBound: isBound,\n        offset: isBound ? offset : 0\n      };\n    }\n  }\n\n  return {\n    isBound: false,\n    offset: 0\n  };\n}\n\nfunction getInnerBoundInfo(moveable, lineInfos, datas) {\n  return lineInfos.map(function (info) {\n    var _a = checkInnerBound(moveable, info),\n        isBound = _a.isBound,\n        offset = _a.offset,\n        isVerticalBound = _a.isVerticalBound,\n        isHorizontalBound = _a.isHorizontalBound;\n\n    var multiple = info.multiple;\n    var sizeOffset = getDragDist({\n      datas: datas,\n      distX: offset[0],\n      distY: offset[1]\n    }).map(function (size, i) {\n      return size * (multiple[i] ? 2 / multiple[i] : 0);\n    });\n    return {\n      sign: multiple,\n      isBound: isBound,\n      isVerticalBound: isVerticalBound,\n      isHorizontalBound: isHorizontalBound,\n      isSnap: false,\n      offset: sizeOffset\n    };\n  });\n}\nfunction getInnerBoundDragInfo(moveable, poses, datas) {\n  var _a;\n\n  var lines = getCheckInnerBoundLineInfos(moveable, poses, [0, 0], false).map(function (info) {\n    return __assign(__assign({}, info), {\n      multiple: info.multiple.map(function (dir) {\n        return abs(dir) * 2;\n      })\n    });\n  });\n  var innerBoundInfo = getInnerBoundInfo(moveable, lines, datas);\n  var widthOffsetInfo = getNearOffsetInfo(innerBoundInfo, 0);\n  var heightOffsetInfo = getNearOffsetInfo(innerBoundInfo, 1);\n  var verticalOffset = 0;\n  var horizontalOffset = 0;\n  var isVerticalBound = widthOffsetInfo.isVerticalBound || heightOffsetInfo.isVerticalBound;\n  var isHorizontalBound = widthOffsetInfo.isHorizontalBound || heightOffsetInfo.isHorizontalBound;\n\n  if (isVerticalBound || isHorizontalBound) {\n    _a = getInverseDragDist({\n      datas: datas,\n      distX: -widthOffsetInfo.offset[0],\n      distY: -heightOffsetInfo.offset[1]\n    }), verticalOffset = _a[0], horizontalOffset = _a[1];\n  }\n\n  return {\n    vertical: {\n      isBound: isVerticalBound,\n      offset: verticalOffset\n    },\n    horizontal: {\n      isBound: isHorizontalBound,\n      offset: horizontalOffset\n    }\n  };\n}\nfunction getCheckSnapLineDirections(direction, keepRatio) {\n  var lineDirections = [];\n  var x = direction[0];\n  var y = direction[1];\n\n  if (x && y) {\n    lineDirections.push([[0, y * 2], direction, [-x, y]], [[x * 2, 0], direction, [x, -y]]);\n  } else if (x) {\n    // vertcal\n    lineDirections.push([[x * 2, 0], [x, 1], [x, -1]]);\n\n    if (keepRatio) {\n      lineDirections.push([[0, -1], [x, -1], [-x, -1]], [[0, 1], [x, 1], [-x, 1]]);\n    }\n  } else if (y) {\n    // horizontal\n    lineDirections.push([[0, y * 2], [1, y], [-1, y]]);\n\n    if (keepRatio) {\n      lineDirections.push([[-1, 0], [-1, y], [-1, -y]], [[1, 0], [1, y], [1, -y]]);\n    }\n  } else {\n    // [0, 0] to all direction\n    lineDirections.push([[-1, 0], [-1, -1], [-1, 1]], [[1, 0], [1, -1], [1, 1]], [[0, -1], [-1, -1], [1, -1]], [[0, 1], [-1, 1], [1, 1]]);\n  }\n\n  return lineDirections;\n}\nfunction getCheckInnerBoundLineInfos(moveable, poses, direction, keepRatio) {\n  var _a = moveable.state,\n      allMatrix = _a.allMatrix,\n      is3d = _a.is3d;\n  var virtualPoses = calculatePoses(allMatrix, 100, 100, is3d ? 4 : 3);\n  var center = getPosByDirection(virtualPoses, [0, 0]);\n  return getCheckSnapLineDirections(direction, keepRatio).map(function (_a) {\n    var multiple = _a[0],\n        dir1 = _a[1],\n        dir2 = _a[2];\n    var virtualLine = [getPosByDirection(virtualPoses, dir1), getPosByDirection(virtualPoses, dir2)];\n    var lineConstants = solveLineConstants(virtualLine);\n\n    var _b = isStartLine(center, virtualLine),\n        verticalSign = _b.vertical,\n        horizontalSign = _b.horizontal;\n\n    var centerSign = hitTestLine(center, virtualLine) <= 0;\n    return {\n      multiple: multiple,\n      centerSign: centerSign,\n      verticalSign: verticalSign,\n      horizontalSign: horizontalSign,\n      lineConstants: lineConstants,\n      line: [getPosByDirection(poses, dir1), getPosByDirection(poses, dir2)]\n    };\n  });\n}\n\nfunction isBoundRotate$1(relativePoses, boundDots, center, rad) {\n  var nextPoses = rad ? relativePoses.map(function (pos) {\n    return rotate(pos, rad);\n  }) : relativePoses;\n  return [[nextPoses[0], nextPoses[1]], [nextPoses[1], nextPoses[3]], [nextPoses[3], nextPoses[2]], [nextPoses[2], nextPoses[0]]].some(function (line) {\n    var centerSign = hitTestLine(center, line) <= 0;\n    return !isSameStartLine(boundDots, line, centerSign);\n  });\n}\n\nfunction getDistPointLine(_a) {\n  // x = 0, y = 0\n  // d = (ax + by + c) / root(a2 + b2)\n  var pos1 = _a[0],\n      pos2 = _a[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (!dx) {\n    return abs(pos1[0]);\n  }\n\n  if (!dy) {\n    return abs(pos1[1]);\n  } // y - y1 = a(x - x1)\n  // 0 = ax -y + -a * x1 + y1\n\n\n  var a = dy / dx;\n  return abs((-a * pos1[0] + pos1[1]) / Math.sqrt(Math.pow(a, 2) + 1));\n}\n\nfunction solveReverseLine(_a) {\n  var pos1 = _a[0],\n      pos2 = _a[1];\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (!dx) {\n    return [pos1[0], 0];\n  }\n\n  if (!dy) {\n    return [0, pos1[1]];\n  }\n\n  var a = dy / dx; // y - y1 = a (x  - x1)\n  // y = ax - a * x1 + y1\n\n  var b = -a * pos1[0] + pos1[1]; // y = ax + b = -1/a x\n  // x = -b / (a + 1 / a)\n  // y = b / (1 + 1 / a^2)\n\n  return [-b / (a + 1 / a), b / (a * a + 1)];\n}\n\nfunction checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin, rotation) {\n  var bounds = moveable.props.innerBounds;\n  var rad = rotation * Math.PI / 180;\n\n  if (!bounds) {\n    return [];\n  }\n\n  var left = bounds.left,\n      top = bounds.top,\n      width = bounds.width,\n      height = bounds.height;\n  var relativeLeft = left - origin[0];\n  var relativeRight = left + width - origin[0];\n  var relativeTop = top - origin[1];\n  var relativeBottom = top + height - origin[1];\n  var dots = [[relativeLeft, relativeTop], [relativeRight, relativeTop], [relativeLeft, relativeBottom], [relativeRight, relativeBottom]];\n  var center = getPosByDirection(nextPoses, [0, 0]);\n\n  if (!isBoundRotate$1(nextPoses, dots, center, 0)) {\n    return [];\n  }\n\n  var result = [];\n  var dotInfos = dots.map(function (dot) {\n    return [getDistSize(dot), getRad([0, 0], dot)];\n  });\n  [[nextPoses[0], nextPoses[1]], [nextPoses[1], nextPoses[3]], [nextPoses[3], nextPoses[2]], [nextPoses[2], nextPoses[0]]].forEach(function (line) {\n    var lineRad = getRad([0, 0], solveReverseLine(line));\n    var lineDist = getDistPointLine(line);\n    result.push.apply(result, dotInfos.filter(function (_a) {\n      var dotDist = _a[0];\n      return dotDist && lineDist <= dotDist;\n    }).map(function (_a) {\n      var dotDist = _a[0],\n          dotRad = _a[1];\n      var distRad = Math.acos(dotDist ? lineDist / dotDist : 0);\n      var nextRad1 = dotRad + distRad;\n      var nextRad2 = dotRad - distRad;\n      return [rad + nextRad1 - lineRad, rad + nextRad2 - lineRad];\n    }).reduce(function (prev, cur) {\n      prev.push.apply(prev, cur);\n      return prev;\n    }, []).filter(function (nextRad) {\n      return !isBoundRotate$1(prevPoses, dots, center, nextRad);\n    }).map(function (nextRad) {\n      return throttle(nextRad * 180 / Math.PI, TINY_NUM);\n    }));\n  });\n  return result;\n}\nfunction checkInnerBoundPoses(moveable) {\n  var innerBounds = moveable.props.innerBounds;\n\n  if (!innerBounds) {\n    return {\n      vertical: [],\n      horizontal: []\n    };\n  }\n\n  var _a = moveable.getRect(),\n      pos1 = _a.pos1,\n      pos2 = _a.pos2,\n      pos3 = _a.pos3,\n      pos4 = _a.pos4;\n\n  var poses = [pos1, pos2, pos3, pos4];\n  var center = getPosByDirection(poses, [0, 0]);\n  var left = innerBounds.left,\n      top = innerBounds.top,\n      width = innerBounds.width,\n      height = innerBounds.height;\n  var leftLine = [[left, top], [left, top + height]];\n  var topLine = [[left, top], [left + width, top]];\n  var rightLine = [[left + width, top], [left + width, top + height]];\n  var bottomLine = [[left, top + height], [left + width, top + height]];\n  var lineInfos = getCheckInnerBoundLineInfos(moveable, poses, [0, 0], false);\n  var horizontalPoses = [];\n  var verticalPoses = [];\n  var boundMap = {\n    top: false,\n    bottom: false,\n    left: false,\n    right: false\n  };\n  lineInfos.forEach(function (lineInfo) {\n    var line = lineInfo.line,\n        lineConstants = lineInfo.lineConstants;\n\n    var _a = isStartLine(center, line),\n        isHorizontalStart = _a.horizontal,\n        isVerticalStart = _a.vertical; // test vertical\n\n\n    var topBoundInfo = checkLineBoundCollision(line, lineConstants, topLine, isVerticalStart, 1, true);\n    var bottomBoundInfo = checkLineBoundCollision(line, lineConstants, bottomLine, isVerticalStart, 1, true); // test horizontal\n\n    var leftBoundInfo = checkLineBoundCollision(line, lineConstants, leftLine, isHorizontalStart, 1, true);\n    var rightBoundInfo = checkLineBoundCollision(line, lineConstants, rightLine, isHorizontalStart, 1, true);\n\n    if (topBoundInfo.isBound && !boundMap.top) {\n      horizontalPoses.push(top);\n      boundMap.top = true;\n    }\n\n    if (bottomBoundInfo.isBound && !boundMap.bottom) {\n      horizontalPoses.push(top + height);\n      boundMap.bottom = true;\n    }\n\n    if (leftBoundInfo.isBound && !boundMap.left) {\n      verticalPoses.push(left);\n      boundMap.left = true;\n    }\n\n    if (rightBoundInfo.isBound && !boundMap.right) {\n      verticalPoses.push(left + width);\n      boundMap.right = true;\n    }\n  });\n  return {\n    horizontal: horizontalPoses,\n    vertical: verticalPoses\n  };\n}\n\nfunction checkBoundPoses(bounds, verticalPoses, horizontalPoses) {\n  var _a = bounds || {},\n      _b = _a.position,\n      position = _b === void 0 ? \"client\" : _b,\n      _c = _a.left,\n      left = _c === void 0 ? -Infinity : _c,\n      _d = _a.top,\n      top = _d === void 0 ? -Infinity : _d,\n      _e = _a.right,\n      right = _e === void 0 ? Infinity : _e,\n      _f = _a.bottom,\n      bottom = _f === void 0 ? Infinity : _f;\n\n  var nextBounds = {\n    position: position,\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom\n  };\n  return {\n    vertical: checkBounds(nextBounds, verticalPoses, true),\n    horizontal: checkBounds(nextBounds, horizontalPoses, false)\n  };\n}\nfunction getBounds(moveable, externalBounds) {\n  var _a = moveable.state,\n      _b = _a.containerClientRect,\n      containerHeight = _b.clientHeight,\n      containerWidth = _b.clientWidth,\n      clientLeft = _b.clientLeft,\n      clientTop = _b.clientTop,\n      _c = _a.snapOffset,\n      snapOffsetLeft = _c.left,\n      snapOffsetTop = _c.top,\n      snapOffsetRight = _c.right,\n      snapOffsetBottom = _c.bottom;\n  var bounds = externalBounds || moveable.props.bounds || {};\n  var position = bounds.position || \"client\";\n  var isCSS = position === \"css\";\n  var _d = bounds.left,\n      left = _d === void 0 ? -Infinity : _d,\n      _e = bounds.top,\n      top = _e === void 0 ? -Infinity : _e;\n  var _f = bounds.right,\n      right = _f === void 0 ? isCSS ? -Infinity : Infinity : _f,\n      _g = bounds.bottom,\n      bottom = _g === void 0 ? isCSS ? -Infinity : Infinity : _g;\n\n  if (isCSS) {\n    right = containerWidth + snapOffsetRight - snapOffsetLeft - right;\n    bottom = containerHeight + snapOffsetBottom - snapOffsetTop - bottom;\n  }\n\n  return {\n    left: left + snapOffsetLeft - clientLeft,\n    right: right + snapOffsetLeft - clientLeft,\n    top: top + snapOffsetTop - clientTop,\n    bottom: bottom + snapOffsetTop - clientTop\n  };\n}\nfunction checkBoundKeepRatio(moveable, startPos, endPos) {\n  var _a = getBounds(moveable),\n      left = _a.left,\n      top = _a.top,\n      right = _a.right,\n      bottom = _a.bottom;\n\n  var endX = endPos[0],\n      endY = endPos[1];\n\n  var _b = minus(endPos, startPos),\n      dx = _b[0],\n      dy = _b[1];\n\n  if (abs(dx) < TINY_NUM) {\n    dx = 0;\n  }\n\n  if (abs(dy) < TINY_NUM) {\n    dy = 0;\n  }\n\n  var isBottom = dy > 0;\n  var isRight = dx > 0;\n  var verticalInfo = {\n    isBound: false,\n    offset: 0,\n    pos: 0\n  };\n  var horizontalInfo = {\n    isBound: false,\n    offset: 0,\n    pos: 0\n  };\n\n  if (dx === 0 && dy === 0) {\n    return {\n      vertical: verticalInfo,\n      horizontal: horizontalInfo\n    };\n  } else if (dx === 0) {\n    if (isBottom) {\n      if (bottom < endY) {\n        horizontalInfo.pos = bottom;\n        horizontalInfo.offset = endY - bottom;\n      }\n    } else {\n      if (top > endY) {\n        horizontalInfo.pos = top;\n        horizontalInfo.offset = endY - top;\n      }\n    }\n  } else if (dy === 0) {\n    if (isRight) {\n      if (right < endX) {\n        verticalInfo.pos = right;\n        verticalInfo.offset = endX - right;\n      }\n    } else {\n      if (left > endX) {\n        verticalInfo.pos = left;\n        verticalInfo.offset = endX - left;\n      }\n    }\n  } else {\n    // y - y1 = a * (x - x1)\n    var a = dy / dx;\n    var b = endPos[1] - a * endX;\n    var y = 0;\n    var x = 0;\n    var isBound = false;\n\n    if (isRight && right <= endX) {\n      y = a * right + b;\n      x = right;\n      isBound = true;\n    } else if (!isRight && endX <= left) {\n      y = a * left + b;\n      x = left;\n      isBound = true;\n    }\n\n    if (isBound) {\n      if (y < top || y > bottom) {\n        isBound = false;\n      }\n    }\n\n    if (!isBound) {\n      if (isBottom && bottom <= endY) {\n        y = bottom;\n        x = (y - b) / a;\n        isBound = true;\n      } else if (!isBottom && endY <= top) {\n        y = top;\n        x = (y - b) / a;\n        isBound = true;\n      }\n    }\n\n    if (isBound) {\n      verticalInfo.isBound = true;\n      verticalInfo.pos = x;\n      verticalInfo.offset = endX - x;\n      horizontalInfo.isBound = true;\n      horizontalInfo.pos = y;\n      horizontalInfo.offset = endY - y;\n    }\n  }\n\n  return {\n    vertical: verticalInfo,\n    horizontal: horizontalInfo\n  };\n}\n\nfunction checkBounds(bounds, poses, isVertical) {\n  // 0   [100 - 200]  300\n  var startBoundPos = bounds[isVertical ? \"left\" : \"top\"];\n  var endBoundPos = bounds[isVertical ? \"right\" : \"bottom\"]; // 450\n\n  var minPos = Math.min.apply(Math, poses);\n  var maxPos = Math.max.apply(Math, poses);\n  var boundInfos = [];\n\n  if (startBoundPos + 1 > minPos) {\n    boundInfos.push({\n      isBound: true,\n      offset: minPos - startBoundPos,\n      pos: startBoundPos\n    });\n  }\n\n  if (endBoundPos - 1 < maxPos) {\n    boundInfos.push({\n      isBound: true,\n      offset: maxPos - endBoundPos,\n      pos: endBoundPos\n    });\n  }\n\n  if (!boundInfos.length) {\n    boundInfos.push({\n      isBound: false,\n      offset: 0,\n      pos: 0\n    });\n  }\n\n  return boundInfos.sort(function (a, b) {\n    return abs(b.offset) - abs(a.offset);\n  });\n}\n\nfunction isBoundRotate(relativePoses, boundRect, rad) {\n  var nextPoses = rad ? relativePoses.map(function (pos) {\n    return rotate(pos, rad);\n  }) : relativePoses;\n  return nextPoses.some(function (pos) {\n    return pos[0] < boundRect.left && abs(pos[0] - boundRect.left) > 0.1 || pos[0] > boundRect.right && abs(pos[0] - boundRect.right) > 0.1 || pos[1] < boundRect.top && abs(pos[1] - boundRect.top) > 0.1 || pos[1] > boundRect.bottom && abs(pos[1] - boundRect.bottom) > 0.1;\n  });\n}\nfunction boundRotate(vec, boundPos, index) {\n  var r = getDistSize(vec);\n  var nextPos = Math.sqrt(r * r - boundPos * boundPos) || 0;\n  return [nextPos, -nextPos].sort(function (a, b) {\n    return abs(a - vec[index ? 0 : 1]) - abs(b - vec[index ? 0 : 1]);\n  }).map(function (pos) {\n    return getRad([0, 0], index ? [pos, boundPos] : [boundPos, pos]);\n  });\n}\nfunction checkRotateBounds(moveable, prevPoses, nextPoses, origin, rotation) {\n  if (!moveable.props.bounds) {\n    return [];\n  }\n\n  var rad = rotation * Math.PI / 180;\n\n  var _a = getBounds(moveable),\n      left = _a.left,\n      top = _a.top,\n      right = _a.right,\n      bottom = _a.bottom;\n\n  var relativeLeft = left - origin[0];\n  var relativeRight = right - origin[0];\n  var relativeTop = top - origin[1];\n  var relativeBottom = bottom - origin[1];\n  var boundRect = {\n    left: relativeLeft,\n    top: relativeTop,\n    right: relativeRight,\n    bottom: relativeBottom\n  };\n\n  if (!isBoundRotate(nextPoses, boundRect, 0)) {\n    return [];\n  }\n\n  var result = [];\n  [[relativeLeft, 0], [relativeRight, 0], [relativeTop, 1], [relativeBottom, 1]].forEach(function (_a) {\n    var boundPos = _a[0],\n        index = _a[1];\n    nextPoses.forEach(function (nextPos) {\n      var relativeRad1 = getRad([0, 0], nextPos);\n      result.push.apply(result, boundRotate(nextPos, boundPos, index).map(function (relativeRad2) {\n        return rad + relativeRad2 - relativeRad1;\n      }).filter(function (nextRad) {\n        return !isBoundRotate(prevPoses, boundRect, nextRad);\n      }).map(function (nextRad) {\n        return throttle(nextRad * 180 / Math.PI, TINY_NUM);\n      }));\n    });\n  });\n  return result;\n}\n\nfunction renderGuideline(info, React) {\n  var _a;\n\n  var direction = info.direction,\n      classNames = info.classNames,\n      size = info.size,\n      pos = info.pos,\n      zoom = info.zoom,\n      key = info.key;\n  var isHorizontal = direction === \"horizontal\";\n  var scaleType = isHorizontal ? \"Y\" : \"X\"; // const scaleType2 = isHorizontal ? \"Y\" : \"X\";\n\n  return React.createElement(\"div\", {\n    key: key,\n    className: classNames.join(\" \"),\n    style: (_a = {}, _a[isHorizontal ? \"width\" : \"height\"] = \"\".concat(size), _a.transform = \"translate(\".concat(pos[0], \", \").concat(pos[1], \") translate\").concat(scaleType, \"(-50%) scale\").concat(scaleType, \"(\").concat(zoom, \")\"), _a)\n  });\n}\nfunction renderInnerGuideline(info, React) {\n  return renderGuideline(__assign(__assign({}, info), {\n    classNames: __spreadArray([prefix(\"line\", \"guideline\", info.direction)], info.classNames, true).filter(function (className) {\n      return className;\n    }),\n    size: info.size || \"\".concat(info.sizeValue, \"px\"),\n    pos: info.pos || info.posValue.map(function (v) {\n      return \"\".concat(throttle(v, 0.1), \"px\");\n    })\n  }), React);\n}\nfunction renderSnapPoses(moveable, direction, snapPoses, minPos, targetPos, size, index, React) {\n  var zoom = moveable.props.zoom;\n  return snapPoses.map(function (_a, i) {\n    var type = _a.type,\n        pos = _a.pos;\n    var renderPos = [0, 0];\n    renderPos[index] = minPos;\n    renderPos[index ? 0 : 1] = -targetPos + pos;\n    return renderInnerGuideline({\n      key: \"\".concat(direction, \"TargetGuideline\").concat(i),\n      classNames: [prefix(\"target\", \"bold\", type)],\n      posValue: renderPos,\n      sizeValue: size,\n      zoom: zoom,\n      direction: direction\n    }, React);\n  });\n}\nfunction renderGuidelines(moveable, type, guidelines, targetPos, targetRect, React) {\n  var _a = moveable.props,\n      zoom = _a.zoom,\n      isDisplayInnerSnapDigit = _a.isDisplayInnerSnapDigit;\n  var mainNames = type === \"horizontal\" ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n  var targetStart = targetRect[mainNames.start];\n  var targetEnd = targetRect[mainNames.end];\n  return guidelines.filter(function (_a) {\n    var hide = _a.hide,\n        elementRect = _a.elementRect;\n\n    if (hide) {\n      return false;\n    }\n\n    if (isDisplayInnerSnapDigit && elementRect) {\n      // inner\n      var rect = elementRect.rect;\n\n      if (rect[mainNames.start] <= targetStart && targetEnd <= rect[mainNames.end]) {\n        return false;\n      }\n    }\n\n    return true;\n  }).map(function (guideline, i) {\n    var pos = guideline.pos,\n        size = guideline.size,\n        element = guideline.element,\n        className = guideline.className;\n    var renderPos = [-targetPos[0] + pos[0], -targetPos[1] + pos[1]];\n    return renderInnerGuideline({\n      key: \"\".concat(type, \"-default-guideline-\").concat(i),\n      classNames: element ? [prefix(\"bold\"), className] : [prefix(\"normal\"), className],\n      direction: type,\n      posValue: renderPos,\n      sizeValue: size,\n      zoom: zoom\n    }, React);\n  });\n}\nfunction renderDigitLine(moveable, type, lineType, index, gap, renderPos, className, React) {\n  var _a;\n\n  var _b = moveable.props,\n      _c = _b.snapDigit,\n      snapDigit = _c === void 0 ? 0 : _c,\n      _d = _b.isDisplaySnapDigit,\n      isDisplaySnapDigit = _d === void 0 ? true : _d,\n      _e = _b.snapDistFormat,\n      snapDistFormat = _e === void 0 ? function (v, type) {\n    // Type can be used render different values.\n    if (type === 'vertical') {\n      return v;\n    }\n\n    return v;\n  } : _e,\n      zoom = _b.zoom;\n  var scaleType = type === \"horizontal\" ? \"X\" : \"Y\";\n  var sizeName = type === \"vertical\" ? \"height\" : \"width\";\n  var absGap = Math.abs(gap);\n  var snapSize = isDisplaySnapDigit ? parseFloat(absGap.toFixed(snapDigit)) : 0;\n  return React.createElement(\"div\", {\n    key: \"\".concat(type, \"-\").concat(lineType, \"-guideline-\").concat(index),\n    className: prefix(\"guideline-group\", type),\n    style: (_a = {\n      left: \"\".concat(renderPos[0], \"px\"),\n      top: \"\".concat(renderPos[1], \"px\")\n    }, _a[sizeName] = \"\".concat(absGap, \"px\"), _a)\n  }, renderInnerGuideline({\n    direction: type,\n    classNames: [prefix(lineType), className],\n    size: \"100%\",\n    posValue: [0, 0],\n    sizeValue: absGap,\n    zoom: zoom\n  }, React), React.createElement(\"div\", {\n    className: prefix(\"size-value\", \"gap\"),\n    style: {\n      transform: \"translate\".concat(scaleType, \"(-50%) scale(\").concat(zoom, \")\")\n    }\n  }, snapSize > 0 ? snapDistFormat(snapSize, type) : \"\"));\n}\nfunction groupByElementGuidelines(type, guidelines, targetRect, isDisplayInnerSnapDigit) {\n  var index = type === \"vertical\" ? 0 : 1;\n  var otherIndex = type === \"vertical\" ? 1 : 0;\n  var names = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n  var targetStart = targetRect[names.start];\n  var targetEnd = targetRect[names.end];\n  return groupBy(guidelines, function (guideline) {\n    return guideline.pos[index];\n  }).map(function (nextGuidelines) {\n    var start = [];\n    var end = [];\n    var inner = [];\n    nextGuidelines.forEach(function (guideline) {\n      var _a, _b;\n\n      var element = guideline.element;\n      var rect = guideline.elementRect.rect;\n\n      if (rect[names.end] < targetStart) {\n        start.push(guideline);\n      } else if (targetEnd < rect[names.start]) {\n        end.push(guideline);\n      } else if (rect[names.start] <= targetStart && targetEnd <= rect[names.end] && isDisplayInnerSnapDigit) {\n        var pos = guideline.pos;\n        var elementRect1 = {\n          element: element,\n          rect: __assign(__assign({}, rect), (_a = {}, _a[names.end] = rect[names.start], _a))\n        };\n        var elementRect2 = {\n          element: element,\n          rect: __assign(__assign({}, rect), (_b = {}, _b[names.start] = rect[names.end], _b))\n        };\n        var nextPos1 = [0, 0];\n        var nextPos2 = [0, 0];\n        nextPos1[index] = pos[index];\n        nextPos1[otherIndex] = pos[otherIndex];\n        nextPos2[index] = pos[index];\n        nextPos2[otherIndex] = pos[otherIndex] + guideline.size;\n        start.push({\n          type: type,\n          pos: nextPos1,\n          size: 0,\n          elementRect: elementRect1\n        });\n        end.push({\n          type: type,\n          pos: nextPos2,\n          size: 0,\n          elementRect: elementRect2\n        }); // inner.push(guideline);\n      }\n    });\n    start.sort(function (a, b) {\n      return b.pos[otherIndex] - a.pos[otherIndex];\n    });\n    end.sort(function (a, b) {\n      return a.pos[otherIndex] - b.pos[otherIndex];\n    });\n    return {\n      total: nextGuidelines,\n      start: start,\n      end: end,\n      inner: inner\n    };\n  });\n}\nfunction renderDashedGuidelines(moveable, guidelines, targetPos, targetRect, React) {\n  var isDisplayInnerSnapDigit = moveable.props.isDisplayInnerSnapDigit;\n  var rendered = [];\n  [\"vertical\", \"horizontal\"].forEach(function (type) {\n    var nextGuidelines = guidelines.filter(function (guideline) {\n      return guideline.type === type;\n    });\n    var index = type === \"vertical\" ? 1 : 0;\n    var otherIndex = index ? 0 : 1;\n    var groups = groupByElementGuidelines(type, nextGuidelines, targetRect, isDisplayInnerSnapDigit);\n    var mainNames = index ? HORIZONTAL_NAMES_MAP : VERTICAL_NAMES_MAP;\n    var sideNames = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n    var targetStart = targetRect[mainNames.start];\n    var targetEnd = targetRect[mainNames.end];\n    groups.forEach(function (_a) {\n      var total = _a.total,\n          start = _a.start,\n          end = _a.end,\n          inner = _a.inner;\n      var sidePos = targetPos[otherIndex] + total[0].pos[otherIndex] - targetRect[sideNames.start];\n      var prevRect = targetRect;\n      start.forEach(function (guideline) {\n        var nextRect = guideline.elementRect.rect;\n        var size = prevRect[mainNames.start] - nextRect[mainNames.end];\n\n        if (size > 0) {\n          var renderPos = [0, 0];\n          renderPos[index] = targetPos[index] + prevRect[mainNames.start] - targetStart - size;\n          renderPos[otherIndex] = sidePos;\n          rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size, renderPos, guideline.className, React));\n        }\n\n        prevRect = nextRect;\n      });\n      prevRect = targetRect;\n      end.forEach(function (guideline) {\n        var nextRect = guideline.elementRect.rect;\n        var size = nextRect[mainNames.start] - prevRect[mainNames.end];\n\n        if (size > 0) {\n          var renderPos = [0, 0];\n          renderPos[index] = targetPos[index] + prevRect[mainNames.end] - targetStart;\n          renderPos[otherIndex] = sidePos;\n          rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size, renderPos, guideline.className, React));\n        }\n\n        prevRect = nextRect;\n      });\n      inner.forEach(function (guideline) {\n        var nextRect = guideline.elementRect.rect;\n        var size1 = targetStart - nextRect[mainNames.start];\n        var size2 = nextRect[mainNames.end] - targetEnd;\n        var renderPos1 = [0, 0];\n        var renderPos2 = [0, 0];\n        renderPos1[index] = targetPos[index] - size1;\n        renderPos1[otherIndex] = sidePos;\n        renderPos2[index] = targetPos[index] + targetEnd - targetStart;\n        renderPos2[otherIndex] = sidePos;\n        rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size1, renderPos1, guideline.className, React));\n        rendered.push(renderDigitLine(moveable, type, \"dashed\", rendered.length, size2, renderPos2, guideline.className, React));\n      });\n    });\n  });\n  return rendered;\n}\nfunction renderGapGuidelines(moveable, guidelines, targetPos, targetRect, React) {\n  var rendered = [];\n  [\"horizontal\", \"vertical\"].forEach(function (type) {\n    var nextGuidelines = guidelines.filter(function (guideline) {\n      return guideline.type === type;\n    }).slice(0, 1);\n    var index = type === \"vertical\" ? 0 : 1;\n    var otherIndex = index ? 0 : 1;\n    var mainNames = index ? HORIZONTAL_NAMES_MAP : VERTICAL_NAMES_MAP;\n    var sideNames = index ? VERTICAL_NAMES_MAP : HORIZONTAL_NAMES_MAP;\n    var targetStart = targetRect[mainNames.start];\n    var targetEnd = targetRect[mainNames.end];\n    var targetSideStart = targetRect[sideNames.start];\n    var targetSideEnd = targetRect[sideNames.end];\n    nextGuidelines.forEach(function (_a) {\n      var gap = _a.gap,\n          gapRects = _a.gapRects;\n      var sideStartPos = Math.max.apply(Math, __spreadArray([targetSideStart], gapRects.map(function (_a) {\n        var rect = _a.rect;\n        return rect[sideNames.start];\n      }), false));\n      var sideEndPos = Math.min.apply(Math, __spreadArray([targetSideEnd], gapRects.map(function (_a) {\n        var rect = _a.rect;\n        return rect[sideNames.end];\n      }), false));\n      var sideCenterPos = (sideStartPos + sideEndPos) / 2;\n\n      if (sideStartPos === sideEndPos || sideCenterPos === (targetSideStart + targetSideEnd) / 2) {\n        return;\n      }\n\n      gapRects.forEach(function (_a) {\n        var rect = _a.rect,\n            className = _a.className;\n        var renderPos = [targetPos[0], targetPos[1]];\n\n        if (rect[mainNames.end] < targetStart) {\n          renderPos[index] += rect[mainNames.end] - targetStart;\n        } else if (targetEnd < rect[mainNames.start]) {\n          renderPos[index] += rect[mainNames.start] - targetStart - gap;\n        } else {\n          return;\n        }\n\n        renderPos[otherIndex] += sideCenterPos - targetSideStart;\n        rendered.push(renderDigitLine(moveable, index ? \"vertical\" : \"horizontal\", \"gap\", rendered.length, gap, renderPos, className, React));\n      });\n    });\n  });\n  return rendered;\n}\n\nfunction solveEquation(pos1, pos2, snapOffset, isVertical) {\n  var dx = pos2[0] - pos1[0];\n  var dy = pos2[1] - pos1[1];\n\n  if (abs(dx) < TINY_NUM$1) {\n    dx = 0;\n  }\n\n  if (abs(dy) < TINY_NUM$1) {\n    dy = 0;\n  }\n\n  if (!dx) {\n    // y = 0 * x + b\n    // only horizontal\n    if (!isVertical) {\n      return [0, snapOffset];\n    }\n\n    return [0, 0];\n  }\n\n  if (!dy) {\n    // only vertical\n    if (isVertical) {\n      return [snapOffset, 0];\n    }\n\n    return [0, 0];\n  } // y = ax + b\n\n\n  var a = dy / dx;\n  var b = pos1[1] - a * pos1[0];\n\n  if (isVertical) {\n    // y = a * x + b\n    var y = a * (pos2[0] + snapOffset) + b;\n    return [snapOffset, y - pos2[1]];\n  } else {\n    // x = (y - b) / a\n    var x = (pos2[1] + snapOffset - b) / a;\n    return [x - pos2[0], snapOffset];\n  }\n}\n\nfunction solveNextOffset(pos1, pos2, offset, isVertical, datas) {\n  var sizeOffset = solveEquation(pos1, pos2, offset, isVertical);\n\n  if (!sizeOffset) {\n    return {\n      isOutside: false,\n      offset: [0, 0]\n    };\n  }\n\n  var size = getDist$1(pos1, pos2);\n  var dist1 = getDist$1(sizeOffset, pos1);\n  var dist2 = getDist$1(sizeOffset, pos2);\n  var isOutside = dist1 > size || dist2 > size;\n\n  var _a = getDragDist({\n    datas: datas,\n    distX: sizeOffset[0],\n    distY: sizeOffset[1]\n  }),\n      widthOffset = _a[0],\n      heightOffset = _a[1];\n\n  return {\n    offset: [widthOffset, heightOffset],\n    isOutside: isOutside\n  };\n}\n\nfunction getSnapBound(boundInfo, snapInfo) {\n  if (boundInfo.isBound) {\n    return boundInfo.offset;\n  } else if (snapInfo.isSnap) {\n    return getNearestSnapGuidelineInfo(snapInfo).offset;\n  }\n\n  return 0;\n}\n\nfunction checkThrottleDragRotate(throttleDragRotate, _a, _b, _c, _d) {\n  var distX = _a[0],\n      distY = _a[1];\n  var isVerticalBound = _b[0],\n      isHorizontalBound = _b[1];\n  var isVerticalSnap = _c[0],\n      isHorizontalSnap = _c[1];\n  var verticalOffset = _d[0],\n      horizontalOffset = _d[1];\n  var offsetX = -verticalOffset;\n  var offsetY = -horizontalOffset;\n\n  if (throttleDragRotate && distX && distY) {\n    offsetX = 0;\n    offsetY = 0;\n    var adjustPoses = [];\n\n    if (isVerticalBound && isHorizontalBound) {\n      adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\n    } else if (isVerticalBound) {\n      adjustPoses.push([verticalOffset, 0]);\n    } else if (isHorizontalBound) {\n      adjustPoses.push([0, horizontalOffset]);\n    } else if (isVerticalSnap && isHorizontalSnap) {\n      adjustPoses.push([0, horizontalOffset], [verticalOffset, 0]);\n    } else if (isVerticalSnap) {\n      adjustPoses.push([verticalOffset, 0]);\n    } else if (isHorizontalSnap) {\n      adjustPoses.push([0, horizontalOffset]);\n    }\n\n    if (adjustPoses.length) {\n      adjustPoses.sort(function (a, b) {\n        return getDistSize(minus([distX, distY], a)) - getDistSize(minus([distX, distY], b));\n      });\n      var adjustPos = adjustPoses[0];\n\n      if (adjustPos[0] && abs(distX) > TINY_NUM$1) {\n        offsetX = -adjustPos[0];\n        offsetY = distY * abs(distX + offsetX) / abs(distX) - distY;\n      } else if (adjustPos[1] && abs(distY) > TINY_NUM$1) {\n        var prevDistY = distY;\n        offsetY = -adjustPos[1];\n        offsetX = distX * abs(distY + offsetY) / abs(prevDistY) - distX;\n      }\n\n      if (throttleDragRotate && isHorizontalBound && isVerticalBound) {\n        if (abs(offsetX) > TINY_NUM$1 && abs(offsetX) < abs(verticalOffset)) {\n          var scale = abs(verticalOffset) / abs(offsetX);\n          offsetX *= scale;\n          offsetY *= scale;\n        } else if (abs(offsetY) > TINY_NUM$1 && abs(offsetY) < abs(horizontalOffset)) {\n          var scale = abs(horizontalOffset) / abs(offsetY);\n          offsetX *= scale;\n          offsetY *= scale;\n        } else {\n          offsetX = maxOffset(-verticalOffset, offsetX);\n          offsetY = maxOffset(-horizontalOffset, offsetY);\n        }\n      }\n    }\n  } else {\n    offsetX = distX || isVerticalBound ? -verticalOffset : 0;\n    offsetY = distY || isHorizontalBound ? -horizontalOffset : 0;\n  }\n\n  return [offsetX, offsetY];\n}\nfunction checkSnapBoundsDrag(moveable, distX, distY, throttleDragRotate, isRequest, datas) {\n  if (!hasGuidelines(moveable, \"draggable\")) {\n    return [{\n      isSnap: false,\n      isBound: false,\n      offset: 0\n    }, {\n      isSnap: false,\n      isBound: false,\n      offset: 0\n    }];\n  }\n\n  var poses = getAbsolutePoses(datas.absolutePoses, [distX, distY]);\n\n  var _a = getRect(poses),\n      left = _a.left,\n      right = _a.right,\n      top = _a.top,\n      bottom = _a.bottom;\n\n  var boundPoses = {\n    horizontal: poses.map(function (pos) {\n      return pos[1];\n    }),\n    vertical: poses.map(function (pos) {\n      return pos[0];\n    })\n  };\n  var snapDirections = getSnapDirections(moveable.props.snapDirections);\n  var snapPoses = splitSnapDirectionPoses(snapDirections, {\n    left: left,\n    right: right,\n    top: top,\n    bottom: bottom,\n    center: (left + right) / 2,\n    middle: (top + bottom) / 2\n  });\n\n  var _b = checkMoveableSnapBounds(moveable, isRequest, snapPoses, boundPoses),\n      verticalSnapBoundInfo = _b.vertical,\n      horizontalSnapBoundInfo = _b.horizontal;\n\n  var _c = getInnerBoundDragInfo(moveable, poses, datas),\n      verticalInnerBoundInfo = _c.vertical,\n      horizontalInnerBoundInfo = _c.horizontal;\n\n  var isVerticalSnap = verticalSnapBoundInfo.isSnap;\n  var isHorizontalSnap = horizontalSnapBoundInfo.isSnap;\n  var isVerticalBound = verticalSnapBoundInfo.isBound || verticalInnerBoundInfo.isBound;\n  var isHorizontalBound = horizontalSnapBoundInfo.isBound || horizontalInnerBoundInfo.isBound;\n  var verticalOffset = maxOffset(verticalSnapBoundInfo.offset, verticalInnerBoundInfo.offset);\n  var horizontalOffset = maxOffset(horizontalSnapBoundInfo.offset, horizontalInnerBoundInfo.offset);\n\n  var _d = checkThrottleDragRotate(throttleDragRotate, [distX, distY], [isVerticalBound, isHorizontalBound], [isVerticalSnap, isHorizontalSnap], [verticalOffset, horizontalOffset]),\n      offsetX = _d[0],\n      offsetY = _d[1];\n\n  return [{\n    isBound: isVerticalBound,\n    isSnap: isVerticalSnap,\n    offset: offsetX\n  }, {\n    isBound: isHorizontalBound,\n    isSnap: isHorizontalSnap,\n    offset: offsetY\n  }];\n}\nfunction checkMoveableSnapBounds(moveable, isRequest, poses, boundPoses) {\n  if (boundPoses === void 0) {\n    boundPoses = poses;\n  }\n\n  var _a = checkBoundPoses(getBounds(moveable), boundPoses.vertical, boundPoses.horizontal),\n      horizontalBoundInfos = _a.horizontal,\n      verticalBoundInfos = _a.vertical;\n\n  var _b = isRequest ? {\n    horizontal: {\n      isSnap: false,\n      index: -1\n    },\n    vertical: {\n      isSnap: false,\n      index: -1\n    }\n  } : checkMoveableSnapPoses(moveable, poses.vertical, poses.horizontal),\n      horizontalSnapInfo = _b.horizontal,\n      verticalSnapInfo = _b.vertical;\n\n  var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\n  var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\n  var horizontalDist = abs(horizontalOffset);\n  var verticalDist = abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfos[0].isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      snapIndex: horizontalSnapInfo.index,\n      offset: horizontalOffset,\n      dist: horizontalDist,\n      bounds: horizontalBoundInfos,\n      snap: horizontalSnapInfo\n    },\n    vertical: {\n      isBound: verticalBoundInfos[0].isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      snapIndex: verticalSnapInfo.index,\n      offset: verticalOffset,\n      dist: verticalDist,\n      bounds: verticalBoundInfos,\n      snap: verticalSnapInfo\n    }\n  };\n}\nfunction checkSnapBounds(guideines, bounds, posesX, posesY, snapThreshold) {\n  var _a = checkBoundPoses(bounds, posesX, posesY),\n      horizontalBoundInfos = _a.horizontal,\n      verticalBoundInfos = _a.vertical; // options.isRequest ? {\n  //     horizontal: { isSnap: false, index: -1 } as SnapInfo,\n  //     vertical: { isSnap: false, index: -1 } as SnapInfo,\n  // } :\n\n\n  var _b = checkSnapPoses(guideines, posesX, posesY, snapThreshold),\n      horizontalSnapInfo = _b.horizontal,\n      verticalSnapInfo = _b.vertical;\n\n  var horizontalOffset = getSnapBound(horizontalBoundInfos[0], horizontalSnapInfo);\n  var verticalOffset = getSnapBound(verticalBoundInfos[0], verticalSnapInfo);\n  var horizontalDist = abs(horizontalOffset);\n  var verticalDist = abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfos[0].isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      snapIndex: horizontalSnapInfo.index,\n      offset: horizontalOffset,\n      dist: horizontalDist,\n      bounds: horizontalBoundInfos,\n      snap: horizontalSnapInfo\n    },\n    vertical: {\n      isBound: verticalBoundInfos[0].isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      snapIndex: verticalSnapInfo.index,\n      offset: verticalOffset,\n      dist: verticalDist,\n      bounds: verticalBoundInfos,\n      snap: verticalSnapInfo\n    }\n  };\n}\n\nfunction checkSnapRightLine(startPos, endPos, snapBoundInfo, keepRatio) {\n  var rad = getRad(startPos, endPos) / Math.PI * 180;\n  var _a = snapBoundInfo.vertical,\n      isVerticalBound = _a.isBound,\n      isVerticalSnap = _a.isSnap,\n      verticalDist = _a.dist,\n      _b = snapBoundInfo.horizontal,\n      isHorizontalBound = _b.isBound,\n      isHorizontalSnap = _b.isSnap,\n      horizontalDist = _b.dist;\n  var rad180 = rad % 180;\n  var isHorizontalLine = rad180 < 3 || rad180 > 177;\n  var isVerticalLine = rad180 > 87 && rad180 < 93;\n\n  if (horizontalDist < verticalDist) {\n    if (isVerticalBound || isVerticalSnap && !isVerticalLine && (!keepRatio || !isHorizontalLine)) {\n      return \"vertical\";\n    }\n  }\n\n  if (isHorizontalBound || isHorizontalSnap && !isHorizontalLine && (!keepRatio || !isVerticalLine)) {\n    return \"horizontal\";\n  }\n\n  return \"\";\n}\n\nfunction getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas) {\n  return directions.map(function (_a) {\n    var startDirection = _a[0],\n        endDirection = _a[1];\n    var otherStartPos = getPosByDirection(poses, startDirection);\n    var otherEndPos = getPosByDirection(poses, endDirection);\n    var snapBoundInfo = keepRatio ? checkSnapBoundsKeepRatio(moveable, otherStartPos, otherEndPos, isRequest) : checkMoveableSnapBounds(moveable, isRequest, {\n      vertical: [otherEndPos[0]],\n      horizontal: [otherEndPos[1]]\n    });\n    var _b = snapBoundInfo.horizontal,\n        // dist: otherHorizontalDist,\n    otherHorizontalOffset = _b.offset,\n        isOtherHorizontalBound = _b.isBound,\n        isOtherHorizontalSnap = _b.isSnap,\n        _c = snapBoundInfo.vertical,\n        // dist: otherVerticalDist,\n    otherVerticalOffset = _c.offset,\n        isOtherVerticalBound = _c.isBound,\n        isOtherVerticalSnap = _c.isSnap;\n    var multiple = minus(endDirection, startDirection);\n\n    if (!otherVerticalOffset && !otherHorizontalOffset) {\n      return {\n        isBound: isOtherVerticalBound || isOtherHorizontalBound,\n        isSnap: isOtherVerticalSnap || isOtherHorizontalSnap,\n        sign: multiple,\n        offset: [0, 0]\n      };\n    }\n\n    var snapLine = checkSnapRightLine(otherStartPos, otherEndPos, snapBoundInfo, keepRatio);\n\n    if (!snapLine) {\n      return {\n        sign: multiple,\n        isBound: false,\n        isSnap: false,\n        offset: [0, 0]\n      };\n    }\n\n    var isVertical = snapLine === \"vertical\";\n    var sizeOffset = [0, 0];\n\n    if (!keepRatio && abs(endDirection[0]) === 1 && abs(endDirection[1]) === 1 && startDirection[0] !== endDirection[0] && startDirection[1] !== endDirection[1]) {\n      sizeOffset = getDragDist({\n        datas: datas,\n        distX: -otherVerticalOffset,\n        distY: -otherHorizontalOffset\n      });\n    } else {\n      sizeOffset = solveNextOffset(otherStartPos, otherEndPos, -(isVertical ? otherVerticalOffset : otherHorizontalOffset), isVertical, datas).offset;\n    }\n\n    sizeOffset = sizeOffset.map(function (size, i) {\n      return size * (multiple[i] ? 2 / multiple[i] : 0);\n    });\n    return {\n      sign: multiple,\n      isBound: isVertical ? isOtherVerticalBound : isOtherHorizontalBound,\n      isSnap: isVertical ? isOtherVerticalSnap : isOtherHorizontalSnap,\n      offset: sizeOffset\n    };\n  });\n}\n\nfunction getSnapBoundOffset(boundInfo, snapInfo) {\n  if (boundInfo.isBound) {\n    return boundInfo.offset;\n  } else if (snapInfo.isSnap) {\n    return snapInfo.offset;\n  }\n\n  return 0;\n}\n\nfunction checkSnapBoundsKeepRatio(moveable, startPos, endPos, isRequest) {\n  var _a = checkBoundKeepRatio(moveable, startPos, endPos),\n      horizontalBoundInfo = _a.horizontal,\n      verticalBoundInfo = _a.vertical;\n\n  var _b = isRequest ? {\n    horizontal: {\n      isSnap: false\n    },\n    vertical: {\n      isSnap: false\n    }\n  } : checkSnapKeepRatio(moveable, startPos, endPos),\n      horizontalSnapInfo = _b.horizontal,\n      verticalSnapInfo = _b.vertical;\n\n  var horizontalOffset = getSnapBoundOffset(horizontalBoundInfo, horizontalSnapInfo);\n  var verticalOffset = getSnapBoundOffset(verticalBoundInfo, verticalSnapInfo);\n  var horizontalDist = abs(horizontalOffset);\n  var verticalDist = abs(verticalOffset);\n  return {\n    horizontal: {\n      isBound: horizontalBoundInfo.isBound,\n      isSnap: horizontalSnapInfo.isSnap,\n      offset: horizontalOffset,\n      dist: horizontalDist\n    },\n    vertical: {\n      isBound: verticalBoundInfo.isBound,\n      isSnap: verticalSnapInfo.isSnap,\n      offset: verticalOffset,\n      dist: verticalDist\n    }\n  };\n}\nfunction checkMaxBounds(moveable, poses, direction, fixedPosition, datas) {\n  var fixedDirection = [-direction[0], -direction[1]];\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height;\n  var bounds = moveable.props.bounds;\n  var maxWidth = Infinity;\n  var maxHeight = Infinity;\n\n  if (bounds) {\n    var directions = [[direction[0], -direction[1]], [-direction[0], direction[1]]];\n    var _b = bounds.left,\n        left_1 = _b === void 0 ? -Infinity : _b,\n        _c = bounds.top,\n        top_1 = _c === void 0 ? -Infinity : _c,\n        _d = bounds.right,\n        right_1 = _d === void 0 ? Infinity : _d,\n        _e = bounds.bottom,\n        bottom_1 = _e === void 0 ? Infinity : _e;\n    directions.forEach(function (otherDirection) {\n      var isCheckVertical = otherDirection[0] !== fixedDirection[0];\n      var isCheckHorizontal = otherDirection[1] !== fixedDirection[1];\n      var otherPos = getPosByDirection(poses, otherDirection);\n      var deg = getRad(fixedPosition, otherPos) * 360 / Math.PI;\n\n      if (isCheckHorizontal) {\n        var nextOtherPos = otherPos.slice();\n\n        if (abs(deg - 360) < 2 || abs(deg - 180) < 2) {\n          nextOtherPos[1] = fixedPosition[1];\n        }\n\n        var _a = solveNextOffset(fixedPosition, nextOtherPos, (fixedPosition[1] < otherPos[1] ? bottom_1 : top_1) - otherPos[1], false, datas),\n            _b = _a.offset,\n            heightOffset = _b[1],\n            isHeightOutside = _a.isOutside;\n\n        if (!isNaN(heightOffset)) {\n          maxHeight = height + (isHeightOutside ? 1 : -1) * abs(heightOffset);\n        }\n      }\n\n      if (isCheckVertical) {\n        var nextOtherPos = otherPos.slice();\n\n        if (abs(deg - 90) < 2 || abs(deg - 270) < 2) {\n          nextOtherPos[0] = fixedPosition[0];\n        }\n\n        var _c = solveNextOffset(fixedPosition, nextOtherPos, (fixedPosition[0] < otherPos[0] ? right_1 : left_1) - otherPos[0], true, datas),\n            widthOffset = _c.offset[0],\n            isWidthOutside = _c.isOutside;\n\n        if (!isNaN(widthOffset)) {\n          maxWidth = width + (isWidthOutside ? 1 : -1) * abs(widthOffset);\n        }\n      }\n    });\n  }\n\n  return {\n    maxWidth: maxWidth,\n    maxHeight: maxHeight\n  };\n}\n\nfunction getTotalGuidelines(moveable) {\n  var state = moveable.state;\n  var containerClientRect = state.containerClientRect,\n      hasFixed = state.hasFixed;\n  var overflow = containerClientRect.overflow,\n      containerHeight = containerClientRect.scrollHeight,\n      containerWidth = containerClientRect.scrollWidth,\n      containerClientHeight = containerClientRect.clientHeight,\n      containerClientWidth = containerClientRect.clientWidth,\n      clientLeft = containerClientRect.clientLeft,\n      clientTop = containerClientRect.clientTop;\n  var _a = moveable.props,\n      _b = _a.snapGap,\n      snapGap = _b === void 0 ? true : _b,\n      verticalGuidelines = _a.verticalGuidelines,\n      horizontalGuidelines = _a.horizontalGuidelines,\n      _c = _a.snapThreshold,\n      snapThreshold = _c === void 0 ? 5 : _c,\n      _d = _a.snapGridWidth,\n      snapGridWidth = _d === void 0 ? 0 : _d,\n      _e = _a.snapGridHeight,\n      snapGridHeight = _e === void 0 ? 0 : _e,\n      _f = _a.maxSnapElementGuidelineDistance,\n      maxSnapElementGuidelineDistance = _f === void 0 ? Infinity : _f,\n      isDisplayGridGuidelines = _a.isDisplayGridGuidelines;\n\n  var _g = getRect(getAbsolutePosesByState(moveable.state)),\n      top = _g.top,\n      left = _g.left,\n      bottom = _g.bottom,\n      right = _g.right;\n\n  var targetRect = {\n    top: top,\n    left: left,\n    bottom: bottom,\n    right: right,\n    center: (left + right) / 2,\n    middle: (top + bottom) / 2\n  };\n  var elementGuidelines = getElementGuidelines(moveable);\n\n  var totalGuidelines = __spreadArray([], elementGuidelines, true);\n\n  if (snapGap) {\n    totalGuidelines.push.apply(totalGuidelines, getGapGuidelines(moveable, targetRect, snapThreshold));\n  }\n\n  var snapOffset = __assign({}, state.snapOffset || {\n    left: 0,\n    top: 0,\n    bottom: 0,\n    right: 0\n  });\n\n  totalGuidelines.push.apply(totalGuidelines, getGridGuidelines(snapGridWidth, snapGridHeight, overflow ? containerWidth : containerClientWidth, overflow ? containerHeight : containerClientHeight, clientLeft, clientTop, snapOffset, isDisplayGridGuidelines));\n\n  if (hasFixed) {\n    var left_1 = containerClientRect.left,\n        top_1 = containerClientRect.top;\n    snapOffset.left += left_1;\n    snapOffset.top += top_1;\n    snapOffset.right += left_1;\n    snapOffset.bottom += top_1;\n  }\n\n  totalGuidelines.push.apply(totalGuidelines, getDefaultGuidelines(horizontalGuidelines || false, verticalGuidelines || false, overflow ? containerWidth : containerClientWidth, overflow ? containerHeight : containerClientHeight, clientLeft, clientTop, snapOffset));\n  totalGuidelines = totalGuidelines.filter(function (_a) {\n    var element = _a.element,\n        elementRect = _a.elementRect,\n        type = _a.type;\n\n    if (!element || !elementRect) {\n      return true;\n    }\n\n    var rect = elementRect.rect;\n    return checkBetweenRects(targetRect, rect, type, maxSnapElementGuidelineDistance);\n  });\n  return totalGuidelines;\n}\nfunction getGapGuidelines(moveable, targetRect, snapThreshold) {\n  var _a = moveable.props,\n      _b = _a.maxSnapElementGuidelineDistance,\n      maxSnapElementGuidelineDistance = _b === void 0 ? Infinity : _b,\n      _c = _a.maxSnapElementGapDistance,\n      maxSnapElementGapDistance = _c === void 0 ? Infinity : _c;\n  var elementRects = moveable.state.elementRects;\n  var gapGuidelines = [];\n  [[\"vertical\", VERTICAL_NAMES_MAP, HORIZONTAL_NAMES_MAP], [\"horizontal\", HORIZONTAL_NAMES_MAP, VERTICAL_NAMES_MAP]].forEach(function (_a) {\n    var type = _a[0],\n        mainNames = _a[1],\n        sideNames = _a[2];\n    var targetStart = targetRect[mainNames.start];\n    var targetEnd = targetRect[mainNames.end];\n    var targetCenter = targetRect[mainNames.center];\n    var targetStart2 = targetRect[sideNames.start];\n    var targetEnd2 = targetRect[sideNames.end]; // element : moveable\n\n    function getDist(elementRect) {\n      var rect = elementRect.rect;\n\n      if (rect[mainNames.end] < targetStart + snapThreshold) {\n        return targetStart - rect[mainNames.end];\n      } else if (targetEnd - snapThreshold < rect[mainNames.start]) {\n        return rect[mainNames.start] - targetEnd;\n      } else {\n        return -1;\n      }\n    }\n\n    var nextElementRects = elementRects.filter(function (elementRect) {\n      var rect = elementRect.rect;\n\n      if (rect[sideNames.start] > targetEnd2 || rect[sideNames.end] < targetStart2) {\n        return false;\n      }\n\n      return getDist(elementRect) > 0;\n    }).sort(function (a, b) {\n      return getDist(a) - getDist(b);\n    });\n    var groups = [];\n    nextElementRects.forEach(function (snapRect1) {\n      nextElementRects.forEach(function (snapRect2) {\n        if (snapRect1 === snapRect2) {\n          return;\n        }\n\n        var rect1 = snapRect1.rect;\n        var rect2 = snapRect2.rect;\n        var rect1Start = rect1[sideNames.start];\n        var rect1End = rect1[sideNames.end];\n        var rect2Start = rect2[sideNames.start];\n        var rect2End = rect2[sideNames.end];\n\n        if (rect1Start > rect2End || rect2Start > rect1End) {\n          return;\n        }\n\n        groups.push([snapRect1, snapRect2]);\n      });\n    });\n    groups.forEach(function (_a) {\n      var snapRect1 = _a[0],\n          snapRect2 = _a[1];\n      var rect1 = snapRect1.rect;\n      var rect2 = snapRect2.rect;\n      var rect1Start = rect1[mainNames.start];\n      var rect1End = rect1[mainNames.end];\n      var rect2Start = rect2[mainNames.start];\n      var rect2End = rect2[mainNames.end];\n      var gap = 0;\n      var pos = 0;\n      var isStart = false;\n      var isCenter = false;\n      var isEnd = false;\n\n      if (rect1End <= targetStart && targetEnd <= rect2Start) {\n        // (l)element1(r) : (l)target(r) : (l)element2(r)\n        isCenter = true;\n        gap = (rect2Start - rect1End - (targetEnd - targetStart)) / 2;\n        pos = rect1End + gap + (targetEnd - targetStart) / 2;\n\n        if (abs(pos - targetCenter) > snapThreshold) {\n          return;\n        }\n      } else if (rect1End < rect2Start && rect2End < targetStart + snapThreshold) {\n        // (l)element1(r) : (l)element2(r) : (l)target\n        isStart = true;\n        gap = rect2Start - rect1End;\n        pos = rect2End + gap;\n\n        if (abs(pos - targetStart) > snapThreshold) {\n          return;\n        }\n      } else if (rect1End < rect2Start && targetEnd - snapThreshold < rect1Start) {\n        // target(r) : (l)element1(r) : (l)element2(r)\n        isEnd = true;\n        gap = rect2Start - rect1End;\n        pos = rect1Start - gap;\n\n        if (abs(pos - targetEnd) > snapThreshold) {\n          return;\n        }\n      } else {\n        return;\n      }\n\n      if (!gap) {\n        return;\n      }\n\n      if (!checkBetweenRects(targetRect, rect2, type, maxSnapElementGuidelineDistance)) {\n        return;\n      }\n\n      if (gap > maxSnapElementGapDistance) {\n        return;\n      }\n\n      gapGuidelines.push({\n        type: type,\n        pos: type === \"vertical\" ? [pos, 0] : [0, pos],\n        element: snapRect2.element,\n        size: 0,\n        className: snapRect2.className,\n        isStart: isStart,\n        isCenter: isCenter,\n        isEnd: isEnd,\n        gap: gap,\n        hide: true,\n        gapRects: [snapRect1, snapRect2]\n      });\n    });\n  });\n  return gapGuidelines;\n}\nfunction getGridGuidelines(snapGridWidth, snapGridHeight, containerWidth, containerHeight, clientLeft, clientTop, snapOffset, isDisplayGridGuidelines) {\n  if (clientLeft === void 0) {\n    clientLeft = 0;\n  }\n\n  if (clientTop === void 0) {\n    clientTop = 0;\n  }\n\n  var guidelines = [];\n  var snapOffsetLeft = snapOffset.left,\n      snapOffsetTop = snapOffset.top;\n\n  if (snapGridHeight) {\n    for (var pos = 0; pos <= containerHeight; pos += snapGridHeight) {\n      guidelines.push({\n        type: \"horizontal\",\n        pos: [snapOffsetLeft, throttle(pos - clientTop + snapOffsetTop, 0.1)],\n        className: prefix(\"grid-guideline\"),\n        size: containerWidth,\n        hide: !isDisplayGridGuidelines\n      });\n    }\n  }\n\n  if (snapGridWidth) {\n    for (var pos = 0; pos <= containerWidth; pos += snapGridWidth) {\n      guidelines.push({\n        type: \"vertical\",\n        pos: [throttle(pos - clientLeft + snapOffsetLeft, 0.1), snapOffsetTop],\n        className: prefix(\"grid-guideline\"),\n        size: containerHeight,\n        hide: !isDisplayGridGuidelines\n      });\n    }\n  }\n\n  return guidelines;\n}\nfunction checkBetweenRects(rect1, rect2, type, distance) {\n  if (type === \"horizontal\") {\n    return abs(rect1.right - rect2.left) <= distance || abs(rect1.left - rect2.right) <= distance || rect1.left <= rect2.right && rect2.left <= rect1.right;\n  } else if (type === \"vertical\") {\n    return abs(rect1.bottom - rect2.top) <= distance || abs(rect1.top - rect2.bottom) <= distance || rect1.top <= rect2.bottom && rect2.top <= rect1.bottom;\n  }\n\n  return true;\n}\nfunction getElementGuidelines(moveable) {\n  var state = moveable.state;\n  var _a = moveable.props.elementGuidelines,\n      elementGuidelines = _a === void 0 ? [] : _a;\n\n  if (!elementGuidelines.length) {\n    state.elementRects = [];\n    return [];\n  }\n\n  var prevValues = (state.elementRects || []).filter(function (snapRect) {\n    return !snapRect.refresh;\n  });\n  var nextElementGuidelines = elementGuidelines.map(function (el) {\n    if (isObject(el) && \"element\" in el) {\n      return __assign(__assign({}, el), {\n        element: getRefTarget(el.element, true)\n      });\n    }\n\n    return {\n      element: getRefTarget(el, true)\n    };\n  }).filter(function (value) {\n    return value.element;\n  });\n\n  var _b = diff(prevValues.map(function (v) {\n    return v.element;\n  }), nextElementGuidelines.map(function (v) {\n    return v.element;\n  })),\n      maintained = _b.maintained,\n      added = _b.added;\n\n  var nextValues = [];\n  maintained.forEach(function (_a) {\n    var prevIndex = _a[0],\n        nextIndex = _a[1];\n    nextValues[nextIndex] = prevValues[prevIndex];\n  });\n  getSnapElementRects(moveable, added.map(function (index) {\n    return nextElementGuidelines[index];\n  })).map(function (rect, i) {\n    nextValues[added[i]] = rect;\n  });\n  state.elementRects = nextValues;\n  var elementSnapDirections = getSnapDirections(moveable.props.elementSnapDirections);\n  var nextGuidelines = [];\n  nextValues.forEach(function (snapRect) {\n    var element = snapRect.element,\n        _a = snapRect.top,\n        topValue = _a === void 0 ? elementSnapDirections.top : _a,\n        _b = snapRect.left,\n        leftValue = _b === void 0 ? elementSnapDirections.left : _b,\n        _c = snapRect.right,\n        rightValue = _c === void 0 ? elementSnapDirections.right : _c,\n        _d = snapRect.bottom,\n        bottomValue = _d === void 0 ? elementSnapDirections.bottom : _d,\n        _e = snapRect.center,\n        centerValue = _e === void 0 ? elementSnapDirections.center : _e,\n        _f = snapRect.middle,\n        middleValue = _f === void 0 ? elementSnapDirections.middle : _f,\n        className = snapRect.className,\n        rect = snapRect.rect;\n\n    var _g = splitSnapDirectionPoses({\n      top: topValue,\n      right: rightValue,\n      left: leftValue,\n      bottom: bottomValue,\n      center: centerValue,\n      middle: middleValue\n    }, rect),\n        horizontal = _g.horizontal,\n        vertical = _g.vertical;\n\n    var rectTop = rect.top;\n    var rectLeft = rect.left;\n    var width = rect.right - rectLeft;\n    var height = rect.bottom - rectTop;\n    var sizes = [width, height];\n    vertical.forEach(function (pos) {\n      nextGuidelines.push({\n        type: \"vertical\",\n        element: element,\n        pos: [throttle(pos, 0.1), rectTop],\n        size: height,\n        sizes: sizes,\n        className: className,\n        elementRect: snapRect\n      });\n    });\n    horizontal.forEach(function (pos) {\n      nextGuidelines.push({\n        type: \"horizontal\",\n        element: element,\n        pos: [rectLeft, throttle(pos, 0.1)],\n        size: width,\n        sizes: sizes,\n        className: className,\n        elementRect: snapRect\n      });\n    });\n  });\n  return nextGuidelines;\n}\n\nfunction getObjectGuidelines(guidelines, containerSize) {\n  return guidelines ? guidelines.map(function (info) {\n    var posGuideline = isObject(info) ? info : {\n      pos: info\n    };\n    var pos = posGuideline.pos;\n\n    if (isNumber(pos)) {\n      return posGuideline;\n    } else {\n      return __assign(__assign({}, posGuideline), {\n        pos: convertUnitSize(pos, containerSize)\n      });\n    }\n  }) : [];\n}\n\nfunction getDefaultGuidelines(horizontalGuidelines, verticalGuidelines, width, height, clientLeft, clientTop, snapOffset) {\n  if (clientLeft === void 0) {\n    clientLeft = 0;\n  }\n\n  if (clientTop === void 0) {\n    clientTop = 0;\n  }\n\n  if (snapOffset === void 0) {\n    snapOffset = {\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0\n    };\n  }\n\n  var guidelines = [];\n  var snapOffsetLeft = snapOffset.left,\n      snapOffsetTop = snapOffset.top,\n      snapOffsetBottom = snapOffset.bottom,\n      snapOffsetRight = snapOffset.right;\n  var snapWidth = width + snapOffsetRight - snapOffsetLeft;\n  var snapHeight = height + snapOffsetBottom - snapOffsetTop;\n  getObjectGuidelines(horizontalGuidelines, snapHeight).forEach(function (posInfo) {\n    guidelines.push({\n      type: \"horizontal\",\n      pos: [snapOffsetLeft, throttle(posInfo.pos - clientTop + snapOffsetTop, 0.1)],\n      size: snapWidth,\n      className: posInfo.className\n    });\n  });\n  getObjectGuidelines(verticalGuidelines, snapWidth).forEach(function (posInfo) {\n    guidelines.push({\n      type: \"vertical\",\n      pos: [throttle(posInfo.pos - clientLeft + snapOffsetLeft, 0.1), snapOffsetTop],\n      size: snapHeight,\n      className: posInfo.className\n    });\n  });\n  return guidelines;\n}\nfunction getSnapElementRects(moveable, values) {\n  if (!values.length) {\n    return [];\n  }\n\n  var groupable = moveable.props.groupable;\n  var state = moveable.state;\n  var containerClientRect = state.containerClientRect,\n      // targetClientRect: {\n  //     top: clientTop,\n  //     left: clientLeft,\n  // },\n  rootMatrix = state.rootMatrix,\n      is3d = state.is3d,\n      offsetDelta = state.offsetDelta;\n  var n = is3d ? 4 : 3;\n\n  var _a = calculateContainerPos(rootMatrix, containerClientRect, n),\n      containerLeft = _a[0],\n      containerTop = _a[1]; // const poses = getAbsolutePosesByState(state);\n  // const {\n  //     minX: targetLeft,\n  //     minY: targetTop,\n  // } = getMinMaxs(poses);\n  // const [distLeft, distTop] = minus([targetLeft, targetTop], calculateInversePosition(rootMatrix, [\n  //     clientLeft - containerLeft,\n  //     clientTop - containerTop,\n  // ], n)).map(pos => roundSign(pos));\n\n\n  var offsetLeft = groupable ? 0 : offsetDelta[0];\n  var offsetTop = groupable ? 0 : offsetDelta[1];\n  return values.map(function (value) {\n    var rect = value.element.getBoundingClientRect();\n    var left = rect.left - containerLeft - offsetLeft;\n    var top = rect.top - containerTop - offsetTop;\n    var bottom = top + rect.height;\n    var right = left + rect.width;\n\n    var _a = calculateInversePosition(rootMatrix, [left, top], n),\n        elementLeft = _a[0],\n        elementTop = _a[1];\n\n    var _b = calculateInversePosition(rootMatrix, [right, bottom], n),\n        elementRight = _b[0],\n        elementBottom = _b[1];\n\n    return __assign(__assign({}, value), {\n      rect: {\n        left: elementLeft,\n        right: elementRight,\n        top: elementTop,\n        bottom: elementBottom,\n        center: (elementLeft + elementRight) / 2,\n        middle: (elementTop + elementBottom) / 2\n      }\n    });\n  });\n}\n\nfunction checkSnapInfo(moveable) {\n  var state = moveable.state;\n  var container = state.container;\n  var snapContainer = moveable.props.snapContainer || container;\n\n  if (state.snapContainer === snapContainer && state.guidelines && state.guidelines.length) {\n    return false;\n  }\n\n  var containerClientRect = state.containerClientRect;\n  var snapOffset = {\n    left: 0,\n    top: 0,\n    bottom: 0,\n    right: 0\n  };\n\n  if (container !== snapContainer) {\n    var snapContainerTarget = getRefTarget(snapContainer, true);\n\n    if (snapContainerTarget) {\n      var snapContainerRect = getClientRect(snapContainerTarget);\n      var offset1 = getDragDistByState(state, [snapContainerRect.left - containerClientRect.left, snapContainerRect.top - containerClientRect.top]);\n      var offset2 = getDragDistByState(state, [snapContainerRect.right - containerClientRect.right, snapContainerRect.bottom - containerClientRect.bottom]);\n      snapOffset.left = throttle(offset1[0], 0.00001);\n      snapOffset.top = throttle(offset1[1], 0.00001);\n      snapOffset.right = throttle(offset2[0], 0.00001);\n      snapOffset.bottom = throttle(offset2[1], 0.00001);\n    }\n  }\n\n  state.snapContainer = snapContainer;\n  state.snapOffset = snapOffset;\n  state.guidelines = getTotalGuidelines(moveable);\n  state.enableSnap = true;\n  return true;\n}\n\nfunction getNextFixedPoses(matrix, width, height, fixedDirection, fixedPos, is3d) {\n  var nextPoses = calculatePoses(matrix, width, height, is3d ? 4 : 3);\n  var nextFixedPos = getPosByDirection(nextPoses, fixedDirection);\n  return getAbsolutePoses(nextPoses, minus(fixedPos, nextFixedPos));\n}\nfunction getSizeOffsetInfo(moveable, poses, direction, keepRatio, isRequest, datas) {\n  var fixedDirection = datas.fixedDirection;\n  var directions = getCheckSnapDirections(direction, fixedDirection, keepRatio);\n  var innerBoundLineInfos = getCheckInnerBoundLineInfos(moveable, poses, direction, keepRatio);\n\n  var offsets = __spreadArray(__spreadArray([], getSnapBoundInfo(moveable, poses, directions, keepRatio, isRequest, datas), true), getInnerBoundInfo(moveable, innerBoundLineInfos, datas), true);\n\n  var widthOffsetInfo = getNearOffsetInfo(offsets, 0);\n  var heightOffsetInfo = getNearOffsetInfo(offsets, 1);\n  return {\n    width: {\n      isBound: widthOffsetInfo.isBound,\n      offset: widthOffsetInfo.offset[0]\n    },\n    height: {\n      isBound: heightOffsetInfo.isBound,\n      offset: heightOffsetInfo.offset[1]\n    }\n  };\n}\nfunction recheckSizeByTwoDirection(moveable, poses, width, height, maxWidth, maxHeight, direction, isRequest, datas) {\n  var snapPos = getPosByDirection(poses, direction);\n\n  var _a = checkMoveableSnapBounds(moveable, isRequest, {\n    vertical: [snapPos[0]],\n    horizontal: [snapPos[1]]\n  }),\n      horizontalOffset = _a.horizontal.offset,\n      verticalOffset = _a.vertical.offset;\n\n  if (throttle(verticalOffset, FLOAT_POINT_NUM) || throttle(horizontalOffset, FLOAT_POINT_NUM)) {\n    var _b = getDragDist({\n      datas: datas,\n      distX: -verticalOffset,\n      distY: -horizontalOffset\n    }),\n        nextWidthOffset = _b[0],\n        nextHeightOffset = _b[1];\n\n    var nextWidth = Math.min(maxWidth || Infinity, width + direction[0] * nextWidthOffset);\n    var nextHeight = Math.min(maxHeight || Infinity, height + direction[1] * nextHeightOffset);\n    return [nextWidth - width, nextHeight - height];\n  }\n\n  return [0, 0];\n}\nfunction checkSizeDist(moveable, getNextPoses, width, height, direction, fixedPosition, isRequest, datas) {\n  var poses = getAbsolutePosesByState(moveable.state);\n  var keepRatio = moveable.props.keepRatio;\n  var widthOffset = 0;\n  var heightOffset = 0;\n\n  for (var i = 0; i < 2; ++i) {\n    var nextPoses = getNextPoses(widthOffset, heightOffset);\n\n    var _a = getSizeOffsetInfo(moveable, nextPoses, direction, keepRatio, isRequest, datas),\n        widthOffsetInfo = _a.width,\n        heightOffsetInfo = _a.height;\n\n    var isWidthBound = widthOffsetInfo.isBound;\n    var isHeightBound = heightOffsetInfo.isBound;\n    var nextWidthOffset = widthOffsetInfo.offset;\n    var nextHeightOffset = heightOffsetInfo.offset;\n\n    if (i === 1) {\n      if (!isWidthBound) {\n        nextWidthOffset = 0;\n      }\n\n      if (!isHeightBound) {\n        nextHeightOffset = 0;\n      }\n    }\n\n    if (i === 0 && isRequest && !isWidthBound && !isHeightBound) {\n      return [0, 0];\n    }\n\n    if (keepRatio) {\n      var widthDist = abs(nextWidthOffset) * (width ? 1 / width : 1);\n      var heightDist = abs(nextHeightOffset) * (height ? 1 / height : 1);\n      var isGetWidthOffset = isWidthBound && isHeightBound ? widthDist < heightDist : isHeightBound || !isWidthBound && widthDist < heightDist;\n\n      if (isGetWidthOffset) {\n        // width : height = ? : heightOffset\n        nextWidthOffset = width * nextHeightOffset / height;\n      } else {\n        // width : height = widthOffset : ?\n        nextHeightOffset = height * nextWidthOffset / width;\n      }\n    }\n\n    widthOffset += nextWidthOffset;\n    heightOffset += nextHeightOffset;\n  }\n\n  if (direction[0] && direction[1]) {\n    var _b = checkMaxBounds(moveable, poses, direction, fixedPosition, datas),\n        maxWidth = _b.maxWidth,\n        maxHeight = _b.maxHeight;\n\n    var _c = recheckSizeByTwoDirection(moveable, getNextPoses(widthOffset, heightOffset).map(function (pos) {\n      return pos.map(function (p) {\n        return throttle(p, FLOAT_POINT_NUM);\n      });\n    }), width + widthOffset, height + heightOffset, maxWidth, maxHeight, direction, isRequest, datas),\n        nextWidthOffset = _c[0],\n        nextHeightOffset = _c[1];\n\n    widthOffset += nextWidthOffset;\n    heightOffset += nextHeightOffset;\n  }\n\n  return [widthOffset, heightOffset];\n}\nfunction absDegree(deg) {\n  if (deg < 0) {\n    deg = deg % 360 + 360;\n  }\n\n  deg %= 360;\n  return deg;\n}\nfunction bumpDegree(baseDeg, snapDeg) {\n  // baseDeg -80\n  // snapDeg 270\n  // return -90\n  snapDeg = absDegree(snapDeg);\n  var count = Math.floor(baseDeg / 360);\n  var deg1 = count * 360 + 360 - snapDeg;\n  var deg2 = count * 360 + snapDeg;\n  return abs(baseDeg - deg1) < abs(baseDeg - deg2) ? deg1 : deg2;\n}\nfunction getMinDegreeDistance(deg1, deg2) {\n  deg1 = absDegree(deg1);\n  deg2 = absDegree(deg2);\n  var deg3 = absDegree(deg1 - deg2);\n  return Math.min(deg3, 360 - deg3);\n}\nfunction checkSnapRotate(moveable, rect, dist, rotation) {\n  var _a;\n\n  var props = moveable.props;\n  var snapRotationThreshold = (_a = props[NAME_snapRotationThreshold]) !== null && _a !== void 0 ? _a : 5;\n  var snapRotationDegress = props[NAME_snapRotationDegress];\n\n  if (hasGuidelines(moveable, \"rotatable\")) {\n    var pos1 = rect.pos1,\n        pos2 = rect.pos2,\n        pos3 = rect.pos3,\n        pos4 = rect.pos4,\n        origin2_1 = rect.origin;\n    var rad_1 = dist * Math.PI / 180;\n    var prevPoses = [pos1, pos2, pos3, pos4].map(function (pos) {\n      return minus(pos, origin2_1);\n    });\n    var nextPoses = prevPoses.map(function (pos) {\n      return rotate(pos, rad_1);\n    }); // console.log(moveable.state.left, moveable.state.top, moveable.state.origin);\n    // console.log(pos1, pos2, pos3, pos4, origin, rad, prevPoses, nextPoses);\n\n    var result = __spreadArray(__spreadArray([], checkRotateBounds(moveable, prevPoses, nextPoses, origin2_1, dist), true), checkRotateInnerBounds(moveable, prevPoses, nextPoses, origin2_1, dist), true);\n\n    result.sort(function (a, b) {\n      return abs(a - dist) - abs(b - dist);\n    });\n    var isSnap = result.length > 0;\n\n    if (isSnap) {\n      return {\n        isSnap: isSnap,\n        dist: isSnap ? result[0] : dist\n      };\n    }\n  }\n\n  if ((snapRotationDegress === null || snapRotationDegress === void 0 ? void 0 : snapRotationDegress.length) && snapRotationThreshold) {\n    var sorted = snapRotationDegress.slice().sort(function (a, b) {\n      return getMinDegreeDistance(a, rotation) - getMinDegreeDistance(b, rotation);\n    });\n    var firstDegree = sorted[0];\n\n    if (getMinDegreeDistance(firstDegree, rotation) <= snapRotationThreshold) {\n      return {\n        isSnap: true,\n        dist: dist + bumpDegree(rotation, firstDegree) - rotation\n      };\n    }\n  }\n\n  return {\n    isSnap: false,\n    dist: dist\n  };\n}\nfunction checkSnapResize(moveable, width, height, direction, fixedPosition, isRequest, datas) {\n  if (!hasGuidelines(moveable, \"resizable\")) {\n    return [0, 0];\n  }\n\n  var fixedDirection = datas.fixedDirection,\n      nextAllMatrix = datas.nextAllMatrix;\n  var _a = moveable.state,\n      allMatrix = _a.allMatrix,\n      is3d = _a.is3d;\n  return checkSizeDist(moveable, function (widthOffset, heightOffset) {\n    return getNextFixedPoses(nextAllMatrix || allMatrix, width + widthOffset, height + heightOffset, fixedDirection, fixedPosition, is3d);\n  }, width, height, direction, fixedPosition, isRequest, datas);\n}\nfunction checkSnapScale(moveable, scale, direction, isRequest, datas) {\n  if (!hasGuidelines(moveable, \"scalable\")) {\n    return [0, 0];\n  }\n\n  var startOffsetWidth = datas.startOffsetWidth,\n      startOffsetHeight = datas.startOffsetHeight,\n      fixedPosition = datas.fixedPosition,\n      fixedDirection = datas.fixedDirection,\n      is3d = datas.is3d;\n  var sizeDist = checkSizeDist(moveable, function (widthOffset, heightOffset) {\n    return getNextFixedPoses(scaleMatrix(datas, plus(scale, [widthOffset / startOffsetWidth, heightOffset / startOffsetHeight])), startOffsetWidth, startOffsetHeight, fixedDirection, fixedPosition, is3d);\n  }, startOffsetWidth, startOffsetHeight, direction, fixedPosition, isRequest, datas);\n  return [sizeDist[0] / startOffsetWidth, sizeDist[1] / startOffsetHeight];\n}\nfunction startCheckSnapDrag(moveable, datas) {\n  datas.absolutePoses = getAbsolutePosesByState(moveable.state);\n}\n\nfunction getSnapGuidelines(posInfos) {\n  var guidelines = [];\n  posInfos.forEach(function (posInfo) {\n    posInfo.guidelineInfos.forEach(function (_a) {\n      var guideline = _a.guideline;\n\n      if (guidelines.indexOf(guideline) > -1) {\n        return;\n      }\n\n      guidelines.push(guideline);\n    });\n  });\n  return guidelines;\n}\n\nfunction addBoundGuidelines(moveable, verticalPoses, horizontalPoses, verticalSnapPoses, horizontalSnapPoses, externalBounds) {\n  var _a = checkBoundPoses(getBounds(moveable, externalBounds), verticalPoses, horizontalPoses),\n      verticalBoundInfos = _a.vertical,\n      horizontalBoundInfos = _a.horizontal;\n\n  verticalBoundInfos.forEach(function (info) {\n    if (info.isBound) {\n      verticalSnapPoses.push({\n        type: \"bounds\",\n        pos: info.pos\n      });\n    }\n  });\n  horizontalBoundInfos.forEach(function (info) {\n    if (info.isBound) {\n      horizontalSnapPoses.push({\n        type: \"bounds\",\n        pos: info.pos\n      });\n    }\n  });\n\n  var _b = checkInnerBoundPoses(moveable),\n      verticalInnerBoundPoses = _b.vertical,\n      horizontalInnerBoundPoses = _b.horizontal;\n\n  verticalInnerBoundPoses.forEach(function (innerPos) {\n    if (findIndex(verticalSnapPoses, function (_a) {\n      var type = _a.type,\n          pos = _a.pos;\n      return type === \"bounds\" && pos === innerPos;\n    }) >= 0) {\n      return;\n    }\n\n    verticalSnapPoses.push({\n      type: \"bounds\",\n      pos: innerPos\n    });\n  });\n  horizontalInnerBoundPoses.forEach(function (innerPos) {\n    if (findIndex(horizontalSnapPoses, function (_a) {\n      var type = _a.type,\n          pos = _a.pos;\n      return type === \"bounds\" && pos === innerPos;\n    }) >= 0) {\n      return;\n    }\n\n    horizontalSnapPoses.push({\n      type: \"bounds\",\n      pos: innerPos\n    });\n  });\n}\n\nvar directionCondition$2 = getDirectionCondition(\"\", [\"resizable\", \"scalable\"]);\nvar NAME_snapRotationThreshold = \"snapRotationThreshold\";\nvar NAME_snapRotationDegress = \"snapRotationDegress\";\n/**\n * @namespace Moveable.Snappable\n * @description Whether or not target can be snapped to the guideline. (default: false)\n * @sort 2\n */\n\nvar Snappable = {\n  name: \"snappable\",\n  dragRelation: \"strong\",\n  props: [\"snappable\", \"snapContainer\", \"snapDirections\", \"elementSnapDirections\", \"snapGap\", \"snapGridWidth\", \"snapGridHeight\", \"isDisplaySnapDigit\", \"isDisplayInnerSnapDigit\", \"isDisplayGridGuidelines\", \"snapDigit\", \"snapThreshold\", \"snapRenderThreshold\", NAME_snapRotationThreshold, NAME_snapRotationDegress, \"horizontalGuidelines\", \"verticalGuidelines\", \"elementGuidelines\", \"bounds\", \"innerBounds\", \"snapDistFormat\", \"maxSnapElementGuidelineDistance\", \"maxSnapElementGapDistance\"],\n  events: [\"snap\"],\n  css: [\":host {\\n--bounds-color: #d66;\\n}\\n.guideline {\\npointer-events: none;\\nz-index: 2;\\n}\\n.guideline.bounds {\\nbackground: #d66;\\nbackground: var(--bounds-color);\\n}\\n.guideline-group {\\nposition: absolute;\\ntop: 0;\\nleft: 0;\\n}\\n.guideline-group .size-value {\\nposition: absolute;\\ncolor: #f55;\\nfont-size: 12px;\\nfont-size: calc(12px * var(--zoom));\\nfont-weight: bold;\\n}\\n.guideline-group.horizontal .size-value {\\ntransform-origin: 50% 100%;\\ntransform: translateX(-50%);\\nleft: 50%;\\nbottom: 5px;\\nbottom: calc(2px + 3px * var(--zoom));\\n}\\n.guideline-group.vertical .size-value {\\ntransform-origin: 0% 50%;\\ntop: 50%;\\ntransform: translateY(-50%);\\nleft: 5px;\\nleft: calc(2px + 3px * var(--zoom));\\n}\\n.guideline.gap {\\nbackground: #f55;\\n}\\n.size-value.gap {\\ncolor: #f55;\\n}\\n\"],\n  render: function (moveable, React) {\n    var state = moveable.state;\n    var targetTop = state.top,\n        targetLeft = state.left,\n        pos1 = state.pos1,\n        pos2 = state.pos2,\n        pos3 = state.pos3,\n        pos4 = state.pos4,\n        snapRenderInfo = state.snapRenderInfo;\n    var _a = moveable.props.snapRenderThreshold,\n        snapRenderThreshold = _a === void 0 ? 1 : _a;\n\n    if (!snapRenderInfo || !snapRenderInfo.render || !hasGuidelines(moveable, \"\")) {\n      return [];\n    }\n\n    state.guidelines = getTotalGuidelines(moveable);\n    var minLeft = Math.min(pos1[0], pos2[0], pos3[0], pos4[0]);\n    var minTop = Math.min(pos1[1], pos2[1], pos3[1], pos4[1]);\n    var externalPoses = snapRenderInfo.externalPoses || [];\n    var poses = getAbsolutePosesByState(moveable.state);\n    var verticalSnapPoses = [];\n    var horizontalSnapPoses = [];\n    var verticalGuidelines = [];\n    var horizontalGuidelines = [];\n    var snapInfos = [];\n\n    var _b = getRect(poses),\n        width = _b.width,\n        height = _b.height,\n        top = _b.top,\n        left = _b.left,\n        bottom = _b.bottom,\n        right = _b.right;\n\n    var targetRect = {\n      left: left,\n      right: right,\n      top: top,\n      bottom: bottom,\n      center: (left + right) / 2,\n      middle: (top + bottom) / 2\n    };\n    var hasExternalPoses = externalPoses.length > 0;\n    var externalRect = hasExternalPoses ? getRect(externalPoses) : {};\n\n    if (!snapRenderInfo.request) {\n      if (snapRenderInfo.direction) {\n        snapInfos.push(getSnapInfosByDirection(moveable, poses, snapRenderInfo.direction, snapRenderThreshold));\n      }\n\n      if (snapRenderInfo.snap) {\n        var rect = getRect(poses);\n\n        if (snapRenderInfo.center) {\n          rect.middle = (rect.top + rect.bottom) / 2;\n          rect.center = (rect.left + rect.right) / 2;\n        }\n\n        snapInfos.push(checkSnaps(moveable, rect, snapRenderThreshold));\n      }\n\n      if (hasExternalPoses) {\n        if (snapRenderInfo.center) {\n          externalRect.middle = (externalRect.top + externalRect.bottom) / 2;\n          externalRect.center = (externalRect.left + externalRect.right) / 2;\n        }\n\n        snapInfos.push(checkSnaps(moveable, externalRect, snapRenderThreshold));\n      }\n\n      snapInfos.forEach(function (snapInfo) {\n        var verticalPosInfos = snapInfo.vertical.posInfos,\n            horizontalPosInfos = snapInfo.horizontal.posInfos;\n        verticalSnapPoses.push.apply(verticalSnapPoses, verticalPosInfos.filter(function (_a) {\n          var guidelineInfos = _a.guidelineInfos;\n          return guidelineInfos.some(function (_a) {\n            var guideline = _a.guideline;\n            return !guideline.hide;\n          });\n        }).map(function (posInfo) {\n          return {\n            type: \"snap\",\n            pos: posInfo.pos\n          };\n        }));\n        horizontalSnapPoses.push.apply(horizontalSnapPoses, horizontalPosInfos.filter(function (_a) {\n          var guidelineInfos = _a.guidelineInfos;\n          return guidelineInfos.some(function (_a) {\n            var guideline = _a.guideline;\n            return !guideline.hide;\n          });\n        }).map(function (posInfo) {\n          return {\n            type: \"snap\",\n            pos: posInfo.pos\n          };\n        }));\n        verticalGuidelines.push.apply(verticalGuidelines, getSnapGuidelines(verticalPosInfos));\n        horizontalGuidelines.push.apply(horizontalGuidelines, getSnapGuidelines(horizontalPosInfos));\n      });\n    }\n\n    addBoundGuidelines(moveable, [left, right], [top, bottom], verticalSnapPoses, horizontalSnapPoses);\n\n    if (hasExternalPoses) {\n      addBoundGuidelines(moveable, [externalRect.left, externalRect.right], [externalRect.top, externalRect.bottom], verticalSnapPoses, horizontalSnapPoses, snapRenderInfo.externalBounds);\n    }\n\n    var allGuidelines = __spreadArray(__spreadArray([], verticalGuidelines, true), horizontalGuidelines, true);\n\n    var elementGuidelines = allGuidelines.filter(function (guideline) {\n      return guideline.element && !guideline.gapRects;\n    });\n    var gapGuidelines = allGuidelines.filter(function (guideline) {\n      return guideline.gapRects;\n    }).sort(function (a, b) {\n      return a.gap - b.gap;\n    });\n    triggerEvent(moveable, \"onSnap\", {\n      guidelines: allGuidelines.filter(function (_a) {\n        var element = _a.element;\n        return !element;\n      }),\n      elements: elementGuidelines,\n      gaps: gapGuidelines\n    }, true);\n    return __spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([], renderDashedGuidelines(moveable, elementGuidelines, [minLeft, minTop], targetRect, React), true), renderGapGuidelines(moveable, gapGuidelines, [minLeft, minTop], targetRect, React), true), renderGuidelines(moveable, \"horizontal\", horizontalGuidelines, [targetLeft, targetTop], targetRect, React), true), renderGuidelines(moveable, \"vertical\", verticalGuidelines, [targetLeft, targetTop], targetRect, React), true), renderSnapPoses(moveable, \"horizontal\", horizontalSnapPoses, minLeft, targetTop, width, 0, React), true), renderSnapPoses(moveable, \"vertical\", verticalSnapPoses, minTop, targetLeft, height, 1, React), true);\n  },\n  dragStart: function (moveable, e) {\n    moveable.state.snapRenderInfo = {\n      request: e.isRequest,\n      snap: true,\n      center: true\n    };\n    checkSnapInfo(moveable);\n  },\n  drag: function (moveable) {\n    var state = moveable.state;\n\n    if (!checkSnapInfo(moveable)) {\n      state.guidelines = getTotalGuidelines(moveable);\n    }\n\n    if (state.snapRenderInfo) {\n      state.snapRenderInfo.render = true;\n    }\n  },\n  pinchStart: function (moveable) {\n    this.unset(moveable);\n  },\n  dragEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragControlCondition: function (moveable, e) {\n    if (directionCondition$2(moveable, e) || dragControlCondition(moveable, e)) {\n      return true;\n    }\n\n    if (!e.isRequest && e.inputEvent) {\n      return hasClass(e.inputEvent.target, prefix(\"snap-control\"));\n    }\n  },\n  dragControlStart: function (moveable) {\n    moveable.state.snapRenderInfo = null;\n    checkSnapInfo(moveable);\n  },\n  dragControl: function (moveable) {\n    this.drag(moveable);\n  },\n  dragControlEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragGroupStart: function (moveable, e) {\n    this.dragStart(moveable, e);\n  },\n  dragGroup: function (moveable) {\n    this.drag(moveable);\n  },\n  dragGroupEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  dragGroupControlStart: function (moveable) {\n    moveable.state.snapRenderInfo = null;\n    checkSnapInfo(moveable);\n  },\n  dragGroupControl: function (moveable) {\n    this.drag(moveable);\n  },\n  dragGroupControlEnd: function (moveable) {\n    this.unset(moveable);\n  },\n  unset: function (moveable) {\n    var state = moveable.state;\n    state.enableSnap = false;\n    state.guidelines = [];\n    state.snapRenderInfo = null;\n    state.elementRects = [];\n  }\n};\n/**\n * Whether or not target can be snapped to the guideline. (default: false)\n * @name Moveable.Snappable#snappable\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snappable = true;\n */\n\n/**\n *  A snap container that is the basis for snap, bounds, and innerBounds. (default: null = container)\n * @name Moveable.Snappable#snapContainer\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.querySelector(\".container\"));\n *\n * moveable.snapContainer = document.body;\n */\n\n/**\n * You can specify the directions to snap to the target. (default: { left: true, top: true, right: true, bottom: true })\n * @name Moveable.Snappable#snapDirections\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n *   snapDirections: true,\n * });\n * // snap center\n * moveable.snapDirections = { left: true, top: true, right: true, bottom: true, center: true, middle: true };\n */\n\n/**\n * You can specify the snap directions of elements. (default: { left: true, top: true, right: true, bottom: true })\n * @name Moveable.Snappable#elementSnapDirections\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n *   elementSnapDirections: true,\n * });\n * // snap center\n * moveable.elementSnapDirections = { left: true, top: true, right: true, bottom: true, center: true, middle: true };\n */\n\n/**\n * When you drag, make the gap snap in the element guidelines. (default: true)\n * @name Moveable.Snappable#snapGap\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   snappable: true,\n *   snapElement: true,\n *   snapGap: true,\n * });\n *\n * moveable.snapGap = false;\n */\n\n/**\n * Distance value that can snap to guidelines. (default: 5)\n * @name Moveable.Snappable#snapThreshold\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapThreshold = 5;\n */\n\n/**\n * Add guidelines in the horizontal direction. (default: [])\n * @name Moveable.Snappable#horizontalGuidelines\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.horizontalGuidelines = [100, 200, 500];\n */\n\n/**\n * Add guidelines in the vertical direction. (default: [])\n * @name Moveable.Snappable#verticalGuidelines\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.verticalGuidelines = [100, 200, 500];\n */\n\n/**\n * Add guidelines for the element. (default: [])\n * @name Moveable.Snappable#elementGuidelines\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.elementGuidelines = [\n *   document.querySelector(\".element\"),\n * ];\n */\n\n/**\n * You can set up boundaries.\n * @name Moveable.Snappable#bounds\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @default null\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.bounds = { left: 0, right: 1000, top: 0, bottom: 1000};\n */\n\n/**\n * You can set up inner boundaries.\n * @name Moveable.Snappable#innerBounds\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @default null\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.innerBounds = { left: 500, top: 500, width: 100, height: 100};\n */\n\n/**\n * snap distance digits (default: 0)\n * @name Moveable.Snappable#snapDigit\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapDigit = 0\n */\n\n/**\n * If width size is greater than 0, you can vertical snap to the grid. (default: 0)\n * @name Moveable.Snappable#snapGridWidth\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapGridWidth = 5;\n */\n\n/**\n * If height size is greater than 0, you can horizontal snap to the grid. (default: 0)\n * @name Moveable.Snappable#snapGridHeight\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.snapGridHeight = 5;\n */\n\n/**\n * Whether to show snap distance (default: true)\n * @name Moveable.Snappable#isDisplaySnapDigit\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.isDisplaySnapDigit = true;\n */\n\n/**\n * Whether to show element inner snap distance (default: false)\n * @name Moveable.Snappable#isDisplayInnerSnapDigit\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.isDisplayInnerSnapDigit = true;\n */\n\n/**\n * You can set the text format of the distance shown in the guidelines. (default: self)\n * @name Moveable.Snappable#snapDistFormat\n * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Snappable.html#.SnappableOptions}\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  snappable: true,\n *  snapDistFormat: (v, type) => v,\n * });\n * moveable.snapDistFormat = (v, type) => `${v}px`;\n */\n\n/**\n * When you drag or dragControl, the `snap` event is called.\n * @memberof Moveable.Snappable\n * @event snap\n * @param {Moveable.Snappable.OnSnap} - Parameters for the `snap` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     snappable: true\n * });\n * moveable.on(\"snap\", e => {\n *     console.log(\"onSnap\", e);\n * });\n */\n\nfunction renderDirectionControlsByInfos(moveable, ableName, renderDirections, React) {\n  var _a = moveable.getState(),\n      renderPoses = _a.renderPoses,\n      rotationRad = _a.rotation,\n      direction = _a.direction;\n\n  var zoom = getProps(moveable.props, ableName).zoom;\n  var degRotation = absDegree(rotationRad / Math.PI * 180);\n  var directionMap = {};\n  var renderState = moveable.renderState;\n\n  if (!renderState.renderDirectionMap) {\n    renderState.renderDirectionMap = {};\n  }\n\n  var renderDirectionMap = renderState.renderDirectionMap;\n  renderDirections.forEach(function (_a) {\n    var dir = _a.dir;\n    directionMap[dir] = true;\n  });\n  var directionSign = sign(direction);\n  return renderDirections.map(function (_a) {\n    var data = _a.data,\n        classNames = _a.classNames,\n        dir = _a.dir;\n    var indexes = DIRECTION_INDEXES[dir];\n\n    if (!indexes || !directionMap[dir]) {\n      return null;\n    }\n\n    renderDirectionMap[dir] = true;\n    var directionRotation = (throttle(degRotation, 15) + directionSign * DIRECTION_ROTATIONS[dir] + 720) % 180;\n    var dataAttrs = {};\n    getKeys(data).forEach(function (name) {\n      dataAttrs[\"data-\".concat(name)] = data[name];\n    });\n    return React.createElement(\"div\", __assign({\n      className: prefix.apply(void 0, __spreadArray([\"control\", \"direction\", dir, ableName], classNames, false)),\n      \"data-rotation\": directionRotation,\n      \"data-direction\": dir\n    }, dataAttrs, {\n      key: \"direction-\".concat(dir),\n      style: getControlTransform.apply(void 0, __spreadArray([rotationRad, zoom], indexes.map(function (index) {\n        return renderPoses[index];\n      }), false))\n    }));\n  });\n}\nfunction renderDirectionControls(moveable, defaultDirections, ableName, React) {\n  var _a = getProps(moveable.props, ableName),\n      _b = _a.renderDirections,\n      directions = _b === void 0 ? defaultDirections : _b,\n      displayAroundControls = _a.displayAroundControls;\n\n  if (!directions) {\n    return [];\n  }\n\n  var renderDirections = directions === true ? DIRECTIONS : directions;\n  return __spreadArray(__spreadArray([], displayAroundControls ? renderAroundControls(moveable, React, ableName, renderDirections) : [], true), renderDirectionControlsByInfos(moveable, ableName, renderDirections.map(function (dir) {\n    return {\n      data: {},\n      classNames: [],\n      dir: dir\n    };\n  }), React), true);\n}\nfunction renderLine(React, direction, pos1, pos2, zoom, key) {\n  var classNames = [];\n\n  for (var _i = 6; _i < arguments.length; _i++) {\n    classNames[_i - 6] = arguments[_i];\n  }\n\n  var rad = getRad(pos1, pos2);\n  var rotation = direction ? throttle(rad / Math.PI * 180, 15) % 180 : -1;\n  return React.createElement(\"div\", {\n    key: \"line-\".concat(key),\n    className: prefix.apply(void 0, __spreadArray([\"line\", \"direction\", direction ? \"edge\" : \"\", direction], classNames, false)),\n    \"data-rotation\": rotation,\n    \"data-line-key\": key,\n    \"data-direction\": direction,\n    style: getLineStyle(pos1, pos2, zoom, rad)\n  });\n}\nfunction renderEdgeLines(React, ableName, edge, poses, zoom) {\n  var directions = edge === true ? DIRECTIONS4 : edge;\n  return directions.map(function (direction, i) {\n    var _a = DIRECTION_INDEXES[direction],\n        index1 = _a[0],\n        index2 = _a[1];\n\n    if (index2 == null) {\n      return;\n    }\n\n    return renderLine(React, direction, poses[index1], poses[index2], zoom, \"\".concat(ableName, \"Edge\").concat(i), ableName);\n  }).filter(Boolean);\n}\nfunction getRenderDirections(ableName) {\n  return function (moveable, React) {\n    var edge = getProps(moveable.props, ableName).edge;\n\n    if (edge && (edge === true || edge.length)) {\n      return __spreadArray(__spreadArray([], renderEdgeLines(React, ableName, edge, moveable.getState().renderPoses, moveable.props.zoom), true), renderDiagonalDirections(moveable, ableName, React), true);\n    }\n\n    return renderAllDirections(moveable, ableName, React);\n  };\n}\nfunction renderAllDirections(moveable, ableName, React) {\n  return renderDirectionControls(moveable, DIRECTIONS, ableName, React);\n}\nfunction renderDiagonalDirections(moveable, ableName, React) {\n  return renderDirectionControls(moveable, [\"nw\", \"ne\", \"sw\", \"se\"], ableName, React);\n}\nfunction renderAroundControls(moveable, React, ableName, renderDirections) {\n  var renderState = moveable.renderState;\n\n  if (!renderState.renderDirectionMap) {\n    renderState.renderDirectionMap = {};\n  }\n\n  var _a = moveable.getState(),\n      renderPoses = _a.renderPoses,\n      rotationRad = _a.rotation,\n      direction = _a.direction;\n\n  var renderDirectionMap = renderState.renderDirectionMap;\n  var zoom = moveable.props.zoom;\n  var directionSign = sign(direction);\n  var degRotation = rotationRad / Math.PI * 180;\n  return (renderDirections || getKeys(renderDirectionMap)).map(function (dir) {\n    var indexes = DIRECTION_INDEXES[dir];\n\n    if (!indexes) {\n      return null;\n    }\n\n    var directionRotation = (throttle(degRotation, 15) + directionSign * DIRECTION_ROTATIONS[dir] + 720) % 180;\n    var classNames = [\"around-control\"];\n\n    if (ableName) {\n      classNames.push(\"direction\", ableName);\n    }\n\n    return React.createElement(\"div\", {\n      className: prefix.apply(void 0, classNames),\n      \"data-rotation\": directionRotation,\n      \"data-direction\": dir,\n      key: \"direction-around-\".concat(dir),\n      style: getControlTransform.apply(void 0, __spreadArray([rotationRad, zoom], indexes.map(function (index) {\n        return renderPoses[index];\n      }), false))\n    });\n  });\n}\n\n/**\n * @namespace Draggable\n * @memberof Moveable\n * @description Draggable refers to the ability to drag and move targets.\n */\n\nvar Draggable = {\n  name: \"draggable\",\n  props: [\"draggable\", \"throttleDrag\", \"throttleDragRotate\", \"hideThrottleDragRotateLine\", \"startDragRotate\", \"edgeDraggable\"],\n  events: [\"dragStart\", \"drag\", \"dragEnd\", \"dragGroupStart\", \"dragGroup\", \"dragGroupEnd\"],\n  requestStyle: function () {\n    return [\"left\", \"top\", \"right\", \"bottom\"];\n  },\n  requestChildStyle: function () {\n    return [\"left\", \"top\", \"right\", \"bottom\"];\n  },\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        hideThrottleDragRotateLine = _a.hideThrottleDragRotateLine,\n        throttleDragRotate = _a.throttleDragRotate,\n        zoom = _a.zoom;\n\n    var _b = moveable.getState(),\n        dragInfo = _b.dragInfo,\n        beforeOrigin = _b.beforeOrigin;\n\n    if (hideThrottleDragRotateLine || !throttleDragRotate || !dragInfo) {\n      return [];\n    }\n\n    var dist = dragInfo.dist;\n\n    if (!dist[0] && !dist[1]) {\n      return [];\n    }\n\n    var width = getDistSize(dist);\n    var rad = getRad(dist, [0, 0]);\n    return [React.createElement(\"div\", {\n      className: prefix(\"line\", \"horizontal\", \"dragline\", \"dashed\"),\n      key: \"dragRotateGuideline\",\n      style: {\n        width: \"\".concat(width, \"px\"),\n        transform: \"translate(\".concat(beforeOrigin[0], \"px, \").concat(beforeOrigin[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\")\n      }\n    })];\n  },\n  dragStart: function (moveable, e) {\n    var datas = e.datas,\n        parentEvent = e.parentEvent,\n        parentGesto = e.parentGesto;\n    var state = moveable.state;\n    var gestos = state.gestos,\n        style = state.style;\n\n    if (gestos.draggable) {\n      return false;\n    }\n\n    gestos.draggable = parentGesto || moveable.targetGesto;\n    datas.datas = {};\n    datas.left = parseFloat(style.left || \"\") || 0;\n    datas.top = parseFloat(style.top || \"\") || 0;\n    datas.bottom = parseFloat(style.bottom || \"\") || 0;\n    datas.right = parseFloat(style.right || \"\") || 0;\n    datas.startValue = [0, 0];\n    setDragStart(moveable, e);\n    setDefaultTransformIndex(e, \"translate\");\n    startCheckSnapDrag(moveable, datas);\n    datas.prevDist = [0, 0];\n    datas.prevBeforeDist = [0, 0];\n    datas.isDrag = false;\n    datas.deltaOffset = [0, 0];\n    var params = fillParams(moveable, e, __assign({\n      set: function (translate) {\n        datas.startValue = translate;\n      }\n    }, fillTransformStartEvent(e)));\n    var result = parentEvent || triggerEvent(moveable, \"onDragStart\", params);\n\n    if (result !== false) {\n      datas.isDrag = true;\n      moveable.state.dragInfo = {\n        startRect: moveable.getRect(),\n        dist: [0, 0]\n      };\n    } else {\n      gestos.draggable = null;\n      datas.isPinch = false;\n    }\n\n    return datas.isDrag ? params : false;\n  },\n  drag: function (moveable, e) {\n    if (!e) {\n      return;\n    }\n\n    resolveTransformEvent(e, \"translate\");\n    var datas = e.datas,\n        parentEvent = e.parentEvent,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        isRequest = e.isRequest,\n        deltaOffset = e.deltaOffset;\n    var distX = e.distX,\n        distY = e.distY;\n    var isDrag = datas.isDrag,\n        prevDist = datas.prevDist,\n        prevBeforeDist = datas.prevBeforeDist,\n        startValue = datas.startValue;\n\n    if (!isDrag) {\n      return;\n    }\n\n    if (deltaOffset) {\n      distX += deltaOffset[0];\n      distY += deltaOffset[1];\n    }\n\n    var props = moveable.props;\n    var parentMoveable = props.parentMoveable;\n    var throttleDrag = parentEvent ? 0 : props.throttleDrag || 0;\n    var throttleDragRotate = parentEvent ? 0 : props.throttleDragRotate || 0;\n    var dragRotateRad = 0;\n    var isVerticalSnap = false;\n    var isVerticalBound = false;\n    var isHorizontalSnap = false;\n    var isHorizontalBound = false;\n\n    if (!parentEvent && throttleDragRotate > 0 && (distX || distY)) {\n      var startDragRotate = props.startDragRotate || 0;\n      var deg = throttle(startDragRotate + getRad([0, 0], [distX, distY]) * 180 / Math.PI, throttleDragRotate) - startDragRotate;\n      var ry = distY * Math.abs(Math.cos((deg - 90) / 180 * Math.PI));\n      var rx = distX * Math.abs(Math.cos(deg / 180 * Math.PI));\n      var r = getDistSize([rx, ry]);\n      dragRotateRad = deg * Math.PI / 180;\n      distX = r * Math.cos(dragRotateRad);\n      distY = r * Math.sin(dragRotateRad);\n    }\n\n    if (!isPinch && !parentEvent && !parentFlag) {\n      var _a = checkSnapBoundsDrag(moveable, distX, distY, throttleDragRotate, isRequest || deltaOffset, datas),\n          verticalInfo = _a[0],\n          horizontalInfo = _a[1];\n\n      isVerticalSnap = verticalInfo.isSnap;\n      isVerticalBound = verticalInfo.isBound;\n      isHorizontalSnap = horizontalInfo.isSnap;\n      isHorizontalBound = horizontalInfo.isBound;\n      var verticalOffset = verticalInfo.offset;\n      var horizontalOffset = horizontalInfo.offset;\n      distX += verticalOffset;\n      distY += horizontalOffset;\n    }\n\n    var beforeTranslate = plus(getBeforeDragDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    }), startValue);\n    var translate = plus(getTransformDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    }), startValue);\n    throttleArray(translate, TINY_NUM);\n    throttleArray(beforeTranslate, TINY_NUM);\n\n    if (!throttleDragRotate) {\n      if (!isVerticalSnap && !isVerticalBound) {\n        translate[0] = throttle(translate[0], throttleDrag);\n        beforeTranslate[0] = throttle(beforeTranslate[0], throttleDrag);\n      }\n\n      if (!isHorizontalSnap && !isHorizontalBound) {\n        translate[1] = throttle(translate[1], throttleDrag);\n        beforeTranslate[1] = throttle(beforeTranslate[1], throttleDrag);\n      }\n    }\n\n    var beforeDist = minus(beforeTranslate, startValue);\n    var dist = minus(translate, startValue);\n    var delta = minus(dist, prevDist);\n    var beforeDelta = minus(beforeDist, prevBeforeDist);\n    datas.prevDist = dist;\n    datas.prevBeforeDist = beforeDist;\n    datas.passDelta = delta; //distX - (datas.passDistX || 0);\n    // datas.passDeltaY = distY - (datas.passDistY || 0);\n\n    datas.passDist = dist; //distX;\n    // datas.passDistY = distY;\n\n    var left = datas.left + beforeDist[0];\n    var top = datas.top + beforeDist[1];\n    var right = datas.right - beforeDist[0];\n    var bottom = datas.bottom - beforeDist[1];\n    var nextTransform = convertTransformFormat(datas, \"translate(\".concat(translate[0], \"px, \").concat(translate[1], \"px)\"), \"translate(\".concat(dist[0], \"px, \").concat(dist[1], \"px)\"));\n    fillOriginalTransform(e, nextTransform);\n    moveable.state.dragInfo.dist = parentEvent ? [0, 0] : dist;\n\n    if (!parentEvent && !parentMoveable && delta.every(function (num) {\n      return !num;\n    }) && beforeDelta.some(function (num) {\n      return !num;\n    })) {\n      return;\n    }\n\n    var _b = moveable.state,\n        width = _b.width,\n        height = _b.height;\n    var params = fillParams(moveable, e, __assign({\n      transform: nextTransform,\n      dist: dist,\n      delta: delta,\n      translate: translate,\n      beforeDist: beforeDist,\n      beforeDelta: beforeDelta,\n      beforeTranslate: beforeTranslate,\n      left: left,\n      top: top,\n      right: right,\n      bottom: bottom,\n      width: width,\n      height: height,\n      isPinch: isPinch\n    }, fillCSSObject({\n      transform: nextTransform\n    }, e)));\n    !parentEvent && triggerEvent(moveable, \"onDrag\", params);\n    return params;\n  },\n  dragAfter: function (moveable, e) {\n    var datas = e.datas;\n    var deltaOffset = datas.deltaOffset;\n\n    if (deltaOffset[0] || deltaOffset[1]) {\n      datas.deltaOffset = [0, 0];\n      return this.drag(moveable, __assign(__assign({}, e), {\n        deltaOffset: deltaOffset\n      }));\n    }\n\n    return false;\n  },\n  dragEnd: function (moveable, e) {\n    var parentEvent = e.parentEvent,\n        datas = e.datas;\n    moveable.state.dragInfo = null;\n\n    if (!datas.isDrag) {\n      return;\n    }\n\n    datas.isDrag = false;\n    var param = fillEndParams(moveable, e, {});\n    !parentEvent && triggerEvent(moveable, \"onDragEnd\", param);\n    return param;\n  },\n  dragGroupStart: function (moveable, e) {\n    var datas = e.datas,\n        clientX = e.clientX,\n        clientY = e.clientY;\n    var params = this.dragStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    var events = triggerChildGesto(moveable, this, \"dragStart\", [clientX || 0, clientY || 0], e, false, \"draggable\");\n\n    var nextParams = __assign(__assign({}, params), {\n      targets: moveable.props.targets,\n      events: events\n    });\n\n    var result = triggerEvent(moveable, \"onDragGroupStart\", nextParams);\n    datas.isDrag = result !== false;\n    return datas.isDrag ? params : false;\n  },\n  dragGroup: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isDrag) {\n      return;\n    }\n\n    var params = this.drag(moveable, e);\n    var passDelta = e.datas.passDelta;\n    var events = triggerChildGesto(moveable, this, \"drag\", passDelta, e, false, \"draggable\");\n\n    if (!params) {\n      return;\n    }\n\n    var nextParams = __assign({\n      targets: moveable.props.targets,\n      events: events\n    }, params);\n\n    triggerEvent(moveable, \"onDragGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isDrag) {\n      return;\n    }\n\n    this.dragEnd(moveable, e);\n    var events = triggerChildGesto(moveable, this, \"dragEnd\", [0, 0], e, false, \"draggable\");\n    triggerEvent(moveable, \"onDragGroupEnd\", fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    }));\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Draggable#request\n   * @param {object} [e] - the draggable's request parameter\n   * @param {number} [e.x] - x position\n   * @param {number} [e.y] - y position\n   * @param {number} [e.deltaX] - X number to move\n   * @param {number} [e.deltaY] - Y number to move\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * // Use Relative Value\n   * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\n   * // Use Absolute Value\n   * moveable.request(\"draggable\", { x: 200, y: 100 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"draggable\");\n   *\n   * // request\n   * // Use Relative Value\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * // Use Absolute Value\n   * moveable.request(\"draggable\", { x: 200, y: 100 });\n   * moveable.request(\"draggable\", { x: 220, y: 100 });\n   * moveable.request(\"draggable\", { x: 240, y: 100 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function (moveable) {\n    var datas = {};\n    var rect = moveable.getRect();\n    var distX = 0;\n    var distY = 0;\n    return {\n      isControl: false,\n      requestStart: function () {\n        return {\n          datas: datas\n        };\n      },\n      request: function (e) {\n        if (\"x\" in e) {\n          distX = e.x - rect.left;\n        } else if (\"deltaX\" in e) {\n          distX += e.deltaX;\n        }\n\n        if (\"y\" in e) {\n          distY = e.y - rect.top;\n        } else if (\"deltaY\" in e) {\n          distY += e.deltaY;\n        }\n\n        return {\n          datas: datas,\n          distX: distX,\n          distY: distY\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  },\n  unset: function (moveable) {\n    moveable.state.gestos.draggable = null;\n    moveable.state.dragInfo = null;\n  }\n};\n/**\n * Whether or not target can be dragged. (default: false)\n * @name Moveable.Draggable#draggable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.draggable = true;\n */\n\n/**\n * throttle of x, y when drag.\n * @name Moveable.Draggable#throttleDrag\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleDrag = 1;\n */\n\n/**\n* throttle of angle of x, y when drag.\n* @name Moveable.Draggable#throttleDragRotate\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body);\n*\n* moveable.throttleDragRotate = 45;\n*/\n\n/**\n* start angle of throttleDragRotate of x, y when drag.\n* @name Moveable.Draggable#startDragRotate\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body);\n*\n* // 45, 135, 225, 315\n* moveable.throttleDragRotate = 90;\n* moveable.startDragRotate = 45;\n*/\n\n/**\n * When the drag starts, the dragStart event is called.\n * @memberof Moveable.Draggable\n * @event dragStart\n * @param {Moveable.Draggable.OnDragStart} - Parameters for the dragStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"dragStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When dragging, the drag event is called.\n * @memberof Moveable.Draggable\n * @event drag\n * @param {Moveable.Draggable.OnDrag} - Parameters for the drag event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"drag\", ({ target, transform }) => {\n *     target.style.transform = transform;\n * });\n */\n\n/**\n * When the drag finishes, the dragEnd event is called.\n * @memberof Moveable.Draggable\n * @event dragEnd\n * @param {Moveable.Draggable.OnDragEnd} - Parameters for the dragEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { draggable: true });\n * moveable.on(\"dragEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n* When the group drag starts, the `dragGroupStart` event is called.\n* @memberof Moveable.Draggable\n* @event dragGroupStart\n* @param {Moveable.Draggable.OnDragGroupStart} - Parameters for the `dragGroupStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     draggable: true\n* });\n* moveable.on(\"dragGroupStart\", ({ targets }) => {\n*     console.log(\"onDragGroupStart\", targets);\n* });\n*/\n\n/**\n* When the group drag, the `dragGroup` event is called.\n* @memberof Moveable.Draggable\n* @event dragGroup\n* @param {Moveable.Draggable.OnDragGroup} - Parameters for the `dragGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     draggable: true\n* });\n* moveable.on(\"dragGroup\", ({ targets, events }) => {\n*     console.log(\"onDragGroup\", targets);\n*     events.forEach(ev => {\n*          // drag event\n*          console.log(\"onDrag left, top\", ev.left, ev.top);\n*          // ev.target!.style.left = `${ev.left}px`;\n*          // ev.target!.style.top = `${ev.top}px`;\n*          console.log(\"onDrag translate\", ev.dist);\n*          ev.target!.style.transform = ev.transform;)\n*     });\n* });\n*/\n\n/**\n * When the group drag finishes, the `dragGroupEnd` event is called.\n * @memberof Moveable.Draggable\n * @event dragGroupEnd\n * @param {Moveable.Draggable.OnDragGroupEnd} - Parameters for the `dragGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     draggable: true\n * });\n * moveable.on(\"dragGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onDragGroupEnd\", targets, isDrag);\n * });\n */\n\nfunction getFixedDirectionInfo(startPositions, fixedDirection) {\n  var fixedPosition = getPosByDirection(startPositions, fixedDirection);\n  var fixedOffset = [0, 0];\n  return {\n    fixedPosition: fixedPosition,\n    fixedDirection: fixedDirection,\n    fixedOffset: fixedOffset\n  };\n}\nfunction getOffsetFixedDirectionInfo(state, fixedDirection) {\n  // for start\n  var allMatrix = state.allMatrix,\n      is3d = state.is3d,\n      width = state.width,\n      height = state.height;\n  var n = is3d ? 4 : 3;\n  var nextFixedOffset = [width / 2 * (1 + fixedDirection[0]), height / 2 * (1 + fixedDirection[1])];\n  var fixedPosition = calculatePosition(allMatrix, nextFixedOffset, n);\n  var fixedOffset = [0, 0];\n  return {\n    fixedPosition: fixedPosition,\n    fixedDirection: fixedDirection,\n    fixedOffset: fixedOffset\n  };\n}\nfunction getOffsetFixedPositionInfo(state, offsetFixedPosition) {\n  // for start\n  var allMatrix = state.allMatrix,\n      is3d = state.is3d,\n      width = state.width,\n      height = state.height;\n  var n = is3d ? 4 : 3;\n  var fixedDirection = getDirectionByPos(offsetFixedPosition, width, height);\n  var nextFixedPosition = calculatePosition(allMatrix, offsetFixedPosition, n);\n  var fixedOffset = [width ? 0 : offsetFixedPosition[0], height ? 0 : offsetFixedPosition[1]];\n  return {\n    fixedPosition: nextFixedPosition,\n    fixedDirection: fixedDirection,\n    fixedOffset: fixedOffset\n  };\n}\n\n/**\n * @namespace Resizable\n * @memberof Moveable\n * @description Resizable indicates whether the target's width and height can be increased or decreased.\n */\n\nvar directionCondition$1 = getDirectionCondition(\"resizable\");\nvar Resizable = {\n  name: \"resizable\",\n  ableGroup: \"size\",\n  canPinch: true,\n  props: [\"resizable\", \"throttleResize\", \"renderDirections\", \"displayAroundControls\", \"keepRatio\", \"resizeFormat\", \"keepRatioFinally\", \"edge\", \"checkResizableError\"],\n  events: [\"resizeStart\", \"beforeResize\", \"resize\", \"resizeEnd\", \"resizeGroupStart\", \"beforeResizeGroup\", \"resizeGroup\", \"resizeGroupEnd\"],\n  render: getRenderDirections(\"resizable\"),\n  dragControlCondition: directionCondition$1,\n  viewClassName: getDirectionViewClassName(\"resizable\"),\n  dragControlStart: function (moveable, e) {\n    var _a;\n\n    var inputEvent = e.inputEvent,\n        isPinch = e.isPinch,\n        isGroup = e.isGroup,\n        parentDirection = e.parentDirection,\n        parentGesto = e.parentGesto,\n        datas = e.datas,\n        parentFixedDirection = e.parentFixedDirection,\n        parentEvent = e.parentEvent;\n    var direction = getTotalDirection(parentDirection, isPinch, inputEvent, datas);\n    var state = moveable.state;\n    var target = state.target,\n        width = state.width,\n        height = state.height,\n        gestos = state.gestos;\n\n    if (!direction || !target) {\n      return false;\n    }\n\n    if (gestos.resizable) {\n      return false;\n    }\n\n    gestos.resizable = parentGesto || moveable.controlGesto;\n    !isPinch && setDragStart(moveable, e);\n    datas.datas = {};\n    datas.direction = direction;\n    datas.startOffsetWidth = width;\n    datas.startOffsetHeight = height;\n    datas.prevWidth = 0;\n    datas.prevHeight = 0;\n    datas.minSize = [0, 0];\n    datas.startWidth = state.inlineCSSWidth || state.cssWidth;\n    datas.startHeight = state.inlineCSSHeight || state.cssHeight;\n    datas.maxSize = [Infinity, Infinity];\n\n    if (!isGroup) {\n      datas.minSize = [state.minOffsetWidth, state.minOffsetHeight];\n      datas.maxSize = [state.maxOffsetWidth, state.maxOffsetHeight];\n    }\n\n    var transformOrigin = moveable.props.transformOrigin || \"% %\";\n    datas.transformOrigin = transformOrigin && isString(transformOrigin) ? transformOrigin.split(\" \") : transformOrigin;\n    datas.startOffsetMatrix = state.offsetMatrix;\n    datas.startTransformOrigin = state.transformOrigin;\n    datas.isWidth = (_a = e === null || e === void 0 ? void 0 : e.parentIsWidth) !== null && _a !== void 0 ? _a : !direction[0] && !direction[1] || direction[0] || !direction[1];\n\n    function setRatio(ratio) {\n      datas.ratio = ratio && isFinite(ratio) ? ratio : 0;\n    }\n\n    datas.startPositions = getAbsolutePosesByState(moveable.state);\n\n    function setFixedDirection(fixedDirection) {\n      var result = getFixedDirectionInfo(datas.startPositions, fixedDirection);\n      datas.fixedDirection = result.fixedDirection;\n      datas.fixedPosition = result.fixedPosition;\n      datas.fixedOffset = result.fixedOffset;\n    }\n\n    function setFixedPosition(fixedPosition) {\n      var result = getOffsetFixedPositionInfo(moveable.state, fixedPosition);\n      datas.fixedDirection = result.fixedDirection;\n      datas.fixedPosition = result.fixedPosition;\n      datas.fixedOffset = result.fixedOffset;\n    }\n\n    function setMin(minSize) {\n      datas.minSize = [convertUnitSize(\"\".concat(minSize[0]), 0) || 0, convertUnitSize(\"\".concat(minSize[1]), 0) || 0];\n    }\n\n    function setMax(maxSize) {\n      var nextMaxSize = [maxSize[0] || Infinity, maxSize[1] || Infinity];\n\n      if (!isNumber(nextMaxSize[0]) || isFinite(nextMaxSize[0])) {\n        nextMaxSize[0] = convertUnitSize(\"\".concat(nextMaxSize[0]), 0) || Infinity;\n      }\n\n      if (!isNumber(nextMaxSize[1]) || isFinite(nextMaxSize[1])) {\n        nextMaxSize[1] = convertUnitSize(\"\".concat(nextMaxSize[1]), 0) || Infinity;\n      }\n\n      datas.maxSize = nextMaxSize;\n    }\n\n    setRatio(width / height);\n    setFixedDirection(parentFixedDirection || [-direction[0], -direction[1]]);\n    datas.setFixedDirection = setFixedDirection;\n    datas.setFixedPosition = setFixedPosition;\n    datas.setMin = setMin;\n    datas.setMax = setMax;\n    var params = fillParams(moveable, e, {\n      direction: direction,\n      startRatio: datas.ratio,\n      set: function (_a) {\n        var startWidth = _a[0],\n            startHeight = _a[1];\n        datas.startWidth = startWidth;\n        datas.startHeight = startHeight;\n      },\n      setMin: setMin,\n      setMax: setMax,\n      setRatio: setRatio,\n      setFixedDirection: setFixedDirection,\n      setFixedPosition: setFixedPosition,\n      setOrigin: function (origin) {\n        datas.transformOrigin = origin;\n      },\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    });\n    var result = parentEvent || triggerEvent(moveable, \"onResizeStart\", params);\n    datas.startFixedDirection = datas.fixedDirection;\n    datas.startFixedPosition = datas.fixedPosition;\n\n    if (result !== false) {\n      datas.isResize = true;\n      moveable.state.snapRenderInfo = {\n        request: e.isRequest,\n        direction: direction\n      };\n    }\n\n    return datas.isResize ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    var _a;\n\n    var datas = e.datas,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        parentKeepRatio = e.parentKeepRatio,\n        dragClient = e.dragClient,\n        parentDist = e.parentDist,\n        isRequest = e.isRequest,\n        isGroup = e.isGroup,\n        parentEvent = e.parentEvent,\n        resolveMatrix = e.resolveMatrix;\n    var isResize = datas.isResize,\n        transformOrigin = datas.transformOrigin,\n        startWidth = datas.startWidth,\n        startHeight = datas.startHeight,\n        prevWidth = datas.prevWidth,\n        prevHeight = datas.prevHeight,\n        minSize = datas.minSize,\n        maxSize = datas.maxSize,\n        ratio = datas.ratio,\n        startOffsetWidth = datas.startOffsetWidth,\n        startOffsetHeight = datas.startOffsetHeight,\n        isWidth = datas.isWidth;\n\n    if (!isResize) {\n      return;\n    }\n\n    if (resolveMatrix) {\n      var is3d = moveable.state.is3d;\n      var startOffsetMatrix = datas.startOffsetMatrix,\n          startTransformOrigin = datas.startTransformOrigin;\n      var n = is3d ? 4 : 3;\n      var targetMatrix = parseMat(getNextTransforms(e));\n      var targetN = Math.sqrt(targetMatrix.length);\n\n      if (n !== targetN) {\n        targetMatrix = convertDimension(targetMatrix, targetN, n);\n      }\n\n      var nextAllMatrix = getNextMatrix(startOffsetMatrix, targetMatrix, startTransformOrigin, n);\n      var poses = calculatePoses(nextAllMatrix, startOffsetWidth, startOffsetHeight, n);\n      datas.startPositions = poses;\n      datas.nextTargetMatrix = targetMatrix;\n      datas.nextAllMatrix = nextAllMatrix;\n    }\n\n    var props = getProps(moveable.props, \"resizable\");\n    var resizeFormat = props.resizeFormat,\n        _b = props.throttleResize,\n        throttleResize = _b === void 0 ? parentFlag ? 0 : 1 : _b,\n        parentMoveable = props.parentMoveable,\n        keepRatioFinally = props.keepRatioFinally;\n    var direction = datas.direction;\n    var sizeDirection = direction;\n    var distWidth = 0;\n    var distHeight = 0;\n\n    if (!direction[0] && !direction[1]) {\n      sizeDirection = [1, 1];\n    }\n\n    var keepRatio = ratio && (parentKeepRatio != null ? parentKeepRatio : props.keepRatio) || false;\n\n    function getNextBoundingSize() {\n      var fixedDirection = datas.fixedDirection;\n      var nextSize = getOffsetSizeDist(sizeDirection, keepRatio, datas, e);\n      distWidth = nextSize.distWidth;\n      distHeight = nextSize.distHeight;\n      var nextWidth = sizeDirection[0] - fixedDirection[0] || keepRatio ? Math.max(startOffsetWidth + distWidth, TINY_NUM) : startOffsetWidth;\n      var nextHeight = sizeDirection[1] - fixedDirection[1] || keepRatio ? Math.max(startOffsetHeight + distHeight, TINY_NUM) : startOffsetHeight;\n\n      if (keepRatio && startOffsetWidth && startOffsetHeight) {\n        // startOffsetWidth : startOffsetHeight = nextWidth : nextHeight\n        if (isWidth) {\n          nextHeight = nextWidth / ratio;\n        } else {\n          nextWidth = nextHeight * ratio;\n        }\n      }\n\n      return [nextWidth, nextHeight];\n    }\n\n    var _c = getNextBoundingSize(),\n        boundingWidth = _c[0],\n        boundingHeight = _c[1];\n\n    if (!parentEvent) {\n      datas.setFixedDirection(datas.fixedDirection);\n      triggerEvent(moveable, \"onBeforeResize\", fillParams(moveable, e, {\n        startFixedDirection: datas.startFixedDirection,\n        startFixedPosition: datas.startFixedPosition,\n        setFixedDirection: function (nextFixedDirection) {\n          var _a;\n\n          datas.setFixedDirection(nextFixedDirection);\n          _a = getNextBoundingSize(), boundingWidth = _a[0], boundingHeight = _a[1];\n          return [boundingWidth, boundingHeight];\n        },\n        setFixedPosition: function (nextFixedPosition) {\n          var _a;\n\n          datas.setFixedPosition(nextFixedPosition);\n          _a = getNextBoundingSize(), boundingWidth = _a[0], boundingHeight = _a[1];\n          return [boundingWidth, boundingHeight];\n        },\n        boundingWidth: boundingWidth,\n        boundingHeight: boundingHeight,\n        setSize: function (size) {\n          boundingWidth = size[0], boundingHeight = size[1];\n        }\n      }, true));\n    }\n\n    var fixedPosition = dragClient;\n\n    if (!dragClient) {\n      if (!parentFlag && isPinch) {\n        fixedPosition = getAbsolutePosition(moveable, [0, 0]);\n      } else {\n        fixedPosition = datas.fixedPosition;\n      }\n    }\n\n    var snapDist = [0, 0];\n\n    if (!isPinch) {\n      snapDist = checkSnapResize(moveable, boundingWidth, boundingHeight, direction, fixedPosition, isRequest, datas);\n    }\n\n    if (parentDist) {\n      !parentDist[0] && (snapDist[0] = 0);\n      !parentDist[1] && (snapDist[1] = 0);\n    }\n\n    function computeSize() {\n      var _a;\n\n      if (resizeFormat) {\n        _a = resizeFormat([boundingWidth, boundingHeight]), boundingWidth = _a[0], boundingHeight = _a[1];\n      }\n\n      boundingWidth = throttle(boundingWidth, throttleResize);\n      boundingHeight = throttle(boundingHeight, throttleResize);\n    }\n\n    if (keepRatio) {\n      if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\n        if (abs(snapDist[0]) > abs(snapDist[1])) {\n          snapDist[1] = 0;\n        } else {\n          snapDist[0] = 0;\n        }\n      }\n\n      var isNoSnap = !snapDist[0] && !snapDist[1];\n\n      if (isNoSnap) {\n        // pre-compute before maintaining the ratio\n        computeSize();\n      }\n\n      if (sizeDirection[0] && !sizeDirection[1] || snapDist[0] && !snapDist[1] || isNoSnap && isWidth) {\n        boundingWidth += snapDist[0];\n        boundingHeight = boundingWidth / ratio;\n      } else if (!sizeDirection[0] && sizeDirection[1] || !snapDist[0] && snapDist[1] || isNoSnap && !isWidth) {\n        boundingHeight += snapDist[1];\n        boundingWidth = boundingHeight * ratio;\n      }\n    } else {\n      boundingWidth += snapDist[0];\n      boundingHeight += snapDist[1];\n      boundingWidth = Math.max(0, boundingWidth);\n      boundingHeight = Math.max(0, boundingHeight);\n    }\n\n    _a = calculateBoundSize([boundingWidth, boundingHeight], minSize, maxSize, keepRatio ? ratio : false), boundingWidth = _a[0], boundingHeight = _a[1];\n    computeSize();\n\n    if (keepRatio && (isGroup || keepRatioFinally)) {\n      if (isWidth) {\n        boundingHeight = boundingWidth / ratio;\n      } else {\n        boundingWidth = boundingHeight * ratio;\n      }\n    }\n\n    distWidth = boundingWidth - startOffsetWidth;\n    distHeight = boundingHeight - startOffsetHeight;\n    var delta = [distWidth - prevWidth, distHeight - prevHeight];\n    datas.prevWidth = distWidth;\n    datas.prevHeight = distHeight;\n    var inverseDelta = getResizeDist(moveable, boundingWidth, boundingHeight, fixedPosition, transformOrigin, datas);\n\n    if (!parentMoveable && delta.every(function (num) {\n      return !num;\n    }) && inverseDelta.every(function (num) {\n      return !num;\n    })) {\n      return;\n    }\n\n    var drag = Draggable.drag(moveable, setCustomDrag(e, moveable.state, inverseDelta, !!isPinch, false, \"draggable\"));\n    var transform = drag.transform;\n    var nextWidth = startWidth + distWidth;\n    var nextHeight = startHeight + distHeight;\n    var params = fillParams(moveable, e, __assign({\n      width: nextWidth,\n      height: nextHeight,\n      offsetWidth: Math.round(boundingWidth),\n      offsetHeight: Math.round(boundingHeight),\n      startRatio: ratio,\n      boundingWidth: boundingWidth,\n      boundingHeight: boundingHeight,\n      direction: direction,\n      dist: [distWidth, distHeight],\n      delta: delta,\n      isPinch: !!isPinch,\n      drag: drag\n    }, fillAfterTransform({\n      style: {\n        width: \"\".concat(nextWidth, \"px\"),\n        height: \"\".concat(nextHeight, \"px\")\n      },\n      transform: transform\n    }, drag, e)));\n    !parentEvent && triggerEvent(moveable, \"onResize\", params);\n    return params;\n  },\n  dragControlAfter: function (moveable, e) {\n    var datas = e.datas;\n    var isResize = datas.isResize,\n        startOffsetWidth = datas.startOffsetWidth,\n        startOffsetHeight = datas.startOffsetHeight,\n        prevWidth = datas.prevWidth,\n        prevHeight = datas.prevHeight;\n\n    if (!isResize || moveable.props.checkResizableError === false) {\n      return;\n    }\n\n    var _a = moveable.state,\n        width = _a.width,\n        height = _a.height;\n    var errorWidth = width - (startOffsetWidth + prevWidth);\n    var errorHeight = height - (startOffsetHeight + prevHeight);\n    var isErrorWidth = abs(errorWidth) > 3;\n    var isErrorHeight = abs(errorHeight) > 3;\n\n    if (isErrorWidth) {\n      datas.startWidth += errorWidth;\n      datas.startOffsetWidth += errorWidth;\n      datas.prevWidth += errorWidth;\n    }\n\n    if (isErrorHeight) {\n      datas.startHeight += errorHeight;\n      datas.startOffsetHeight += errorHeight;\n      datas.prevHeight += errorHeight;\n    }\n\n    if (isErrorWidth || isErrorHeight) {\n      return this.dragControl(moveable, e);\n    }\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas,\n        parentEvent = e.parentEvent;\n\n    if (!datas.isResize) {\n      return;\n    }\n\n    datas.isResize = false;\n    var params = fillEndParams(moveable, e, {});\n    !parentEvent && triggerEvent(moveable, \"onResizeEnd\", params);\n    return params;\n  },\n  dragGroupControlCondition: directionCondition$1,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var params = this.dragControlStart(moveable, __assign(__assign({}, e), {\n      isGroup: true\n    }));\n\n    if (!params) {\n      return false;\n    }\n\n    var originalEvents = fillChildEvents(moveable, \"resizable\", e);\n    var parentStartOffsetWidth = datas.startOffsetWidth,\n        parentStartOffsetHeight = datas.startOffsetHeight;\n\n    function updateGroupMin() {\n      var originalMinSize = datas.minSize;\n      originalEvents.forEach(function (ev) {\n        var _a = ev.datas,\n            childMinSize = _a.minSize,\n            childStartOffsetWidth = _a.startOffsetWidth,\n            childStartOffsetHeight = _a.startOffsetHeight;\n        var parentMinWidth = parentStartOffsetWidth * (childStartOffsetWidth ? childMinSize[0] / childStartOffsetWidth : 0);\n        var parentMinHeight = parentStartOffsetHeight * (childStartOffsetHeight ? childMinSize[1] / childStartOffsetHeight : 0);\n        originalMinSize[0] = Math.max(originalMinSize[0], parentMinWidth);\n        originalMinSize[1] = Math.max(originalMinSize[1], parentMinHeight);\n      });\n    }\n\n    function updateGroupMax() {\n      var originalMaxSize = datas.maxSize;\n      originalEvents.forEach(function (ev) {\n        var _a = ev.datas,\n            childMaxSize = _a.maxSize,\n            childStartOffsetWidth = _a.startOffsetWidth,\n            childStartOffsetHeight = _a.startOffsetHeight;\n        var parentMaxWidth = parentStartOffsetWidth * (childStartOffsetWidth ? childMaxSize[0] / childStartOffsetWidth : 0);\n        var parentMaxHeight = parentStartOffsetHeight * (childStartOffsetHeight ? childMaxSize[1] / childStartOffsetHeight : 0);\n        originalMaxSize[0] = Math.min(originalMaxSize[0], parentMaxWidth);\n        originalMaxSize[1] = Math.min(originalMaxSize[1], parentMaxHeight);\n      });\n    }\n\n    var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      return startChildDist(moveable, child, datas, ev);\n    });\n    updateGroupMin();\n    updateGroupMax();\n\n    var setFixedDirection = function (fixedDirection) {\n      params.setFixedDirection(fixedDirection);\n      events.forEach(function (ev, i) {\n        ev.setFixedDirection(fixedDirection);\n        startChildDist(moveable, ev.moveable, datas, originalEvents[i]);\n      });\n    };\n\n    datas.setFixedDirection = setFixedDirection;\n\n    var nextParams = __assign(__assign({}, params), {\n      targets: moveable.props.targets,\n      events: events.map(function (ev) {\n        return __assign(__assign({}, ev), {\n          setMin: function (minSize) {\n            ev.setMin(minSize);\n            updateGroupMin();\n          },\n          setMax: function (maxSize) {\n            ev.setMax(maxSize);\n            updateGroupMax();\n          }\n        });\n      }),\n      setFixedDirection: setFixedDirection,\n      setMin: function (minSize) {\n        params.setMin(minSize);\n        updateGroupMin();\n      },\n      setMax: function (maxSize) {\n        params.setMax(maxSize);\n        updateGroupMax();\n      }\n    });\n\n    var result = triggerEvent(moveable, \"onResizeGroupStart\", nextParams);\n    datas.isResize = result !== false;\n    return datas.isResize ? params : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isResize) {\n      return;\n    }\n\n    var props = getProps(moveable.props, \"resizable\");\n    catchEvent(moveable, \"onBeforeResize\", function (parentEvent) {\n      triggerEvent(moveable, \"onBeforeResizeGroup\", fillParams(moveable, e, __assign(__assign({}, parentEvent), {\n        targets: props.targets\n      }), true));\n    });\n    var params = this.dragControl(moveable, __assign(__assign({}, e), {\n      isGroup: true\n    }));\n\n    if (!params) {\n      return;\n    }\n\n    var boundingWidth = params.boundingWidth,\n        boundingHeight = params.boundingHeight,\n        dist = params.dist;\n    var keepRatio = props.keepRatio;\n    var parentScale = [boundingWidth / (boundingWidth - dist[0]), boundingHeight / (boundingHeight - dist[1])];\n    var fixedPosition = datas.fixedPosition;\n    var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\n      var _a = calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [ev.datas.originalX * parentScale[0], ev.datas.originalY * parentScale[1], 1], 3),\n          clientX = _a[0],\n          clientY = _a[1];\n\n      return __assign(__assign({}, ev), {\n        parentDist: null,\n        parentScale: parentScale,\n        dragClient: plus(fixedPosition, [clientX, clientY]),\n        parentKeepRatio: keepRatio\n      });\n    });\n\n    var nextParams = __assign({\n      targets: props.targets,\n      events: events\n    }, params);\n\n    triggerEvent(moveable, \"onResizeGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isResize) {\n      return;\n    }\n\n    this.dragControlEnd(moveable, e);\n    var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    });\n    triggerEvent(moveable, \"onResizeGroupEnd\", nextParams);\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Resizable#request\n   * @param {Moveable.Resizable.ResizableRequestParam} e - the Resizable's request parameter\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * // Use Relative Value\n   * moveable.request(\"resizable\", { deltaWidth: 10, deltaHeight: 10 }, true);\n   *\n   * // Use Absolute Value\n   * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"resizable\");\n   *\n   * // request\n   * // Use Relative Value\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   *\n   * // Use Absolute Value\n   * moveable.request(\"resizable\", { offsetWidth: 100, offsetHeight: 100 });\n   * moveable.request(\"resizable\", { offsetWidth: 110, offsetHeight: 100 });\n   * moveable.request(\"resizable\", { offsetWidth: 120, offsetHeight: 100 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function (moveable) {\n    var datas = {};\n    var distWidth = 0;\n    var distHeight = 0;\n    var rect = moveable.getRect();\n    return {\n      isControl: true,\n      requestStart: function (e) {\n        var _a;\n\n        return {\n          datas: datas,\n          parentDirection: e.direction || [1, 1],\n          parentIsWidth: (_a = e === null || e === void 0 ? void 0 : e.horizontal) !== null && _a !== void 0 ? _a : true\n        };\n      },\n      request: function (e) {\n        if (\"offsetWidth\" in e) {\n          distWidth = e.offsetWidth - rect.offsetWidth;\n        } else if (\"deltaWidth\" in e) {\n          distWidth += e.deltaWidth;\n        }\n\n        if (\"offsetHeight\" in e) {\n          distHeight = e.offsetHeight - rect.offsetHeight;\n        } else if (\"deltaHeight\" in e) {\n          distHeight += e.deltaHeight;\n        }\n\n        return {\n          datas: datas,\n          parentDist: [distWidth, distHeight],\n          parentKeepRatio: e.keepRatio\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  },\n  unset: function (moveable) {\n    moveable.state.gestos.resizable = null;\n  }\n};\n/**\n * Whether or not target can be resized.\n * @name Moveable.Resizable#resizable\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     resizable: false,\n * });\n *\n * moveable.resizable = true;\n */\n\n/**\n * throttle of width, height when resize. If throttleResize is set to less than 1, the target may shake.\n * @name Moveable.Resizable#throttleResize\n * @default 1\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n *   throttleResize: 1,\n * });\n *\n * moveable.throttleResize = 0;\n */\n\n/**\n * When resize or scale, keeps a ratio of the width, height.\n * @name Moveable.Resizable#keepRatio\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n * });\n *\n * moveable.keepRatio = true;\n */\n\n/**\n * Set directions to show the control box.\n * @name Moveable.Resizable#renderDirections\n * @default [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"]\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\n * });\n *\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\n */\n\n/**\n * Function to convert size for resize\n * @name Moveable.Resizable#resizeFormat\n * @default oneself\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   resizable: true,\n *   resizeFormat: v => v,\n * });\n *\n * moveable.resizeFormat = (size: number[]) => ([Math.trunc(size[0]), Math.trunc(size[1])];\n */\n\n/**\n * When the resize starts, the resizeStart event is called.\n * @memberof Moveable.Resizable\n * @event resizeStart\n * @param {Moveable.Resizable.OnResizeStart} - Parameters for the resizeStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resizeStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When resizing, `beforeResize` is called before `resize` occurs. In `beforeResize`, you can get and set the pre-value before resizing.\n * @memberof Moveable.Resizable\n * @event beforeResize\n * @param {Moveable.Resizable.OnBeforeResize} - Parameters for the `beforeResize` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"beforeResize\", ({ setFixedDirection }) => {\n *     if (shiftKey) {\n *        setFixedDirection([0, 0]);\n *     }\n * });\n * moveable.on(\"resize\", ({ target, width, height, drag }) => {\n *     target.style.width = `${width}px`;\n *     target.style.height = `${height}px`;\n *     target.style.transform = drag.transform;\n * });\n */\n\n/**\n * When resizing, the resize event is called.\n * @memberof Moveable.Resizable\n * @event resize\n * @param {Moveable.Resizable.OnResize} - Parameters for the resize event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resize\", ({ target, width, height }) => {\n *     target.style.width = `${e.width}px`;\n *     target.style.height = `${e.height}px`;\n * });\n */\n\n/**\n * When the resize finishes, the resizeEnd event is called.\n * @memberof Moveable.Resizable\n * @event resizeEnd\n * @param {Moveable.Resizable.OnResizeEnd} - Parameters for the resizeEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { resizable: true });\n * moveable.on(\"resizeEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n* When the group resize starts, the `resizeGroupStart` event is called.\n* @memberof Moveable.Resizable\n* @event resizeGroupStart\n* @param {Moveable.Resizable.OnResizeGroupStart} - Parameters for the `resizeGroupStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     resizable: true\n* });\n* moveable.on(\"resizeGroupStart\", ({ targets }) => {\n*     console.log(\"onResizeGroupStart\", targets);\n* });\n*/\n\n/**\n* When the group resize, the `resizeGroup` event is called.\n* @memberof Moveable.Resizable\n* @event resizeGroup\n* @param {Moveable.Resizable.onResizeGroup} - Parameters for the `resizeGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     resizable: true\n* });\n* moveable.on(\"resizeGroup\", ({ targets, events }) => {\n*     console.log(\"onResizeGroup\", targets);\n*     events.forEach(ev => {\n*         const offset = [\n*             direction[0] < 0 ? -ev.delta[0] : 0,\n*             direction[1] < 0 ? -ev.delta[1] : 0,\n*         ];\n*         // ev.drag is a drag event that occurs when the group resize.\n*         const left = offset[0] + ev.drag.beforeDist[0];\n*         const top = offset[1] + ev.drag.beforeDist[1];\n*         const width = ev.width;\n*         const top = ev.top;\n*     });\n* });\n*/\n\n/**\n * When the group resize finishes, the `resizeGroupEnd` event is called.\n * @memberof Moveable.Resizable\n * @event resizeGroupEnd\n * @param {Moveable.Resizable.OnResizeGroupEnd} - Parameters for the `resizeGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     resizable: true\n * });\n * moveable.on(\"resizeGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onResizeGroupEnd\", targets, isDrag);\n * });\n */\n\n/**\n * @namespace Rotatable\n * @memberof Moveable\n * @description Rotatable indicates whether the target can be rotated.\n */\n\nfunction setRotateStartInfo(moveable, datas, clientX, clientY, rect) {\n  var groupable = moveable.props.groupable;\n  var state = moveable.state;\n  var n = state.is3d ? 4 : 3;\n  var origin = datas.origin;\n  var nextOrigin = calculatePosition(moveable.state.rootMatrix, // TO-DO #710\n  minus([origin[0], origin[1]], groupable ? [0, 0] : [state.left, state.top]), n);\n  var startAbsoluteOrigin = plus([rect.left, rect.top], nextOrigin);\n  datas.startAbsoluteOrigin = startAbsoluteOrigin;\n  datas.prevDeg = getRad(startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180;\n  datas.defaultDeg = datas.prevDeg;\n  datas.prevSnapDeg = 0;\n  datas.loop = 0;\n  datas.startDist = getDist$1(startAbsoluteOrigin, [clientX, clientY]);\n}\n\nfunction getAbsoluteDist(deg, direction, datas) {\n  var defaultDeg = datas.defaultDeg,\n      prevDeg = datas.prevDeg;\n  var normalizedPrevDeg = prevDeg % 360;\n  var loop = Math.floor(prevDeg / 360);\n\n  if (normalizedPrevDeg < 0) {\n    normalizedPrevDeg += 360;\n  }\n\n  if (normalizedPrevDeg > deg && normalizedPrevDeg > 270 && deg < 90) {\n    // 360 => 0\n    ++loop;\n  } else if (normalizedPrevDeg < deg && normalizedPrevDeg < 90 && deg > 270) {\n    // 0 => 360\n    --loop;\n  }\n\n  var dist = direction * (loop * 360 + deg - defaultDeg);\n  datas.prevDeg = defaultDeg + dist;\n  return dist;\n}\n\nfunction getAbsoluteDistByClient(clientX, clientY, direction, datas) {\n  return getAbsoluteDist(getRad(datas.startAbsoluteOrigin, [clientX, clientY]) / Math.PI * 180, direction, datas);\n}\n\nfunction getRotateInfo(moveable, moveableRect, datas, dist, startValue, checkSnap) {\n  var _a = moveable.props.throttleRotate,\n      throttleRotate = _a === void 0 ? 0 : _a;\n  var prevSnapDeg = datas.prevSnapDeg;\n  var snapRotation = 0;\n  var isSnap = false;\n\n  if (checkSnap) {\n    var result = checkSnapRotate(moveable, moveableRect, dist, startValue + dist);\n    isSnap = result.isSnap;\n    snapRotation = startValue + result.dist;\n  }\n\n  if (!isSnap) {\n    snapRotation = throttle(startValue + dist, throttleRotate);\n  }\n\n  var snapDeg = snapRotation - startValue;\n  datas.prevSnapDeg = snapDeg;\n  return [snapDeg - prevSnapDeg, snapDeg, snapRotation];\n}\nfunction getRotationPositions(rotationPosition, _a, direction) {\n  var pos1 = _a[0],\n      pos2 = _a[1],\n      pos3 = _a[2],\n      pos4 = _a[3];\n\n  if (rotationPosition === \"none\") {\n    return [];\n  }\n\n  if (isArray(rotationPosition)) {\n    return rotationPosition.map(function (child) {\n      return getRotationPositions(child, [pos1, pos2, pos3, pos4], direction)[0];\n    });\n  }\n\n  var _b = (rotationPosition || \"top\").split(\"-\"),\n      dir1 = _b[0],\n      dir2 = _b[1];\n\n  var radPoses = [pos1, pos2];\n\n  if (dir1 === \"left\") {\n    radPoses = [pos3, pos1];\n  } else if (dir1 === \"right\") {\n    radPoses = [pos2, pos4];\n  } else if (dir1 === \"bottom\") {\n    radPoses = [pos4, pos3];\n  }\n\n  var pos = [(radPoses[0][0] + radPoses[1][0]) / 2, (radPoses[0][1] + radPoses[1][1]) / 2];\n  var rad = getRotationRad(radPoses, direction);\n\n  if (dir2) {\n    var isStart = dir2 === \"top\" || dir2 === \"left\";\n    var isReverse = dir1 === \"bottom\" || dir1 === \"left\";\n    pos = radPoses[isStart && !isReverse || !isStart && isReverse ? 0 : 1];\n  }\n\n  return [[pos, rad]];\n}\nfunction dragControlCondition(moveable, e) {\n  if (e.isRequest) {\n    return e.requestAble === \"rotatable\";\n  }\n\n  var target = e.inputEvent.target;\n\n  if (hasClass(target, prefix(\"rotation-control\")) || moveable.props.rotateAroundControls && hasClass(target, prefix(\"around-control\")) || hasClass(target, prefix(\"control\")) && hasClass(target, prefix(\"rotatable\"))) {\n    return true;\n  }\n\n  var rotationTarget = moveable.props.rotationTarget;\n\n  if (rotationTarget) {\n    return getRefTargets(rotationTarget, true).some(function (element) {\n      if (!element) {\n        return false;\n      }\n\n      return target === element || target.contains(element);\n    });\n  }\n\n  return false;\n}\nvar css = \".rotation {\\nposition: absolute;\\nheight: 40px;\\nwidth: 1px;\\ntransform-origin: 50% 100%;\\nheight: calc(40px * var(--zoom));\\ntop: auto;\\nleft: 0;\\nbottom: 100%;\\nwill-change: transform;\\n}\\n.rotation .rotation-line {\\ndisplay: block;\\nwidth: 100%;\\nheight: 100%;\\ntransform-origin: 50% 50%;\\n}\\n.rotation .rotation-control {\\nborder-color: #4af;\\nborder-color: var(--moveable-color);\\nbackground:#fff;\\ncursor: alias;\\n}\\n:global .view-rotation-dragging, .rotatable.direction.control {\\ncursor: alias;\\n}\\n.rotatable.direction.control.move {\\ncursor: move;\\n}\\n\";\nvar Rotatable = {\n  name: \"rotatable\",\n  canPinch: true,\n  props: [\"rotatable\", \"rotationPosition\", \"throttleRotate\", \"renderDirections\", \"rotationTarget\", \"rotateAroundControls\", \"edge\", \"resolveAblesWithRotatable\", \"displayAroundControls\"],\n  events: [\"rotateStart\", \"beforeRotate\", \"rotate\", \"rotateEnd\", \"rotateGroupStart\", \"beforeRotateGroup\", \"rotateGroup\", \"rotateGroupEnd\"],\n  css: [css],\n  viewClassName: function (moveable) {\n    if (!moveable.isDragging(\"rotatable\")) {\n      return \"\";\n    }\n\n    return prefix(\"view-rotation-dragging\");\n  },\n  render: function (moveable, React) {\n    var _a = getProps(moveable.props, \"rotatable\"),\n        rotatable = _a.rotatable,\n        rotationPosition = _a.rotationPosition,\n        zoom = _a.zoom,\n        renderDirections = _a.renderDirections,\n        rotateAroundControls = _a.rotateAroundControls,\n        resolveAblesWithRotatable = _a.resolveAblesWithRotatable;\n\n    var _b = moveable.getState(),\n        renderPoses = _b.renderPoses,\n        direction = _b.direction;\n\n    if (!rotatable) {\n      return null;\n    }\n\n    var positions = getRotationPositions(rotationPosition, renderPoses, direction);\n    var jsxs = [];\n    positions.forEach(function (_a, i) {\n      var pos = _a[0],\n          rad = _a[1];\n      jsxs.push(React.createElement(\"div\", {\n        key: \"rotation\".concat(i),\n        className: prefix(\"rotation\"),\n        style: {\n          // tslint:disable-next-line: max-line-length\n          transform: \"translate(-50%) translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rad, \"rad)\")\n        }\n      }, React.createElement(\"div\", {\n        className: prefix(\"line rotation-line\"),\n        style: {\n          transform: \"scaleX(\".concat(zoom, \")\")\n        }\n      }), React.createElement(\"div\", {\n        className: prefix(\"control rotation-control\"),\n        style: {\n          transform: \"translate(0.5px) scale(\".concat(zoom, \")\")\n        }\n      })));\n    });\n\n    if (renderDirections) {\n      var ables = getKeys(resolveAblesWithRotatable || {});\n      var resolveMap_1 = {};\n      ables.forEach(function (name) {\n        resolveAblesWithRotatable[name].forEach(function (direction) {\n          resolveMap_1[direction] = name;\n        });\n      });\n      var directionControlInfos = [];\n\n      if (isArray(renderDirections)) {\n        directionControlInfos = renderDirections.map(function (dir) {\n          var able = resolveMap_1[dir];\n          return {\n            data: able ? {\n              resolve: able\n            } : {},\n            classNames: able ? [\"move\"] : [],\n            dir: dir\n          };\n        });\n      }\n\n      jsxs.push.apply(jsxs, renderDirectionControlsByInfos(moveable, \"rotatable\", directionControlInfos, React));\n    }\n\n    if (rotateAroundControls) {\n      jsxs.push.apply(jsxs, renderAroundControls(moveable, React));\n    }\n\n    return jsxs;\n  },\n  dragControlCondition: dragControlCondition,\n  dragControlStart: function (moveable, e) {\n    var _a;\n\n    var _b;\n\n    var datas = e.datas,\n        clientX = e.clientX,\n        clientY = e.clientY,\n        parentRotate = e.parentRotate,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        isRequest = e.isRequest;\n    var state = moveable.state;\n    var target = state.target,\n        left = state.left,\n        top = state.top,\n        direction = state.direction,\n        beforeDirection = state.beforeDirection,\n        targetTransform = state.targetTransform,\n        moveableClientRect = state.moveableClientRect,\n        offsetMatrix = state.offsetMatrix,\n        targetMatrix = state.targetMatrix,\n        allMatrix = state.allMatrix,\n        width = state.width,\n        height = state.height;\n\n    if (!isRequest && !target) {\n      return false;\n    }\n\n    var rect = moveable.getRect();\n    datas.rect = rect;\n    datas.transform = targetTransform;\n    datas.left = left;\n    datas.top = top;\n\n    var setFixedPosition = function (fixedPosition) {\n      var result = getOffsetFixedPositionInfo(moveable.state, fixedPosition);\n      datas.fixedDirection = result.fixedDirection;\n      datas.fixedOffset = result.fixedOffset;\n      datas.fixedPosition = result.fixedPosition;\n\n      if (resizeStart) {\n        resizeStart.setFixedPosition(fixedPosition);\n      }\n    };\n\n    var setFixedDirection = function (fixedDirection) {\n      var result = getOffsetFixedDirectionInfo(moveable.state, fixedDirection);\n      datas.fixedDirection = result.fixedDirection;\n      datas.fixedOffset = result.fixedOffset;\n      datas.fixedPosition = result.fixedPosition;\n\n      if (resizeStart) {\n        resizeStart.setFixedDirection(fixedDirection);\n      }\n    };\n\n    var startClientX = clientX;\n    var startClientY = clientY;\n\n    if (isRequest || isPinch || parentFlag) {\n      var externalRotate = parentRotate || 0;\n      datas.beforeInfo = {\n        origin: rect.beforeOrigin,\n        prevDeg: externalRotate,\n        defaultDeg: externalRotate,\n        prevSnapDeg: 0,\n        startDist: 0\n      };\n      datas.afterInfo = __assign(__assign({}, datas.beforeInfo), {\n        origin: rect.origin\n      });\n      datas.absoluteInfo = __assign(__assign({}, datas.beforeInfo), {\n        origin: rect.origin,\n        startValue: externalRotate\n      });\n    } else {\n      var inputTarget = (_b = e.inputEvent) === null || _b === void 0 ? void 0 : _b.target;\n\n      if (inputTarget) {\n        var regionDirection = inputTarget.getAttribute(\"data-direction\") || \"\";\n        var controlDirection = DIRECTION_REGION_TO_DIRECTION[regionDirection];\n\n        if (controlDirection) {\n          datas.isControl = true;\n          datas.isAroundControl = hasClass(inputTarget, prefix(\"around-control\"));\n          datas.controlDirection = controlDirection;\n          var resolve = inputTarget.getAttribute(\"data-resolve\");\n\n          if (resolve) {\n            datas.resolveAble = resolve;\n          }\n\n          var clientPoses = calculateMoveableClientPositions(state.rootMatrix, state.renderPoses, moveableClientRect);\n          _a = getPosByDirection(clientPoses, controlDirection), startClientX = _a[0], startClientY = _a[1];\n        }\n      }\n\n      datas.beforeInfo = {\n        origin: rect.beforeOrigin\n      };\n      datas.afterInfo = {\n        origin: rect.origin\n      };\n      datas.absoluteInfo = {\n        origin: rect.origin,\n        startValue: rect.rotation\n      };\n      var originalFixedPosition_1 = setFixedPosition;\n\n      setFixedPosition = function (fixedPosition) {\n        var n = state.is3d ? 4 : 3;\n\n        var _a = plus(getOrigin(targetMatrix, n), fixedPosition),\n            originX = _a[0],\n            originY = _a[1];\n\n        var fixedBeforeOrigin = calculate(offsetMatrix, convertPositionMatrix([originX, originY], n));\n        var fixedAfterOrigin = calculate(allMatrix, convertPositionMatrix([fixedPosition[0], fixedPosition[1]], n));\n        originalFixedPosition_1(fixedPosition);\n        var posDelta = state.posDelta;\n        datas.beforeInfo.origin = minus(fixedBeforeOrigin, posDelta);\n        datas.afterInfo.origin = minus(fixedAfterOrigin, posDelta);\n        datas.absoluteInfo.origin = minus(fixedAfterOrigin, posDelta);\n        setRotateStartInfo(moveable, datas.beforeInfo, startClientX, startClientY, moveableClientRect);\n        setRotateStartInfo(moveable, datas.afterInfo, startClientX, startClientY, moveableClientRect);\n        setRotateStartInfo(moveable, datas.absoluteInfo, startClientX, startClientY, moveableClientRect);\n      };\n\n      setFixedDirection = function (fixedDirection) {\n        var fixedPosition = getPosByDirection([[0, 0], [width, 0], [0, height], [width, height]], fixedDirection);\n        setFixedPosition(fixedPosition);\n      };\n    }\n\n    datas.startClientX = startClientX;\n    datas.startClientY = startClientY;\n    datas.direction = direction;\n    datas.beforeDirection = beforeDirection;\n    datas.startValue = 0;\n    datas.datas = {};\n    setDefaultTransformIndex(e, \"rotate\");\n    var dragStart = false;\n    var resizeStart = false;\n\n    if (datas.isControl && datas.resolveAble) {\n      var resolveAble = datas.resolveAble;\n\n      if (resolveAble === \"resizable\") {\n        resizeStart = Resizable.dragControlStart(moveable, __assign(__assign({}, new CustomGesto(\"resizable\").dragStart([0, 0], e)), {\n          parentPosition: datas.controlPosition,\n          parentFixedPosition: datas.fixedPosition\n        }));\n      }\n    }\n\n    if (!resizeStart) {\n      dragStart = Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e));\n    }\n\n    setFixedPosition(getTotalOrigin(moveable));\n    var params = fillParams(moveable, e, __assign(__assign({\n      set: function (rotatation) {\n        datas.startValue = rotatation * Math.PI / 180;\n      },\n      setFixedDirection: setFixedDirection,\n      setFixedPosition: setFixedPosition\n    }, fillTransformStartEvent(e)), {\n      dragStart: dragStart,\n      resizeStart: resizeStart\n    }));\n    var result = triggerEvent(moveable, \"onRotateStart\", params);\n    datas.isRotate = result !== false;\n    state.snapRenderInfo = {\n      request: e.isRequest\n    };\n    return datas.isRotate ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    var _a, _b, _c;\n\n    var datas = e.datas,\n        clientDistX = e.clientDistX,\n        clientDistY = e.clientDistY,\n        parentRotate = e.parentRotate,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        groupDelta = e.groupDelta,\n        resolveMatrix = e.resolveMatrix;\n    var beforeDirection = datas.beforeDirection,\n        beforeInfo = datas.beforeInfo,\n        afterInfo = datas.afterInfo,\n        absoluteInfo = datas.absoluteInfo,\n        isRotate = datas.isRotate,\n        startValue = datas.startValue,\n        rect = datas.rect,\n        startClientX = datas.startClientX,\n        startClientY = datas.startClientY;\n\n    if (!isRotate) {\n      return;\n    }\n\n    resolveTransformEvent(e, \"rotate\");\n    var targetDirection = getTransformDirection(e);\n    var direction = beforeDirection * targetDirection;\n    var parentMoveable = moveable.props.parentMoveable;\n    var beforeDelta = 0;\n    var beforeDist;\n    var beforeRotation;\n    var delta = 0;\n    var dist;\n    var rotation;\n    var absoluteDelta = 0;\n    var absoluteDist;\n    var absoluteRotation;\n    var startRotation = 180 / Math.PI * startValue;\n    var absoluteStartRotation = absoluteInfo.startValue;\n    var isSnap = false;\n    var nextClientX = startClientX + clientDistX;\n    var nextClientY = startClientY + clientDistY;\n\n    if (!parentFlag && \"parentDist\" in e) {\n      var parentDist = e.parentDist;\n      beforeDist = parentDist;\n      dist = parentDist;\n      absoluteDist = parentDist;\n    } else if (isPinch || parentFlag) {\n      beforeDist = getAbsoluteDist(parentRotate, beforeDirection, beforeInfo);\n      dist = getAbsoluteDist(parentRotate, direction, afterInfo);\n      absoluteDist = getAbsoluteDist(parentRotate, direction, absoluteInfo);\n    } else {\n      beforeDist = getAbsoluteDistByClient(nextClientX, nextClientY, beforeDirection, beforeInfo);\n      dist = getAbsoluteDistByClient(nextClientX, nextClientY, direction, afterInfo);\n      absoluteDist = getAbsoluteDistByClient(nextClientX, nextClientY, direction, absoluteInfo);\n      isSnap = true;\n    }\n\n    beforeRotation = startRotation + beforeDist;\n    rotation = startRotation + dist;\n    absoluteRotation = absoluteStartRotation + absoluteDist;\n    triggerEvent(moveable, \"onBeforeRotate\", fillParams(moveable, e, {\n      beforeRotation: beforeRotation,\n      rotation: rotation,\n      absoluteRotation: absoluteRotation,\n      setRotation: function (nextRotation) {\n        dist = nextRotation - startRotation;\n        beforeDist = dist;\n        absoluteDist = dist;\n      }\n    }, true));\n    _a = getRotateInfo(moveable, rect, beforeInfo, beforeDist, startRotation, isSnap), beforeDelta = _a[0], beforeDist = _a[1], beforeRotation = _a[2];\n    _b = getRotateInfo(moveable, rect, afterInfo, dist, startRotation, isSnap), delta = _b[0], dist = _b[1], rotation = _b[2];\n    _c = getRotateInfo(moveable, rect, absoluteInfo, absoluteDist, absoluteStartRotation, isSnap), absoluteDelta = _c[0], absoluteDist = _c[1], absoluteRotation = _c[2];\n\n    if (!absoluteDelta && !delta && !beforeDelta && !parentMoveable && !resolveMatrix) {\n      return;\n    }\n\n    var nextTransform = convertTransformFormat(datas, \"rotate(\".concat(rotation, \"deg)\"), \"rotate(\".concat(dist, \"deg)\"));\n\n    if (resolveMatrix) {\n      datas.fixedPosition = getTranslateFixedPosition(moveable, datas.targetAllTransform, datas.fixedDirection, datas.fixedOffset, datas);\n    }\n\n    var inverseDist = getRotateDist(moveable, dist, datas);\n    var inverseDelta = minus(plus(groupDelta || [0, 0], inverseDist), datas.prevInverseDist || [0, 0]);\n    datas.prevInverseDist = inverseDist;\n    datas.requestValue = null;\n    var dragEvent = fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e);\n    var transformEvent = dragEvent;\n    var parentDistance = getDist$1([nextClientX, nextClientY], absoluteInfo.startAbsoluteOrigin) - absoluteInfo.startDist;\n    var resize = undefined;\n\n    if (datas.resolveAble === \"resizable\") {\n      var resizeEvent = Resizable.dragControl(moveable, __assign(__assign({}, setCustomDrag(e, moveable.state, [e.deltaX, e.deltaY], !!isPinch, false, \"resizable\")), {\n        resolveMatrix: true,\n        parentDistance: parentDistance\n      }));\n\n      if (resizeEvent) {\n        resize = resizeEvent;\n        transformEvent = fillAfterTransform(transformEvent, resizeEvent, e);\n      }\n    }\n\n    var params = fillParams(moveable, e, __assign(__assign({\n      delta: delta,\n      dist: dist,\n      rotate: rotation,\n      rotation: rotation,\n      beforeDist: beforeDist,\n      beforeDelta: beforeDelta,\n      beforeRotate: beforeRotation,\n      beforeRotation: beforeRotation,\n      absoluteDist: absoluteDist,\n      absoluteDelta: absoluteDelta,\n      absoluteRotate: absoluteRotation,\n      absoluteRotation: absoluteRotation,\n      isPinch: !!isPinch,\n      resize: resize\n    }, dragEvent), transformEvent));\n    triggerEvent(moveable, \"onRotate\", params);\n    return params;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isRotate) {\n      return;\n    }\n\n    datas.isRotate = false;\n    var params = fillEndParams(moveable, e, {});\n    triggerEvent(moveable, \"onRotateEnd\", params);\n    return params;\n  },\n  dragGroupControlCondition: dragControlCondition,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var _a = moveable.state,\n        parentLeft = _a.left,\n        parentTop = _a.top,\n        parentBeforeOrigin = _a.beforeOrigin;\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    params.set(datas.beforeDirection * moveable.rotation);\n    var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      var _a = child.state,\n          left = _a.left,\n          top = _a.top,\n          beforeOrigin = _a.beforeOrigin;\n      var childClient = plus(minus([left, top], [parentLeft, parentTop]), minus(beforeOrigin, parentBeforeOrigin));\n      ev.datas.startGroupClient = childClient;\n      ev.datas.groupClient = childClient;\n      return __assign(__assign({}, ev), {\n        parentRotate: 0\n      });\n    });\n\n    var nextParams = __assign(__assign({}, params), {\n      targets: moveable.props.targets,\n      events: events\n    });\n\n    var result = triggerEvent(moveable, \"onRotateGroupStart\", nextParams);\n    datas.isRotate = result !== false;\n    return datas.isRotate ? params : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isRotate) {\n      return;\n    }\n\n    catchEvent(moveable, \"onBeforeRotate\", function (parentEvent) {\n      triggerEvent(moveable, \"onBeforeRotateGroup\", fillParams(moveable, e, __assign(__assign({}, parentEvent), {\n        targets: moveable.props.targets\n      }), true));\n    });\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return;\n    }\n\n    var direction = datas.beforeDirection;\n    var parentRotate = params.beforeDist;\n    var rad = parentRotate / 180 * Math.PI;\n    var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\n      var startGroupClient = ev.datas.startGroupClient;\n      var _a = ev.datas.groupClient,\n          prevClientX = _a[0],\n          prevClientY = _a[1];\n\n      var _b = rotate(startGroupClient, rad * direction),\n          clientX = _b[0],\n          clientY = _b[1];\n\n      var delta = [clientX - prevClientX, clientY - prevClientY];\n      ev.datas.groupClient = [clientX, clientY];\n      return __assign(__assign({}, ev), {\n        parentRotate: parentRotate,\n        groupDelta: delta\n      });\n    });\n    moveable.rotation = direction * params.beforeRotation;\n\n    var nextParams = __assign({\n      targets: moveable.props.targets,\n      events: events,\n      set: function (rotation) {\n        moveable.rotation = rotation;\n      },\n      setGroupRotation: function (rotation) {\n        moveable.rotation = rotation;\n      }\n    }, params);\n\n    triggerEvent(moveable, \"onRotateGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isRotate) {\n      return;\n    }\n\n    this.dragControlEnd(moveable, e);\n    var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    });\n    triggerEvent(moveable, \"onRotateGroupEnd\", nextParams);\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Rotatable#request\n   * @param {object} [e] - the Resizable's request parameter\n   * @param {number} [e.deltaRotate=0] -  delta number of rotation\n   * @param {number} [e.rotate=0] - absolute number of moveable's rotation\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * moveable.request(\"rotatable\", { deltaRotate: 10 }, true);\n   *\n   * * moveable.request(\"rotatable\", { rotate: 10 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"rotatable\");\n   *\n   * // request\n   * requester.request({ deltaRotate: 10 });\n   * requester.request({ deltaRotate: 10 });\n   * requester.request({ deltaRotate: 10 });\n   *\n   * requester.request({ rotate: 10 });\n   * requester.request({ rotate: 20 });\n   * requester.request({ rotate: 30 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function (moveable) {\n    var datas = {};\n    var distRotate = 0;\n    var startRotation = moveable.getRotation();\n    return {\n      isControl: true,\n      requestStart: function () {\n        return {\n          datas: datas\n        };\n      },\n      request: function (e) {\n        if (\"deltaRotate\" in e) {\n          distRotate += e.deltaRotate;\n        } else if (\"rotate\" in e) {\n          distRotate = e.rotate - startRotation;\n        }\n\n        return {\n          datas: datas,\n          parentDist: distRotate\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether or not target can be rotated. (default: false)\n * @name Moveable.Rotatable#rotatable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.rotatable = true;\n */\n\n/**\n * You can specify the position of the rotation. (default: \"top\")\n * @name Moveable.Rotatable#rotationPosition\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   rotationPosition: \"top\",\n * });\n *\n * moveable.rotationPosition = \"bottom\"\n */\n\n/**\n * throttle of angle(degree) when rotate.\n * @name Moveable.Rotatable#throttleRotate\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleRotate = 1;\n */\n\n/**\n * When the rotate starts, the rotateStart event is called.\n * @memberof Moveable.Rotatable\n * @event rotateStart\n * @param {Moveable.Rotatable.OnRotateStart} - Parameters for the rotateStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { rotatable: true });\n * moveable.on(\"rotateStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n* When rotating, the rotate event is called.\n* @memberof Moveable.Rotatable\n* @event rotate\n* @param {Moveable.Rotatable.OnRotate} - Parameters for the rotate event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, { rotatable: true });\n* moveable.on(\"rotate\", ({ target, transform, dist }) => {\n*     target.style.transform = transform;\n* });\n*/\n\n/**\n * When the rotate finishes, the rotateEnd event is called.\n * @memberof Moveable.Rotatable\n * @event rotateEnd\n * @param {Moveable.Rotatable.OnRotateEnd} - Parameters for the rotateEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { rotatable: true });\n * moveable.on(\"rotateEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n * When the group rotate starts, the `rotateGroupStart` event is called.\n * @memberof Moveable.Rotatable\n * @event rotateGroupStart\n * @param {Moveable.Rotatable.OnRotateGroupStart} - Parameters for the `rotateGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     rotatable: true\n * });\n * moveable.on(\"rotateGroupStart\", ({ targets }) => {\n *     console.log(\"onRotateGroupStart\", targets);\n * });\n */\n\n/**\n* When the group rotate, the `rotateGroup` event is called.\n* @memberof Moveable.Rotatable\n* @event rotateGroup\n* @param {Moveable.Rotatable.OnRotateGroup} - Parameters for the `rotateGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     rotatable: true\n* });\n* moveable.on(\"rotateGroup\", ({ targets, events }) => {\n*     console.log(\"onRotateGroup\", targets);\n*     events.forEach(ev => {\n*         const target = ev.target;\n*         // ev.drag is a drag event that occurs when the group rotate.\n*         const left = ev.drag.beforeDist[0];\n*         const top = ev.drag.beforeDist[1];\n*         const deg = ev.beforeDist;\n*     });\n* });\n*/\n\n/**\n * When the group rotate finishes, the `rotateGroupEnd` event is called.\n * @memberof Moveable.Rotatable\n * @event rotateGroupEnd\n * @param {Moveable.Rotatable.OnRotateGroupEnd} - Parameters for the `rotateGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     rotatable: true\n * });\n * moveable.on(\"rotateGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onRotateGroupEnd\", targets, isDrag);\n * });\n */\n\nvar directionCondition = getDirectionCondition(\"scalable\");\n/**\n * @namespace Scalable\n * @memberof Moveable\n * @description Scalable indicates whether the target's x and y can be scale of transform.\n */\n\nvar Scalable = {\n  name: \"scalable\",\n  ableGroup: \"size\",\n  canPinch: true,\n  props: [\"scalable\", \"throttleScale\", \"renderDirections\", \"keepRatio\", \"edge\", \"displayAroundControls\"],\n  events: [\"scaleStart\", \"beforeScale\", \"scale\", \"scaleEnd\", \"scaleGroupStart\", \"beforeScaleGroup\", \"scaleGroup\", \"scaleGroupEnd\"],\n  render: getRenderDirections(\"scalable\"),\n  dragControlCondition: directionCondition,\n  viewClassName: getDirectionViewClassName(\"scalable\"),\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas,\n        isPinch = e.isPinch,\n        inputEvent = e.inputEvent,\n        parentDirection = e.parentDirection;\n    var direction = getTotalDirection(parentDirection, isPinch, inputEvent, datas);\n    var _a = moveable.state,\n        width = _a.width,\n        height = _a.height,\n        targetTransform = _a.targetTransform,\n        target = _a.target,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        pos4 = _a.pos4;\n\n    if (!direction || !target) {\n      return false;\n    }\n\n    if (!isPinch) {\n      setDragStart(moveable, e);\n    }\n\n    datas.datas = {};\n    datas.transform = targetTransform;\n    datas.prevDist = [1, 1];\n    datas.direction = direction;\n    datas.startOffsetWidth = width;\n    datas.startOffsetHeight = height;\n    datas.startValue = [1, 1];\n    var scaleWidth = getDist$1(pos1, pos2);\n    var scaleHeight = getDist$1(pos2, pos4);\n    var isWidth = !direction[0] && !direction[1] || direction[0] || !direction[1];\n    datas.scaleWidth = scaleWidth;\n    datas.scaleHeight = scaleHeight;\n    datas.scaleXRatio = scaleWidth / width;\n    datas.scaleYRatio = scaleHeight / height;\n    setDefaultTransformIndex(e, \"scale\");\n    datas.isWidth = isWidth;\n\n    function setRatio(ratio) {\n      datas.ratio = ratio && isFinite(ratio) ? ratio : 0;\n    }\n\n    datas.startPositions = getAbsolutePosesByState(moveable.state);\n\n    function setFixedDirection(fixedDirection) {\n      var result = getFixedDirectionInfo(datas.startPositions, fixedDirection);\n      datas.fixedDirection = result.fixedDirection;\n      datas.fixedPosition = result.fixedPosition;\n      datas.fixedOffset = result.fixedOffset;\n    }\n\n    datas.setFixedDirection = setFixedDirection;\n    setRatio(getDist$1(pos1, pos2) / getDist$1(pos2, pos4));\n    setFixedDirection([-direction[0], -direction[1]]);\n    var params = fillParams(moveable, e, __assign(__assign({\n      direction: direction,\n      set: function (scale) {\n        datas.startValue = scale;\n      },\n      setRatio: setRatio,\n      setFixedDirection: setFixedDirection\n    }, fillTransformStartEvent(e)), {\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    }));\n    var result = triggerEvent(moveable, \"onScaleStart\", params);\n    datas.startFixedDirection = datas.fixedDirection;\n\n    if (result !== false) {\n      datas.isScale = true;\n      moveable.state.snapRenderInfo = {\n        request: e.isRequest,\n        direction: direction\n      };\n    }\n\n    return datas.isScale ? params : false;\n  },\n  dragControl: function (moveable, e) {\n    resolveTransformEvent(e, \"scale\");\n    var datas = e.datas,\n        parentKeepRatio = e.parentKeepRatio,\n        parentFlag = e.parentFlag,\n        isPinch = e.isPinch,\n        dragClient = e.dragClient,\n        isRequest = e.isRequest,\n        resolveMatrix = e.resolveMatrix;\n    var prevDist = datas.prevDist,\n        direction = datas.direction,\n        startOffsetWidth = datas.startOffsetWidth,\n        startOffsetHeight = datas.startOffsetHeight,\n        isScale = datas.isScale,\n        startValue = datas.startValue,\n        isWidth = datas.isWidth,\n        ratio = datas.ratio;\n\n    if (!isScale) {\n      return false;\n    }\n\n    var props = moveable.props;\n    var throttleScale = props.throttleScale,\n        parentMoveable = props.parentMoveable;\n    var sizeDirection = direction;\n\n    if (!direction[0] && !direction[1]) {\n      sizeDirection = [1, 1];\n    }\n\n    var keepRatio = ratio && (parentKeepRatio != null ? parentKeepRatio : props.keepRatio) || false;\n    var state = moveable.state;\n    var tempStartX = startValue[0];\n    var tempStartY = startValue[1];\n\n    function getNextScale() {\n      var _a = getOffsetSizeDist(sizeDirection, keepRatio, datas, e),\n          distWidth = _a.distWidth,\n          distHeight = _a.distHeight;\n\n      var scaleX = startOffsetWidth ? (startOffsetWidth + distWidth) / startOffsetWidth : 1;\n      var scaleY = startOffsetHeight ? (startOffsetHeight + distHeight) / startOffsetHeight : 1;\n\n      if (!startValue[0]) {\n        tempStartX = distWidth / startOffsetWidth;\n      }\n\n      if (!startValue[1]) {\n        tempStartY = distHeight / startOffsetHeight;\n      }\n\n      scaleX = (sizeDirection[0] || keepRatio ? scaleX : 1) * tempStartX;\n      scaleY = (sizeDirection[1] || keepRatio ? scaleY : 1) * tempStartY;\n\n      if (scaleX === 0) {\n        scaleX = sign(prevDist[0]) * MIN_SCALE;\n      }\n\n      if (scaleY === 0) {\n        scaleY = sign(prevDist[1]) * MIN_SCALE;\n      }\n\n      return [scaleX, scaleY];\n    }\n\n    var scale = getNextScale();\n\n    if (!isPinch && moveable.props.groupable) {\n      var snapRenderInfo = state.snapRenderInfo || {};\n      var stateDirection = snapRenderInfo.direction;\n\n      if (isArray(stateDirection) && (stateDirection[0] || stateDirection[1])) {\n        state.snapRenderInfo = {\n          direction: direction,\n          request: e.isRequest\n        };\n      }\n    }\n\n    triggerEvent(moveable, \"onBeforeScale\", fillParams(moveable, e, {\n      scale: scale,\n      setFixedDirection: function (nextFixedDirection) {\n        datas.setFixedDirection(nextFixedDirection);\n        scale = getNextScale();\n        return scale;\n      },\n      startFixedDirection: datas.startFixedDirection,\n      setScale: function (nextScale) {\n        scale = nextScale;\n      }\n    }, true));\n    var dist = [scale[0] / tempStartX, scale[1] / tempStartY];\n    var fixedPosition = dragClient;\n    var snapDist = [0, 0];\n    var isSelfPinch = !dragClient && !parentFlag && isPinch;\n\n    if (isSelfPinch || resolveMatrix) {\n      fixedPosition = getTranslateFixedPosition(moveable, datas.targetAllTransform, [0, 0], [0, 0], datas);\n    } else if (!dragClient) {\n      fixedPosition = datas.fixedPosition;\n    }\n\n    if (!isPinch) {\n      snapDist = checkSnapScale(moveable, dist, direction, isRequest, datas);\n    }\n\n    if (keepRatio) {\n      if (sizeDirection[0] && sizeDirection[1] && snapDist[0] && snapDist[1]) {\n        if (Math.abs(snapDist[0] * startOffsetWidth) > Math.abs(snapDist[1] * startOffsetHeight)) {\n          snapDist[1] = 0;\n        } else {\n          snapDist[0] = 0;\n        }\n      }\n\n      var isNoSnap = !snapDist[0] && !snapDist[1];\n\n      if (isNoSnap) {\n        if (isWidth) {\n          dist[0] = throttle(dist[0] * tempStartX, throttleScale) / tempStartX;\n        } else {\n          dist[1] = throttle(dist[1] * tempStartY, throttleScale) / tempStartY;\n        }\n      }\n\n      if (sizeDirection[0] && !sizeDirection[1] || snapDist[0] && !snapDist[1] || isNoSnap && isWidth) {\n        dist[0] += snapDist[0];\n        var snapHeight = startOffsetWidth * dist[0] * tempStartX / ratio;\n        dist[1] = snapHeight / startOffsetHeight / tempStartY;\n      } else if (!sizeDirection[0] && sizeDirection[1] || !snapDist[0] && snapDist[1] || isNoSnap && !isWidth) {\n        dist[1] += snapDist[1];\n        var snapWidth = startOffsetHeight * dist[1] * tempStartY * ratio;\n        dist[0] = snapWidth / startOffsetWidth / tempStartX;\n      }\n    } else {\n      dist[0] += snapDist[0];\n      dist[1] += snapDist[1];\n\n      if (!snapDist[0]) {\n        dist[0] = throttle(dist[0] * tempStartX, throttleScale) / tempStartX;\n      }\n\n      if (!snapDist[1]) {\n        dist[1] = throttle(dist[1] * tempStartY, throttleScale) / tempStartY;\n      }\n    }\n\n    if (dist[0] === 0) {\n      dist[0] = sign(prevDist[0]) * MIN_SCALE;\n    }\n\n    if (dist[1] === 0) {\n      dist[1] = sign(prevDist[1]) * MIN_SCALE;\n    }\n\n    var delta = [dist[0] / prevDist[0], dist[1] / prevDist[1]];\n    scale = multiply2(dist, [tempStartX, tempStartY]);\n    var distText = \"scale(\".concat(dist.join(\", \"), \")\");\n    var scaleText = \"scale(\".concat(scale.join(\", \"), \")\");\n    var nextTransform = convertTransformFormat(datas, scaleText, distText);\n    var isZeroScale = !startValue[0] || !startValue[1];\n    var inverseDist = getScaleDist(moveable, isZeroScale ? scaleText : distText, datas.fixedDirection, fixedPosition, datas.fixedOffset, datas, isZeroScale);\n    var inverseDelta = isSelfPinch ? inverseDist : minus(inverseDist, datas.prevInverseDist || [0, 0]);\n    datas.prevDist = dist;\n    datas.prevInverseDist = inverseDist;\n\n    if (scale[0] === prevDist[0] && scale[1] === prevDist[1] && inverseDelta.every(function (num) {\n      return !num;\n    }) && !parentMoveable && !isSelfPinch) {\n      return false;\n    }\n\n    var params = fillParams(moveable, e, __assign({\n      offsetWidth: startOffsetWidth,\n      offsetHeight: startOffsetHeight,\n      direction: direction,\n      scale: scale,\n      dist: dist,\n      delta: delta,\n      isPinch: !!isPinch\n    }, fillTransformEvent(moveable, nextTransform, inverseDelta, isPinch, e)));\n    triggerEvent(moveable, \"onScale\", params);\n    return params;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isScale) {\n      return false;\n    }\n\n    datas.isScale = false;\n    var scaleEndParam = fillEndParams(moveable, e, {});\n    triggerEvent(moveable, \"onScaleEnd\", scaleEndParam);\n    return scaleEndParam;\n  },\n  dragGroupControlCondition: directionCondition,\n  dragGroupControlStart: function (moveable, e) {\n    var datas = e.datas;\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    var originalEvents = fillChildEvents(moveable, \"resizable\", e);\n    datas.moveableScale = moveable.scale;\n    var events = triggerChildAbles(moveable, this, \"dragControlStart\", e, function (child, ev) {\n      return startChildDist(moveable, child, datas, ev);\n    });\n\n    var setFixedDirection = function (fixedDirection) {\n      params.setFixedDirection(fixedDirection);\n      events.forEach(function (ev, i) {\n        ev.setFixedDirection(fixedDirection);\n        startChildDist(moveable, ev.moveable, datas, originalEvents[i]);\n      });\n    };\n\n    datas.setFixedDirection = setFixedDirection;\n\n    var nextParams = __assign(__assign({}, params), {\n      targets: moveable.props.targets,\n      events: events,\n      setFixedDirection: setFixedDirection\n    });\n\n    var result = triggerEvent(moveable, \"onScaleGroupStart\", nextParams);\n    datas.isScale = result !== false;\n    return datas.isScale ? nextParams : false;\n  },\n  dragGroupControl: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isScale) {\n      return;\n    }\n\n    catchEvent(moveable, \"onBeforeScale\", function (parentEvent) {\n      triggerEvent(moveable, \"onBeforeScaleGroup\", fillParams(moveable, e, __assign(__assign({}, parentEvent), {\n        targets: moveable.props.targets\n      }), true));\n    });\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return;\n    }\n\n    var moveableScale = datas.moveableScale;\n    moveable.scale = [params.scale[0] * moveableScale[0], params.scale[1] * moveableScale[1]];\n    var keepRatio = moveable.props.keepRatio;\n    var dist = params.dist,\n        scale = params.scale;\n    var fixedPosition = datas.fixedPosition;\n    var events = triggerChildAbles(moveable, this, \"dragControl\", e, function (_, ev) {\n      var _a = calculate(createRotateMatrix(moveable.rotation / 180 * Math.PI, 3), [ev.datas.originalX * dist[0], ev.datas.originalY * dist[1], 1], 3),\n          clientX = _a[0],\n          clientY = _a[1];\n\n      return __assign(__assign({}, ev), {\n        parentDist: null,\n        parentScale: scale,\n        parentKeepRatio: keepRatio,\n        dragClient: plus(fixedPosition, [clientX, clientY])\n      });\n    });\n\n    var nextParams = __assign({\n      targets: moveable.props.targets,\n      events: events\n    }, params);\n\n    triggerEvent(moveable, \"onScaleGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var isDrag = e.isDrag,\n        datas = e.datas;\n\n    if (!datas.isScale) {\n      return;\n    }\n\n    this.dragControlEnd(moveable, e);\n    var events = triggerChildAbles(moveable, this, \"dragControlEnd\", e);\n    var nextParams = fillEndParams(moveable, e, {\n      targets: moveable.props.targets,\n      events: events\n    });\n    triggerEvent(moveable, \"onScaleGroupEnd\", nextParams);\n    return isDrag;\n  },\n\n  /**\n   * @method Moveable.Scalable#request\n   * @param {Moveable.Scalable.ScalableRequestParam} e - the Scalable's request parameter\n   * @return {Moveable.Requester} Moveable Requester\n   * @example\n    * // Instantly Request (requestStart - request - requestEnd)\n   * moveable.request(\"scalable\", { deltaWidth: 10, deltaHeight: 10 }, true);\n   *\n   * // requestStart\n   * const requester = moveable.request(\"scalable\");\n   *\n   * // request\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   * requester.request({ deltaWidth: 10, deltaHeight: 10 });\n   *\n   * // requestEnd\n   * requester.requestEnd();\n   */\n  request: function () {\n    var datas = {};\n    var distWidth = 0;\n    var distHeight = 0;\n    return {\n      isControl: true,\n      requestStart: function (e) {\n        return {\n          datas: datas,\n          parentDirection: e.direction || [1, 1]\n        };\n      },\n      request: function (e) {\n        distWidth += e.deltaWidth;\n        distHeight += e.deltaHeight;\n        return {\n          datas: datas,\n          parentDist: [distWidth, distHeight],\n          parentKeepRatio: e.keepRatio\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether or not target can scaled.\n *\n * @name Moveable.Scalable#scalable\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.scalable = true;\n */\n\n/**\n * throttle of scaleX, scaleY when scale.\n * @name Moveable.Scalable#throttleScale\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.throttleScale = 0.1;\n */\n\n/**\n * Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\n * @name Moveable.Scalable#renderDirections\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     scalable: true,\n *   renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\n * });\n *\n * moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\n */\n\n/**\n * When resize or scale, keeps a ratio of the width, height. (default: false)\n * @name Moveable.Scalable#keepRatio\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     scalable: true,\n * });\n *\n * moveable.keepRatio = true;\n */\n\n/**\n * When the scale starts, the scaleStart event is called.\n * @memberof Moveable.Scalable\n * @event scaleStart\n * @param {Moveable.Scalable.OnScaleStart} - Parameters for the scaleStart event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scaleStart\", ({ target }) => {\n *     console.log(target);\n * });\n */\n\n/**\n * When scaling, `beforeScale` is called before `scale` occurs. In `beforeScale`, you can get and set the pre-value before scaling.\n * @memberof Moveable.Scalable\n * @event beforeScale\n * @param {Moveable.Scalable.OnBeforeScale} - Parameters for the `beforeScale` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"beforeScale\", ({ setFixedDirection }) => {\n *     if (shiftKey) {\n *        setFixedDirection([0, 0]);\n *     }\n * });\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\n *     target.style.transform = transform;\n * });\n */\n\n/**\n * When scaling, the `scale` event is called.\n * @memberof Moveable.Scalable\n * @event scale\n * @param {Moveable.Scalable.OnScale} - Parameters for the `scale` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scale\", ({ target, transform, dist }) => {\n *     target.style.transform = transform;\n * });\n */\n\n/**\n * When the scale finishes, the `scaleEnd` event is called.\n * @memberof Moveable.Scalable\n * @event scaleEnd\n * @param {Moveable.Scalable.OnScaleEnd} - Parameters for the `scaleEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { scalable: true });\n * moveable.on(\"scaleEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\n/**\n* When the group scale starts, the `scaleGroupStart` event is called.\n* @memberof Moveable.Scalable\n* @event scaleGroupStart\n* @param {Moveable.Scalable.OnScaleGroupStart} - Parameters for the `scaleGroupStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     scalable: true\n* });\n* moveable.on(\"scaleGroupStart\", ({ targets }) => {\n*     console.log(\"onScaleGroupStart\", targets);\n* });\n*/\n\n/**\n* When the group scale, the `scaleGroup` event is called.\n* @memberof Moveable.Scalable\n* @event scaleGroup\n* @param {Moveable.Scalable.OnScaleGroup} - Parameters for the `scaleGroup` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     target: [].slice.call(document.querySelectorAll(\".target\")),\n*     scalable: true\n* });\n* moveable.on(\"scaleGroup\", ({ targets, events }) => {\n*     console.log(\"onScaleGroup\", targets);\n*     events.forEach(ev => {\n*         const target = ev.target;\n*         // ev.drag is a drag event that occurs when the group scale.\n*         const left = ev.drag.beforeDist[0];\n*         const top = ev.drag.beforeDist[1];\n*         const scaleX = ev.scale[0];\n*         const scaleY = ev.scale[1];\n*     });\n* });\n*/\n\n/**\n * When the group scale finishes, the `scaleGroupEnd` event is called.\n * @memberof Moveable.Scalable\n * @event scaleGroupEnd\n * @param {Moveable.Scalable.OnScaleGroupEnd} - Parameters for the `scaleGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n *     scalable: true\n * });\n * moveable.on(\"scaleGroupEnd\", ({ targets, isDrag }) => {\n *     console.log(\"onScaleGroupEnd\", targets, isDrag);\n * });\n */\n\nfunction getMiddleLinePos(pos1, pos2) {\n  return pos1.map(function (pos, i) {\n    return dot(pos, pos2[i], 1, 2);\n  });\n}\n\nfunction getTriangleRad(pos1, pos2, pos3) {\n  // pos1 Rad\n  var rad1 = getRad(pos1, pos2);\n  var rad2 = getRad(pos1, pos3);\n  var rad = rad2 - rad1;\n  return rad >= 0 ? rad : rad + 2 * Math.PI;\n}\n\nfunction isValidPos(poses1, poses2) {\n  var rad1 = getTriangleRad(poses1[0], poses1[1], poses1[2]);\n  var rad2 = getTriangleRad(poses2[0], poses2[1], poses2[2]);\n  var pi = Math.PI;\n\n  if (rad1 >= pi && rad2 <= pi || rad1 <= pi && rad2 >= pi) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * @namespace Moveable.Warpable\n * @description Warpable indicates whether the target can be warped(distorted, bented).\n */\n\n\nvar Warpable = {\n  name: \"warpable\",\n  ableGroup: \"size\",\n  props: [\"warpable\", \"renderDirections\", \"edge\", \"displayAroundControls\"],\n  events: [\"warpStart\", \"warp\", \"warpEnd\"],\n  viewClassName: getDirectionViewClassName(\"warpable\"),\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        resizable = _a.resizable,\n        scalable = _a.scalable,\n        warpable = _a.warpable,\n        zoom = _a.zoom;\n\n    if (resizable || scalable || !warpable) {\n      return [];\n    }\n\n    var _b = moveable.state,\n        pos1 = _b.pos1,\n        pos2 = _b.pos2,\n        pos3 = _b.pos3,\n        pos4 = _b.pos4;\n    var linePosFrom1 = getMiddleLinePos(pos1, pos2);\n    var linePosFrom2 = getMiddleLinePos(pos2, pos1);\n    var linePosFrom3 = getMiddleLinePos(pos1, pos3);\n    var linePosFrom4 = getMiddleLinePos(pos3, pos1);\n    var linePosTo1 = getMiddleLinePos(pos3, pos4);\n    var linePosTo2 = getMiddleLinePos(pos4, pos3);\n    var linePosTo3 = getMiddleLinePos(pos2, pos4);\n    var linePosTo4 = getMiddleLinePos(pos4, pos2);\n    return __spreadArray([React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine1\",\n      style: getLineStyle(linePosFrom1, linePosTo1, zoom)\n    }), React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine2\",\n      style: getLineStyle(linePosFrom2, linePosTo2, zoom)\n    }), React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine3\",\n      style: getLineStyle(linePosFrom3, linePosTo3, zoom)\n    }), React.createElement(\"div\", {\n      className: prefix(\"line\"),\n      key: \"middeLine4\",\n      style: getLineStyle(linePosFrom4, linePosTo4, zoom)\n    })], renderAllDirections(moveable, \"warpable\", React), true);\n  },\n  dragControlCondition: function (moveable, e) {\n    if (e.isRequest) {\n      return false;\n    }\n\n    var target = e.inputEvent.target;\n    return hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"warpable\"));\n  },\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas,\n        inputEvent = e.inputEvent;\n    var target = moveable.props.target;\n    var inputTarget = inputEvent.target;\n    var direction = getDirection(inputTarget, datas);\n\n    if (!direction || !target) {\n      return false;\n    }\n\n    var state = moveable.state;\n    var transformOrigin = state.transformOrigin,\n        is3d = state.is3d,\n        targetTransform = state.targetTransform,\n        targetMatrix = state.targetMatrix,\n        width = state.width,\n        height = state.height,\n        left = state.left,\n        top = state.top;\n    datas.datas = {};\n    datas.targetTransform = targetTransform;\n    datas.warpTargetMatrix = is3d ? targetMatrix : convertDimension(targetMatrix, 3, 4);\n    datas.targetInverseMatrix = ignoreDimension(invert(datas.warpTargetMatrix, 4), 3, 4);\n    datas.direction = direction;\n    datas.left = left;\n    datas.top = top;\n    datas.poses = [[0, 0], [width, 0], [0, height], [width, height]].map(function (p) {\n      return minus(p, transformOrigin);\n    });\n    datas.nextPoses = datas.poses.map(function (_a) {\n      var x = _a[0],\n          y = _a[1];\n      return calculate(datas.warpTargetMatrix, [x, y, 0, 1], 4);\n    });\n    datas.startValue = createIdentityMatrix(4);\n    datas.prevMatrix = createIdentityMatrix(4);\n    datas.absolutePoses = getAbsolutePosesByState(state);\n    datas.posIndexes = getPosIndexesByDirection(direction);\n    setDragStart(moveable, e);\n    setDefaultTransformIndex(e, \"matrix3d\");\n    state.snapRenderInfo = {\n      request: e.isRequest,\n      direction: direction\n    };\n    var params = fillParams(moveable, e, __assign({\n      set: function (matrix) {\n        datas.startValue = matrix;\n      }\n    }, fillTransformStartEvent(e)));\n    var result = triggerEvent(moveable, \"onWarpStart\", params);\n\n    if (result !== false) {\n      datas.isWarp = true;\n    }\n\n    return datas.isWarp;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas,\n        isRequest = e.isRequest;\n    var distX = e.distX,\n        distY = e.distY;\n    var targetInverseMatrix = datas.targetInverseMatrix,\n        prevMatrix = datas.prevMatrix,\n        isWarp = datas.isWarp,\n        startValue = datas.startValue,\n        poses = datas.poses,\n        posIndexes = datas.posIndexes,\n        absolutePoses = datas.absolutePoses;\n\n    if (!isWarp) {\n      return false;\n    }\n\n    resolveTransformEvent(e, \"matrix3d\");\n\n    if (hasGuidelines(moveable, \"warpable\")) {\n      var selectedPoses = posIndexes.map(function (index) {\n        return absolutePoses[index];\n      });\n\n      if (selectedPoses.length > 1) {\n        selectedPoses.push([(selectedPoses[0][0] + selectedPoses[1][0]) / 2, (selectedPoses[0][1] + selectedPoses[1][1]) / 2]);\n      }\n\n      var _a = checkMoveableSnapBounds(moveable, isRequest, {\n        horizontal: selectedPoses.map(function (pos) {\n          return pos[1] + distY;\n        }),\n        vertical: selectedPoses.map(function (pos) {\n          return pos[0] + distX;\n        })\n      }),\n          horizontalSnapInfo = _a.horizontal,\n          verticalSnapInfo = _a.vertical;\n\n      distY -= horizontalSnapInfo.offset;\n      distX -= verticalSnapInfo.offset;\n    }\n\n    var dist = getDragDist({\n      datas: datas,\n      distX: distX,\n      distY: distY\n    }, true);\n    var nextPoses = datas.nextPoses.slice();\n    posIndexes.forEach(function (index) {\n      nextPoses[index] = plus(nextPoses[index], dist);\n    });\n\n    if (!NEARBY_POS.every(function (nearByPoses) {\n      return isValidPos(nearByPoses.map(function (i) {\n        return poses[i];\n      }), nearByPoses.map(function (i) {\n        return nextPoses[i];\n      }));\n    })) {\n      return false;\n    }\n\n    var h = createWarpMatrix(poses[0], poses[2], poses[1], poses[3], nextPoses[0], nextPoses[2], nextPoses[1], nextPoses[3]);\n\n    if (!h.length) {\n      return false;\n    } // B * A * M\n\n\n    var afterMatrix = multiply(targetInverseMatrix, h, 4); // B * M * A\n\n    var matrix = getTransfromMatrix(datas, afterMatrix, true);\n    var delta = multiply(invert(prevMatrix, 4), matrix, 4);\n    datas.prevMatrix = matrix;\n    var totalMatrix = multiply(startValue, matrix, 4);\n    var nextTransform = convertTransformFormat(datas, \"matrix3d(\".concat(totalMatrix.join(\", \"), \")\"), \"matrix3d(\".concat(matrix.join(\", \"), \")\"));\n    fillOriginalTransform(e, nextTransform);\n    triggerEvent(moveable, \"onWarp\", fillParams(moveable, e, __assign({\n      delta: delta,\n      matrix: totalMatrix,\n      dist: matrix,\n      multiply: multiply,\n      transform: nextTransform\n    }, fillCSSObject({\n      transform: nextTransform\n    }, e))));\n    return true;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas,\n        isDrag = e.isDrag;\n\n    if (!datas.isWarp) {\n      return false;\n    }\n\n    datas.isWarp = false;\n    triggerEvent(moveable, \"onWarpEnd\", fillEndParams(moveable, e, {}));\n    return isDrag;\n  }\n};\n/**\n * Whether or not target can be warped. (default: false)\n * @name Moveable.Warpable#warpable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.warpable = true;\n */\n\n/**\n* Set directions to show the control box. (default: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"])\n* @name Moveable.Warpable#renderDirections\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     warpable: true,\n*     renderDirections: [\"n\", \"nw\", \"ne\", \"s\", \"se\", \"sw\", \"e\", \"w\"],\n* });\n*\n* moveable.renderDirections = [\"nw\", \"ne\", \"sw\", \"se\"];\n*/\n\n/**\n* When the warp starts, the warpStart event is called.\n* @memberof Moveable.Warpable\n* @event warpStart\n* @param {Moveable.Warpable.OnWarpStart} - Parameters for the warpStart event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, { warpable: true });\n* moveable.on(\"warpStart\", ({ target }) => {\n*     console.log(target);\n* });\n*/\n\n/**\n * When warping, the warp event is called.\n * @memberof Moveable.Warpable\n * @event warp\n * @param {Moveable.Warpable.OnWarp} - Parameters for the warp event\n * @example\n * import Moveable from \"moveable\";\n * let matrix = [\n *  1, 0, 0, 0,\n *  0, 1, 0, 0,\n *  0, 0, 1, 0,\n *  0, 0, 0, 1,\n * ];\n * const moveable = new Moveable(document.body, { warpable: true });\n * moveable.on(\"warp\", ({ target, transform, delta, multiply }) => {\n *    // target.style.transform = transform;\n *    matrix = multiply(matrix, delta);\n *    target.style.transform = `matrix3d(${matrix.join(\",\")})`;\n * });\n */\n\n/**\n * When the warp finishes, the warpEnd event is called.\n * @memberof Moveable.Warpable\n * @event warpEnd\n * @param {Moveable.Warpable.OnWarpEnd} - Parameters for the warpEnd event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, { warpable: true });\n * moveable.on(\"warpEnd\", ({ target, isDrag }) => {\n *     console.log(target, isDrag);\n * });\n */\n\nvar AREA_PIECES = /*#__PURE__*/prefix(\"area-pieces\");\nvar AREA_PIECE = /*#__PURE__*/prefix(\"area-piece\");\nvar AVOID = /*#__PURE__*/prefix(\"avoid\");\nvar VIEW_DRAGGING = prefix(\"view-dragging\");\n\nfunction restoreStyle(moveable) {\n  var el = moveable.areaElement;\n\n  if (!el) {\n    return;\n  }\n\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height;\n  removeClass(el, AVOID);\n  el.style.cssText += \"left: 0px; top: 0px; width: \".concat(width, \"px; height: \").concat(height, \"px\");\n}\n\nfunction renderPieces(React) {\n  return React.createElement(\"div\", {\n    key: \"area_pieces\",\n    className: AREA_PIECES\n  }, React.createElement(\"div\", {\n    className: AREA_PIECE\n  }), React.createElement(\"div\", {\n    className: AREA_PIECE\n  }), React.createElement(\"div\", {\n    className: AREA_PIECE\n  }), React.createElement(\"div\", {\n    className: AREA_PIECE\n  }));\n}\n\nvar DragArea = {\n  name: \"dragArea\",\n  props: [\"dragArea\", \"passDragArea\"],\n  events: [\"click\", \"clickGroup\"],\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        target = _a.target,\n        dragArea = _a.dragArea,\n        groupable = _a.groupable,\n        passDragArea = _a.passDragArea;\n\n    var _b = moveable.getState(),\n        width = _b.width,\n        height = _b.height,\n        renderPoses = _b.renderPoses;\n\n    var className = passDragArea ? prefix(\"area\", \"pass\") : prefix(\"area\");\n\n    if (groupable) {\n      return [React.createElement(\"div\", {\n        key: \"area\",\n        ref: ref(moveable, \"areaElement\"),\n        className: className\n      }), renderPieces(React)];\n    }\n\n    if (!target || !dragArea) {\n      return [];\n    }\n\n    var h = createWarpMatrix([0, 0], [width, 0], [0, height], [width, height], renderPoses[0], renderPoses[1], renderPoses[2], renderPoses[3]);\n    var transform = h.length ? makeMatrixCSS(h, true) : \"none\";\n    return [React.createElement(\"div\", {\n      key: \"area\",\n      ref: ref(moveable, \"areaElement\"),\n      className: className,\n      style: {\n        top: \"0px\",\n        left: \"0px\",\n        width: \"\".concat(width, \"px\"),\n        height: \"\".concat(height, \"px\"),\n        transformOrigin: \"0 0\",\n        transform: transform\n      }\n    }), renderPieces(React)];\n  },\n  dragStart: function (moveable, _a) {\n    var datas = _a.datas,\n        clientX = _a.clientX,\n        clientY = _a.clientY,\n        inputEvent = _a.inputEvent;\n\n    if (!inputEvent) {\n      return false;\n    }\n\n    datas.isDragArea = false;\n    var areaElement = moveable.areaElement;\n    var state = moveable.state;\n    var moveableClientRect = state.moveableClientRect,\n        renderPoses = state.renderPoses,\n        rootMatrix = state.rootMatrix,\n        is3d = state.is3d;\n    var left = moveableClientRect.left,\n        top = moveableClientRect.top;\n\n    var _b = getRect(renderPoses),\n        relativeLeft = _b.left,\n        relativeTop = _b.top,\n        width = _b.width,\n        height = _b.height;\n\n    var n = is3d ? 4 : 3;\n\n    var _c = calculateInversePosition(rootMatrix, [clientX - left, clientY - top], n),\n        posX = _c[0],\n        posY = _c[1];\n\n    posX -= relativeLeft;\n    posY -= relativeTop;\n    var rects = [{\n      left: relativeLeft,\n      top: relativeTop,\n      width: width,\n      height: posY - 10\n    }, {\n      left: relativeLeft,\n      top: relativeTop,\n      width: posX - 10,\n      height: height\n    }, {\n      left: relativeLeft,\n      top: relativeTop + posY + 10,\n      width: width,\n      height: height - posY - 10\n    }, {\n      left: relativeLeft + posX + 10,\n      top: relativeTop,\n      width: width - posX - 10,\n      height: height\n    }];\n    var children = [].slice.call(areaElement.nextElementSibling.children);\n    rects.forEach(function (rect, i) {\n      children[i].style.cssText = \"left: \".concat(rect.left, \"px;top: \").concat(rect.top, \"px; width: \").concat(rect.width, \"px; height: \").concat(rect.height, \"px;\");\n    });\n    addClass(areaElement, AVOID);\n    state.disableNativeEvent = true;\n    return;\n  },\n  drag: function (moveable, _a) {\n    var datas = _a.datas,\n        inputEvent = _a.inputEvent;\n    this.enableNativeEvent(moveable);\n\n    if (!inputEvent) {\n      return false;\n    }\n\n    if (!datas.isDragArea) {\n      datas.isDragArea = true;\n      restoreStyle(moveable);\n    }\n  },\n  dragEnd: function (moveable, e) {\n    this.enableNativeEvent(moveable);\n    var inputEvent = e.inputEvent,\n        datas = e.datas;\n\n    if (!inputEvent) {\n      return false;\n    }\n\n    if (!datas.isDragArea) {\n      restoreStyle(moveable);\n    }\n  },\n  dragGroupStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragGroup: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragGroupEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  unset: function (moveable) {\n    restoreStyle(moveable);\n    moveable.state.disableNativeEvent = false;\n  },\n  enableNativeEvent: function (moveable) {\n    var state = moveable.state;\n\n    if (state.disableNativeEvent) {\n      requestAnimationFrame(function () {\n        state.disableNativeEvent = false;\n      });\n    }\n  }\n};\n/**\n * Add an event to the moveable area instead of the target for stopPropagation. (default: false, true in group)\n * @name Moveable#dragArea\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  dragArea: false,\n * });\n */\n\n/**\n * Set `pointerEvents: none;` css to pass events in dragArea. (default: false)\n * @name Moveable#passDragArea\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  dragArea: false,\n * });\n */\n\nvar Origin = makeAble(\"origin\", {\n  props: [\"origin\", \"svgOrigin\"],\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        zoom = _a.zoom,\n        svgOrigin = _a.svgOrigin,\n        groupable = _a.groupable;\n\n    var _b = moveable.getState(),\n        beforeOrigin = _b.beforeOrigin,\n        rotation = _b.rotation,\n        svg = _b.svg,\n        allMatrix = _b.allMatrix,\n        is3d = _b.is3d,\n        left = _b.left,\n        top = _b.top,\n        offsetWidth = _b.offsetWidth,\n        offsetHeight = _b.offsetHeight;\n\n    var originStyle;\n\n    if (!groupable && svg && svgOrigin) {\n      var _c = convertTransformOriginArray(svgOrigin, offsetWidth, offsetHeight),\n          originX = _c[0],\n          originY = _c[1];\n\n      var n = is3d ? 4 : 3;\n      var result = calculatePosition(allMatrix, [originX, originY], n);\n      originStyle = getControlTransform(rotation, zoom, minus(result, [left, top]));\n    } else {\n      originStyle = getControlTransform(rotation, zoom, beforeOrigin);\n    }\n\n    return [React.createElement(\"div\", {\n      className: prefix(\"control\", \"origin\"),\n      style: originStyle,\n      key: \"beforeOrigin\"\n    })];\n  }\n});\n/**\n * Whether or not the origin controlbox will be visible or not (default: true)\n * @name Moveable#origin\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n *\n * moveable.origin = true;\n */\n\nfunction getDefaultScrollPosition(e) {\n  var scrollContainer = e.scrollContainer;\n  return [scrollContainer.scrollLeft, scrollContainer.scrollTop];\n}\n/**\n * @namespace Moveable.Scrollable\n * @description Whether or not target can be scrolled to the scroll container (default: false)\n */\n\n\nvar Scrollable = {\n  name: \"scrollable\",\n  canPinch: true,\n  props: [\"scrollable\", \"scrollContainer\", \"scrollThreshold\", \"scrollThrottleTime\", \"getScrollPosition\", \"scrollOptions\"],\n  events: [\"scroll\", \"scrollGroup\"],\n  dragRelation: \"strong\",\n  dragStart: function (moveable, e) {\n    var props = moveable.props;\n    var _a = props.scrollContainer,\n        scrollContainer = _a === void 0 ? moveable.getContainer() : _a,\n        scrollOptions = props.scrollOptions;\n    var dragScroll = new DragScroll();\n    var scrollContainerElement = getRefTarget(scrollContainer, true);\n    e.datas.dragScroll = dragScroll;\n    moveable.state.dragScroll = dragScroll;\n    var gestoName = e.isControl ? \"controlGesto\" : \"targetGesto\";\n    var targets = e.targets;\n    dragScroll.on(\"scroll\", function (_a) {\n      var container = _a.container,\n          direction = _a.direction;\n      var params = fillParams(moveable, e, {\n        scrollContainer: container,\n        direction: direction\n      });\n      var eventName = targets ? \"onScrollGroup\" : \"onScroll\";\n\n      if (targets) {\n        params.targets = targets;\n      }\n\n      triggerEvent(moveable, eventName, params);\n    }).on(\"move\", function (_a) {\n      var offsetX = _a.offsetX,\n          offsetY = _a.offsetY,\n          inputEvent = _a.inputEvent;\n      moveable[gestoName].scrollBy(offsetX, offsetY, inputEvent.inputEvent, true);\n    }).on(\"scrollDrag\", function (_a) {\n      var next = _a.next;\n      next(moveable[gestoName].getCurrentEvent());\n    });\n    dragScroll.dragStart(e, __assign({\n      container: scrollContainerElement\n    }, scrollOptions));\n  },\n  checkScroll: function (moveable, e) {\n    var dragScroll = e.datas.dragScroll;\n\n    if (!dragScroll) {\n      return;\n    }\n\n    var _a = moveable.props,\n        _b = _a.scrollContainer,\n        scrollContainer = _b === void 0 ? moveable.getContainer() : _b,\n        _c = _a.scrollThreshold,\n        scrollThreshold = _c === void 0 ? 0 : _c,\n        _d = _a.scrollThrottleTime,\n        scrollThrottleTime = _d === void 0 ? 0 : _d,\n        _e = _a.getScrollPosition,\n        getScrollPosition = _e === void 0 ? getDefaultScrollPosition : _e,\n        scrollOptions = _a.scrollOptions;\n    dragScroll.drag(e, __assign({\n      container: scrollContainer,\n      threshold: scrollThreshold,\n      throttleTime: scrollThrottleTime,\n      getScrollPosition: function (ev) {\n        return getScrollPosition({\n          scrollContainer: ev.container,\n          direction: ev.direction\n        });\n      }\n    }, scrollOptions));\n    return true;\n  },\n  drag: function (moveable, e) {\n    return this.checkScroll(moveable, e);\n  },\n  dragEnd: function (moveable, e) {\n    e.datas.dragScroll.dragEnd();\n    e.datas.dragScroll = null;\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign(__assign({}, e), {\n      isControl: true\n    }));\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    return this.drag(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    return this.dragEnd(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragStart(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets,\n      isControl: true\n    }));\n  },\n  dragGroupControl: function (moveable, e) {\n    return this.drag(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroupControEnd: function (moveable, e) {\n    return this.dragEnd(moveable, __assign(__assign({}, e), {\n      targets: moveable.props.targets\n    }));\n  },\n  unset: function (moveable) {\n    var _a;\n\n    var state = moveable.state;\n    (_a = state.dragScroll) === null || _a === void 0 ? void 0 : _a.dragEnd();\n    state.dragScroll = null;\n  }\n};\n/**\n * When the drag cursor leaves the scrollContainer, the `scroll` event occur to scroll.\n * @memberof Moveable.Scrollable\n * @event scroll\n * @param {Moveable.Scrollable.OnScroll} - Parameters for the `scroll` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\n *   scrollContainer.scrollLeft += direction[0] * 10;\n *   scrollContainer.scrollTop += direction[1] * 10;\n * });\n */\n\n/**\n * When the drag cursor leaves the scrollContainer, the `scrollGroup` event occur to scroll in group.\n * @memberof Moveable.Scrollable\n * @event scrollGroup\n * @param {Moveable.Scrollable.OnScrollGroup} - Parameters for the `scrollGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"scroll\", ({ scrollContainer, direction }) => {\n *   scrollContainer.scrollLeft += direction[0] * 10;\n *   scrollContainer.scrollTop += direction[1] * 10;\n * });\n */\n\nvar Default = {\n  name: \"\",\n  props: [\"target\", \"dragTarget\", \"dragContainer\", \"container\", \"warpSelf\", \"rootContainer\", \"useResizeObserver\", \"useMutationObserver\", \"zoom\", \"dragFocusedInput\", \"transformOrigin\", \"edge\", \"ables\", \"className\", \"pinchThreshold\", \"pinchOutside\", \"triggerAblesSimultaneously\", \"checkInput\", \"cspNonce\", \"translateZ\", \"hideDefaultLines\", \"props\", \"flushSync\", \"stopPropagation\", \"preventClickEventOnDrag\", \"preventClickDefault\", \"viewContainer\", \"persistData\", \"useAccuratePosition\", \"firstRenderState\", \"linePadding\", \"displayAroundControls\", \"controlPadding\", \"preventDefault\", \"requestStyles\"],\n  events: [\"changeTargets\"]\n};\n\nvar Padding = makeAble(\"padding\", {\n  render: function (moveable, React) {\n    var props = moveable.props;\n\n    if (props.dragArea) {\n      return [];\n    }\n\n    var padding = props.padding || {};\n    var _a = padding.left,\n        left = _a === void 0 ? 0 : _a,\n        _b = padding.top,\n        top = _b === void 0 ? 0 : _b,\n        _c = padding.right,\n        right = _c === void 0 ? 0 : _c,\n        _d = padding.bottom,\n        bottom = _d === void 0 ? 0 : _d;\n\n    var _e = moveable.getState(),\n        renderPoses = _e.renderPoses,\n        pos1 = _e.pos1,\n        pos2 = _e.pos2,\n        pos3 = _e.pos3,\n        pos4 = _e.pos4;\n\n    var poses = [pos1, pos2, pos3, pos4];\n    var paddingDirections = [];\n\n    if (left > 0) {\n      paddingDirections.push([0, 2]);\n    }\n\n    if (top > 0) {\n      paddingDirections.push([0, 1]);\n    }\n\n    if (right > 0) {\n      paddingDirections.push([1, 3]);\n    }\n\n    if (bottom > 0) {\n      paddingDirections.push([2, 3]);\n    }\n\n    return paddingDirections.map(function (_a, i) {\n      var dir1 = _a[0],\n          dir2 = _a[1];\n      var paddingPos1 = poses[dir1];\n      var paddingPos2 = poses[dir2];\n      var paddingPos3 = renderPoses[dir1];\n      var paddingPos4 = renderPoses[dir2];\n      var h = createWarpMatrix([0, 0], [100, 0], [0, 100], [100, 100], paddingPos1, paddingPos2, paddingPos3, paddingPos4);\n\n      if (!h.length) {\n        return undefined;\n      }\n\n      return React.createElement(\"div\", {\n        key: \"padding\".concat(i),\n        className: prefix(\"padding\"),\n        style: {\n          transform: makeMatrixCSS(h, true)\n        }\n      });\n    });\n  }\n});\n/**\n * Add padding around the target to increase the drag area.\n * @name Moveable#padding\n * @default null\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  target: document.querySelector(\".target\"),\n *  padding: { left: 0, top: 0, right: 0, bottom: 0 },\n * });\n * moveable.padding = { left: 10, top: 10, right: 10, bottom: 10 },\n * moveable.updateRect();\n */\n\nvar RADIUS_DIRECTIONS = [\"nw\", \"ne\", \"se\", \"sw\"];\n\nfunction calculateRatio(values, size) {\n  var sumSize = values[0] + values[1];\n  var sumRatio = sumSize > size ? size / sumSize : 1;\n  values[0] *= sumRatio;\n  values[1] = size - values[1] * sumRatio;\n  return values;\n}\n\nvar HORIZONTAL_RADIUS_ORDER = [1, 2, 5, 6];\nvar VERTICAL_RADIUS_ORDER = [0, 3, 4, 7];\nvar HORIZONTAL_RADIUS_DIRECTIONS = [1, -1, -1, 1];\nvar VERTICAL_RADIUS_DIRECTIONS = [1, 1, -1, -1];\nfunction getRadiusStyles(nextPoses, isRelative, width, height, left, top, right, bottom) {\n  if (left === void 0) {\n    left = 0;\n  }\n\n  if (top === void 0) {\n    top = 0;\n  }\n\n  if (right === void 0) {\n    right = width;\n  }\n\n  if (bottom === void 0) {\n    bottom = height;\n  }\n\n  var clipStyles = [];\n  var isVertical = false;\n  var radiusPoses = nextPoses.filter(function (pos) {\n    return !pos.virtual;\n  });\n  var raws = radiusPoses.map(function (posInfo) {\n    var horizontal = posInfo.horizontal,\n        vertical = posInfo.vertical,\n        pos = posInfo.pos;\n\n    if (vertical && !isVertical) {\n      isVertical = true;\n      clipStyles.push(\"/\");\n    }\n\n    if (isVertical) {\n      var rawPos = Math.max(0, vertical === 1 ? pos[1] - top : bottom - pos[1]);\n      clipStyles.push(convertCSSSize(rawPos, height, isRelative));\n      return rawPos;\n    } else {\n      var rawPos = Math.max(0, horizontal === 1 ? pos[0] - left : right - pos[0]);\n      clipStyles.push(convertCSSSize(rawPos, width, isRelative));\n      return rawPos;\n    }\n  });\n  return {\n    radiusPoses: radiusPoses,\n    styles: clipStyles,\n    raws: raws\n  };\n}\nfunction getRadiusRange(controlPoses) {\n  // [start, length]\n  var horizontalRange = [0, 0];\n  var verticalRange = [0, 0];\n  var length = controlPoses.length;\n\n  for (var i = 0; i < length; ++i) {\n    var clipPose = controlPoses[i];\n\n    if (!clipPose.sub) {\n      continue;\n    }\n\n    if (clipPose.horizontal) {\n      if (horizontalRange[1] === 0) {\n        horizontalRange[0] = i;\n      }\n\n      horizontalRange[1] = i - horizontalRange[0] + 1;\n      verticalRange[0] = i + 1;\n    }\n\n    if (clipPose.vertical) {\n      if (verticalRange[1] === 0) {\n        verticalRange[0] = i;\n      }\n\n      verticalRange[1] = i - verticalRange[0] + 1;\n    }\n  }\n\n  return {\n    horizontalRange: horizontalRange,\n    verticalRange: verticalRange\n  };\n}\nfunction getRadiusValues(values, width, height, left, top, minCounts, full) {\n  var _a, _b, _c, _d;\n\n  if (minCounts === void 0) {\n    minCounts = [0, 0];\n  }\n\n  if (full === void 0) {\n    full = false;\n  }\n\n  var splitIndex = values.indexOf(\"/\");\n  var splitLength = (splitIndex > -1 ? values.slice(0, splitIndex) : values).length;\n  var horizontalValues = values.slice(0, splitLength);\n  var verticalValues = values.slice(splitLength + 1);\n  var horizontalValuesLength = horizontalValues.length;\n  var verticalValuesLength = verticalValues.length;\n  var hasVerticalValues = verticalValuesLength > 0;\n  var _e = horizontalValues[0],\n      nwValue = _e === void 0 ? \"0px\" : _e,\n      _f = horizontalValues[1],\n      neValue = _f === void 0 ? nwValue : _f,\n      _g = horizontalValues[2],\n      seValue = _g === void 0 ? nwValue : _g,\n      _h = horizontalValues[3],\n      swValue = _h === void 0 ? neValue : _h;\n  var _j = verticalValues[0],\n      wnValue = _j === void 0 ? nwValue : _j,\n      _k = verticalValues[1],\n      enValue = _k === void 0 ? hasVerticalValues ? wnValue : neValue : _k,\n      _l = verticalValues[2],\n      esValue = _l === void 0 ? hasVerticalValues ? wnValue : seValue : _l,\n      _m = verticalValues[3],\n      wsValue = _m === void 0 ? hasVerticalValues ? enValue : swValue : _m;\n  var horizontalRawPoses = [nwValue, neValue, seValue, swValue].map(function (pos) {\n    return convertUnitSize(pos, width);\n  });\n  var verticalRawPoses = [wnValue, enValue, esValue, wsValue].map(function (pos) {\n    return convertUnitSize(pos, height);\n  });\n  var horizontalPoses = horizontalRawPoses.slice();\n  var verticalPoses = verticalRawPoses.slice();\n  _a = calculateRatio([horizontalPoses[0], horizontalPoses[1]], width), horizontalPoses[0] = _a[0], horizontalPoses[1] = _a[1];\n  _b = calculateRatio([horizontalPoses[3], horizontalPoses[2]], width), horizontalPoses[3] = _b[0], horizontalPoses[2] = _b[1];\n  _c = calculateRatio([verticalPoses[0], verticalPoses[3]], height), verticalPoses[0] = _c[0], verticalPoses[3] = _c[1];\n  _d = calculateRatio([verticalPoses[1], verticalPoses[2]], height), verticalPoses[1] = _d[0], verticalPoses[2] = _d[1];\n  var nextHorizontalPoses = full ? horizontalPoses : horizontalPoses.slice(0, Math.max(minCounts[0], horizontalValuesLength));\n  var nextVerticalPoses = full ? verticalPoses : verticalPoses.slice(0, Math.max(minCounts[1], verticalValuesLength));\n  return __spreadArray(__spreadArray([], nextHorizontalPoses.map(function (pos, i) {\n    var direction = RADIUS_DIRECTIONS[i];\n    return {\n      virtual: i >= horizontalValuesLength,\n      horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\n      vertical: 0,\n      pos: [left + pos, top + (VERTICAL_RADIUS_DIRECTIONS[i] === -1 ? height : 0)],\n      sub: true,\n      raw: horizontalRawPoses[i],\n      direction: direction\n    };\n  }), true), nextVerticalPoses.map(function (pos, i) {\n    var direction = RADIUS_DIRECTIONS[i];\n    return {\n      virtual: i >= verticalValuesLength,\n      horizontal: 0,\n      vertical: VERTICAL_RADIUS_DIRECTIONS[i],\n      pos: [left + (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1 ? width : 0), top + pos],\n      sub: true,\n      raw: verticalRawPoses[i],\n      direction: direction\n    };\n  }), true);\n}\nfunction removeRadiusPos(controlPoses, poses, index, startIndex, length) {\n  if (length === void 0) {\n    length = poses.length;\n  }\n\n  var _a = getRadiusRange(controlPoses.slice(startIndex)),\n      horizontalRange = _a.horizontalRange,\n      verticalRange = _a.verticalRange;\n\n  var radiuslIndex = index - startIndex;\n  var deleteCount = 0;\n\n  if (radiuslIndex === 0) {\n    deleteCount = length;\n  } else if (radiuslIndex > 0 && radiuslIndex < horizontalRange[1]) {\n    deleteCount = horizontalRange[1] - radiuslIndex;\n  } else if (radiuslIndex >= verticalRange[0]) {\n    deleteCount = verticalRange[0] + verticalRange[1] - radiuslIndex;\n  } else {\n    return;\n  }\n\n  controlPoses.splice(index, deleteCount);\n  poses.splice(index, deleteCount);\n}\nfunction addRadiusPos(controlPoses, poses, startIndex, horizontalIndex, verticalIndex, distX, distY, right, bottom, left, top) {\n  if (left === void 0) {\n    left = 0;\n  }\n\n  if (top === void 0) {\n    top = 0;\n  }\n\n  var _a = getRadiusRange(controlPoses.slice(startIndex)),\n      horizontalRange = _a.horizontalRange,\n      verticalRange = _a.verticalRange;\n\n  if (horizontalIndex > -1) {\n    var radiusX = HORIZONTAL_RADIUS_DIRECTIONS[horizontalIndex] === 1 ? distX - left : right - distX;\n\n    for (var i = horizontalRange[1]; i <= horizontalIndex; ++i) {\n      var y = VERTICAL_RADIUS_DIRECTIONS[i] === 1 ? top : bottom;\n      var x = 0;\n\n      if (horizontalIndex === i) {\n        x = distX;\n      } else if (i === 0) {\n        x = left + radiusX;\n      } else if (HORIZONTAL_RADIUS_DIRECTIONS[i] === -1) {\n        x = right - (poses[startIndex][0] - left);\n      }\n\n      controlPoses.splice(startIndex + i, 0, {\n        horizontal: HORIZONTAL_RADIUS_DIRECTIONS[i],\n        vertical: 0,\n        pos: [x, y]\n      });\n      poses.splice(startIndex + i, 0, [x, y]);\n\n      if (i === 0) {\n        break;\n      }\n    }\n  } else if (verticalIndex > -1) {\n    var radiusY = VERTICAL_RADIUS_DIRECTIONS[verticalIndex] === 1 ? distY - top : bottom - distY;\n\n    if (horizontalRange[1] === 0 && verticalRange[1] === 0) {\n      var pos = [left + radiusY, top];\n      controlPoses.push({\n        horizontal: HORIZONTAL_RADIUS_DIRECTIONS[0],\n        vertical: 0,\n        pos: pos\n      });\n      poses.push(pos);\n    }\n\n    var startVerticalIndex = verticalRange[0];\n\n    for (var i = verticalRange[1]; i <= verticalIndex; ++i) {\n      var x = HORIZONTAL_RADIUS_DIRECTIONS[i] === 1 ? left : right;\n      var y = 0;\n\n      if (verticalIndex === i) {\n        y = distY;\n      } else if (i === 0) {\n        y = top + radiusY;\n      } else if (VERTICAL_RADIUS_DIRECTIONS[i] === 1) {\n        y = poses[startIndex + startVerticalIndex][1];\n      } else if (VERTICAL_RADIUS_DIRECTIONS[i] === -1) {\n        y = bottom - (poses[startIndex + startVerticalIndex][1] - top);\n      }\n\n      controlPoses.push({\n        horizontal: 0,\n        vertical: VERTICAL_RADIUS_DIRECTIONS[i],\n        pos: [x, y]\n      });\n      poses.push([x, y]);\n\n      if (i === 0) {\n        break;\n      }\n    }\n  }\n}\nfunction splitRadiusPoses(controlPoses, raws) {\n  if (raws === void 0) {\n    raws = controlPoses.map(function (pos) {\n      return pos.raw;\n    });\n  }\n\n  var horizontals = controlPoses.map(function (pos, i) {\n    return pos.horizontal ? raws[i] : null;\n  }).filter(function (pos) {\n    return pos != null;\n  });\n  var verticals = controlPoses.map(function (pos, i) {\n    return pos.vertical ? raws[i] : null;\n  }).filter(function (pos) {\n    return pos != null;\n  });\n  return {\n    horizontals: horizontals,\n    verticals: verticals\n  };\n}\n\nvar CLIP_DIRECTIONS = [[0, -1, \"n\"], [1, 0, \"e\"]];\nvar CLIP_RECT_DIRECTIONS = [[-1, -1, \"nw\"], [0, -1, \"n\"], [1, -1, \"ne\"], [1, 0, \"e\"], [1, 1, \"se\"], [0, 1, \"s\"], [-1, 1, \"sw\"], [-1, 0, \"w\"]]; // 1 2 5 6 0 3 4 7\n// 0 1 2 3 4 5 6 7\n\nfunction getClipStyles(moveable, clipPath, poses) {\n  var clipRelative = moveable.props.clipRelative;\n  var _a = moveable.state,\n      width = _a.width,\n      height = _a.height;\n  var _b = clipPath,\n      clipType = _b.type,\n      clipPoses = _b.poses;\n  var isRect = clipType === \"rect\";\n  var isCircle = clipType === \"circle\";\n\n  if (clipType === \"polygon\") {\n    return poses.map(function (pos) {\n      return \"\".concat(convertCSSSize(pos[0], width, clipRelative), \" \").concat(convertCSSSize(pos[1], height, clipRelative));\n    });\n  } else if (isRect || clipType === \"inset\") {\n    var top = poses[1][1];\n    var right = poses[3][0];\n    var left = poses[7][0];\n    var bottom = poses[5][1];\n\n    if (isRect) {\n      return [top, right, bottom, left].map(function (pos) {\n        return \"\".concat(pos, \"px\");\n      });\n    }\n\n    var clipStyles = [top, width - right, height - bottom, left].map(function (pos, i) {\n      return convertCSSSize(pos, i % 2 ? width : height, clipRelative);\n    });\n\n    if (poses.length > 8) {\n      var _c = minus(poses[4], poses[0]),\n          subWidth = _c[0],\n          subHeight = _c[1];\n\n      clipStyles.push.apply(clipStyles, __spreadArray([\"round\"], getRadiusStyles(clipPoses.slice(8).map(function (info, i) {\n        return __assign(__assign({}, info), {\n          pos: poses[i]\n        });\n      }), clipRelative, subWidth, subHeight, left, top, right, bottom).styles, false));\n    }\n\n    return clipStyles;\n  } else if (isCircle || clipType === \"ellipse\") {\n    var center = poses[0];\n    var ry = convertCSSSize(abs(poses[1][1] - center[1]), isCircle ? Math.sqrt((width * width + height * height) / 2) : height, clipRelative);\n    var clipStyles = isCircle ? [ry] : [convertCSSSize(abs(poses[2][0] - center[0]), width, clipRelative), ry];\n    clipStyles.push(\"at\", convertCSSSize(center[0], width, clipRelative), convertCSSSize(center[1], height, clipRelative));\n    return clipStyles;\n  }\n}\nfunction getRectPoses(top, right, bottom, left) {\n  var xs = [left, (left + right) / 2, right];\n  var ys = [top, (top + bottom) / 2, bottom];\n  return CLIP_RECT_DIRECTIONS.map(function (_a) {\n    var dirx = _a[0],\n        diry = _a[1],\n        dir = _a[2];\n    var x = xs[dirx + 1];\n    var y = ys[diry + 1];\n    return {\n      vertical: abs(diry),\n      horizontal: abs(dirx),\n      direction: dir,\n      pos: [x, y]\n    };\n  });\n}\nfunction getControlSize(controlPoses) {\n  var xRange = [Infinity, -Infinity];\n  var yRange = [Infinity, -Infinity];\n  controlPoses.forEach(function (_a) {\n    var pos = _a.pos;\n    xRange[0] = Math.min(xRange[0], pos[0]);\n    xRange[1] = Math.max(xRange[1], pos[0]);\n    yRange[0] = Math.min(yRange[0], pos[1]);\n    yRange[1] = Math.max(yRange[1], pos[1]);\n  });\n  return [abs(xRange[1] - xRange[0]), abs(yRange[1] - yRange[0])];\n}\nfunction getClipPath(target, width, height, defaultClip, customClip) {\n  var _a, _b, _c, _d, _e, _f, _g;\n\n  if (!target) {\n    return;\n  }\n\n  var clipText = customClip;\n\n  if (!clipText) {\n    var getStyle = getCachedStyle(target);\n    var clipPath = getStyle(\"clipPath\");\n    clipText = clipPath !== \"none\" ? clipPath : getStyle(\"clip\");\n  }\n\n  if (!clipText || clipText === \"none\" || clipText === \"auto\") {\n    clipText = defaultClip;\n\n    if (!clipText) {\n      return;\n    }\n  }\n\n  var _h = splitBracket(clipText),\n      _j = _h.prefix,\n      clipPrefix = _j === void 0 ? clipText : _j,\n      _k = _h.value,\n      value = _k === void 0 ? \"\" : _k;\n\n  var isCircle = clipPrefix === \"circle\";\n  var splitter = \" \";\n\n  if (clipPrefix === \"polygon\") {\n    var values = splitComma(value || \"0% 0%, 100% 0%, 100% 100%, 0% 100%\");\n    splitter = \",\";\n    var poses = values.map(function (pos) {\n      var _a = pos.split(\" \"),\n          xPos = _a[0],\n          yPos = _a[1];\n\n      return {\n        vertical: 1,\n        horizontal: 1,\n        pos: [convertUnitSize(xPos, width), convertUnitSize(yPos, height)]\n      };\n    });\n    var minMaxs = getMinMaxs(poses.map(function (pos) {\n      return pos.pos;\n    }));\n    return {\n      type: clipPrefix,\n      clipText: clipText,\n      poses: poses,\n      splitter: splitter,\n      left: minMaxs.minX,\n      right: minMaxs.maxX,\n      top: minMaxs.minY,\n      bottom: minMaxs.maxY\n    };\n  } else if (isCircle || clipPrefix === \"ellipse\") {\n    var xPos = \"\";\n    var yPos = \"\";\n    var radiusX_1 = 0;\n    var radiusY_1 = 0;\n    var values = splitSpace(value);\n\n    if (isCircle) {\n      var radius = \"\";\n      _a = values[0], radius = _a === void 0 ? \"50%\" : _a, _b = values[2], xPos = _b === void 0 ? \"50%\" : _b, _c = values[3], yPos = _c === void 0 ? \"50%\" : _c;\n      radiusX_1 = convertUnitSize(radius, Math.sqrt((width * width + height * height) / 2));\n      radiusY_1 = radiusX_1;\n    } else {\n      var xRadius = \"\";\n      var yRadius = \"\";\n      _d = values[0], xRadius = _d === void 0 ? \"50%\" : _d, _e = values[1], yRadius = _e === void 0 ? \"50%\" : _e, _f = values[3], xPos = _f === void 0 ? \"50%\" : _f, _g = values[4], yPos = _g === void 0 ? \"50%\" : _g;\n      radiusX_1 = convertUnitSize(xRadius, width);\n      radiusY_1 = convertUnitSize(yRadius, height);\n    }\n\n    var centerPos_1 = [convertUnitSize(xPos, width), convertUnitSize(yPos, height)];\n\n    var poses = __spreadArray([{\n      vertical: 1,\n      horizontal: 1,\n      pos: centerPos_1,\n      direction: \"nesw\"\n    }], CLIP_DIRECTIONS.slice(0, isCircle ? 1 : 2).map(function (dir) {\n      return {\n        vertical: abs(dir[1]),\n        horizontal: dir[0],\n        direction: dir[2],\n        sub: true,\n        pos: [centerPos_1[0] + dir[0] * radiusX_1, centerPos_1[1] + dir[1] * radiusY_1]\n      };\n    }), true);\n\n    return {\n      type: clipPrefix,\n      clipText: clipText,\n      radiusX: radiusX_1,\n      radiusY: radiusY_1,\n      left: centerPos_1[0] - radiusX_1,\n      top: centerPos_1[1] - radiusY_1,\n      right: centerPos_1[0] + radiusX_1,\n      bottom: centerPos_1[1] + radiusY_1,\n      poses: poses,\n      splitter: splitter\n    };\n  } else if (clipPrefix === \"inset\") {\n    var values = splitSpace(value || \"0 0 0 0\");\n    var roundIndex = values.indexOf(\"round\");\n    var rectLength = (roundIndex > -1 ? values.slice(0, roundIndex) : values).length;\n    var radiusValues = values.slice(rectLength + 1);\n\n    var _l = values.slice(0, rectLength),\n        topValue = _l[0],\n        _m = _l[1],\n        rightValue = _m === void 0 ? topValue : _m,\n        _o = _l[2],\n        bottomValue = _o === void 0 ? topValue : _o,\n        _p = _l[3],\n        leftValue = _p === void 0 ? rightValue : _p;\n\n    var _q = [topValue, bottomValue].map(function (pos) {\n      return convertUnitSize(pos, height);\n    }),\n        top = _q[0],\n        bottom = _q[1];\n\n    var _r = [leftValue, rightValue].map(function (pos) {\n      return convertUnitSize(pos, width);\n    }),\n        left = _r[0],\n        right = _r[1];\n\n    var nextRight = width - right;\n    var nextBottom = height - bottom;\n    var radiusPoses = getRadiusValues(radiusValues, nextRight - left, nextBottom - top, left, top);\n\n    var poses = __spreadArray(__spreadArray([], getRectPoses(top, nextRight, nextBottom, left), true), radiusPoses, true);\n\n    return {\n      type: \"inset\",\n      clipText: clipText,\n      poses: poses,\n      top: top,\n      left: left,\n      right: nextRight,\n      bottom: nextBottom,\n      radius: radiusValues,\n      splitter: splitter\n    };\n  } else if (clipPrefix === \"rect\") {\n    // top right bottom left\n    var values = splitComma(value || \"0px, \".concat(width, \"px, \").concat(height, \"px, 0px\"));\n    splitter = \",\";\n\n    var _s = values.map(function (pos) {\n      var posValue = splitUnit(pos).value;\n      return posValue;\n    }),\n        top = _s[0],\n        right = _s[1],\n        bottom = _s[2],\n        left = _s[3];\n\n    var poses = getRectPoses(top, right, bottom, left);\n    return {\n      type: \"rect\",\n      clipText: clipText,\n      poses: poses,\n      top: top,\n      right: right,\n      bottom: bottom,\n      left: left,\n      values: values,\n      splitter: splitter\n    };\n  }\n\n  return;\n}\n\nfunction moveControlPos(controlPoses, index, dist, isRect, keepRatio) {\n  var _a = controlPoses[index],\n      direction = _a.direction,\n      sub = _a.sub;\n  var dists = controlPoses.map(function () {\n    return [0, 0];\n  });\n  var directions = direction ? direction.split(\"\") : [];\n\n  if (isRect && index < 8) {\n    var verticalDirections = directions.filter(function (dir) {\n      return dir === \"w\" || dir === \"e\";\n    });\n    var horizontalDirections = directions.filter(function (dir) {\n      return dir === \"n\" || dir === \"s\";\n    });\n    var verticalDirection_1 = verticalDirections[0];\n    var horizontalDirection_1 = horizontalDirections[0];\n    dists[index] = dist;\n\n    var _b = getControlSize(controlPoses),\n        width = _b[0],\n        height = _b[1];\n\n    var ratio = width && height ? width / height : 0;\n\n    if (ratio && keepRatio) {\n      // 0 1 2\n      // 7   3\n      // 6 5 4\n      var fixedIndex = (index + 4) % 8;\n      var fixedPosition = controlPoses[fixedIndex].pos;\n      var sizeDirection = [0, 0];\n\n      if (direction.indexOf(\"w\") > -1) {\n        sizeDirection[0] = -1;\n      } else if (direction.indexOf(\"e\") > -1) {\n        sizeDirection[0] = 1;\n      }\n\n      if (direction.indexOf(\"n\") > -1) {\n        sizeDirection[1] = -1;\n      } else if (direction.indexOf(\"s\") > -1) {\n        sizeDirection[1] = 1;\n      }\n\n      var nextDist = getSizeDistByDist([width, height], dist, ratio, sizeDirection, true);\n      var nextWidth = width + nextDist[0];\n      var nextHeight = height + nextDist[1];\n      var top = fixedPosition[1];\n      var bottom = fixedPosition[1];\n      var left = fixedPosition[0];\n      var right = fixedPosition[0];\n\n      if (sizeDirection[0] === -1) {\n        left = right - nextWidth;\n      } else if (sizeDirection[0] === 1) {\n        right = left + nextWidth;\n      } else {\n        left = left - nextWidth / 2;\n        right = right + nextWidth / 2;\n      }\n\n      if (sizeDirection[1] === -1) {\n        top = bottom - nextHeight;\n      } else if (sizeDirection[1] === 1) {\n        bottom = top + nextHeight;\n      } else {\n        top = bottom - nextHeight / 2;\n        bottom = top + nextHeight;\n      }\n\n      var nextControlPoses_1 = getRectPoses(top, right, bottom, left);\n      controlPoses.forEach(function (controlPose, i) {\n        dists[i][0] = nextControlPoses_1[i].pos[0] - controlPose.pos[0];\n        dists[i][1] = nextControlPoses_1[i].pos[1] - controlPose.pos[1];\n      });\n    } else {\n      controlPoses.forEach(function (controlPose, i) {\n        var controlDir = controlPose.direction;\n\n        if (!controlDir) {\n          return;\n        }\n\n        if (controlDir.indexOf(verticalDirection_1) > -1) {\n          dists[i][0] = dist[0];\n        }\n\n        if (controlDir.indexOf(horizontalDirection_1) > -1) {\n          dists[i][1] = dist[1];\n        }\n      });\n\n      if (verticalDirection_1) {\n        dists[1][0] = dist[0] / 2;\n        dists[5][0] = dist[0] / 2;\n      }\n\n      if (horizontalDirection_1) {\n        dists[3][1] = dist[1] / 2;\n        dists[7][1] = dist[1] / 2;\n      }\n    }\n  } else if (direction && !sub) {\n    directions.forEach(function (dir) {\n      var isVertical = dir === \"n\" || dir === \"s\";\n      controlPoses.forEach(function (controlPose, i) {\n        var dirDir = controlPose.direction,\n            dirHorizontal = controlPose.horizontal,\n            dirVertical = controlPose.vertical;\n\n        if (!dirDir || dirDir.indexOf(dir) === -1) {\n          return;\n        }\n\n        dists[i] = [isVertical || !dirHorizontal ? 0 : dist[0], !isVertical || !dirVertical ? 0 : dist[1]];\n      });\n    });\n  } else {\n    dists[index] = dist;\n  }\n\n  return dists;\n}\n\nfunction addClipPath(moveable, e) {\n  var _a = calculatePointerDist(moveable, e),\n      distX = _a[0],\n      distY = _a[1];\n\n  var _b = e.datas,\n      clipPath = _b.clipPath,\n      clipIndex = _b.clipIndex;\n  var _c = clipPath,\n      clipType = _c.type,\n      clipPoses = _c.poses,\n      splitter = _c.splitter;\n  var poses = clipPoses.map(function (pos) {\n    return pos.pos;\n  });\n\n  if (clipType === \"polygon\") {\n    poses.splice(clipIndex, 0, [distX, distY]);\n  } else if (clipType === \"inset\") {\n    var horizontalIndex = HORIZONTAL_RADIUS_ORDER.indexOf(clipIndex);\n    var verticalIndex = VERTICAL_RADIUS_ORDER.indexOf(clipIndex);\n    var length = clipPoses.length;\n    addRadiusPos(clipPoses, poses, 8, horizontalIndex, verticalIndex, distX, distY, poses[4][0], poses[4][1], poses[0][0], poses[0][1]);\n\n    if (length === clipPoses.length) {\n      return;\n    }\n  } else {\n    return;\n  }\n\n  var clipStyles = getClipStyles(moveable, clipPath, poses);\n  var clipStyle = \"\".concat(clipType, \"(\").concat(clipStyles.join(splitter), \")\");\n  triggerEvent(moveable, \"onClip\", fillParams(moveable, e, __assign({\n    clipEventType: \"added\",\n    clipType: clipType,\n    poses: poses,\n    clipStyles: clipStyles,\n    clipStyle: clipStyle,\n    distX: 0,\n    distY: 0\n  }, fillCSSObject({\n    clipPath: clipStyle\n  }, e))));\n}\n\nfunction removeClipPath(moveable, e) {\n  var _a = e.datas,\n      clipPath = _a.clipPath,\n      clipIndex = _a.clipIndex;\n  var _b = clipPath,\n      clipType = _b.type,\n      clipPoses = _b.poses,\n      splitter = _b.splitter;\n  var poses = clipPoses.map(function (pos) {\n    return pos.pos;\n  });\n  var length = poses.length;\n\n  if (clipType === \"polygon\") {\n    clipPoses.splice(clipIndex, 1);\n    poses.splice(clipIndex, 1);\n  } else if (clipType === \"inset\") {\n    if (clipIndex < 8) {\n      return;\n    }\n\n    removeRadiusPos(clipPoses, poses, clipIndex, 8, length);\n\n    if (length === clipPoses.length) {\n      return;\n    }\n  } else {\n    return;\n  }\n\n  var clipStyles = getClipStyles(moveable, clipPath, poses);\n  var clipStyle = \"\".concat(clipType, \"(\").concat(clipStyles.join(splitter), \")\");\n  triggerEvent(moveable, \"onClip\", fillParams(moveable, e, __assign({\n    clipEventType: \"removed\",\n    clipType: clipType,\n    poses: poses,\n    clipStyles: clipStyles,\n    clipStyle: clipStyle,\n    distX: 0,\n    distY: 0\n  }, fillCSSObject({\n    clipPath: clipStyle\n  }, e))));\n}\n/**\n * @namespace Moveable.Clippable\n * @description Whether to clip the target.\n */\n\n\nvar Clippable = {\n  name: \"clippable\",\n  props: [\"clippable\", \"defaultClipPath\", \"customClipPath\", \"keepRatio\", \"clipRelative\", \"clipArea\", \"dragWithClip\", \"clipTargetBounds\", \"clipVerticalGuidelines\", \"clipHorizontalGuidelines\", \"clipSnapThreshold\"],\n  events: [\"clipStart\", \"clip\", \"clipEnd\"],\n  css: [\".control.clip-control {\\nbackground: #6d6;\\ncursor: pointer;\\n}\\n.control.clip-control.clip-radius {\\nbackground: #d66;\\n}\\n.line.clip-line {\\nbackground: #6e6;\\ncursor: move;\\nz-index: 1;\\n}\\n.clip-area {\\nposition: absolute;\\ntop: 0;\\nleft: 0;\\n}\\n.clip-ellipse {\\nposition: absolute;\\ncursor: move;\\nborder: 1px solid #6d6;\\nborder: var(--zoompx) solid #6d6;\\nborder-radius: 50%;\\ntransform-origin: 0px 0px;\\n}\", \":host {\\n--bounds-color: #d66;\\n}\", \".guideline {\\npointer-events: none;\\nz-index: 2;\\n}\", \".line.guideline.bounds {\\nbackground: #d66;\\nbackground: var(--bounds-color);\\n}\"],\n  render: function (moveable, React) {\n    var _a = moveable.props,\n        customClipPath = _a.customClipPath,\n        defaultClipPath = _a.defaultClipPath,\n        clipArea = _a.clipArea,\n        zoom = _a.zoom,\n        groupable = _a.groupable;\n\n    var _b = moveable.getState(),\n        target = _b.target,\n        width = _b.width,\n        height = _b.height,\n        allMatrix = _b.allMatrix,\n        is3d = _b.is3d,\n        left = _b.left,\n        top = _b.top,\n        pos1 = _b.pos1,\n        pos2 = _b.pos2,\n        pos3 = _b.pos3,\n        pos4 = _b.pos4,\n        clipPathState = _b.clipPathState,\n        snapBoundInfos = _b.snapBoundInfos,\n        rotationRad = _b.rotation;\n\n    if (!target || groupable) {\n      return [];\n    }\n\n    var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", clipPathState || customClipPath);\n\n    if (!clipPath) {\n      return [];\n    }\n\n    var n = is3d ? 4 : 3;\n    var type = clipPath.type;\n    var clipPoses = clipPath.poses;\n    var poses = clipPoses.map(function (pos) {\n      // return [x, y];\n      var calculatedPos = calculatePosition(allMatrix, pos.pos, n);\n      return [calculatedPos[0] - left, calculatedPos[1] - top];\n    });\n    var controls = [];\n    var lines = [];\n    var isRect = type === \"rect\";\n    var isInset = type === \"inset\";\n    var isPolygon = type === \"polygon\";\n\n    if (isRect || isInset || isPolygon) {\n      var linePoses_1 = isInset ? poses.slice(0, 8) : poses;\n      lines = linePoses_1.map(function (to, i) {\n        var from = i === 0 ? linePoses_1[linePoses_1.length - 1] : linePoses_1[i - 1];\n        var rad = getRad(from, to);\n        var dist = getDiagonalSize(from, to);\n        return React.createElement(\"div\", {\n          key: \"clipLine\".concat(i),\n          className: prefix(\"line\", \"clip-line\", \"snap-control\"),\n          \"data-clip-index\": i,\n          style: {\n            width: \"\".concat(dist, \"px\"),\n            transform: \"translate(\".concat(from[0], \"px, \").concat(from[1], \"px) rotate(\").concat(rad, \"rad) scaleY(\").concat(zoom, \")\")\n          }\n        });\n      });\n    }\n\n    controls = poses.map(function (pos, i) {\n      return React.createElement(\"div\", {\n        key: \"clipControl\".concat(i),\n        className: prefix(\"control\", \"clip-control\", \"snap-control\"),\n        \"data-clip-index\": i,\n        style: {\n          transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rotationRad, \"rad) scale(\").concat(zoom, \")\")\n        }\n      });\n    });\n\n    if (isInset) {\n      controls.push.apply(controls, poses.slice(8).map(function (pos, i) {\n        return React.createElement(\"div\", {\n          key: \"clipRadiusControl\".concat(i),\n          className: prefix(\"control\", \"clip-control\", \"clip-radius\", \"snap-control\"),\n          \"data-clip-index\": 8 + i,\n          style: {\n            transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) rotate(\").concat(rotationRad, \"rad) scale(\").concat(zoom, \")\")\n          }\n        });\n      }));\n    }\n\n    if (type === \"circle\" || type === \"ellipse\") {\n      var clipLeft = clipPath.left,\n          clipTop = clipPath.top,\n          radiusX = clipPath.radiusX,\n          radiusY = clipPath.radiusY;\n\n      var _c = minus(calculatePosition(allMatrix, [clipLeft, clipTop], n), calculatePosition(allMatrix, [0, 0], n)),\n          distLeft = _c[0],\n          distTop = _c[1];\n\n      var ellipseClipPath = \"none\";\n\n      if (!clipArea) {\n        var piece = Math.max(10, radiusX / 5, radiusY / 5);\n        var areaPoses = [];\n\n        for (var i = 0; i <= piece; ++i) {\n          var rad = Math.PI * 2 / piece * i;\n          areaPoses.push([radiusX + (radiusX - zoom) * Math.cos(rad), radiusY + (radiusY - zoom) * Math.sin(rad)]);\n        }\n\n        areaPoses.push([radiusX, -2]);\n        areaPoses.push([-2, -2]);\n        areaPoses.push([-2, radiusY * 2 + 2]);\n        areaPoses.push([radiusX * 2 + 2, radiusY * 2 + 2]);\n        areaPoses.push([radiusX * 2 + 2, -2]);\n        areaPoses.push([radiusX, -2]);\n        ellipseClipPath = \"polygon(\".concat(areaPoses.map(function (pos) {\n          return \"\".concat(pos[0], \"px \").concat(pos[1], \"px\");\n        }).join(\", \"), \")\");\n      }\n\n      controls.push(React.createElement(\"div\", {\n        key: \"clipEllipse\",\n        className: prefix(\"clip-ellipse\", \"snap-control\"),\n        style: {\n          width: \"\".concat(radiusX * 2, \"px\"),\n          height: \"\".concat(radiusY * 2, \"px\"),\n          clipPath: ellipseClipPath,\n          transform: \"translate(\".concat(-left + distLeft, \"px, \").concat(-top + distTop, \"px) \").concat(makeMatrixCSS(allMatrix))\n        }\n      }));\n    }\n\n    if (clipArea) {\n      var _d = getRect(__spreadArray([pos1, pos2, pos3, pos4], poses, true)),\n          allWidth = _d.width,\n          allHeight = _d.height,\n          allLeft_1 = _d.left,\n          allTop_1 = _d.top;\n\n      if (isPolygon || isRect || isInset) {\n        var areaPoses = isInset ? poses.slice(0, 8) : poses;\n        controls.push(React.createElement(\"div\", {\n          key: \"clipArea\",\n          className: prefix(\"clip-area\", \"snap-control\"),\n          style: {\n            width: \"\".concat(allWidth, \"px\"),\n            height: \"\".concat(allHeight, \"px\"),\n            transform: \"translate(\".concat(allLeft_1, \"px, \").concat(allTop_1, \"px)\"),\n            clipPath: \"polygon(\".concat(areaPoses.map(function (pos) {\n              return \"\".concat(pos[0] - allLeft_1, \"px \").concat(pos[1] - allTop_1, \"px\");\n            }).join(\", \"), \")\")\n          }\n        }));\n      }\n    }\n\n    if (snapBoundInfos) {\n      [\"vertical\", \"horizontal\"].forEach(function (directionType) {\n        var info = snapBoundInfos[directionType];\n        var isHorizontal = directionType === \"horizontal\";\n\n        if (info.isSnap) {\n          lines.push.apply(lines, info.snap.posInfos.map(function (_a, i) {\n            var pos = _a.pos;\n            var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\n            var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\n            return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\".concat(directionType, \"snap\").concat(i), \"guideline\");\n          }));\n        }\n\n        if (info.isBound) {\n          lines.push.apply(lines, info.bounds.map(function (_a, i) {\n            var pos = _a.pos;\n            var snapPos1 = minus(calculatePosition(allMatrix, isHorizontal ? [0, pos] : [pos, 0], n), [left, top]);\n            var snapPos2 = minus(calculatePosition(allMatrix, isHorizontal ? [width, pos] : [pos, height], n), [left, top]);\n            return renderLine(React, \"\", snapPos1, snapPos2, zoom, \"clip\".concat(directionType, \"bounds\").concat(i), \"guideline\", \"bounds\", \"bold\");\n          }));\n        }\n      });\n    }\n\n    return __spreadArray(__spreadArray([], controls, true), lines, true);\n  },\n  dragControlCondition: function (moveable, e) {\n    return e.inputEvent && (e.inputEvent.target.getAttribute(\"class\") || \"\").indexOf(\"clip\") > -1;\n  },\n  dragStart: function (moveable, e) {\n    var props = moveable.props;\n    var _a = props.dragWithClip,\n        dragWithClip = _a === void 0 ? true : _a;\n\n    if (dragWithClip) {\n      return false;\n    }\n\n    return this.dragControlStart(moveable, e);\n  },\n  drag: function (moveable, e) {\n    return this.dragControl(moveable, __assign(__assign({}, e), {\n      isDragTarget: true\n    }));\n  },\n  dragEnd: function (moveable, e) {\n    return this.dragControlEnd(moveable, e);\n  },\n  dragControlStart: function (moveable, e) {\n    var state = moveable.state;\n    var _a = moveable.props,\n        defaultClipPath = _a.defaultClipPath,\n        customClipPath = _a.customClipPath;\n    var target = state.target,\n        width = state.width,\n        height = state.height;\n    var inputTarget = e.inputEvent ? e.inputEvent.target : null;\n    var className = inputTarget && inputTarget.getAttribute(\"class\") || \"\";\n    var datas = e.datas;\n    var clipPath = getClipPath(target, width, height, defaultClipPath || \"inset\", customClipPath);\n\n    if (!clipPath) {\n      return false;\n    }\n\n    var clipText = clipPath.clipText,\n        type = clipPath.type,\n        poses = clipPath.poses;\n    var result = triggerEvent(moveable, \"onClipStart\", fillParams(moveable, e, {\n      clipType: type,\n      clipStyle: clipText,\n      poses: poses.map(function (pos) {\n        return pos.pos;\n      })\n    }));\n\n    if (result === false) {\n      datas.isClipStart = false;\n      return false;\n    }\n\n    datas.isControl = className && className.indexOf(\"clip-control\") > -1;\n    datas.isLine = className.indexOf(\"clip-line\") > -1;\n    datas.isArea = className.indexOf(\"clip-area\") > -1 || className.indexOf(\"clip-ellipse\") > -1;\n    datas.clipIndex = inputTarget ? parseInt(inputTarget.getAttribute(\"data-clip-index\"), 10) : -1;\n    datas.clipPath = clipPath;\n    datas.isClipStart = true;\n    state.clipPathState = clipText;\n    setDragStart(moveable, e);\n    return true;\n  },\n  dragControl: function (moveable, e) {\n    var _a, _b;\n\n    var datas = e.datas,\n        originalDatas = e.originalDatas,\n        isDragTarget = e.isDragTarget;\n\n    if (!datas.isClipStart) {\n      return false;\n    }\n\n    var _c = datas,\n        isControl = _c.isControl,\n        isLine = _c.isLine,\n        isArea = _c.isArea,\n        clipIndex = _c.clipIndex,\n        clipPath = _c.clipPath;\n\n    if (!clipPath) {\n      return false;\n    }\n\n    var props = getProps(moveable.props, \"clippable\");\n    var keepRatio = props.keepRatio;\n    var distX = 0;\n    var distY = 0;\n    var originalDraggable = originalDatas.draggable;\n    var originalDist = getDragDist(e);\n\n    if (isDragTarget && originalDraggable) {\n      _a = originalDraggable.prevBeforeDist, distX = _a[0], distY = _a[1];\n    } else {\n      distX = originalDist[0], distY = originalDist[1];\n    }\n\n    var firstDist = [distX, distY];\n    var state = moveable.state;\n    var width = state.width,\n        height = state.height;\n    var isDragWithTarget = !isArea && !isControl && !isLine;\n    var clipType = clipPath.type,\n        clipPoses = clipPath.poses,\n        splitter = clipPath.splitter;\n    var poses = clipPoses.map(function (pos) {\n      return pos.pos;\n    });\n\n    if (isDragWithTarget) {\n      distX = -distX;\n      distY = -distY;\n    }\n\n    var isAll = !isControl || clipPoses[clipIndex].direction === \"nesw\";\n    var isRect = clipType === \"inset\" || clipType === \"rect\";\n    var dists = clipPoses.map(function () {\n      return [0, 0];\n    });\n\n    if (isControl && !isAll) {\n      var _d = clipPoses[clipIndex],\n          horizontal = _d.horizontal,\n          vertical = _d.vertical;\n      var dist = [distX * abs(horizontal), distY * abs(vertical)];\n      dists = moveControlPos(clipPoses, clipIndex, dist, isRect, keepRatio);\n    } else if (isAll) {\n      dists = poses.map(function () {\n        return [distX, distY];\n      });\n    }\n\n    var nextPoses = poses.map(function (pos, i) {\n      return plus(pos, dists[i]);\n    });\n\n    var guidePoses = __spreadArray([], nextPoses, true);\n\n    state.snapBoundInfos = null;\n    var isCircle = clipPath.type === \"circle\";\n    var isEllipse = clipPath.type === \"ellipse\";\n\n    if (isCircle || isEllipse) {\n      var guideRect = getRect(nextPoses);\n      var ry = abs(guideRect.bottom - guideRect.top);\n      var rx = abs(isEllipse ? guideRect.right - guideRect.left : ry);\n      var bottom = nextPoses[0][1] + ry;\n      var left = nextPoses[0][0] - rx;\n      var right = nextPoses[0][0] + rx; // right\n\n      if (isCircle) {\n        guidePoses.push([right, guideRect.bottom]);\n        dists.push([1, 0]);\n      } // bottom\n\n\n      guidePoses.push([guideRect.left, bottom]);\n      dists.push([0, 1]); // left\n\n      guidePoses.push([left, guideRect.bottom]);\n      dists.push([1, 0]);\n    }\n\n    var guidelines = getDefaultGuidelines((props.clipHorizontalGuidelines || []).map(function (v) {\n      return convertUnitSize(\"\".concat(v), height);\n    }), (props.clipVerticalGuidelines || []).map(function (v) {\n      return convertUnitSize(\"\".concat(v), width);\n    }), width, height);\n    var guideXPoses = [];\n    var guideYPoses = [];\n\n    if (isCircle || isEllipse) {\n      guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\n      guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\n    } else if (isRect) {\n      var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\n      var rectDists_1 = [dists[0], dists[2], dists[4], dists[6]];\n      guideXPoses = rectPoses.filter(function (_, i) {\n        return rectDists_1[i][0];\n      }).map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = rectPoses.filter(function (_, i) {\n        return rectDists_1[i][1];\n      }).map(function (pos) {\n        return pos[1];\n      });\n    } else {\n      guideXPoses = guidePoses.filter(function (_, i) {\n        return dists[i][0];\n      }).map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = guidePoses.filter(function (_, i) {\n        return dists[i][1];\n      }).map(function (pos) {\n        return pos[1];\n      });\n    }\n\n    var boundDelta = [0, 0];\n\n    var _e = checkSnapBounds(guidelines, props.clipTargetBounds && {\n      left: 0,\n      top: 0,\n      right: width,\n      bottom: height\n    }, guideXPoses, guideYPoses, 5),\n        horizontalSnapInfo = _e.horizontal,\n        verticalSnapInfo = _e.vertical;\n\n    var snapOffsetY = horizontalSnapInfo.offset;\n    var snapOffsetX = verticalSnapInfo.offset;\n\n    if (horizontalSnapInfo.isBound) {\n      boundDelta[1] += snapOffsetY;\n    }\n\n    if (verticalSnapInfo.isBound) {\n      boundDelta[0] += snapOffsetX;\n    }\n\n    if ((isEllipse || isCircle) && dists[0][0] === 0 && dists[0][1] === 0) {\n      var guideRect = getRect(nextPoses);\n      var cy = guideRect.bottom - guideRect.top;\n      var cx = isEllipse ? guideRect.right - guideRect.left : cy;\n      var distSnapX = verticalSnapInfo.isBound ? abs(snapOffsetX) : verticalSnapInfo.snapIndex === 0 ? -snapOffsetX : snapOffsetX;\n      var distSnapY = horizontalSnapInfo.isBound ? abs(snapOffsetY) : horizontalSnapInfo.snapIndex === 0 ? -snapOffsetY : snapOffsetY;\n      cx -= distSnapX;\n      cy -= distSnapY;\n\n      if (isCircle) {\n        cy = checkSnapBoundPriority(verticalSnapInfo, horizontalSnapInfo) > 0 ? cy : cx;\n        cx = cy;\n      }\n\n      var center = guidePoses[0];\n      guidePoses[1][1] = center[1] - cy;\n      guidePoses[2][0] = center[0] + cx;\n      guidePoses[3][1] = center[1] + cy;\n      guidePoses[4][0] = center[0] - cx;\n    } else if (isRect && keepRatio && isControl) {\n      var _f = getControlSize(clipPoses),\n          width_1 = _f[0],\n          height_1 = _f[1];\n\n      var ratio = width_1 && height_1 ? width_1 / height_1 : 0;\n      var clipPose = clipPoses[clipIndex];\n      var direction = clipPose.direction || \"\";\n      var top = guidePoses[1][1];\n      var bottom = guidePoses[5][1];\n      var left = guidePoses[7][0];\n      var right = guidePoses[3][0];\n\n      if (abs(snapOffsetY) <= abs(snapOffsetX)) {\n        snapOffsetY = sign(snapOffsetY) * abs(snapOffsetX) / ratio;\n      } else {\n        snapOffsetX = sign(snapOffsetX) * abs(snapOffsetY) * ratio;\n      }\n\n      if (direction.indexOf(\"w\") > -1) {\n        left -= snapOffsetX;\n      } else if (direction.indexOf(\"e\") > -1) {\n        right -= snapOffsetX;\n      } else {\n        left += snapOffsetX / 2;\n        right -= snapOffsetX / 2;\n      }\n\n      if (direction.indexOf(\"n\") > -1) {\n        top -= snapOffsetY;\n      } else if (direction.indexOf(\"s\") > -1) {\n        bottom -= snapOffsetY;\n      } else {\n        top += snapOffsetY / 2;\n        bottom -= snapOffsetY / 2;\n      }\n\n      var nextControlPoses_2 = getRectPoses(top, right, bottom, left);\n      guidePoses.forEach(function (pos, i) {\n        var _a;\n\n        _a = nextControlPoses_2[i].pos, pos[0] = _a[0], pos[1] = _a[1];\n      });\n    } else {\n      guidePoses.forEach(function (pos, j) {\n        var dist = dists[j];\n\n        if (dist[0]) {\n          pos[0] -= snapOffsetX;\n        }\n\n        if (dist[1]) {\n          pos[1] -= snapOffsetY;\n        }\n      });\n    }\n\n    var nextClipStyles = getClipStyles(moveable, clipPath, nextPoses);\n    var clipStyle = \"\".concat(clipType, \"(\").concat(nextClipStyles.join(splitter), \")\");\n    state.clipPathState = clipStyle;\n\n    if (isCircle || isEllipse) {\n      guideXPoses = [guidePoses[4][0], guidePoses[2][0]];\n      guideYPoses = [guidePoses[1][1], guidePoses[3][1]];\n    } else if (isRect) {\n      var rectPoses = [guidePoses[0], guidePoses[2], guidePoses[4], guidePoses[6]];\n      guideXPoses = rectPoses.map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = rectPoses.map(function (pos) {\n        return pos[1];\n      });\n    } else {\n      guideXPoses = guidePoses.map(function (pos) {\n        return pos[0];\n      });\n      guideYPoses = guidePoses.map(function (pos) {\n        return pos[1];\n      });\n    }\n\n    state.snapBoundInfos = checkSnapBounds(guidelines, props.clipTargetBounds && {\n      left: 0,\n      top: 0,\n      right: width,\n      bottom: height\n    }, guideXPoses, guideYPoses, 1);\n\n    if (originalDraggable) {\n      var is3d = state.is3d,\n          allMatrix = state.allMatrix;\n      var n = is3d ? 4 : 3;\n      var dragDist = boundDelta;\n\n      if (isDragTarget) {\n        dragDist = [firstDist[0] + boundDelta[0] - originalDist[0], firstDist[1] + boundDelta[1] - originalDist[1]];\n      }\n\n      originalDraggable.deltaOffset = multiply(allMatrix, [dragDist[0], dragDist[1], 0, 0], n);\n    }\n\n    triggerEvent(moveable, \"onClip\", fillParams(moveable, e, __assign({\n      clipEventType: \"changed\",\n      clipType: clipType,\n      poses: nextPoses,\n      clipStyle: clipStyle,\n      clipStyles: nextClipStyles,\n      distX: distX,\n      distY: distY\n    }, fillCSSObject((_b = {}, _b[clipType === \"rect\" ? \"clip\" : \"clipPath\"] = clipStyle, _b), e))));\n    return true;\n  },\n  dragControlEnd: function (moveable, e) {\n    this.unset(moveable);\n    var isDrag = e.isDrag,\n        datas = e.datas,\n        isDouble = e.isDouble;\n    var isLine = datas.isLine,\n        isClipStart = datas.isClipStart,\n        isControl = datas.isControl;\n\n    if (!isClipStart) {\n      return false;\n    }\n\n    triggerEvent(moveable, \"onClipEnd\", fillEndParams(moveable, e, {}));\n\n    if (isDouble) {\n      if (isControl) {\n        removeClipPath(moveable, e);\n      } else if (isLine) {\n        // add\n        addClipPath(moveable, e);\n      }\n    }\n\n    return isDouble || isDrag;\n  },\n  unset: function (moveable) {\n    moveable.state.clipPathState = \"\";\n    moveable.state.snapBoundInfos = null;\n  }\n};\n/**\n * Whether to clip the target. (default: false)\n * @name Moveable.Clippable#clippable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n *  If clippath is not set, the default value can be set. (defaultClipPath < style < customClipPath < dragging clipPath)\n * @name Moveable.Clippable#defaultClipPath\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * % Can be used instead of the absolute px (`rect` not possible) (default: false)\n * @name Moveable.Clippable#clipRelative\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * You can force the custom clipPath. (defaultClipPath < style < customClipPath < dragging clipPath)\n * @name Moveable.Clippable#customClipPath\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When dragging the target, the clip also moves. (default: true)\n * @name Moveable.Clippable#dragWithClip\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * You can drag the clip by setting clipArea.\n * @name Moveable.Clippable#clipArea\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n* Whether the clip is bound to the target.\n* @name Moveable.Clippable#clipTargetBounds\n* @default false\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipTargetBounds: true,\n* });\n* moveable.on(\"clipStart\", e => {\n*     console.log(e);\n* }).on(\"clip\", e => {\n*     if (e.clipType === \"rect\") {\n*         e.target.style.clip = e.clipStyle;\n*     } else {\n*         e.target.style.clipPath = e.clipStyle;\n*     }\n* }).on(\"clipEnd\", e => {\n*     console.log(e);\n* });\n*/\n\n/**\n * Add clip guidelines in the vertical direction.\n * @name Moveable.Clippable#clipVerticalGuidelines\n * @default 0\n * @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipVerticalGuidelines: [0, 100, 200],\n*     clipHorizontalGuidelines: [0, 100, 200],\n*     clipSnapThreshold: 5,\n* });\n*/\n\n/**\n* Add clip guidelines in the horizontal direction.\n* @name Moveable.Clippable#clipHorizontalGuidelines\n* @default []\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipVerticalGuidelines: [0, 100, 200],\n*     clipHorizontalGuidelines: [0, 100, 200],\n*     clipSnapThreshold: 5,\n* });\n*/\n\n/**\n* istance value that can snap to clip guidelines.\n* @name Moveable.Clippable#clipSnapThreshold\n* @default 5\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     clippable: true,\n*     defaultClipPath: \"inset\",\n*     customClipPath: \"\",\n*     clipRelative: false,\n*     clipArea: false,\n*     dragWithClip: true,\n*     clipVerticalGuidelines: [0, 100, 200],\n*     clipHorizontalGuidelines: [0, 100, 200],\n*     clipSnapThreshold: 5,\n* });\n*/\n\n/**\n * When drag start the clip area or controls, the `clipStart` event is called.\n * @memberof Moveable.Clippable\n * @event clipStart\n * @param {Moveable.Clippable.OnClipStart} - Parameters for the `clipStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag the clip area or controls, the `clip` event is called.\n * @memberof Moveable.Clippable\n * @event clip\n * @param {Moveable.Clippable.OnClip} - Parameters for the `clip` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag end the clip area or controls, the `clipEnd` event is called.\n * @memberof Moveable.Clippable\n * @event clipEnd\n * @param {Moveable.Clippable.OnClipEnd} - Parameters for the `clipEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     clippable: true,\n *     defaultClipPath: \"inset\",\n *     customClipPath: \"\",\n *     clipRelative: false,\n *     clipArea: false,\n *     dragWithClip: true,\n * });\n * moveable.on(\"clipStart\", e => {\n *     console.log(e);\n * }).on(\"clip\", e => {\n *     if (e.clipType === \"rect\") {\n *         e.target.style.clip = e.clipStyle;\n *     } else {\n *         e.target.style.clipPath = e.clipStyle;\n *     }\n * }).on(\"clipEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * @namespace OriginDraggable\n * @memberof Moveable\n * @description Whether to drag origin (default: false)\n */\n\nvar OriginDraggable = {\n  name: \"originDraggable\",\n  props: [\"originDraggable\", \"originRelative\"],\n  events: [\"dragOriginStart\", \"dragOrigin\", \"dragOriginEnd\"],\n  css: [\":host[data-able-origindraggable] .control.origin {\\npointer-events: auto;\\n}\"],\n  dragControlCondition: function (_, e) {\n    if (e.isRequest) {\n      return e.requestAble === \"originDraggable\";\n    }\n\n    return hasClass(e.inputEvent.target, prefix(\"origin\"));\n  },\n  dragControlStart: function (moveable, e) {\n    var datas = e.datas;\n    setDragStart(moveable, e);\n    var params = fillParams(moveable, e, {\n      dragStart: Draggable.dragStart(moveable, new CustomGesto().dragStart([0, 0], e))\n    });\n    var result = triggerEvent(moveable, \"onDragOriginStart\", params);\n    datas.startOrigin = moveable.state.transformOrigin;\n    datas.startTargetOrigin = moveable.state.targetOrigin;\n    datas.prevOrigin = [0, 0];\n    datas.isDragOrigin = true;\n\n    if (result === false) {\n      datas.isDragOrigin = false;\n      return false;\n    }\n\n    return params;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas,\n        isPinch = e.isPinch,\n        isRequest = e.isRequest;\n\n    if (!datas.isDragOrigin) {\n      return false;\n    }\n\n    var _a = getDragDist(e),\n        distX = _a[0],\n        distY = _a[1];\n\n    var state = moveable.state;\n    var width = state.width,\n        height = state.height,\n        offsetMatrix = state.offsetMatrix,\n        targetMatrix = state.targetMatrix,\n        is3d = state.is3d;\n    var _b = moveable.props.originRelative,\n        originRelative = _b === void 0 ? true : _b;\n    var n = is3d ? 4 : 3;\n    var dist = [distX, distY];\n\n    if (isRequest) {\n      var distOrigin = e.distOrigin;\n\n      if (distOrigin[0] || distOrigin[1]) {\n        dist = distOrigin;\n      }\n    }\n\n    var origin = plus(datas.startOrigin, dist);\n    var targetOrigin = plus(datas.startTargetOrigin, dist);\n    var delta = minus(dist, datas.prevOrigin);\n    var nextMatrix = getNextMatrix(offsetMatrix, targetMatrix, origin, n);\n    var rect = moveable.getRect();\n    var nextRect = getRect(calculatePoses(nextMatrix, width, height, n));\n    var dragDelta = [rect.left - nextRect.left, rect.top - nextRect.top];\n    datas.prevOrigin = dist;\n    var transformOrigin = [convertCSSSize(targetOrigin[0], width, originRelative), convertCSSSize(targetOrigin[1], height, originRelative)].join(\" \");\n    var result = Draggable.drag(moveable, setCustomDrag(e, moveable.state, dragDelta, !!isPinch, false));\n    var params = fillParams(moveable, e, __assign(__assign({\n      width: width,\n      height: height,\n      origin: origin,\n      dist: dist,\n      delta: delta,\n      transformOrigin: transformOrigin,\n      drag: result\n    }, fillCSSObject({\n      transformOrigin: transformOrigin,\n      transform: result.transform\n    }, e)), {\n      afterTransform: result.transform\n    }));\n    triggerEvent(moveable, \"onDragOrigin\", params);\n    return params;\n  },\n  dragControlEnd: function (moveable, e) {\n    var datas = e.datas;\n\n    if (!datas.isDragOrigin) {\n      return false;\n    }\n\n    triggerEvent(moveable, \"onDragOriginEnd\", fillEndParams(moveable, e, {}));\n    return true;\n  },\n  dragGroupControlCondition: function (moveable, e) {\n    return this.dragControlCondition(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    var params = this.dragControlStart(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    return true;\n  },\n  dragGroupControl: function (moveable, e) {\n    var params = this.dragControl(moveable, e);\n\n    if (!params) {\n      return false;\n    }\n\n    moveable.transformOrigin = params.transformOrigin;\n    return true;\n  },\n\n  /**\n  * @method Moveable.OriginDraggable#request\n  * @param {object} e - the OriginDraggable's request parameter\n  * @param {number} [e.x] - x position\n  * @param {number} [e.y] - y position\n  * @param {number} [e.deltaX] - x number to move\n  * @param {number} [e.deltaY] - y number to move\n  * @param {array} [e.deltaOrigin] - left, top number to move transform-origin\n  * @param {array} [e.origin] - transform-origin position\n  * @param {number} [e.isInstant] - Whether to execute the request instantly\n  * @return {Moveable.Requester} Moveable Requester\n  * @example\n   * // Instantly Request (requestStart - request - requestEnd)\n  * // Use Relative Value\n  * moveable.request(\"originDraggable\", { deltaX: 10, deltaY: 10 }, true);\n  * // Use Absolute Value\n  * moveable.request(\"originDraggable\", { x: 200, y: 100 }, true);\n  * // Use Transform Value\n  * moveable.request(\"originDraggable\", { deltaOrigin: [10, 0] }, true);\n  * moveable.request(\"originDraggable\", { origin: [100, 0] }, true);\n  * // requestStart\n  * const requester = moveable.request(\"originDraggable\");\n  *\n  * // request\n  * // Use Relative Value\n  * requester.request({ deltaX: 10, deltaY: 10 });\n  * requester.request({ deltaX: 10, deltaY: 10 });\n  * requester.request({ deltaX: 10, deltaY: 10 });\n  * // Use Absolute Value\n  * moveable.request(\"originDraggable\", { x: 200, y: 100 });\n  * moveable.request(\"originDraggable\", { x: 220, y: 100 });\n  * moveable.request(\"originDraggable\", { x: 240, y: 100 });\n  *\n  * // requestEnd\n  * requester.requestEnd();\n  */\n  request: function (moveable) {\n    var datas = {};\n    var rect = moveable.getRect();\n    var distX = 0;\n    var distY = 0;\n    var transformOrigin = rect.transformOrigin;\n    var distOrigin = [0, 0];\n    return {\n      isControl: true,\n      requestStart: function () {\n        return {\n          datas: datas\n        };\n      },\n      request: function (e) {\n        if (\"deltaOrigin\" in e) {\n          distOrigin[0] += e.deltaOrigin[0];\n          distOrigin[1] += e.deltaOrigin[1];\n        } else if (\"origin\" in e) {\n          distOrigin[0] = e.origin[0] - transformOrigin[0];\n          distOrigin[1] = e.origin[1] - transformOrigin[1];\n        } else {\n          if (\"x\" in e) {\n            distX = e.x - rect.left;\n          } else if (\"deltaX\" in e) {\n            distX += e.deltaX;\n          }\n\n          if (\"y\" in e) {\n            distY = e.y - rect.top;\n          } else if (\"deltaY\" in e) {\n            distY += e.deltaY;\n          }\n        }\n\n        return {\n          datas: datas,\n          distX: distX,\n          distY: distY,\n          distOrigin: distOrigin\n        };\n      },\n      requestEnd: function () {\n        return {\n          datas: datas,\n          isDrag: true\n        };\n      }\n    };\n  }\n};\n/**\n * Whether to drag origin (default: false)\n * @name Moveable.OriginDraggable#originDraggable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     originDraggable: true,\n * });\n * let translate = [0, 0];\n * moveable.on(\"dragOriginStart\", e => {\n *     e.dragStart && e.dragStart.set(translate);\n * }).on(\"dragOrigin\", e => {\n *     translate = e.drag.beforeTranslate;\n *     e.target.style.cssText\n *         = `transform-origin: ${e.transformOrigin};`\n *         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n * }).on(\"dragOriginEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * % Can be used instead of the absolute px (default: true)\n * @name Moveable.OriginDraggable#originRelative\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     originDraggable: true,\n *     originRelative: false,\n * });\n * moveable.originRelative = true;\n */\n\n/**\n* When drag start the origin, the `dragOriginStart` event is called.\n* @memberof Moveable.OriginDraggable\n* @event dragOriginStart\n* @param {Moveable.OriginDraggable.OnDragOriginStart} - Parameters for the `dragOriginStart` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     originDraggable: true,\n* });\n* let translate = [0, 0];\n* moveable.on(\"dragOriginStart\", e => {\n*     e.dragStart && e.dragStart.set(translate);\n* }).on(\"dragOrigin\", e => {\n*     translate = e.drag.beforeTranslate;\n*     e.target.style.cssText\n*         = `transform-origin: ${e.transformOrigin};`\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n* }).on(\"dragOriginEnd\", e => {\n*     console.log(e);\n* });\n*/\n\n/**\n* When drag the origin, the `dragOrigin` event is called.\n* @memberof Moveable.OriginDraggable\n* @event dragOrigin\n* @param {Moveable.OriginDraggable.OnDragOrigin} - Parameters for the `dragOrigin` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     originDraggable: true,\n* });\n* let translate = [0, 0];\n* moveable.on(\"dragOriginStart\", e => {\n*     e.dragStart && e.dragStart.set(translate);\n* }).on(\"dragOrigin\", e => {\n*     translate = e.drag.beforeTranslate;\n*     e.target.style.cssText\n*         = `transform-origin: ${e.transformOrigin};`\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n* }).on(\"dragOriginEnd\", e => {\n*     console.log(e);\n* });\n*/\n\n/**\n* When drag end the origin, the `dragOriginEnd` event is called.\n* @memberof Moveable.OriginDraggable\n* @event dragOriginEnd\n* @param {Moveable.OriginDraggable.OnDragOriginEnd} - Parameters for the `dragOriginEnd` event\n* @example\n* import Moveable from \"moveable\";\n*\n* const moveable = new Moveable(document.body, {\n*     originDraggable: true,\n* });\n* let translate = [0, 0];\n* moveable.on(\"dragOriginStart\", e => {\n*     e.dragStart && e.dragStart.set(translate);\n* }).on(\"dragOrigin\", e => {\n*     translate = e.drag.beforeTranslate;\n*     e.target.style.cssText\n*         = `transform-origin: ${e.transformOrigin};`\n*         + `transform: translate(${translate[0]}px, ${translate[1]}px)`;\n* }).on(\"dragOriginEnd\", e => {\n*     console.log(e);\n* });\n*/\n\nfunction addBorderRadiusByLine(controlPoses, lineIndex, distX, distY) {\n  // lineIndex\n  // 0 top\n  // 1 right\n  // 2 bottom\n  // 3 left\n  var horizontalsLength = controlPoses.filter(function (_a) {\n    var virtual = _a.virtual,\n        horizontal = _a.horizontal;\n    return horizontal && !virtual;\n  }).length;\n  var verticalsLength = controlPoses.filter(function (_a) {\n    var virtual = _a.virtual,\n        vertical = _a.vertical;\n    return vertical && !virtual;\n  }).length;\n  var controlIndex = -1; //top\n\n  if (lineIndex === 0) {\n    if (horizontalsLength === 0) {\n      controlIndex = 0;\n    } else if (horizontalsLength === 1) {\n      controlIndex = 1;\n    }\n  } // bottom\n\n\n  if (lineIndex === 2) {\n    if (horizontalsLength <= 2) {\n      controlIndex = 2;\n    } else if (horizontalsLength <= 3) {\n      controlIndex = 3;\n    }\n  } // left\n\n\n  if (lineIndex === 3) {\n    if (verticalsLength === 0) {\n      controlIndex = 4;\n    } else if (verticalsLength < 4) {\n      controlIndex = 7;\n    }\n  } // right\n\n\n  if (lineIndex === 1) {\n    if (verticalsLength <= 1) {\n      controlIndex = 5;\n    } else if (verticalsLength <= 2) {\n      controlIndex = 6;\n    }\n  }\n\n  if (controlIndex === -1 || !controlPoses[controlIndex].virtual) {\n    return;\n  }\n\n  var controlPoseInfo = controlPoses[controlIndex];\n  addBorderRadius(controlPoses, controlIndex);\n\n  if (controlIndex < 4) {\n    controlPoseInfo.pos[0] = distX;\n  } else {\n    controlPoseInfo.pos[1] = distY;\n  }\n}\n\nfunction addBorderRadius(controlPoses, index) {\n  if (index < 4) {\n    controlPoses.slice(0, index + 1).forEach(function (info) {\n      info.virtual = false;\n    });\n  } else {\n    if (controlPoses[0].virtual) {\n      controlPoses[0].virtual = false;\n    }\n\n    controlPoses.slice(4, index + 1).forEach(function (info) {\n      info.virtual = false;\n    });\n  }\n}\n\nfunction removeBorderRadius(controlPoses, index) {\n  if (index < 4) {\n    controlPoses.slice(index, 4).forEach(function (info) {\n      info.virtual = true;\n    });\n  } else {\n    controlPoses.slice(index).forEach(function (info) {\n      info.virtual = true;\n    });\n  }\n}\n\nfunction getBorderRadius(borderRadius, width, height, minCounts, full) {\n  if (minCounts === void 0) {\n    minCounts = [0, 0];\n  }\n\n  var values = [];\n\n  if (!borderRadius || borderRadius === \"0px\") {\n    values = [];\n  } else {\n    values = splitSpace(borderRadius);\n  }\n\n  return getRadiusValues(values, width, height, 0, 0, minCounts, full);\n}\n\nfunction triggerRoundEvent(moveable, e, dist, delta, nextPoses) {\n  var state = moveable.state;\n  var width = state.width,\n      height = state.height;\n\n  var _a = getRadiusStyles(nextPoses, moveable.props.roundRelative, width, height),\n      raws = _a.raws,\n      styles = _a.styles,\n      radiusPoses = _a.radiusPoses;\n\n  var _b = splitRadiusPoses(radiusPoses, raws),\n      horizontals = _b.horizontals,\n      verticals = _b.verticals;\n\n  var borderRadius = styles.join(\" \");\n  state.borderRadiusState = borderRadius;\n  var params = fillParams(moveable, e, __assign({\n    horizontals: horizontals,\n    verticals: verticals,\n    borderRadius: borderRadius,\n    width: width,\n    height: height,\n    delta: delta,\n    dist: dist\n  }, fillCSSObject({\n    borderRadius: borderRadius\n  }, e)));\n  triggerEvent(moveable, \"onRound\", params);\n  return params;\n}\n\nfunction getStyleBorderRadius(moveable) {\n  var _a, _b;\n\n  var style = moveable.getState().style;\n  var borderRadius = style.borderRadius || \"\";\n\n  if (!borderRadius && moveable.props.groupable) {\n    var firstMoveable = moveable.moveables[0];\n    var firstTarget = moveable.getTargets()[0];\n\n    if (firstTarget) {\n      if ((firstMoveable === null || firstMoveable === void 0 ? void 0 : firstMoveable.props.target) === firstTarget) {\n        borderRadius = (_b = (_a = moveable.moveables[0]) === null || _a === void 0 ? void 0 : _a.state.style.borderRadius) !== null && _b !== void 0 ? _b : \"\";\n        style.borderRadius = borderRadius;\n      } else {\n        borderRadius = getComputedStyle(firstTarget).borderRadius;\n        style.borderRadius = borderRadius;\n      }\n    }\n  }\n\n  return borderRadius;\n}\n/**\n * @namespace Moveable.Roundable\n * @description Whether to show and drag or double click border-radius\n */\n\n\nvar Roundable = {\n  name: \"roundable\",\n  props: [\"roundable\", \"roundRelative\", \"minRoundControls\", \"maxRoundControls\", \"roundClickable\", \"roundPadding\", \"isDisplayShadowRoundControls\"],\n  events: [\"roundStart\", \"round\", \"roundEnd\", \"roundGroupStart\", \"roundGroup\", \"roundGroupEnd\"],\n  css: [\".control.border-radius {\\nbackground: #d66;\\ncursor: pointer;\\nz-index: 3;\\n}\", \".control.border-radius.vertical {\\nbackground: #d6d;\\nz-index: 2;\\n}\", \".control.border-radius.virtual {\\nopacity: 0.5;\\nz-index: 1;\\n}\", \":host.round-line-clickable .line.direction {\\ncursor: pointer;\\n}\"],\n  className: function (moveable) {\n    var roundClickable = moveable.props.roundClickable;\n    return roundClickable === true || roundClickable === \"line\" ? prefix(\"round-line-clickable\") : \"\";\n  },\n  requestStyle: function () {\n    return [\"borderRadius\"];\n  },\n  requestChildStyle: function () {\n    return [\"borderRadius\"];\n  },\n  render: function (moveable, React) {\n    var _a = moveable.getState(),\n        target = _a.target,\n        width = _a.width,\n        height = _a.height,\n        allMatrix = _a.allMatrix,\n        is3d = _a.is3d,\n        left = _a.left,\n        top = _a.top,\n        borderRadiusState = _a.borderRadiusState;\n\n    var _b = moveable.props,\n        _c = _b.minRoundControls,\n        minRoundControls = _c === void 0 ? [0, 0] : _c,\n        _d = _b.maxRoundControls,\n        maxRoundControls = _d === void 0 ? [4, 4] : _d,\n        zoom = _b.zoom,\n        _e = _b.roundPadding,\n        roundPadding = _e === void 0 ? 0 : _e,\n        isDisplayShadowRoundControls = _b.isDisplayShadowRoundControls,\n        groupable = _b.groupable;\n\n    if (!target) {\n      return null;\n    }\n\n    var borderRadius = borderRadiusState || getStyleBorderRadius(moveable);\n    var n = is3d ? 4 : 3;\n    var radiusValues = getBorderRadius(borderRadius, width, height, minRoundControls, true);\n\n    if (!radiusValues) {\n      return null;\n    }\n\n    var verticalCount = 0;\n    var horizontalCount = 0;\n    var basePos = groupable ? [0, 0] : [left, top];\n    return radiusValues.map(function (v, i) {\n      var horizontal = v.horizontal;\n      var vertical = v.vertical;\n      var direction = v.direction || \"\";\n\n      var originalPos = __spreadArray([], v.pos, true);\n\n      horizontalCount += Math.abs(horizontal);\n      verticalCount += Math.abs(vertical);\n\n      if (horizontal && direction.indexOf(\"n\") > -1) {\n        originalPos[1] -= roundPadding;\n      }\n\n      if (vertical && direction.indexOf(\"w\") > -1) {\n        originalPos[0] -= roundPadding;\n      }\n\n      if (horizontal && direction.indexOf(\"s\") > -1) {\n        originalPos[1] += roundPadding;\n      }\n\n      if (vertical && direction.indexOf(\"e\") > -1) {\n        originalPos[0] += roundPadding;\n      }\n\n      var pos = minus(calculatePosition(allMatrix, originalPos, n), basePos);\n      var isDisplay = v.vertical ? verticalCount <= maxRoundControls[1] && (isDisplayShadowRoundControls || !v.virtual) : horizontalCount <= maxRoundControls[0] && (isDisplayShadowRoundControls || !v.virtual);\n      return React.createElement(\"div\", {\n        key: \"borderRadiusControl\".concat(i),\n        className: prefix(\"control\", \"border-radius\", v.vertical ? \"vertical\" : \"\", v.virtual ? \"virtual\" : \"\"),\n        \"data-radius-index\": i,\n        style: {\n          display: isDisplay ? \"block\" : \"none\",\n          transform: \"translate(\".concat(pos[0], \"px, \").concat(pos[1], \"px) scale(\").concat(zoom, \")\")\n        }\n      });\n    });\n  },\n  dragControlCondition: function (moveable, e) {\n    if (!e.inputEvent || e.isRequest) {\n      return false;\n    }\n\n    var className = e.inputEvent.target.getAttribute(\"class\") || \"\";\n    return className.indexOf(\"border-radius\") > -1 || className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1;\n  },\n  dragGroupControlCondition: function (moveable, e) {\n    return this.dragControlCondition(moveable, e);\n  },\n  dragControlStart: function (moveable, e) {\n    var inputEvent = e.inputEvent,\n        datas = e.datas;\n    var inputTarget = inputEvent.target;\n    var className = inputTarget.getAttribute(\"class\") || \"\";\n    var isControl = className.indexOf(\"border-radius\") > -1;\n    var isLine = className.indexOf(\"moveable-line\") > -1 && className.indexOf(\"moveable-direction\") > -1;\n    var controlIndex = isControl ? parseInt(inputTarget.getAttribute(\"data-radius-index\"), 10) : -1;\n    var lineIndex = -1;\n\n    if (isLine) {\n      var indexAttr = inputTarget.getAttribute(\"data-line-key\") || \"\";\n\n      if (indexAttr) {\n        lineIndex = parseInt(indexAttr.replace(/render-line-/g, \"\"), 10);\n\n        if (isNaN(lineIndex)) {\n          lineIndex = -1;\n        }\n      }\n    }\n\n    if (!isControl && !isLine) {\n      return false;\n    }\n\n    var params = fillParams(moveable, e, {});\n    var result = triggerEvent(moveable, \"onRoundStart\", params);\n\n    if (result === false) {\n      return false;\n    }\n\n    datas.lineIndex = lineIndex;\n    datas.controlIndex = controlIndex;\n    datas.isControl = isControl;\n    datas.isLine = isLine;\n    setDragStart(moveable, e);\n    var _a = moveable.props,\n        roundRelative = _a.roundRelative,\n        _b = _a.minRoundControls,\n        minRoundControls = _b === void 0 ? [0, 0] : _b;\n    var state = moveable.state;\n    var width = state.width,\n        height = state.height;\n    datas.isRound = true;\n    datas.prevDist = [0, 0];\n    var borderRadius = getStyleBorderRadius(moveable);\n    var controlPoses = getBorderRadius(borderRadius || \"\", width, height, minRoundControls, true) || [];\n    datas.controlPoses = controlPoses;\n    state.borderRadiusState = getRadiusStyles(controlPoses, roundRelative, width, height).styles.join(\" \");\n    return params;\n  },\n  dragControl: function (moveable, e) {\n    var datas = e.datas;\n    var controlPoses = datas.controlPoses;\n\n    if (!datas.isRound || !datas.isControl || !controlPoses.length) {\n      return false;\n    }\n\n    var index = datas.controlIndex;\n\n    var _a = getDragDist(e),\n        distX = _a[0],\n        distY = _a[1];\n\n    var dist = [distX, distY];\n    var delta = minus(dist, datas.prevDist);\n    var _b = moveable.props.maxRoundControls,\n        maxRoundControls = _b === void 0 ? [4, 4] : _b;\n    var _c = moveable.state,\n        width = _c.width,\n        height = _c.height;\n    var selectedControlPose = controlPoses[index];\n    var selectedVertical = selectedControlPose.vertical;\n    var selectedHorizontal = selectedControlPose.horizontal; // 0: [0, 1, 2, 3] maxCount === 1\n    // 0: [0, 2] maxCount === 2\n    // 1: [1, 3] maxCount === 2\n    // 0: [0] maxCount === 3\n    // 1: [1, 3] maxCount === 3\n\n    var dists = controlPoses.map(function (pose) {\n      var horizontal = pose.horizontal,\n          vertical = pose.vertical;\n      var poseDist = [horizontal * selectedHorizontal * dist[0], vertical * selectedVertical * dist[1]];\n\n      if (horizontal) {\n        if (maxRoundControls[0] === 1) {\n          return poseDist;\n        } else if (maxRoundControls[0] < 4 && horizontal !== selectedHorizontal) {\n          return poseDist;\n        }\n      } else if (maxRoundControls[1] === 0) {\n        poseDist[1] = vertical * selectedHorizontal * dist[0] / width * height;\n        return poseDist;\n      } else if (selectedVertical) {\n        if (maxRoundControls[1] === 1) {\n          return poseDist;\n        } else if (maxRoundControls[1] < 4 && vertical !== selectedVertical) {\n          return poseDist;\n        }\n      }\n\n      return [0, 0];\n    });\n    dists[index] = dist;\n    var nextPoses = controlPoses.map(function (info, i) {\n      return __assign(__assign({}, info), {\n        pos: plus(info.pos, dists[i])\n      });\n    });\n\n    if (index < 4) {\n      nextPoses.slice(0, index + 1).forEach(function (info) {\n        info.virtual = false;\n      });\n    } else {\n      nextPoses.slice(4, index + 1).forEach(function (info) {\n        info.virtual = false;\n      });\n    }\n\n    datas.prevDist = [distX, distY];\n    return triggerRoundEvent(moveable, e, dist, delta, nextPoses);\n  },\n  dragControlEnd: function (moveable, e) {\n    var state = moveable.state;\n    state.borderRadiusState = \"\";\n    var datas = e.datas,\n        isDouble = e.isDouble;\n\n    if (!datas.isRound) {\n      return false;\n    }\n\n    var isControl = datas.isControl,\n        controlIndex = datas.controlIndex,\n        isLine = datas.isLine,\n        lineIndex = datas.lineIndex;\n    var controlPoses = datas.controlPoses;\n    var length = controlPoses.filter(function (_a) {\n      var virtual = _a.virtual;\n      return virtual;\n    }).length;\n    var _a = moveable.props.roundClickable,\n        roundClickable = _a === void 0 ? true : _a;\n\n    if (isDouble && roundClickable) {\n      if (isControl && (roundClickable === true || roundClickable === \"control\")) {\n        removeBorderRadius(controlPoses, controlIndex);\n      } else if (isLine && (roundClickable === true || roundClickable === \"line\")) {\n        var _b = calculatePointerDist(moveable, e),\n            distX = _b[0],\n            distY = _b[1];\n\n        addBorderRadiusByLine(controlPoses, lineIndex, distX, distY);\n      }\n\n      if (length !== controlPoses.filter(function (_a) {\n        var virtual = _a.virtual;\n        return virtual;\n      }).length) {\n        triggerRoundEvent(moveable, e, [0, 0], [0, 0], controlPoses);\n      }\n    }\n\n    var params = fillEndParams(moveable, e, {});\n    triggerEvent(moveable, \"onRoundEnd\", params);\n    state.borderRadiusState = \"\";\n    return params;\n  },\n  dragGroupControlStart: function (moveable, e) {\n    var result = this.dragControlStart(moveable, e);\n\n    if (!result) {\n      return false;\n    }\n\n    var moveables = moveable.moveables;\n    var targets = moveable.props.targets;\n    var events = fillChildEvents(moveable, \"roundable\", e);\n\n    var nextParams = __assign({\n      targets: moveable.props.targets,\n      events: events.map(function (ev, i) {\n        return __assign(__assign({}, ev), {\n          target: targets[i],\n          moveable: moveables[i],\n          currentTarget: moveables[i]\n        });\n      })\n    }, result);\n\n    triggerEvent(moveable, \"onRoundGroupStart\", nextParams);\n    return result;\n  },\n  dragGroupControl: function (moveable, e) {\n    var result = this.dragControl(moveable, e);\n\n    if (!result) {\n      return false;\n    }\n\n    var moveables = moveable.moveables;\n    var targets = moveable.props.targets;\n    var events = fillChildEvents(moveable, \"roundable\", e);\n\n    var nextParams = __assign({\n      targets: moveable.props.targets,\n      events: events.map(function (ev, i) {\n        return __assign(__assign(__assign({}, ev), {\n          target: targets[i],\n          moveable: moveables[i],\n          currentTarget: moveables[i]\n        }), fillCSSObject({\n          borderRadius: result.borderRadius\n        }, ev));\n      })\n    }, result);\n\n    triggerEvent(moveable, \"onRoundGroup\", nextParams);\n    return nextParams;\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    var moveables = moveable.moveables;\n    var targets = moveable.props.targets;\n    var events = fillChildEvents(moveable, \"roundable\", e);\n    catchEvent(moveable, \"onRound\", function (parentEvent) {\n      var nextParams = __assign({\n        targets: moveable.props.targets,\n        events: events.map(function (ev, i) {\n          return __assign(__assign(__assign({}, ev), {\n            target: targets[i],\n            moveable: moveables[i],\n            currentTarget: moveables[i]\n          }), fillCSSObject({\n            borderRadius: parentEvent.borderRadius\n          }, ev));\n        })\n      }, parentEvent);\n\n      triggerEvent(moveable, \"onRoundGroup\", nextParams);\n    });\n    var result = this.dragControlEnd(moveable, e);\n\n    if (!result) {\n      return false;\n    }\n\n    var nextParams = __assign({\n      targets: moveable.props.targets,\n      events: events.map(function (ev, i) {\n        var _a;\n\n        return __assign(__assign({}, ev), {\n          target: targets[i],\n          moveable: moveables[i],\n          currentTarget: moveables[i],\n          lastEvent: (_a = ev.datas) === null || _a === void 0 ? void 0 : _a.lastEvent\n        });\n      })\n    }, result);\n\n    triggerEvent(moveable, \"onRoundGroupEnd\", nextParams);\n    return nextParams;\n  },\n  unset: function (moveable) {\n    moveable.state.borderRadiusState = \"\";\n  }\n};\n/**\n * Whether to show and drag or double click border-radius, (default: false)\n * @name Moveable.Roundable#roundable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * % Can be used instead of the absolute px\n * @name Moveable.Roundable#roundRelative\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * Minimum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [0, 0])\n * @name Moveable.Roundable#minRoundControls\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n *     minRoundControls: [0, 0],\n * });\n * moveable.minRoundControls = [1, 0];\n */\n\n/**\n * Maximum number of round controls. It moves in proportion by control. [horizontal, vertical] (default: [4, 4])\n * @name Moveable.Roundable#maxRoundControls\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n *     maxRoundControls: [4, 4],\n * });\n * moveable.maxRoundControls = [1, 0];\n */\n\n/**\n * Whether you can add/delete round controls by double-clicking a line or control.\n * @name Moveable.Roundable#roundClickable\n * @default true\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n *     roundClickable: true,\n * });\n * moveable.roundClickable = false;\n */\n\n/**\n * Whether to show a round control that does not actually exist as a shadow\n * @name Moveable.Roundable#isDisplayShadowRoundControls\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     isDisplayShadowRoundControls: false,\n * });\n * moveable.isDisplayShadowRoundControls = true;\n */\n\n/**\n * The padding value of the position of the round control\n * @name Moveable.Roundable#roundPadding\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundPadding: 0,\n * });\n * moveable.roundPadding = 15;\n */\n\n/**\n * When drag start the clip area or controls, the `roundStart` event is called.\n * @memberof Moveable.Roundable\n * @event roundStart\n * @param {Moveable.Roundable.OnRoundStart} - Parameters for the `roundStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag or double click the border area or controls, the `round` event is called.\n * @memberof Moveable.Roundable\n * @event round\n * @param {Moveable.Roundable.OnRound} - Parameters for the `round` event\n * @example\n  * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag end the border area or controls, the `roundEnd` event is called.\n * @memberof Moveable.Roundable\n * @event roundEnd\n * @param {Moveable.Roundable.onRoundEnd} - Parameters for the `roundEnd` event\n * @example\n  * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     roundable: true,\n *     roundRelative: false,\n * });\n * moveable.on(\"roundStart\", e => {\n *     console.log(e);\n * }).on(\"round\", e => {\n *     e.target.style.borderRadius = e.borderRadius;\n * }).on(\"roundEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag start the clip area or controls, the `roundGroupStart` event is called.\n * @memberof Moveable.Roundable\n * @event roundGroupStart\n * @param {Moveable.Roundable.OnRoundGroupStart} - Parameters for the `roundGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     targets: [target1, target2, target3],\n *     roundable: true,\n * });\n * moveable.on(\"roundGroupStart\", e => {\n *     console.log(e.targets);\n * }).on(\"roundGroup\", e => {\n *   e.events.forEach(ev => {\n *       ev.target.style.cssText += ev.cssText;\n *   });\n * }).on(\"roundGroupEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag or double click the border area or controls, the `roundGroup` event is called.\n * @memberof Moveable.Roundable\n * @event roundGroup\n * @param {Moveable.Roundable.OnRoundGroup} - Parameters for the `roundGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     targets: [target1, target2, target3],\n *     roundable: true,\n * });\n * moveable.on(\"roundGroupStart\", e => {\n *     console.log(e.targets);\n * }).on(\"roundGroup\", e => {\n *   e.events.forEach(ev => {\n *       ev.target.style.cssText += ev.cssText;\n *   });\n * }).on(\"roundGroupEnd\", e => {\n *     console.log(e);\n * });\n */\n\n/**\n * When drag end the border area or controls, the `roundGroupEnd` event is called.\n * @memberof Moveable.Roundable\n * @event roundGroupEnd\n * @param {Moveable.Roundable.onRoundGroupEnd} - Parameters for the `roundGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     targets: [target1, target2, target3],\n *     roundable: true,\n * });\n * moveable.on(\"roundGroupStart\", e => {\n *     console.log(e.targets);\n * }).on(\"roundGroup\", e => {\n *     e.events.forEach(ev => {\n *         ev.target.style.cssText += ev.cssText;\n *     });\n * }).on(\"roundGroupEnd\", e => {\n *     console.log(e);\n * });\n */\n\nfunction isIdentityMatrix(matrix, is3d) {\n  var n = is3d ? 4 : 3;\n  var identityMatrix = createIdentityMatrix(n);\n  var value = \"matrix\".concat(is3d ? \"3d\" : \"\", \"(\").concat(identityMatrix.join(\",\"), \")\");\n  return matrix === value || matrix === \"matrix(1,0,0,1,0,0)\";\n}\n\nvar BeforeRenderable = {\n  isPinch: true,\n  name: \"beforeRenderable\",\n  props: [],\n  events: [\"beforeRenderStart\", \"beforeRender\", \"beforeRenderEnd\", \"beforeRenderGroupStart\", \"beforeRenderGroup\", \"beforeRenderGroupEnd\"],\n  dragRelation: \"weak\",\n  setTransform: function (moveable, e) {\n    var _a = moveable.state,\n        is3d = _a.is3d,\n        targetMatrix = _a.targetMatrix,\n        inlineTransform = _a.inlineTransform;\n    var cssMatrix = is3d ? \"matrix3d(\".concat(targetMatrix.join(\",\"), \")\") : \"matrix(\".concat(convertMatrixtoCSS(targetMatrix, true), \")\");\n    var startTransform = !inlineTransform || inlineTransform === \"none\" ? cssMatrix : inlineTransform;\n    e.datas.startTransforms = isIdentityMatrix(startTransform, is3d) ? [] : splitSpace(startTransform);\n  },\n  resetStyle: function (e) {\n    var datas = e.datas;\n    datas.nextStyle = {};\n    datas.nextTransforms = e.datas.startTransforms;\n    datas.nextTransformAppendedIndexes = [];\n  },\n  fillDragStartParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      setTransform: function (transform) {\n        e.datas.startTransforms = isArray(transform) ? transform : splitSpace(transform);\n      },\n      isPinch: !!e.isPinch\n    });\n  },\n  fillDragParams: function (moveable, e) {\n    return fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    });\n  },\n  dragStart: function (moveable, e) {\n    this.setTransform(moveable, e);\n    this.resetStyle(e);\n    triggerEvent(moveable, \"onBeforeRenderStart\", this.fillDragStartParams(moveable, e));\n  },\n  drag: function (moveable, e) {\n    if (!e.datas.startTransforms) {\n      this.setTransform(moveable, e);\n    }\n\n    this.resetStyle(e);\n    triggerEvent(moveable, \"onBeforeRender\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    }));\n  },\n  dragEnd: function (moveable, e) {\n    if (!e.datas.startTransforms) {\n      this.setTransform(moveable, e);\n      this.resetStyle(e);\n    }\n\n    triggerEvent(moveable, \"onBeforeRenderEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag\n    }));\n  },\n  dragGroupStart: function (moveable, e) {\n    var _this = this;\n\n    this.dragStart(moveable, e);\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n\n      _this.setTransform(childMoveable, childEvent);\n\n      _this.resetStyle(childEvent);\n\n      return _this.fillDragStartParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onBeforeRenderGroupStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets,\n      setTransform: function () {},\n      events: params\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    var _this = this;\n\n    this.drag(moveable, e);\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n\n      _this.resetStyle(childEvent);\n\n      return _this.fillDragParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onBeforeRenderGroup\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets,\n      events: params\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    this.dragEnd(moveable, e);\n    triggerEvent(moveable, \"onBeforeRenderGroupEnd\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag,\n      targets: moveable.props.targets\n    }));\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragGroupStart(moveable, e);\n  },\n  dragGroupControl: function (moveable, e) {\n    return this.dragGroup(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    return this.dragGroupEnd(moveable, e);\n  }\n};\n\nvar Renderable = {\n  name: \"renderable\",\n  props: [],\n  events: [\"renderStart\", \"render\", \"renderEnd\", \"renderGroupStart\", \"renderGroup\", \"renderGroupEnd\"],\n  dragRelation: \"weak\",\n  dragStart: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch\n    }));\n  },\n  drag: function (moveable, e) {\n    triggerEvent(moveable, \"onRender\", this.fillDragParams(moveable, e));\n  },\n  dragAfter: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragEnd: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderEnd\", this.fillDragEndParams(moveable, e));\n  },\n  dragGroupStart: function (moveable, e) {\n    triggerEvent(moveable, \"onRenderGroupStart\", fillParams(moveable, e, {\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets\n    }));\n  },\n  dragGroup: function (moveable, e) {\n    var _this = this;\n\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n      return _this.fillDragParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onRenderGroup\", fillParams(moveable, e, __assign(__assign({\n      isPinch: !!e.isPinch,\n      targets: moveable.props.targets,\n      transform: getNextTransformText(e),\n      transformObject: {}\n    }, fillCSSObject(getNextStyle(e))), {\n      events: params\n    })));\n  },\n  dragGroupEnd: function (moveable, e) {\n    var _this = this;\n\n    var events = fillChildEvents(moveable, \"beforeRenderable\", e);\n    var moveables = moveable.moveables;\n    var params = events.map(function (childEvent, i) {\n      var childMoveable = moveables[i];\n      return _this.fillDragEndParams(childMoveable, childEvent);\n    });\n    triggerEvent(moveable, \"onRenderGroupEnd\", fillParams(moveable, e, __assign({\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag,\n      targets: moveable.props.targets,\n      events: params,\n      transformObject: {},\n      transform: getNextTransformText(e)\n    }, fillCSSObject(getNextStyle(e)))));\n  },\n  dragControlStart: function (moveable, e) {\n    return this.dragStart(moveable, e);\n  },\n  dragControl: function (moveable, e) {\n    return this.drag(moveable, e);\n  },\n  dragControlAfter: function (moveable, e) {\n    return this.dragAfter(moveable, e);\n  },\n  dragControlEnd: function (moveable, e) {\n    return this.dragEnd(moveable, e);\n  },\n  dragGroupControlStart: function (moveable, e) {\n    return this.dragGroupStart(moveable, e);\n  },\n  dragGroupControl: function (moveable, e) {\n    return this.dragGroup(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    return this.dragGroupEnd(moveable, e);\n  },\n  fillDragParams: function (moveable, e) {\n    var transformObject = {};\n    parse(getNextTransforms(e) || []).forEach(function (matrixInfo) {\n      transformObject[matrixInfo.name] = matrixInfo.functionValue;\n    });\n    return fillParams(moveable, e, __assign({\n      isPinch: !!e.isPinch,\n      transformObject: transformObject,\n      transform: getNextTransformText(e)\n    }, fillCSSObject(getNextStyle(e))));\n  },\n  fillDragEndParams: function (moveable, e) {\n    var transformObject = {};\n    parse(getNextTransforms(e) || []).forEach(function (matrixInfo) {\n      transformObject[matrixInfo.name] = matrixInfo.functionValue;\n    });\n    return fillParams(moveable, e, __assign({\n      isPinch: !!e.isPinch,\n      isDrag: e.isDrag,\n      transformObject: transformObject,\n      transform: getNextTransformText(e)\n    }, fillCSSObject(getNextStyle(e))));\n  }\n};\n\nfunction triggerAble(moveable, ableType, eventOperations, eventAffix, eventType, e, requestInstant) {\n  // pre setting\n  e.clientDistX = e.distX;\n  e.clientDistY = e.distY;\n  var isStart = eventType === \"Start\";\n  var isEnd = eventType === \"End\";\n  var isAfter = eventType === \"After\";\n  var target = moveable.state.target;\n  var isRequest = e.isRequest;\n  var isControl = eventAffix.indexOf(\"Control\") > -1;\n\n  if (!target || isStart && isControl && !isRequest && moveable.areaElement === e.inputEvent.target) {\n    return false;\n  }\n\n  var ables = __spreadArray([], moveable[ableType], true);\n\n  if (isRequest) {\n    var requestAble_1 = e.requestAble;\n\n    if (!ables.some(function (able) {\n      return able.name === requestAble_1;\n    })) {\n      ables.push.apply(ables, moveable.props.ables.filter(function (able) {\n        return able.name === requestAble_1;\n      }));\n    }\n  }\n\n  if (!ables.length || ables.every(function (able) {\n    return able.dragRelation;\n  })) {\n    return false;\n  } // \"drag\" \"Control\" \"After\"\n\n\n  var inputEvent = e.inputEvent;\n  var inputTarget;\n\n  if (isEnd && inputEvent) {\n    inputTarget = document.elementFromPoint(e.clientX, e.clientY) || inputEvent.target;\n  }\n\n  var isDragStop = false;\n\n  var stop = function () {\n    var _a;\n\n    isDragStop = true;\n    (_a = e.stop) === null || _a === void 0 ? void 0 : _a.call(e);\n  };\n\n  var isFirstStart = isStart && (!moveable.targetGesto || !moveable.controlGesto || !moveable.targetGesto.isFlag() || !moveable.controlGesto.isFlag());\n\n  if (isFirstStart) {\n    moveable.updateRect(eventType, true, false);\n  } // trigger ables\n\n\n  var datas = e.datas;\n  var gestoType = isControl ? \"controlGesto\" : \"targetGesto\";\n  var prevGesto = moveable[gestoType];\n\n  var trigger = function (able, eventName, conditionName) {\n    if (!(eventName in able) || prevGesto !== moveable[gestoType]) {\n      return false;\n    }\n\n    var ableName = able.name;\n    var nextDatas = datas[ableName] || (datas[ableName] = {});\n\n    if (isStart) {\n      nextDatas.isEventStart = !conditionName || !able[conditionName] || able[conditionName](moveable, e);\n    }\n\n    if (!nextDatas.isEventStart) {\n      return false;\n    }\n\n    var result = able[eventName](moveable, __assign(__assign({}, e), {\n      stop: stop,\n      datas: nextDatas,\n      originalDatas: datas,\n      inputTarget: inputTarget\n    }));\n\n    moveable._emitter.off();\n\n    if (isStart && result === false) {\n      nextDatas.isEventStart = false;\n    }\n\n    return result;\n  }; // unset ables for first drag start\n\n\n  if (isFirstStart) {\n    ables.forEach(function (able) {\n      able.unset && able.unset(moveable);\n    });\n  } // BeforeRenderable\n\n\n  trigger(BeforeRenderable, \"drag\".concat(eventAffix).concat(eventType));\n  var forceEndedCount = 0;\n  var updatedCount = 0;\n  eventOperations.forEach(function (eventOperation) {\n    if (isDragStop) {\n      return false;\n    }\n\n    var eventName = \"\".concat(eventOperation).concat(eventAffix).concat(eventType);\n    var conditionName = \"\".concat(eventOperation).concat(eventAffix, \"Condition\");\n\n    if (eventType === \"\" && !isRequest) {\n      // Convert distX, distY\n      convertDragDist(moveable.state, e);\n    } // const isGroup = eventAffix.indexOf(\"Group\") > -1;\n\n\n    var eventAbles = ables.filter(function (able) {\n      return able[eventName];\n    });\n    eventAbles = eventAbles.filter(function (able, i) {\n      return able.name && eventAbles.indexOf(able) === i;\n    });\n    var results = eventAbles.filter(function (able) {\n      return trigger(able, eventName, conditionName);\n    });\n    var isUpdate = results.length; // end ables\n\n    if (isDragStop) {\n      ++forceEndedCount;\n    }\n\n    if (isUpdate) {\n      ++updatedCount;\n    }\n\n    if (!isDragStop && isStart && eventAbles.length && !isUpdate) {\n      forceEndedCount += eventAbles.filter(function (able) {\n        var ableName = able.name;\n        var nextDatas = datas[ableName];\n\n        if (nextDatas.isEventStart) {\n          if (able.dragRelation === \"strong\") {\n            return false;\n          } // stop drag\n\n\n          return true;\n        } // pre stop drag\n\n\n        return false;\n      }).length ? 1 : 0;\n    }\n  });\n\n  if (!isAfter || updatedCount) {\n    trigger(Renderable, \"drag\".concat(eventAffix).concat(eventType));\n  } // stop gesto condition\n\n\n  var isForceEnd = prevGesto !== moveable[gestoType] || forceEndedCount === eventOperations.length;\n\n  if (isEnd || isDragStop || isForceEnd) {\n    moveable.state.gestos = {};\n\n    if (moveable.moveables) {\n      moveable.moveables.forEach(function (childMoveable) {\n        childMoveable.state.gestos = {};\n      });\n    }\n\n    ables.forEach(function (able) {\n      able.unset && able.unset(moveable);\n    });\n  }\n\n  if (isStart && !isForceEnd && !isRequest && updatedCount && moveable.props.preventDefault) {\n    e === null || e === void 0 ? void 0 : e.preventDefault();\n  }\n\n  if (moveable.isUnmounted || isForceEnd) {\n    return false;\n  }\n\n  if (!isStart && updatedCount && !requestInstant || isEnd) {\n    var flushSync = moveable.props.flushSync || defaultSync;\n    flushSync(function () {\n      moveable.updateRect(isEnd ? eventType : \"\", true, false);\n      moveable.forceUpdate();\n    });\n  }\n\n  if (!isStart && !isEnd && !isAfter && updatedCount && !requestInstant) {\n    triggerAble(moveable, ableType, eventOperations, eventAffix, eventType + \"After\", e);\n  }\n\n  return true;\n}\nfunction checkMoveableTarget(moveable) {\n  return function (e) {\n    var _a;\n\n    var dragTarget = moveable.props.dragTarget;\n    var eventTarget = e.inputEvent.target;\n    var areaElement = moveable.areaElement;\n\n    if ((_a = moveable.controlGesto) === null || _a === void 0 ? void 0 : _a.isFlag()) {\n      return false;\n    }\n\n    return dragTarget && (eventTarget === dragTarget || dragTarget.contains(eventTarget)) || eventTarget === areaElement || !moveable.isMoveableElement(eventTarget) && !moveable.controlBox.contains(eventTarget) || hasClass(eventTarget, \"moveable-area\") || hasClass(eventTarget, \"moveable-padding\") || hasClass(eventTarget, \"moveable-edgeDraggable\");\n  };\n}\nfunction getTargetAbleGesto(moveable, moveableTarget, eventAffix) {\n  var controlBox = moveable.controlBox;\n  var targets = [];\n  var dragTarget = moveable.props.dragTarget;\n  targets.push(controlBox);\n\n  if (!moveable.props.dragArea || dragTarget) {\n    targets.push(moveableTarget);\n  }\n\n  return getAbleGesto(moveable, targets, \"targetAbles\", eventAffix, {\n    dragStart: checkMoveableTarget(moveable),\n    pinchStart: checkMoveableTarget(moveable)\n  });\n}\nfunction getAbleGesto(moveable, target, ableType, eventAffix, conditionFunctions) {\n  if (conditionFunctions === void 0) {\n    conditionFunctions = {};\n  }\n\n  var isTargetAbles = ableType === \"targetAbles\";\n  var _a = moveable.props,\n      pinchOutside = _a.pinchOutside,\n      pinchThreshold = _a.pinchThreshold,\n      preventClickEventOnDrag = _a.preventClickEventOnDrag,\n      preventClickDefault = _a.preventClickDefault,\n      checkInput = _a.checkInput,\n      dragFocusedInput = _a.dragFocusedInput,\n      _b = _a.preventDefault,\n      preventDefault = _b === void 0 ? true : _b,\n      dragContaienrOption = _a.dragContainer;\n  var dragContainer = getRefTarget(dragContaienrOption, true);\n  var options = {\n    preventDefault: preventDefault,\n    preventRightClick: true,\n    preventWheelClick: true,\n    container: dragContainer || getWindow(moveable.getControlBoxElement()),\n    pinchThreshold: pinchThreshold,\n    pinchOutside: pinchOutside,\n    preventClickEventOnDrag: isTargetAbles ? preventClickEventOnDrag : false,\n    preventClickEventOnDragStart: isTargetAbles ? preventClickDefault : false,\n    preventClickEventByCondition: isTargetAbles ? null : function (e) {\n      return moveable.controlBox.contains(e.target);\n    },\n    checkInput: isTargetAbles ? checkInput : false,\n    dragFocusedInput: dragFocusedInput\n  };\n  var gesto = new Gesto(target, options);\n  var isControl = eventAffix === \"Control\";\n  [\"drag\", \"pinch\"].forEach(function (eventOperation) {\n    [\"Start\", \"\", \"End\"].forEach(function (eventType) {\n      gesto.on(\"\".concat(eventOperation).concat(eventType), function (e) {\n        var _a;\n\n        var eventName = e.eventType;\n        var isPinchScheduled = eventOperation === \"drag\" && e.isPinch;\n\n        if (conditionFunctions[eventName] && !conditionFunctions[eventName](e)) {\n          e.stop();\n          return;\n        }\n\n        if (isPinchScheduled) {\n          return;\n        }\n\n        var eventOperations = eventOperation === \"drag\" ? [eventOperation] : [\"drag\", eventOperation];\n        var result = triggerAble(moveable, ableType, eventOperations, eventAffix, eventType, e);\n\n        if (!result) {\n          e.stop();\n        } else if (moveable.props.stopPropagation || eventType === \"Start\" && isControl) {\n          (_a = e === null || e === void 0 ? void 0 : e.inputEvent) === null || _a === void 0 ? void 0 : _a.stopPropagation();\n        }\n      });\n    });\n  });\n  return gesto;\n}\n\nvar EventManager =\n/*#__PURE__*/\nfunction () {\n  function EventManager(target, moveable, eventName) {\n    var _this = this;\n\n    this.target = target;\n    this.moveable = moveable;\n    this.eventName = eventName;\n    this.ables = [];\n\n    this._onEvent = function (e) {\n      var eventName = _this.eventName;\n      var moveable = _this.moveable;\n\n      if (moveable.state.disableNativeEvent) {\n        return;\n      }\n\n      _this.ables.forEach(function (able) {\n        able[eventName](moveable, {\n          inputEvent: e\n        });\n      });\n    };\n\n    target.addEventListener(eventName.toLowerCase(), this._onEvent);\n  }\n\n  var __proto = EventManager.prototype;\n\n  __proto.setAbles = function (ables) {\n    this.ables = ables;\n  };\n\n  __proto.destroy = function () {\n    this.target.removeEventListener(this.eventName.toLowerCase(), this._onEvent);\n    this.target = null;\n    this.moveable = null;\n  };\n\n  return EventManager;\n}();\n\nfunction calculateMatrixStack(target, container, rootContainer, isAbsolute3d) {\n  var _a;\n\n  if (rootContainer === void 0) {\n    rootContainer = container;\n  }\n\n  var _b = getMatrixStackInfo(target, container),\n      matrixes = _b.matrixes,\n      is3d = _b.is3d,\n      prevTargetMatrix = _b.targetMatrix,\n      transformOrigin = _b.transformOrigin,\n      targetOrigin = _b.targetOrigin,\n      offsetContainer = _b.offsetContainer,\n      hasFixed = _b.hasFixed,\n      containerZoom = _b.zoom; // prevMatrix\n\n\n  var _c = getCachedMatrixContainerInfo(offsetContainer, rootContainer),\n      rootMatrixes = _c.matrixes,\n      isRoot3d = _c.is3d,\n      offsetRootContainer = _c.offsetContainer,\n      rootZoom = _c.zoom; // prevRootMatrix\n  // if (rootContainer === document.body) {\n  //     console.log(offsetContainer, rootContainer, rootMatrixes);\n  // }\n\n\n  var isNext3d = isAbsolute3d || isRoot3d || is3d;\n  var n = isNext3d ? 4 : 3;\n  var isSVGGraphicElement = target.tagName.toLowerCase() !== \"svg\" && \"ownerSVGElement\" in target;\n  var targetMatrix = prevTargetMatrix; // let allMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\n  // let rootMatrix = prevRootMatrix ? convertDimension(prevRootMatrix, prevN!, n) : createIdentityMatrix(n);\n  // let beforeMatrix = prevMatrix ? convertDimension(prevMatrix, prevN!, n) : createIdentityMatrix(n);\n\n  var allMatrix = createIdentityMatrix(n);\n  var rootMatrix = createIdentityMatrix(n);\n  var beforeMatrix = createIdentityMatrix(n);\n  var offsetMatrix = createIdentityMatrix(n);\n  var length = matrixes.length;\n  var nextRootMatrixes = rootMatrixes.map(function (info) {\n    return __assign(__assign({}, info), {\n      matrix: info.matrix ? __spreadArray([], info.matrix, true) : undefined\n    });\n  }).reverse();\n  matrixes.reverse();\n\n  if (!is3d && isNext3d) {\n    targetMatrix = convertDimension(targetMatrix, 3, 4);\n    convert3DMatrixes(matrixes);\n  }\n\n  if (!isRoot3d && isNext3d) {\n    convert3DMatrixes(nextRootMatrixes);\n  } // rootMatrix = (...) -> container -> offset -> absolute -> offset -> absolute(targetMatrix)\n  // rootMatrixBeforeOffset = lastOffsetMatrix -> (...) -> container\n  // beforeMatrix = (... -> container -> offset -> absolute) -> offset -> absolute(targetMatrix)\n  // offsetMatrix = (... -> container -> offset -> absolute -> offset) -> absolute(targetMatrix)\n\n\n  nextRootMatrixes.forEach(function (info) {\n    rootMatrix = multiply(rootMatrix, info.matrix, n);\n  });\n  var originalRootContainer = rootContainer || getDocumentBody(target);\n  var endContainer = ((_a = nextRootMatrixes[0]) === null || _a === void 0 ? void 0 : _a.target) || getOffsetInfo(originalRootContainer, originalRootContainer, true).offsetParent;\n  var rootMatrixBeforeOffset = nextRootMatrixes.slice(1).reduce(function (matrix, info) {\n    return multiply(matrix, info.matrix, n);\n  }, createIdentityMatrix(n));\n  matrixes.forEach(function (info, i) {\n    if (length - 2 === i) {\n      // length - 3\n      beforeMatrix = allMatrix.slice();\n    }\n\n    if (length - 1 === i) {\n      // length - 2\n      offsetMatrix = allMatrix.slice();\n    } // calculate for SVGElement\n\n\n    if (!info.matrix) {\n      var nextInfo = matrixes[i + 1];\n      var offset = getSVGOffset(info, nextInfo, endContainer, n, multiply(rootMatrixBeforeOffset, allMatrix, n));\n      info.matrix = createOriginMatrix(offset, n);\n    }\n\n    allMatrix = multiply(allMatrix, info.matrix, n);\n  });\n  var isMatrix3d = !isSVGGraphicElement && is3d;\n\n  if (!targetMatrix) {\n    targetMatrix = createIdentityMatrix(isMatrix3d ? 4 : 3);\n  }\n\n  var targetTransform = makeMatrixCSS(isSVGGraphicElement && targetMatrix.length === 16 ? convertDimension(targetMatrix, 4, 3) : targetMatrix, isMatrix3d);\n  var originalRootMatrix = rootMatrix;\n  rootMatrix = ignoreDimension(rootMatrix, n, n);\n  return {\n    hasZoom: containerZoom !== 1 || rootZoom !== 1,\n    hasFixed: hasFixed,\n    rootMatrix: rootMatrix,\n    originalRootMatrix: originalRootMatrix,\n    beforeMatrix: beforeMatrix,\n    offsetMatrix: offsetMatrix,\n    allMatrix: allMatrix,\n    targetMatrix: targetMatrix,\n    targetTransform: targetTransform,\n    inlineTransform: target.style.transform,\n    transformOrigin: transformOrigin,\n    targetOrigin: targetOrigin,\n    is3d: isNext3d,\n    offsetContainer: offsetContainer,\n    offsetRootContainer: offsetRootContainer\n  };\n}\n\nfunction calculateElementInfo(target, container, rootContainer, isAbsolute3d) {\n  if (rootContainer === void 0) {\n    rootContainer = container;\n  }\n\n  var width = 0;\n  var height = 0;\n  var rotation = 0;\n  var allResult = {};\n  var sizes = getSize(target);\n\n  if (target) {\n    width = sizes.offsetWidth;\n    height = sizes.offsetHeight;\n  }\n\n  if (target) {\n    var result = calculateMatrixStack(target, container, rootContainer, isAbsolute3d);\n    var position = calculateMoveablePosition(result.allMatrix, result.transformOrigin, width, height);\n    allResult = __assign(__assign({}, result), position);\n    var rotationPosition = calculateMoveablePosition(result.allMatrix, [50, 50], 100, 100);\n    rotation = getRotationRad([rotationPosition.pos1, rotationPosition.pos2], rotationPosition.direction);\n  }\n\n  var n = isAbsolute3d ? 4 : 3;\n  return __assign(__assign(__assign({\n    hasZoom: false,\n    width: width,\n    height: height,\n    rotation: rotation\n  }, sizes), {\n    originalRootMatrix: createIdentityMatrix(n),\n    rootMatrix: createIdentityMatrix(n),\n    beforeMatrix: createIdentityMatrix(n),\n    offsetMatrix: createIdentityMatrix(n),\n    allMatrix: createIdentityMatrix(n),\n    targetMatrix: createIdentityMatrix(n),\n    targetTransform: \"\",\n    inlineTransform: \"\",\n    transformOrigin: [0, 0],\n    targetOrigin: [0, 0],\n    is3d: !!isAbsolute3d,\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    origin: [0, 0],\n    pos1: [0, 0],\n    pos2: [0, 0],\n    pos3: [0, 0],\n    pos4: [0, 0],\n    direction: 1,\n    hasFixed: false,\n    offsetContainer: null,\n    offsetRootContainer: null\n  }), allResult);\n}\nfunction getElementInfo(target, container, rootContainer) {\n  if (rootContainer === void 0) {\n    rootContainer = container;\n  }\n\n  return calculateElementInfo(target, container, rootContainer, true);\n}\n\nfunction getMoveableTargetInfo(moveableElement, target, container, parentContainer, rootContainer, requestStyles) {\n  if (requestStyles === void 0) {\n    requestStyles = [];\n  }\n\n  var beforeDirection = 1;\n  var beforeOrigin = [0, 0];\n  var targetClientRect = resetClientRect();\n  var moveableClientRect = resetClientRect();\n  var containerClientRect = resetClientRect();\n  var rootContainerClientRect = resetClientRect();\n  var offsetDelta = [0, 0];\n  var style = {};\n  var result = calculateElementInfo(target, container, rootContainer, true);\n\n  if (target) {\n    var getStyle_1 = getCachedStyle(target);\n    requestStyles.forEach(function (name) {\n      style[name] = getStyle_1(name);\n    });\n    var n = result.is3d ? 4 : 3;\n    var beforePosition = calculateMoveablePosition(result.offsetMatrix, plus(result.transformOrigin, getOrigin(result.targetMatrix, n)), result.width, result.height);\n    beforeDirection = beforePosition.direction;\n    beforeOrigin = plus(beforePosition.origin, [beforePosition.left - result.left, beforePosition.top - result.top]);\n    rootContainerClientRect = getClientRect(result.offsetRootContainer);\n    var offsetContainer = getOffsetInfo(parentContainer, parentContainer, true).offsetParent || result.offsetRootContainer;\n\n    if (result.hasZoom) {\n      var absoluteTargetPosition = calculateMoveablePosition(multiply(result.originalRootMatrix, result.allMatrix), result.transformOrigin, result.width, result.height);\n      var absoluteContainerPosition = calculateMoveablePosition(result.originalRootMatrix, getTransformOriginArray(getCachedStyle(offsetContainer)(\"transformOrigin\")).map(function (pos) {\n        return parseFloat(pos);\n      }), offsetContainer.offsetWidth, offsetContainer.offsetHeight);\n      targetClientRect = getClientRectByPosition(absoluteTargetPosition, rootContainerClientRect);\n      containerClientRect = getClientRectByPosition(absoluteContainerPosition, rootContainerClientRect, offsetContainer, true);\n\n      if (moveableElement) {\n        var left = absoluteTargetPosition.left;\n        var top = absoluteTargetPosition.top;\n        moveableClientRect = getClientRectByPosition({\n          left: left,\n          top: top,\n          bottom: top,\n          right: top\n        }, rootContainerClientRect);\n      }\n    } else {\n      targetClientRect = getClientRect(target);\n      containerClientRect = getCachedClientRect(offsetContainer);\n\n      if (moveableElement) {\n        moveableClientRect = getClientRect(moveableElement);\n      }\n\n      var containerClientRectLeft = containerClientRect.left,\n          containerClientRectTop = containerClientRect.top,\n          containterClientLeft = containerClientRect.clientLeft,\n          containerClientTop = containerClientRect.clientTop;\n      var clientDelta = [targetClientRect.left - containerClientRectLeft, targetClientRect.top - containerClientRectTop];\n      offsetDelta = minus(calculateInversePosition(result.rootMatrix, clientDelta, 4), [containterClientLeft + result.left, containerClientTop + result.top]);\n    }\n  }\n\n  return __assign({\n    targetClientRect: targetClientRect,\n    containerClientRect: containerClientRect,\n    moveableClientRect: moveableClientRect,\n    rootContainerClientRect: rootContainerClientRect,\n    beforeDirection: beforeDirection,\n    beforeOrigin: beforeOrigin,\n    originalBeforeOrigin: beforeOrigin,\n    target: target,\n    style: style,\n    offsetDelta: offsetDelta\n  }, result);\n}\n\nfunction getPersistState(rect) {\n  var pos1 = rect.pos1,\n      pos2 = rect.pos2,\n      pos3 = rect.pos3,\n      pos4 = rect.pos4;\n\n  if (!pos1 || !pos2 || !pos3 || !pos4) {\n    return null;\n  }\n\n  var minPos = getMinMaxs([pos1, pos2, pos3, pos4]);\n  var posDelta = [minPos.minX, minPos.minY];\n  var origin = minus(rect.origin, posDelta);\n  pos1 = minus(pos1, posDelta);\n  pos2 = minus(pos2, posDelta);\n  pos3 = minus(pos3, posDelta);\n  pos4 = minus(pos4, posDelta);\n  return __assign(__assign({}, rect), {\n    left: rect.left,\n    top: rect.top,\n    posDelta: posDelta,\n    pos1: pos1,\n    pos2: pos2,\n    pos3: pos3,\n    pos4: pos4,\n    origin: origin,\n    beforeOrigin: origin,\n    // originalBeforeOrigin: origin,\n    isPersisted: true\n  });\n}\n\nvar MoveableManager =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableManager, _super);\n\n  function MoveableManager() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = __assign({\n      container: null,\n      gestos: {},\n      renderPoses: [[0, 0], [0, 0], [0, 0], [0, 0]],\n      disableNativeEvent: false,\n      posDelta: [0, 0]\n    }, getMoveableTargetInfo(null));\n    _this.renderState = {};\n    _this.enabledAbles = [];\n    _this.targetAbles = [];\n    _this.controlAbles = [];\n    _this.rotation = 0;\n    _this.scale = [1, 1];\n    _this.isMoveableMounted = false;\n    _this.isUnmounted = false;\n    _this.events = {\n      \"mouseEnter\": null,\n      \"mouseLeave\": null\n    };\n    _this._emitter = new EventEmitter();\n    _this._prevTarget = null;\n    _this._prevDragArea = false;\n    _this._isPropTargetChanged = false;\n    _this._hasFirstTarget = false;\n    _this._reiszeObserver = null;\n    _this._observerId = 0;\n    _this._mutationObserver = null;\n    _this._rootContainer = null;\n    _this._viewContainer = null;\n    _this._viewClassNames = [];\n    _this._store = {};\n\n    _this.checkUpdateRect = function () {\n      if (_this.isDragging()) {\n        return;\n      }\n\n      var parentMoveable = _this.props.parentMoveable;\n\n      if (parentMoveable) {\n        parentMoveable.checkUpdateRect();\n        return;\n      }\n\n      cancelAnimationFrame(_this._observerId);\n      _this._observerId = requestAnimationFrame(function () {\n        if (_this.isDragging()) {\n          return;\n        }\n\n        _this.updateRect();\n      });\n    };\n\n    _this._onPreventClick = function (e) {\n      e.stopPropagation();\n      e.preventDefault(); // removeEvent(window, \"click\", this._onPreventClick, true);\n    };\n\n    return _this;\n  }\n\n  var __proto = MoveableManager.prototype;\n\n  __proto.render = function () {\n    var props = this.props;\n    var state = this.getState();\n    var parentPosition = props.parentPosition,\n        className = props.className,\n        propsTarget = props.target,\n        zoom = props.zoom,\n        cspNonce = props.cspNonce,\n        translateZ = props.translateZ,\n        ControlBoxElement = props.cssStyled,\n        groupable = props.groupable,\n        linePadding = props.linePadding,\n        controlPadding = props.controlPadding;\n\n    this._checkUpdateRootContainer();\n\n    this.checkUpdate();\n    this.updateRenderPoses();\n\n    var _a = parentPosition || [0, 0],\n        parentLeft = _a[0],\n        parentTop = _a[1];\n\n    var left = state.left,\n        top = state.top,\n        stateTarget = state.target,\n        direction = state.direction,\n        hasFixed = state.hasFixed,\n        offsetDelta = state.offsetDelta;\n    var groupTargets = props.targets;\n    var isDragging = this.isDragging();\n    var ableAttributes = {};\n    this.getEnabledAbles().forEach(function (able) {\n      ableAttributes[\"data-able-\".concat(able.name.toLowerCase())] = true;\n    });\n\n    var ableClassName = this._getAbleClassName();\n\n    var isDisplay = groupTargets && groupTargets.length && (stateTarget || groupable) || propsTarget || !this._hasFirstTarget && this.state.isPersisted;\n    var isVisible = this.controlBox || this.props.firstRenderState || this.props.persistData;\n    var translate = [left - parentLeft, top - parentTop];\n\n    if (!groupable && props.useAccuratePosition) {\n      translate[0] += offsetDelta[0];\n      translate[1] += offsetDelta[1];\n    }\n\n    var style = {\n      \"position\": hasFixed ? \"fixed\" : \"absolute\",\n      \"display\": isDisplay ? \"block\" : \"none\",\n      \"visibility\": isVisible ? \"visible\" : \"hidden\",\n      \"transform\": \"translate3d(\".concat(translate[0], \"px, \").concat(translate[1], \"px, \").concat(translateZ, \")\"),\n      \"--zoom\": zoom,\n      \"--zoompx\": \"\".concat(zoom, \"px\")\n    };\n\n    if (linePadding) {\n      style[\"--moveable-line-padding\"] = linePadding;\n    }\n\n    if (controlPadding) {\n      style[\"--moveable-control-padding\"] = controlPadding;\n    }\n\n    return React.createElement(ControlBoxElement, __assign({\n      cspNonce: cspNonce,\n      ref: ref(this, \"controlBox\"),\n      className: \"\".concat(prefix(\"control-box\", direction === -1 ? \"reverse\" : \"\", isDragging ? \"dragging\" : \"\"), \" \").concat(ableClassName, \" \").concat(className)\n    }, ableAttributes, {\n      onClick: this._onPreventClick,\n      style: style\n    }), this.renderAbles(), this._renderLines());\n  };\n\n  __proto.componentDidMount = function () {\n    this.isMoveableMounted = true;\n    this.isUnmounted = false;\n    var props = this.props;\n    var parentMoveable = props.parentMoveable,\n        container = props.container;\n\n    this._checkUpdateRootContainer();\n\n    this._checkUpdateViewContainer();\n\n    this._updateTargets();\n\n    this._updateNativeEvents();\n\n    this._updateEvents();\n\n    this.updateCheckInput();\n\n    this._updateObserver(this.props);\n\n    if (!container && !parentMoveable && !this.state.isPersisted) {\n      this.updateRect(\"\", false, false);\n      this.forceUpdate();\n    }\n  };\n\n  __proto.componentDidUpdate = function (prevProps) {\n    this._checkUpdateRootContainer();\n\n    this._checkUpdateViewContainer();\n\n    this._updateNativeEvents();\n\n    this._updateEvents();\n\n    this._updateTargets();\n\n    this.updateCheckInput();\n\n    this._updateObserver(prevProps);\n  };\n\n  __proto.componentWillUnmount = function () {\n    var _a, _b;\n\n    this.isMoveableMounted = false;\n    this.isUnmounted = true;\n\n    this._emitter.off();\n\n    (_a = this._reiszeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n    (_b = this._mutationObserver) === null || _b === void 0 ? void 0 : _b.disconnect();\n    var viewContainer = this._viewContainer;\n\n    if (viewContainer) {\n      this._changeAbleViewClassNames([]);\n    }\n\n    unsetGesto(this, false);\n    unsetGesto(this, true);\n    var events = this.events;\n\n    for (var name in events) {\n      var manager = events[name];\n      manager && manager.destroy();\n    }\n  };\n\n  __proto.getTargets = function () {\n    var target = this.props.target;\n    return target ? [target] : [];\n  };\n  /**\n   * Get the able used in MoveableManager.\n   * @method Moveable#getAble\n   * @param - able name\n   */\n\n\n  __proto.getAble = function (ableName) {\n    var ables = this.props.ables || [];\n    return find(ables, function (able) {\n      return able.name === ableName;\n    });\n  };\n\n  __proto.getContainer = function () {\n    var _a = this.props,\n        parentMoveable = _a.parentMoveable,\n        wrapperMoveable = _a.wrapperMoveable,\n        container = _a.container;\n    return container || wrapperMoveable && wrapperMoveable.getContainer() || parentMoveable && parentMoveable.getContainer() || this.controlBox.parentElement;\n  };\n\n  __proto.getControlBoxElement = function () {\n    return this.controlBox;\n  };\n  /**\n   * Check if the target is an element included in the moveable.\n   * @method Moveable#isMoveableElement\n   * @param - the target\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * window.addEventListener(\"click\", e => {\n   *     if (!moveable.isMoveableElement(e.target)) {\n   *         moveable.target = e.target;\n   *     }\n   * });\n   */\n\n\n  __proto.isMoveableElement = function (target) {\n    var _a;\n\n    return target && (((_a = target.getAttribute) === null || _a === void 0 ? void 0 : _a.call(target, \"class\")) || \"\").indexOf(PREFIX) > -1;\n  };\n  /**\n   * You can drag start the Moveable through the external `MouseEvent`or `TouchEvent`. (Angular: ngDragStart)\n   * @method Moveable#dragStart\n   * @param - external `MouseEvent`or `TouchEvent`\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * document.body.addEventListener(\"mousedown\", e => {\n   *     if (!moveable.isMoveableElement(e.target)) {\n   *          moveable.dragStart(e);\n   *     }\n   * });\n   */\n\n\n  __proto.dragStart = function (e) {\n    var targetGesto = this.targetGesto;\n    var controlGesto = this.controlGesto;\n\n    if (targetGesto && checkMoveableTarget(this)({\n      inputEvent: e\n    })) {\n      if (!targetGesto.isFlag()) {\n        targetGesto.triggerDragStart(e);\n      }\n    } else if (controlGesto && this.isMoveableElement(e.target)) {\n      if (!controlGesto.isFlag()) {\n        controlGesto.triggerDragStart(e);\n      }\n    }\n\n    return this;\n  };\n  /**\n   * Hit test an element or rect on a moveable target.\n   * (100% = 100)\n   * @method Moveable#hitTest\n   * @param - element or rect to test\n   * @return - Get hit test rate (rate > 0 is hitted)\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * document.body.addEventListener(\"mousedown\", e => {\n   *     if (moveable.hitTest(e.target) > 0) {\n   *          console.log(\"hiited\");\n   *     }\n   * });\n   */\n\n\n  __proto.hitTest = function (el) {\n    var _a = this.state,\n        target = _a.target,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        pos3 = _a.pos3,\n        pos4 = _a.pos4,\n        targetClientRect = _a.targetClientRect;\n\n    if (!target) {\n      return 0;\n    }\n\n    var rect;\n\n    if (isNode(el)) {\n      var clientRect = el.getBoundingClientRect();\n      rect = {\n        left: clientRect.left,\n        top: clientRect.top,\n        width: clientRect.width,\n        height: clientRect.height\n      };\n    } else {\n      rect = __assign({\n        width: 0,\n        height: 0\n      }, el);\n    }\n\n    var rectLeft = rect.left,\n        rectTop = rect.top,\n        rectWidth = rect.width,\n        rectHeight = rect.height;\n    var points = fitPoints([pos1, pos2, pos4, pos3], targetClientRect);\n    var size = getOverlapSize(points, [[rectLeft, rectTop], [rectLeft + rectWidth, rectTop], [rectLeft + rectWidth, rectTop + rectHeight], [rectLeft, rectTop + rectHeight]]);\n    var totalSize = getAreaSize(points);\n\n    if (!size || !totalSize) {\n      return 0;\n    }\n\n    return Math.min(100, size / totalSize * 100);\n  };\n  /**\n   * Whether the coordinates are inside Moveable\n   * @method Moveable#isInside\n   * @param - x coordinate\n   * @param - y coordinate\n   * @return - True if the coordinate is in moveable or false\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * document.body.addEventListener(\"mousedown\", e => {\n   *     if (moveable.isInside(e.clientX, e.clientY)) {\n   *          console.log(\"inside\");\n   *     }\n   * });\n   */\n\n\n  __proto.isInside = function (clientX, clientY) {\n    var _a = this.state,\n        target = _a.target,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        pos3 = _a.pos3,\n        pos4 = _a.pos4,\n        targetClientRect = _a.targetClientRect;\n\n    if (!target) {\n      return false;\n    }\n\n    return isInside([clientX, clientY], fitPoints([pos1, pos2, pos4, pos3], targetClientRect));\n  };\n  /**\n   * If the width, height, left, and top of all elements change, update the shape of the moveable.\n   * @method Moveable#updateRect\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * window.addEventListener(\"resize\", e => {\n   *     moveable.updateRect();\n   * });\n   */\n\n\n  __proto.updateRect = function (type, isTarget, isSetState) {\n    if (isSetState === void 0) {\n      isSetState = true;\n    }\n\n    var props = this.props;\n    var isSingle = !props.parentPosition && !props.wrapperMoveable;\n\n    if (isSingle) {\n      setStoreCache(true);\n    }\n\n    var parentMoveable = props.parentMoveable;\n    var state = this.state;\n    var target = state.target || props.target;\n    var container = this.getContainer();\n    var rootContainer = parentMoveable ? parentMoveable._rootContainer : this._rootContainer;\n    var nextState = getMoveableTargetInfo(this.controlBox, target, container, container, rootContainer || container, this._getRequestStyles());\n\n    if (!target && this._hasFirstTarget && props.persistData) {\n      var persistState = getPersistState(props.persistData);\n\n      for (var name in persistState) {\n        nextState[name] = persistState[name];\n      }\n    }\n\n    if (isSingle) {\n      setStoreCache();\n    }\n\n    this.updateState(nextState, parentMoveable ? false : isSetState);\n  };\n  /**\n   * Check if the moveable state is being dragged.\n   * @method Moveable#isDragging\n   * @param - If you want to check if able is dragging, specify ableName.\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * // false\n   * console.log(moveable.isDragging());\n   *\n   * moveable.on(\"drag\", () => {\n   *   // true\n   *   console.log(moveable.isDragging());\n   * });\n   */\n\n\n  __proto.isDragging = function (ableName) {\n    var _a, _b;\n\n    var targetGesto = this.targetGesto;\n    var controlGesto = this.controlGesto;\n\n    if (targetGesto === null || targetGesto === void 0 ? void 0 : targetGesto.isFlag()) {\n      if (!ableName) {\n        return true;\n      }\n\n      var data = targetGesto.getEventData();\n      return !!((_a = data[ableName]) === null || _a === void 0 ? void 0 : _a.isEventStart);\n    }\n\n    if (controlGesto === null || controlGesto === void 0 ? void 0 : controlGesto.isFlag()) {\n      if (!ableName) {\n        return true;\n      }\n\n      var data = controlGesto.getEventData();\n      return !!((_b = data[ableName]) === null || _b === void 0 ? void 0 : _b.isEventStart);\n    }\n\n    return false;\n  };\n  /**\n   * If the width, height, left, and top of the only target change, update the shape of the moveable.\n   * Use `.updateRect()` method\n   * @method Moveable#updateTarget\n   * @deprecated\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * moveable.updateTarget();\n   */\n\n\n  __proto.updateTarget = function (type) {\n    this.updateRect(type, true);\n  };\n  /**\n   * You can get the vertex information, position and offset size information of the target based on the container.\n   * @method Moveable#getRect\n   * @return - The Rect Info\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * const rectInfo = moveable.getRect();\n   */\n\n\n  __proto.getRect = function () {\n    var state = this.state;\n    var poses = getAbsolutePosesByState(this.state);\n    var pos1 = poses[0],\n        pos2 = poses[1],\n        pos3 = poses[2],\n        pos4 = poses[3];\n    var rect = getRect(poses);\n    var offsetWidth = state.width,\n        offsetHeight = state.height;\n    var width = rect.width,\n        height = rect.height,\n        left = rect.left,\n        top = rect.top;\n    var statePos = [state.left, state.top];\n    var origin = plus(statePos, state.origin);\n    var beforeOrigin = plus(statePos, state.beforeOrigin);\n    var transformOrigin = state.transformOrigin;\n    return {\n      width: width,\n      height: height,\n      left: left,\n      top: top,\n      pos1: pos1,\n      pos2: pos2,\n      pos3: pos3,\n      pos4: pos4,\n      offsetWidth: offsetWidth,\n      offsetHeight: offsetHeight,\n      beforeOrigin: beforeOrigin,\n      origin: origin,\n      transformOrigin: transformOrigin,\n      rotation: this.getRotation()\n    };\n  };\n  /**\n   * Get a manager that manages the moveable's state and props.\n   * @method Moveable#getManager\n   * @return - The Rect Info\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * const manager = moveable.getManager(); // real moveable class instance\n   */\n\n\n  __proto.getManager = function () {\n    return this;\n  };\n  /**\n   * You can stop the dragging currently in progress through a method from outside.\n   * @method Moveable#stopDrag\n   * @return - The Rect Info\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * moveable.stopDrag();\n   */\n\n\n  __proto.stopDrag = function (type) {\n    if (!type || type === \"target\") {\n      var gesto = this.targetGesto;\n\n      if ((gesto === null || gesto === void 0 ? void 0 : gesto.isIdle()) === false) {\n        unsetAbles(this, false);\n      }\n\n      gesto === null || gesto === void 0 ? void 0 : gesto.stop();\n    }\n\n    if (!type || type === \"control\") {\n      var gesto = this.controlGesto;\n\n      if ((gesto === null || gesto === void 0 ? void 0 : gesto.isIdle()) === false) {\n        unsetAbles(this, true);\n      }\n\n      gesto === null || gesto === void 0 ? void 0 : gesto.stop();\n    }\n  };\n\n  __proto.getRotation = function () {\n    var _a = this.state,\n        pos1 = _a.pos1,\n        pos2 = _a.pos2,\n        direction = _a.direction;\n    return getAbsoluteRotation(pos1, pos2, direction);\n  };\n  /**\n   * Request able through a method rather than an event.\n   * At the moment of execution, requestStart is executed,\n   * and then request and requestEnd can be executed through Requester.\n   * @method Moveable#request\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Draggable.html#request|Draggable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Resizable.html#request|Resizable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Scalable.html#request|Scalable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.Rotatable.html#request|Rotatable Requester}\n   * @see {@link https://daybrush.com/moveable/release/latest/doc/Moveable.OriginDraggable.html#request|OriginDraggable Requester}\n   * @param - ableName\n   * @param - request to be able params.\n   * @param - If isInstant is true, request and requestEnd are executed immediately.\n   * @return - Able Requester. If there is no request in able, nothing will work.\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * // Instantly Request (requestStart - request - requestEnd)\n   * moveable.request(\"draggable\", { deltaX: 10, deltaY: 10 }, true);\n   *\n   * // Start move\n   * const requester = moveable.request(\"draggable\");\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.request({ deltaX: 10, deltaY: 10 });\n   * requester.requestEnd();\n   */\n\n\n  __proto.request = function (ableName, param, isInstant) {\n    if (param === void 0) {\n      param = {};\n    }\n\n    var _a = this.props,\n        ables = _a.ables,\n        groupable = _a.groupable;\n    var requsetAble = ables.filter(function (able) {\n      return able.name === ableName;\n    })[0];\n\n    if (this.isDragging() || !requsetAble || !requsetAble.request) {\n      return {\n        request: function () {\n          return this;\n        },\n        requestEnd: function () {\n          return this;\n        }\n      };\n    }\n\n    var self = this;\n    var ableRequester = requsetAble.request(this);\n    var requestInstant = isInstant || param.isInstant;\n    var ableType = ableRequester.isControl ? \"controlAbles\" : \"targetAbles\";\n    var eventAffix = \"\".concat(groupable ? \"Group\" : \"\").concat(ableRequester.isControl ? \"Control\" : \"\");\n    var requester = {\n      request: function (ableParam) {\n        triggerAble(self, ableType, [\"drag\"], eventAffix, \"\", __assign(__assign({}, ableRequester.request(ableParam)), {\n          requestAble: ableName,\n          isRequest: true\n        }), requestInstant);\n        return this;\n      },\n      requestEnd: function () {\n        triggerAble(self, ableType, [\"drag\"], eventAffix, \"End\", __assign(__assign({}, ableRequester.requestEnd()), {\n          requestAble: ableName,\n          isRequest: true\n        }), requestInstant);\n        return this;\n      }\n    };\n    triggerAble(self, ableType, [\"drag\"], eventAffix, \"Start\", __assign(__assign({}, ableRequester.requestStart(param)), {\n      requestAble: ableName,\n      isRequest: true\n    }), requestInstant);\n    return requestInstant ? requester.request(param).requestEnd() : requester;\n  };\n  /**\n   * Remove the Moveable object and the events.\n   * @method Moveable#destroy\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body);\n   *\n   * moveable.destroy();\n   */\n\n\n  __proto.destroy = function () {\n    this.componentWillUnmount();\n  };\n\n  __proto.updateRenderPoses = function () {\n    var state = this.getState();\n    var props = this.props;\n    var originalBeforeOrigin = state.originalBeforeOrigin,\n        transformOrigin = state.transformOrigin,\n        allMatrix = state.allMatrix,\n        is3d = state.is3d,\n        pos1 = state.pos1,\n        pos2 = state.pos2,\n        pos3 = state.pos3,\n        pos4 = state.pos4,\n        stateLeft = state.left,\n        stateTop = state.top,\n        // offsetWidth,\n    // offsetHeight,\n    isPersisted = state.isPersisted;\n\n    var _a = props.padding || {},\n        _b = _a.left,\n        left = _b === void 0 ? 0 : _b,\n        _c = _a.top,\n        top = _c === void 0 ? 0 : _c,\n        _d = _a.bottom,\n        bottom = _d === void 0 ? 0 : _d,\n        _e = _a.right,\n        right = _e === void 0 ? 0 : _e;\n\n    var n = is3d ? 4 : 3; // const clipPathInfo = getClipPath(\n    //     props.target,\n    //     offsetWidth,\n    //     offsetHeight,\n    // );\n    // if (clipPathInfo) {\n    //     left -= Math.max(0, clipPathInfo.left);\n    //     top -= Math.max(0, clipPathInfo.top);\n    //     bottom -= Math.max(0, offsetHeight - clipPathInfo.bottom);\n    //     right -= Math.max(0, offsetWidth - clipPathInfo.right);\n    // }\n\n    var absoluteOrigin = [];\n\n    if (isPersisted) {\n      absoluteOrigin = transformOrigin;\n    } else if (this.controlBox && props.groupable) {\n      absoluteOrigin = originalBeforeOrigin;\n    } else {\n      absoluteOrigin = plus(originalBeforeOrigin, [stateLeft, stateTop]);\n    }\n\n    state.renderPoses = [plus(pos1, calculatePadding(allMatrix, [-left, -top], transformOrigin, absoluteOrigin, n)), plus(pos2, calculatePadding(allMatrix, [right, -top], transformOrigin, absoluteOrigin, n)), plus(pos3, calculatePadding(allMatrix, [-left, bottom], transformOrigin, absoluteOrigin, n)), plus(pos4, calculatePadding(allMatrix, [right, bottom], transformOrigin, absoluteOrigin, n))];\n  };\n\n  __proto.checkUpdate = function () {\n    this._isPropTargetChanged = false;\n    var _a = this.props,\n        target = _a.target,\n        container = _a.container,\n        parentMoveable = _a.parentMoveable;\n    var _b = this.state,\n        stateTarget = _b.target,\n        stateContainer = _b.container;\n\n    if (!stateTarget && !target) {\n      return;\n    }\n\n    this.updateAbles();\n    var isTargetChanged = !equals(stateTarget, target);\n    var isChanged = isTargetChanged || !equals(stateContainer, container);\n\n    if (!isChanged) {\n      return;\n    }\n\n    var moveableContainer = container || this.controlBox;\n\n    if (moveableContainer) {\n      this.unsetAbles();\n    }\n\n    this.updateState({\n      target: target,\n      container: container\n    });\n\n    if (!parentMoveable && moveableContainer) {\n      this.updateRect(\"End\", false, false);\n    }\n\n    this._isPropTargetChanged = isTargetChanged;\n  };\n\n  __proto.waitToChangeTarget = function () {\n    return new Promise(function () {});\n  };\n\n  __proto.triggerEvent = function (name, e) {\n    this._emitter.trigger(name, e);\n\n    var callback = this.props[name];\n    return callback && callback(e);\n  };\n\n  __proto.useCSS = function (tag, css) {\n    var customStyleMap = this.props.customStyledMap;\n    var key = tag + css;\n\n    if (!customStyleMap[key]) {\n      customStyleMap[key] = styled(tag, css);\n    }\n\n    return customStyleMap[key];\n  };\n\n  __proto.getState = function () {\n    var _a;\n\n    var props = this.props;\n\n    if (props.target || ((_a = props.targets) === null || _a === void 0 ? void 0 : _a.length)) {\n      this._hasFirstTarget = true;\n    }\n\n    var hasControlBox = this.controlBox;\n    var persistData = props.persistData;\n    var firstRenderState = props.firstRenderState;\n\n    if (firstRenderState && !hasControlBox) {\n      return firstRenderState;\n    }\n\n    if (!this._hasFirstTarget && persistData) {\n      var persistState = getPersistState(persistData);\n\n      if (persistState) {\n        this.updateState(persistState, false);\n        return this.state;\n      }\n    }\n\n    this.state.isPersisted = false;\n    return this.state;\n  };\n\n  __proto.updateSelectors = function () {};\n\n  __proto.unsetAbles = function () {\n    var _this = this;\n\n    this.targetAbles.forEach(function (able) {\n      if (able.unset) {\n        able.unset(_this);\n      }\n    });\n  };\n\n  __proto.updateAbles = function (ables, eventAffix) {\n    if (ables === void 0) {\n      ables = this.props.ables;\n    }\n\n    if (eventAffix === void 0) {\n      eventAffix = \"\";\n    }\n\n    var props = this.props;\n    var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\n    var enabledAbles = this.getEnabledAbles(ables);\n    var dragStart = \"drag\".concat(eventAffix, \"Start\");\n    var pinchStart = \"pinch\".concat(eventAffix, \"Start\");\n    var dragControlStart = \"drag\".concat(eventAffix, \"ControlStart\");\n    var targetAbles = filterAbles(enabledAbles, [dragStart, pinchStart], triggerAblesSimultaneously);\n    var controlAbles = filterAbles(enabledAbles, [dragControlStart], triggerAblesSimultaneously);\n    this.enabledAbles = enabledAbles;\n    this.targetAbles = targetAbles;\n    this.controlAbles = controlAbles;\n  };\n\n  __proto.updateState = function (nextState, isSetState) {\n    if (isSetState) {\n      if (this.isUnmounted) {\n        return;\n      }\n\n      this.setState(nextState);\n    } else {\n      var state = this.state;\n\n      for (var name in nextState) {\n        state[name] = nextState[name];\n      }\n    }\n  };\n\n  __proto.getEnabledAbles = function (ables) {\n    if (ables === void 0) {\n      ables = this.props.ables;\n    }\n\n    var props = this.props;\n    return ables.filter(function (able) {\n      return able && (able.always && props[able.name] !== false || props[able.name]);\n    });\n  };\n\n  __proto.renderAbles = function () {\n    var _this = this;\n\n    var props = this.props;\n    var triggerAblesSimultaneously = props.triggerAblesSimultaneously;\n    var Renderer = {\n      createElement: createElement\n    };\n    this.renderState = {};\n    return groupByMap(flat(filterAbles(this.getEnabledAbles(), [\"render\"], triggerAblesSimultaneously).map(function (_a) {\n      var render = _a.render;\n      return render(_this, Renderer) || [];\n    })).filter(function (el) {\n      return el;\n    }), function (_a) {\n      var key = _a.key;\n      return key;\n    }).map(function (group) {\n      return group[0];\n    });\n  };\n\n  __proto.updateCheckInput = function () {\n    this.targetGesto && (this.targetGesto.options.checkInput = this.props.checkInput);\n  };\n\n  __proto._getRequestStyles = function () {\n    var styleNames = this.getEnabledAbles().reduce(function (names, able) {\n      var _a, _b;\n\n      var ableStyleNames = (_b = (_a = able.requestStyle) === null || _a === void 0 ? void 0 : _a.call(able)) !== null && _b !== void 0 ? _b : [];\n      return __spreadArray(__spreadArray([], names, true), ableStyleNames, true);\n    }, __spreadArray([], this.props.requestStyles || [], true));\n    return styleNames;\n  };\n\n  __proto._updateObserver = function (prevProps) {\n    this._updateResizeObserver(prevProps);\n\n    this._updateMutationObserver(prevProps);\n  };\n\n  __proto._updateEvents = function () {\n    var controlBoxElement = this.controlBox;\n    var hasTargetAble = this.targetAbles.length;\n    var hasControlAble = this.controlAbles.length;\n    var props = this.props;\n    var target = props.dragTarget || props.target;\n\n    var isUnset = !hasTargetAble && this.targetGesto || this._isTargetChanged(true);\n\n    if (isUnset) {\n      unsetGesto(this, false);\n      this.updateState({\n        gestos: {}\n      });\n    }\n\n    if (!hasControlAble) {\n      unsetGesto(this, true);\n    }\n\n    if (target && hasTargetAble && !this.targetGesto) {\n      this.targetGesto = getTargetAbleGesto(this, target, \"\");\n    }\n\n    if (!this.controlGesto && hasControlAble) {\n      this.controlGesto = getAbleGesto(this, controlBoxElement, \"controlAbles\", \"Control\");\n    }\n  };\n\n  __proto._updateTargets = function () {\n    var props = this.props;\n    this._prevTarget = props.dragTarget || props.target;\n    this._prevDragArea = props.dragArea;\n  };\n\n  __proto._renderLines = function () {\n    var props = this.props;\n    var _a = props,\n        zoom = _a.zoom,\n        hideDefaultLines = _a.hideDefaultLines,\n        hideChildMoveableDefaultLines = _a.hideChildMoveableDefaultLines,\n        parentMoveable = _a.parentMoveable;\n\n    if (hideDefaultLines || parentMoveable && hideChildMoveableDefaultLines) {\n      return [];\n    }\n\n    var renderPoses = this.getState().renderPoses;\n    var Renderer = {\n      createElement: createElement\n    };\n    return [[0, 1], [1, 3], [3, 2], [2, 0]].map(function (_a, i) {\n      var from = _a[0],\n          to = _a[1];\n      return renderLine(Renderer, \"\", renderPoses[from], renderPoses[to], zoom, \"render-line-\".concat(i));\n    });\n  };\n\n  __proto._isTargetChanged = function (useDragArea) {\n    var props = this.props;\n    var target = props.dragTarget || props.target;\n    var prevTarget = this._prevTarget;\n    var prevDragArea = this._prevDragArea;\n    var dragArea = props.dragArea; // check target without dragArea\n\n    var isTargetChanged = !dragArea && prevTarget !== target;\n    var isDragAreaChanged = (useDragArea || dragArea) && prevDragArea !== dragArea;\n    return isTargetChanged || isDragAreaChanged;\n  };\n\n  __proto._updateNativeEvents = function () {\n    var _this = this;\n\n    var props = this.props;\n    var target = props.dragArea ? this.areaElement : this.state.target;\n    var events = this.events;\n    var eventKeys = getKeys(events);\n\n    if (this._isTargetChanged()) {\n      for (var eventName in events) {\n        var manager = events[eventName];\n        manager && manager.destroy();\n        events[eventName] = null;\n      }\n    }\n\n    if (!target) {\n      return;\n    }\n\n    var enabledAbles = this.enabledAbles;\n    eventKeys.forEach(function (eventName) {\n      var ables = filterAbles(enabledAbles, [eventName]);\n      var hasAbles = ables.length > 0;\n      var manager = events[eventName];\n\n      if (!hasAbles) {\n        if (manager) {\n          manager.destroy();\n          events[eventName] = null;\n        }\n\n        return;\n      }\n\n      if (!manager) {\n        manager = new EventManager(target, _this, eventName);\n        events[eventName] = manager;\n      }\n\n      manager.setAbles(ables);\n    });\n  };\n\n  __proto._checkUpdateRootContainer = function () {\n    var rootContainer = this.props.rootContainer;\n\n    if (!this._rootContainer && rootContainer) {\n      this._rootContainer = getRefTarget(rootContainer, true);\n    }\n  };\n\n  __proto._checkUpdateViewContainer = function () {\n    var viewContainerOption = this.props.viewContainer;\n\n    if (!this._viewContainer && viewContainerOption) {\n      this._viewContainer = getRefTarget(viewContainerOption, true);\n    }\n\n    var viewContainer = this._viewContainer;\n\n    if (viewContainer) {\n      this._changeAbleViewClassNames(__spreadArray(__spreadArray([], this._getAbleViewClassNames(), true), [this.isDragging() ? VIEW_DRAGGING : \"\"], false));\n    }\n  };\n\n  __proto._changeAbleViewClassNames = function (classNames) {\n    var viewContainer = this._viewContainer;\n    var nextClassNames = groupBy(classNames.filter(Boolean), function (el) {\n      return el;\n    }).map(function (_a) {\n      var className = _a[0];\n      return className;\n    });\n    var prevClassNames = this._viewClassNames;\n\n    var _a = diff$1(prevClassNames, nextClassNames),\n        removed = _a.removed,\n        added = _a.added;\n\n    removed.forEach(function (index) {\n      removeClass(viewContainer, prevClassNames[index]);\n    });\n    added.forEach(function (index) {\n      addClass(viewContainer, nextClassNames[index]);\n    });\n    this._viewClassNames = nextClassNames;\n  };\n\n  __proto._getAbleViewClassNames = function () {\n    var _this = this;\n\n    return (this.getEnabledAbles().map(function (able) {\n      var _a;\n\n      return ((_a = able.viewClassName) === null || _a === void 0 ? void 0 : _a.call(able, _this)) || \"\";\n    }).join(\" \") + \" \".concat(this._getAbleClassName(\"-view\"))).split(/\\s+/g);\n  };\n\n  __proto._getAbleClassName = function (classPrefix) {\n    var _this = this;\n\n    if (classPrefix === void 0) {\n      classPrefix = \"\";\n    }\n\n    var ables = this.getEnabledAbles();\n    var targetGesto = this.targetGesto;\n    var controlGesto = this.controlGesto;\n    var targetGestoData = (targetGesto === null || targetGesto === void 0 ? void 0 : targetGesto.isFlag()) ? targetGesto.getEventData() : {};\n    var controlGestoData = (controlGesto === null || controlGesto === void 0 ? void 0 : controlGesto.isFlag()) ? controlGesto.getEventData() : {};\n    return ables.map(function (able) {\n      var _a, _b, _c;\n\n      var name = able.name;\n      var className = ((_a = able.className) === null || _a === void 0 ? void 0 : _a.call(able, _this)) || \"\";\n\n      if (((_b = targetGestoData[name]) === null || _b === void 0 ? void 0 : _b.isEventStart) || ((_c = controlGestoData[name]) === null || _c === void 0 ? void 0 : _c.isEventStart)) {\n        className += \" \".concat(prefix(\"\".concat(name).concat(classPrefix, \"-dragging\")));\n      }\n\n      return className.trim();\n    }).filter(Boolean).join(\" \");\n  };\n\n  __proto._updateResizeObserver = function (prevProps) {\n    var _a;\n\n    var props = this.props;\n    var target = props.target;\n\n    if (!window.ResizeObserver || !target || !props.useResizeObserver) {\n      (_a = this._reiszeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n      return;\n    }\n\n    if (prevProps.target === target && this._reiszeObserver) {\n      return;\n    }\n\n    var observer = new ResizeObserver(this.checkUpdateRect);\n    observer.observe(target, {\n      box: \"border-box\"\n    });\n    this._reiszeObserver = observer;\n  };\n\n  __proto._updateMutationObserver = function (prevProps) {\n    var _this = this;\n\n    var _a;\n\n    var props = this.props;\n    var target = props.target;\n\n    if (!window.MutationObserver || !target || !props.useMutationObserver) {\n      (_a = this._mutationObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n      return;\n    }\n\n    if (prevProps.target === target && this._mutationObserver) {\n      return;\n    }\n\n    var observer = new MutationObserver(function (records) {\n      for (var _i = 0, records_1 = records; _i < records_1.length; _i++) {\n        var mutation = records_1[_i];\n\n        if (mutation.type === \"attributes\" && mutation.attributeName === \"style\") {\n          _this.checkUpdateRect();\n        }\n      }\n    });\n    observer.observe(target, {\n      attributes: true\n    });\n    this._mutationObserver = observer;\n  };\n\n  MoveableManager.defaultProps = {\n    target: null,\n    dragTarget: null,\n    container: null,\n    rootContainer: null,\n    origin: true,\n    parentMoveable: null,\n    wrapperMoveable: null,\n    isWrapperMounted: false,\n    parentPosition: null,\n    warpSelf: false,\n    svgOrigin: \"\",\n    dragContainer: null,\n    useResizeObserver: false,\n    useMutationObserver: false,\n    preventDefault: true,\n    linePadding: 0,\n    controlPadding: 0,\n    ables: [],\n    pinchThreshold: 20,\n    dragArea: false,\n    passDragArea: false,\n    transformOrigin: \"\",\n    className: \"\",\n    zoom: 1,\n    triggerAblesSimultaneously: false,\n    padding: {},\n    pinchOutside: true,\n    checkInput: false,\n    dragFocusedInput: false,\n    groupable: false,\n    hideDefaultLines: false,\n    cspNonce: \"\",\n    translateZ: 0,\n    cssStyled: null,\n    customStyledMap: {},\n    props: {},\n    stopPropagation: false,\n    preventClickDefault: false,\n    preventClickEventOnDrag: true,\n    flushSync: defaultSync,\n    firstRenderState: null,\n    persistData: null,\n    viewContainer: null,\n    requestStyles: [],\n    useAccuratePosition: false\n  };\n  return MoveableManager;\n}(React.PureComponent);\n/**\n * The target to indicate Moveable Control Box.\n * @name Moveable#target\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.target = document.querySelector(\".target\");\n */\n\n/**\n * Zooms in the elements of a moveable.\n * @name Moveable#zoom\n * @default 1\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.zoom = 2;\n */\n\n/**\n * Whether the target size is detected and updated whenever it changes.\n * @name Moveable#useResizeObserver\n * @default false\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.useResizeObserver = true;\n */\n\n/**\n * Resize, Scale Events at edges\n * @name Moveable#edge\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.edge = true;\n */\n\n/**\n * You can specify the className of the moveable controlbox.\n * @name Moveable#className\n * @default \"\"\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *   className: \"\",\n * });\n *\n * moveable.className = \"moveable1\";\n */\n\n/**\n * The target(s) to drag Moveable target(s)\n * @name Moveable#dragTarget\n * @default target\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body);\n * moveable.target = document.querySelector(\".target\");\n * moveable.dragTarget = document.querySelector(\".dragTarget\");\n */\n\n/**\n * `renderStart` event occurs at the first start of all events.\n * @memberof Moveable\n * @event renderStart\n * @param {Moveable.OnRenderStart} - Parameters for the `renderStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"renderStart\", ({ target }) => {\n *     console.log(\"onRenderStart\", target);\n * });\n */\n\n/**\n * `render` event occurs before the target is drawn on the screen.\n * @memberof Moveable\n * @event render\n * @param {Moveable.OnRender} - Parameters for the `render` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"render\", ({ target }) => {\n *     console.log(\"onRender\", target);\n * });\n */\n\n/**\n * `renderEnd` event occurs at the end of all events.\n * @memberof Moveable\n * @event renderEnd\n * @param {Moveable.OnRenderEnd} - Parameters for the `renderEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"renderEnd\", ({ target }) => {\n *     console.log(\"onRenderEnd\", target);\n * });\n */\n\n/**\n * `renderGroupStart` event occurs at the first start of all events in group.\n * @memberof Moveable\n * @event renderGroupStart\n * @param {Moveable.OnRenderGroupStart} - Parameters for the `renderGroupStart` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"renderGroupStart\", ({ targets }) => {\n *     console.log(\"onRenderGroupStart\", targets);\n * });\n */\n\n/**\n * `renderGroup` event occurs before the target is drawn on the screen in group.\n * @memberof Moveable\n * @event renderGroup\n * @param {Moveable.OnRenderGroup} - Parameters for the `renderGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"renderGroup\", ({ targets }) => {\n *     console.log(\"onRenderGroup\", targets);\n * });\n */\n\n/**\n * `renderGroupEnd` event occurs at the end of all events in group.\n * @memberof Moveable\n * @event renderGroupEnd\n * @param {Moveable.OnRenderGroupEnd} - Parameters for the `renderGroupEnd` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"renderGroupEnd\", ({ targets }) => {\n *     console.log(\"onRenderGroupEnd\", targets);\n * });\n */\n\nvar Groupable = {\n  name: \"groupable\",\n  props: [\"defaultGroupRotate\", \"useDefaultGroupRotate\", \"defaultGroupOrigin\", \"groupable\", \"groupableProps\", \"targetGroups\", \"hideChildMoveableDefaultLines\"],\n  events: [],\n  render: function (moveable, React) {\n    var _a;\n\n    var props = moveable.props;\n    var targets = props.targets || [];\n\n    var _b = moveable.getState(),\n        left = _b.left,\n        top = _b.top,\n        isPersisted = _b.isPersisted;\n\n    var zoom = props.zoom || 1;\n    var renderGroupRects = moveable.renderGroupRects;\n    var persistDatChildren = ((_a = props.persistData) === null || _a === void 0 ? void 0 : _a.children) || [];\n\n    if (isPersisted) {\n      targets = persistDatChildren.map(function () {\n        return null;\n      });\n    } else {\n      persistDatChildren = [];\n    }\n\n    var store = moveable._store;\n    var parentPosition = watchValue(store, \"parentPosition\", [left, top], function (styles) {\n      return styles.join(\",\");\n    });\n    var requestStyles = watchValue(store, \"requestStyles\", moveable.getRequestChildStyles(), function (styles) {\n      return styles.join(\",\");\n    });\n    moveable.moveables = moveable.moveables.slice(0, targets.length);\n    return __spreadArray(__spreadArray([], targets.map(function (target, i) {\n      return React.createElement(MoveableManager, {\n        key: \"moveable\" + i,\n        ref: refs(moveable, \"moveables\", i),\n        target: target,\n        origin: false,\n        requestStyles: requestStyles,\n        cssStyled: props.cssStyled,\n        customStyledMap: props.customStyledMap,\n        useResizeObserver: props.useResizeObserver,\n        hideChildMoveableDefaultLines: props.hideChildMoveableDefaultLines,\n        parentMoveable: moveable,\n        parentPosition: [left, top],\n        persistData: persistDatChildren[i],\n        zoom: zoom\n      });\n    }), true), flat(renderGroupRects.map(function (_a, i) {\n      var pos1 = _a.pos1,\n          pos2 = _a.pos2,\n          pos3 = _a.pos3,\n          pos4 = _a.pos4;\n      var poses = [pos1, pos2, pos3, pos4];\n      return [[0, 1], [1, 3], [3, 2], [2, 0]].map(function (_a, j) {\n        var from = _a[0],\n            to = _a[1];\n        return renderLine(React, \"\", minus(poses[from], parentPosition), minus(poses[to], parentPosition), zoom, \"group-rect-\".concat(i, \"-\").concat(j));\n      });\n    })), true);\n  }\n};\n\nvar Clickable = makeAble(\"clickable\", {\n  props: [\"clickable\"],\n  events: [\"click\", \"clickGroup\"],\n  always: true,\n  dragRelation: \"weak\",\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  dragStart: function () {\n    return;\n  },\n  dragControlStart: function () {\n    return;\n  },\n  dragGroupStart: function (moveable, e) {\n    e.datas.inputTarget = e.inputEvent && e.inputEvent.target;\n  },\n  dragEnd: function (moveable, e) {\n    var target = moveable.props.target;\n    var inputEvent = e.inputEvent;\n    var inputTarget = e.inputTarget;\n    var isMoveableElement = moveable.isMoveableElement(inputTarget);\n    var containsElement = !isMoveableElement && moveable.controlBox.contains(inputTarget);\n\n    if (!inputEvent || !inputTarget || e.isDrag || moveable.isMoveableElement(inputTarget) || containsElement // External event duplicate target or dragAreaElement\n    ) {\n      return;\n    }\n\n    var containsTarget = target.contains(inputTarget);\n    triggerEvent(moveable, \"onClick\", fillParams(moveable, e, {\n      isDouble: e.isDouble,\n      inputTarget: inputTarget,\n      isTarget: target === inputTarget,\n      moveableTarget: moveable.props.target,\n      containsTarget: containsTarget\n    }));\n  },\n  dragGroupEnd: function (moveable, e) {\n    var inputEvent = e.inputEvent;\n    var inputTarget = e.inputTarget;\n\n    if (!inputEvent || !inputTarget || e.isDrag || moveable.isMoveableElement(inputTarget) // External event duplicate target or dragAreaElement\n    || e.datas.inputTarget === inputTarget) {\n      return;\n    }\n\n    var targets = moveable.props.targets;\n    var targetIndex = targets.indexOf(inputTarget);\n    var isTarget = targetIndex > -1;\n    var containsTarget = false;\n\n    if (targetIndex === -1) {\n      targetIndex = findIndex(targets, function (parentTarget) {\n        return parentTarget.contains(inputTarget);\n      });\n      containsTarget = targetIndex > -1;\n    }\n\n    triggerEvent(moveable, \"onClickGroup\", fillParams(moveable, e, {\n      isDouble: e.isDouble,\n      targets: targets,\n      inputTarget: inputTarget,\n      targetIndex: targetIndex,\n      isTarget: isTarget,\n      containsTarget: containsTarget,\n      moveableTarget: targets[targetIndex]\n    }));\n  },\n  dragControlEnd: function (moveable, e) {\n    this.dragEnd(moveable, e);\n  },\n  dragGroupControlEnd: function (moveable, e) {\n    this.dragEnd(moveable, e);\n  }\n});\n/**\n * When you click on the element, the `click` event is called.\n * @memberof Moveable\n * @event click\n * @param {Moveable.OnClick} - Parameters for the `click` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: document.querySelector(\".target\"),\n * });\n * moveable.on(\"click\", ({ hasTarget, containsTarget, targetIndex }) => {\n *     // If you click on an element other than the target and not included in the target, index is -1.\n *     console.log(\"onClickGroup\", target, hasTarget, containsTarget, targetIndex);\n * });\n */\n\n/**\n * When you click on the element inside the group, the `clickGroup` event is called.\n * @memberof Moveable\n * @event clickGroup\n * @param {Moveable.OnClickGroup} - Parameters for the `clickGroup` event\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *     target: [].slice.call(document.querySelectorAll(\".target\")),\n * });\n * moveable.on(\"clickGroup\", ({ inputTarget, isTarget, containsTarget, targetIndex }) => {\n *     // If you click on an element other than the target and not included in the target, index is -1.\n *     console.log(\"onClickGroup\", inputTarget, isTarget, containsTarget, targetIndex);\n * });\n */\n\nfunction getDraggableEvent(e) {\n  var datas = e.originalDatas.draggable;\n\n  if (!datas) {\n    e.originalDatas.draggable = {};\n    datas = e.originalDatas.draggable;\n  }\n\n  return __assign(__assign({}, e), {\n    datas: datas\n  });\n}\n\nvar edgeDraggable = makeAble(\"edgeDraggable\", {\n  css: [\".edge.edgeDraggable.line {\\ncursor: move;\\n}\"],\n  render: function (moveable, React) {\n    var props = moveable.props;\n    var edge = props.edgeDraggable;\n\n    if (!edge) {\n      return [];\n    }\n\n    return renderEdgeLines(React, \"edgeDraggable\", edge, moveable.getState().renderPoses, props.zoom);\n  },\n  dragCondition: function (moveable, e) {\n    var _a;\n\n    var props = moveable.props;\n    var target = (_a = e.inputEvent) === null || _a === void 0 ? void 0 : _a.target;\n\n    if (!props.edgeDraggable || !target) {\n      return false;\n    }\n\n    return !props.draggable && hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"edge\")) && hasClass(target, prefix(\"edgeDraggable\"));\n  },\n  dragStart: function (moveable, e) {\n    return Draggable.dragStart(moveable, getDraggableEvent(e));\n  },\n  drag: function (moveable, e) {\n    return Draggable.drag(moveable, getDraggableEvent(e));\n  },\n  dragEnd: function (moveable, e) {\n    return Draggable.dragEnd(moveable, getDraggableEvent(e));\n  },\n  dragGroupCondition: function (moveable, e) {\n    var _a;\n\n    var props = moveable.props;\n    var target = (_a = e.inputEvent) === null || _a === void 0 ? void 0 : _a.target;\n\n    if (!props.edgeDraggable || !target) {\n      return false;\n    }\n\n    return !props.draggable && hasClass(target, prefix(\"direction\")) && hasClass(target, prefix(\"line\"));\n  },\n  dragGroupStart: function (moveable, e) {\n    return Draggable.dragGroupStart(moveable, getDraggableEvent(e));\n  },\n  dragGroup: function (moveable, e) {\n    return Draggable.dragGroup(moveable, getDraggableEvent(e));\n  },\n  dragGroupEnd: function (moveable, e) {\n    return Draggable.dragGroupEnd(moveable, getDraggableEvent(e));\n  },\n  unset: function (moveable) {\n    return Draggable.unset(moveable);\n  }\n});\n/**\n * Whether to move by dragging the edge line (default: false)\n * @name Moveable.Draggable#edgeDraggable\n * @example\n * import Moveable from \"moveable\";\n *\n * const moveable = new Moveable(document.body, {\n *  draggable: true,\n *  edgeDraggable: false,\n * });\n *\n * moveable.edgeDraggable = true;\n */\n\nvar IndividualGroupable = {\n  name: \"individualGroupable\",\n  props: [\"individualGroupable\", \"individualGroupableProps\"],\n  events: []\n};\n\nvar MOVEABLE_ABLES = [BeforeRenderable, Default, Snappable, Pinchable, Draggable, edgeDraggable, Resizable, Scalable, Warpable, Rotatable, Scrollable, Padding, Origin, OriginDraggable, Clippable, Roundable, Groupable, IndividualGroupable, Clickable, DragArea, Renderable];\nvar MOVEABLE_EVENTS = /*#__PURE__*/MOVEABLE_ABLES.reduce(function (current, able) {\n  (able.events || []).forEach(function (name) {\n    pushSet(current, name);\n  });\n  return current;\n}, []);\nvar MOVEABLE_PROPS = /*#__PURE__*/MOVEABLE_ABLES.reduce(function (current, able) {\n  (able.props || []).forEach(function (name) {\n    pushSet(current, name);\n  });\n  return current;\n}, []);\n\nfunction solveConstantsDistance(_a, pos) {\n  var a = _a[0],\n      b = _a[1],\n      c = _a[2];\n  return (a * pos[0] + b * pos[1] + c) / Math.sqrt(a * a + b * b);\n}\nfunction solveC(_a, pos) {\n  var a = _a[0],\n      b = _a[1]; // ax + by + c = 0\n  // -ax -by;\n\n  return -a * pos[0] - b * pos[1];\n}\n\nfunction getMaxPos(poses, index) {\n  return Math.max.apply(Math, poses.map(function (_a) {\n    var pos1 = _a[0],\n        pos2 = _a[1],\n        pos3 = _a[2],\n        pos4 = _a[3];\n    return Math.max(pos1[index], pos2[index], pos3[index], pos4[index]);\n  }));\n}\n\nfunction getMinPos(poses, index) {\n  return Math.min.apply(Math, poses.map(function (_a) {\n    var pos1 = _a[0],\n        pos2 = _a[1],\n        pos3 = _a[2],\n        pos4 = _a[3];\n    return Math.min(pos1[index], pos2[index], pos3[index], pos4[index]);\n  }));\n}\n\nfunction getGroupRect(parentPoses, rotation) {\n  var _a;\n\n  var pos1 = [0, 0];\n  var pos2 = [0, 0];\n  var pos3 = [0, 0];\n  var pos4 = [0, 0];\n  var width = 0;\n  var height = 0;\n\n  if (!parentPoses.length) {\n    return {\n      pos1: pos1,\n      pos2: pos2,\n      pos3: pos3,\n      pos4: pos4,\n      minX: 0,\n      minY: 0,\n      maxX: 0,\n      maxY: 0,\n      width: width,\n      height: height,\n      rotation: rotation\n    };\n  }\n\n  var fixedRotation = throttle(rotation, TINY_NUM);\n\n  if (fixedRotation % 90) {\n    var rad = fixedRotation / 180 * Math.PI;\n    var a1_1 = Math.tan(rad);\n    var a2_1 = -1 / a1_1; // ax = y  // -ax + y = 0 // 0 => 1\n    // -ax = y // ax + y = 0  // 0 => 3\n\n    var a1MinMax_1 = [MAX_NUM, MIN_NUM];\n    var a1MinMaxPos_1 = [[0, 0], [0, 0]];\n    var a2MinMax_1 = [MAX_NUM, MIN_NUM];\n    var a2MinMaxPos_1 = [[0, 0], [0, 0]];\n    parentPoses.forEach(function (poses) {\n      poses.forEach(function (pos) {\n        // const b1 = pos[1] - a1 * pos[0];\n        // const b2 = pos[1] - a2 * pos[0];\n        var a1Dist = solveConstantsDistance([-a1_1, 1, 0], pos);\n        var a2Dist = solveConstantsDistance([-a2_1, 1, 0], pos);\n\n        if (a1MinMax_1[0] > a1Dist) {\n          a1MinMaxPos_1[0] = pos;\n          a1MinMax_1[0] = a1Dist;\n        }\n\n        if (a1MinMax_1[1] < a1Dist) {\n          a1MinMaxPos_1[1] = pos;\n          a1MinMax_1[1] = a1Dist;\n        }\n\n        if (a2MinMax_1[0] > a2Dist) {\n          a2MinMaxPos_1[0] = pos;\n          a2MinMax_1[0] = a2Dist;\n        }\n\n        if (a2MinMax_1[1] < a2Dist) {\n          a2MinMaxPos_1[1] = pos;\n          a2MinMax_1[1] = a2Dist;\n        }\n      });\n    });\n    var a1MinPos = a1MinMaxPos_1[0],\n        a1MaxPos = a1MinMaxPos_1[1];\n    var a2MinPos = a2MinMaxPos_1[0],\n        a2MaxPos = a2MinMaxPos_1[1];\n    var minHorizontalLine = [-a1_1, 1, solveC([-a1_1, 1], a1MinPos)];\n    var maxHorizontalLine = [-a1_1, 1, solveC([-a1_1, 1], a1MaxPos)];\n    var minVerticalLine = [-a2_1, 1, solveC([-a2_1, 1], a2MinPos)];\n    var maxVerticalLine = [-a2_1, 1, solveC([-a2_1, 1], a2MaxPos)];\n    _a = [[minHorizontalLine, minVerticalLine], [minHorizontalLine, maxVerticalLine], [maxHorizontalLine, minVerticalLine], [maxHorizontalLine, maxVerticalLine]].map(function (_a) {\n      var line1 = _a[0],\n          line2 = _a[1];\n      return getIntersectionPointsByConstants(line1, line2)[0];\n    }), pos1 = _a[0], pos2 = _a[1], pos3 = _a[2], pos4 = _a[3];\n    width = a2MinMax_1[1] - a2MinMax_1[0];\n    height = a1MinMax_1[1] - a1MinMax_1[0];\n  } else {\n    var minX_1 = getMinPos(parentPoses, 0);\n    var minY_1 = getMinPos(parentPoses, 1);\n    var maxX_1 = getMaxPos(parentPoses, 0);\n    var maxY_1 = getMaxPos(parentPoses, 1);\n    pos1 = [minX_1, minY_1];\n    pos2 = [maxX_1, minY_1];\n    pos3 = [minX_1, maxY_1];\n    pos4 = [maxX_1, maxY_1];\n    width = maxX_1 - minX_1;\n    height = maxY_1 - minY_1;\n\n    if (fixedRotation % 180) {\n      // 0\n      // 1 2\n      // 3 4\n      // 90\n      // 3 1\n      // 4 2\n      // 180\n      // 4 3\n      // 2 1\n      // 270\n      // 2 4\n      // 1 3\n      // 1, 2, 3,4 = 3 1 4 2\n      var changedX = [pos3, pos1, pos4, pos2];\n      pos1 = changedX[0], pos2 = changedX[1], pos3 = changedX[2], pos4 = changedX[3];\n      width = maxY_1 - minY_1;\n      height = maxX_1 - minX_1;\n    }\n  }\n\n  if (fixedRotation % 360 > 180) {\n    // 1 2   4 3\n    // 3 4   2 1\n    var changedX = [pos4, pos3, pos2, pos1];\n    pos1 = changedX[0], pos2 = changedX[1], pos3 = changedX[2], pos4 = changedX[3];\n  }\n\n  var _b = getMinMaxs([pos1, pos2, pos3, pos4]),\n      minX = _b.minX,\n      minY = _b.minY,\n      maxX = _b.maxX,\n      maxY = _b.maxY;\n\n  return {\n    pos1: pos1,\n    pos2: pos2,\n    pos3: pos3,\n    pos4: pos4,\n    width: width,\n    height: height,\n    minX: minX,\n    minY: minY,\n    maxX: maxX,\n    maxY: maxY,\n    rotation: rotation\n  };\n}\n\nfunction findMoveableGroups(moveables, childTargetGroups) {\n  var groups = childTargetGroups.map(function (targetGroup) {\n    if (isArray(targetGroup)) {\n      var childMoveableGroups = findMoveableGroups(moveables, targetGroup);\n      var length = childMoveableGroups.length;\n\n      if (length > 1) {\n        return childMoveableGroups;\n      } else if (length === 1) {\n        return childMoveableGroups[0];\n      } else {\n        return null;\n      }\n    } else {\n      var checked = find(moveables, function (_a) {\n        var manager = _a.manager;\n        return manager.props.target === targetGroup;\n      });\n\n      if (checked) {\n        checked.finded = true;\n        return checked.manager;\n      }\n\n      return null;\n    }\n  }).filter(Boolean);\n\n  if (groups.length === 1 && isArray(groups[0])) {\n    return groups[0];\n  }\n\n  return groups;\n}\n/**\n * @namespace Moveable.Group\n * @description You can make targets moveable.\n */\n\n\nvar MoveableGroup =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableGroup, _super);\n\n  function MoveableGroup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.differ = new ChildrenDiffer();\n    _this.moveables = [];\n    _this.transformOrigin = \"50% 50%\";\n    _this.renderGroupRects = [];\n    _this._targetGroups = [];\n    _this._hasFirstTargets = false;\n    return _this;\n  }\n\n  var __proto = MoveableGroup.prototype;\n\n  __proto.componentDidMount = function () {\n    _super.prototype.componentDidMount.call(this);\n  };\n\n  __proto.checkUpdate = function () {\n    this._isPropTargetChanged = false;\n    this.updateAbles();\n  };\n\n  __proto.getTargets = function () {\n    return this.props.targets;\n  };\n\n  __proto.updateRect = function (type, isTarget, isSetState) {\n    var _a;\n\n    if (isSetState === void 0) {\n      isSetState = true;\n    }\n\n    var state = this.state;\n\n    if (!this.controlBox || state.isPersisted) {\n      return;\n    }\n\n    setStoreCache(true);\n    this.moveables.forEach(function (moveable) {\n      moveable.updateRect(type, false, false);\n    });\n    var props = this.props;\n    var moveables = this.moveables;\n    var target = state.target || props.target;\n    var checkeds = moveables.map(function (moveable) {\n      return {\n        finded: false,\n        manager: moveable\n      };\n    });\n    var targetGroups = this.props.targetGroups || [];\n    var moveableGroups = findMoveableGroups(checkeds, targetGroups);\n    var useDefaultGroupRotate = props.useDefaultGroupRotate;\n    moveableGroups.push.apply(moveableGroups, checkeds.filter(function (_a) {\n      var finded = _a.finded;\n      return !finded;\n    }).map(function (_a) {\n      var manager = _a.manager;\n      return manager;\n    }));\n    var renderGroupRects = [];\n    var isReset = !isTarget || type !== \"\" && props.updateGroup;\n    var defaultGroupRotate = props.defaultGroupRotate || 0;\n\n    if (!this._hasFirstTargets) {\n      var persistedRoatation = (_a = props.persistData) === null || _a === void 0 ? void 0 : _a.rotation;\n\n      if (persistedRoatation != null) {\n        defaultGroupRotate = persistedRoatation;\n      }\n    }\n\n    function getMoveableGroupRect(group, parentRotation, isRoot) {\n      var posesRotations = group.map(function (moveable) {\n        if (isArray(moveable)) {\n          var rect = getMoveableGroupRect(moveable, parentRotation);\n          var poses = [rect.pos1, rect.pos2, rect.pos3, rect.pos4];\n          renderGroupRects.push(rect);\n          return {\n            poses: poses,\n            rotation: rect.rotation\n          };\n        } else {\n          return {\n            poses: getAbsolutePosesByState(moveable.state),\n            rotation: moveable.getRotation()\n          };\n        }\n      });\n      var rotations = posesRotations.map(function (_a) {\n        var rotation = _a.rotation;\n        return rotation;\n      });\n      var groupRotation = 0;\n      var firstRotation = rotations[0];\n      var isSameRotation = rotations.every(function (nextRotation) {\n        return Math.abs(firstRotation - nextRotation) < 0.1;\n      });\n\n      if (isReset) {\n        groupRotation = !useDefaultGroupRotate && isSameRotation ? firstRotation : defaultGroupRotate;\n      } else {\n        groupRotation = !useDefaultGroupRotate && !isRoot && isSameRotation ? firstRotation : parentRotation;\n      }\n\n      var groupPoses = posesRotations.map(function (_a) {\n        var poses = _a.poses;\n        return poses;\n      });\n      var groupRect = getGroupRect(groupPoses, groupRotation);\n      return groupRect;\n    }\n\n    var rootGroupRect = getMoveableGroupRect(moveableGroups, this.rotation, true);\n\n    if (isReset) {\n      // reset rotataion\n      this.rotation = rootGroupRect.rotation;\n      this.transformOrigin = props.defaultGroupOrigin || \"50% 50%\";\n      this.scale = [1, 1];\n    }\n\n    this._targetGroups = targetGroups;\n    this.renderGroupRects = renderGroupRects;\n    var transformOrigin = this.transformOrigin;\n    var rotation = this.rotation;\n    var scale = this.scale;\n    var width = rootGroupRect.width,\n        height = rootGroupRect.height,\n        minX = rootGroupRect.minX,\n        minY = rootGroupRect.minY;\n    var posesInfo = rotatePosesInfo([[0, 0], [width, 0], [0, height], [width, height]], convertTransformOriginArray(transformOrigin, width, height), this.rotation / 180 * Math.PI);\n\n    var _b = getMinMaxs(posesInfo.result),\n        deltaX = _b.minX,\n        deltaY = _b.minY;\n\n    var rotateScale = \" rotate(\".concat(rotation, \"deg)\") + \" scale(\".concat(sign(scale[0]), \", \").concat(sign(scale[1]), \")\");\n    var transform = \"translate(\".concat(-deltaX, \"px, \").concat(-deltaY, \"px)\").concat(rotateScale);\n    this.controlBox.style.transform = \"translate3d(\".concat(minX, \"px, \").concat(minY, \"px, \").concat(this.props.translateZ || 0, \")\");\n    target.style.cssText += \"left:0px;top:0px;\" + \"transform-origin:\".concat(transformOrigin, \";\") + \"width:\".concat(width, \"px;height:\").concat(height, \"px;\") + \"transform: \".concat(transform);\n    state.width = width;\n    state.height = height;\n    var container = this.getContainer();\n    var info = getMoveableTargetInfo(this.controlBox, target, this.controlBox, this.getContainer(), this._rootContainer || container, []);\n    var pos = [info.left, info.top];\n\n    var _c = getAbsolutePosesByState(info),\n        pos1 = _c[0],\n        pos2 = _c[1],\n        pos3 = _c[2],\n        pos4 = _c[3]; // info.left + info.pos(1 ~ 4)\n\n\n    var minPos = getMinMaxs([pos1, pos2, pos3, pos4]);\n    var delta = [minPos.minX, minPos.minY];\n    var direction = sign(scale[0] * scale[1]);\n    info.pos1 = minus(pos1, delta);\n    info.pos2 = minus(pos2, delta);\n    info.pos3 = minus(pos3, delta);\n    info.pos4 = minus(pos4, delta); // info.left = info.left + delta[0];\n    // info.top = info.top + delta[1];\n\n    info.left = minX - info.left + delta[0];\n    info.top = minY - info.top + delta[1];\n    info.origin = minus(plus(pos, info.origin), delta);\n    info.beforeOrigin = minus(plus(pos, info.beforeOrigin), delta);\n    info.originalBeforeOrigin = plus(pos, info.originalBeforeOrigin);\n    info.transformOrigin = minus(plus(pos, info.transformOrigin), delta);\n    target.style.transform = \"translate(\".concat(-deltaX - delta[0], \"px, \").concat(-deltaY - delta[1], \"px)\") + rotateScale;\n    setStoreCache();\n    this.updateState(__assign(__assign({}, info), {\n      posDelta: delta,\n      direction: direction,\n      beforeDirection: direction\n    }), isSetState);\n  };\n\n  __proto.getRect = function () {\n    return __assign(__assign({}, _super.prototype.getRect.call(this)), {\n      children: this.moveables.map(function (child) {\n        return child.getRect();\n      })\n    });\n  };\n\n  __proto.triggerEvent = function (name, e, isManager) {\n    if (isManager || name.indexOf(\"Group\") > -1) {\n      return _super.prototype.triggerEvent.call(this, name, e);\n    } else {\n      this._emitter.trigger(name, e);\n    }\n  };\n\n  __proto.getRequestChildStyles = function () {\n    var styleNames = this.getEnabledAbles().reduce(function (names, able) {\n      var _a, _b;\n\n      var ableStyleNames = (_b = (_a = able.requestChildStyle) === null || _a === void 0 ? void 0 : _a.call(able)) !== null && _b !== void 0 ? _b : [];\n      return __spreadArray(__spreadArray([], names, true), ableStyleNames, true);\n    }, []);\n    return styleNames;\n  };\n\n  __proto.updateAbles = function () {\n    _super.prototype.updateAbles.call(this, __spreadArray(__spreadArray([], this.props.ables, true), [Groupable], false), \"Group\");\n  };\n\n  __proto._updateTargets = function () {\n    _super.prototype._updateTargets.call(this);\n\n    this._prevTarget = this.props.dragTarget || this.areaElement;\n  };\n\n  __proto._updateEvents = function () {\n    var state = this.state;\n    var props = this.props;\n    var prevTarget = this._prevTarget;\n    var nextTarget = props.dragTarget || this.areaElement;\n    var targets = props.targets;\n\n    var _a = this.differ.update(targets),\n        added = _a.added,\n        changed = _a.changed,\n        removed = _a.removed;\n\n    var isTargetChanged = added.length || removed.length;\n\n    if (isTargetChanged || prevTarget !== nextTarget) {\n      unsetGesto(this, false);\n      unsetGesto(this, true);\n      this.updateState({\n        gestos: {}\n      });\n    }\n\n    if (prevTarget !== nextTarget) {\n      state.target = null;\n    }\n\n    if (!state.target) {\n      state.target = this.areaElement;\n      this.controlBox.style.display = \"block\";\n    }\n\n    if (state.target) {\n      if (!this.targetGesto) {\n        this.targetGesto = getTargetAbleGesto(this, nextTarget, \"Group\");\n      }\n\n      if (!this.controlGesto) {\n        this.controlGesto = getAbleGesto(this, this.controlBox, \"controlAbles\", \"GroupControl\");\n      }\n    }\n\n    var isContainerChanged = !equals(state.container, props.container);\n\n    if (isContainerChanged) {\n      state.container = props.container;\n    }\n\n    if (isContainerChanged || isTargetChanged || this.transformOrigin !== (props.defaultGroupOrigin || \"50% 50%\") || changed.length || targets.length && !isDeepArrayEquals(this._targetGroups, props.targetGroups || [])) {\n      this.updateRect();\n      this._hasFirstTargets = true;\n    }\n\n    this._isPropTargetChanged = !!isTargetChanged;\n  };\n\n  __proto._updateObserver = function () {};\n\n  MoveableGroup.defaultProps = __assign(__assign({}, MoveableManager.defaultProps), {\n    transformOrigin: [\"50%\", \"50%\"],\n    groupable: true,\n    dragArea: true,\n    keepRatio: true,\n    targets: [],\n    defaultGroupRotate: 0,\n    defaultGroupOrigin: \"50% 50%\"\n  });\n  return MoveableGroup;\n}(MoveableManager);\n\n/**\n * @namespace Moveable.IndividualGroup\n * @description Create targets individually, not as a group.Create targets individually, not as a group.\n */\n\nvar MoveableIndividualGroup =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(MoveableIndividualGroup, _super);\n\n  function MoveableIndividualGroup() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.moveables = [];\n    return _this;\n  }\n\n  var __proto = MoveableIndividualGroup.prototype;\n\n  __proto.render = function () {\n    var _this = this;\n\n    var _a;\n\n    var props = this.props;\n    var cspNonce = props.cspNonce,\n        ControlBoxElement = props.cssStyled,\n        persistData = props.persistData;\n    var targets = props.targets || [];\n    var length = targets.length;\n    var canPersist = this.isUnmounted || !length;\n    var persistDatChildren = (_a = persistData === null || persistData === void 0 ? void 0 : persistData.children) !== null && _a !== void 0 ? _a : [];\n\n    if (canPersist && !length && persistDatChildren.length) {\n      targets = persistDatChildren.map(function () {\n        return null;\n      });\n    } else if (!canPersist) {\n      persistDatChildren = [];\n    }\n\n    return React.createElement(ControlBoxElement, {\n      cspNonce: cspNonce,\n      ref: ref(this, \"controlBox\"),\n      className: prefix(\"control-box\")\n    }, targets.map(function (target, i) {\n      var _a, _b;\n\n      var individualProps = (_b = (_a = props.individualGroupableProps) === null || _a === void 0 ? void 0 : _a.call(props, target, i)) !== null && _b !== void 0 ? _b : {};\n      return React.createElement(MoveableManager, __assign({\n        key: \"moveable\" + i,\n        ref: refs(_this, \"moveables\", i)\n      }, props, individualProps, {\n        target: target,\n        wrapperMoveable: _this,\n        isWrapperMounted: _this.isMoveableMounted,\n        persistData: persistDatChildren[i]\n      }));\n    }));\n  };\n\n  __proto.componentDidMount = function () {};\n\n  __proto.componentDidUpdate = function () {};\n\n  __proto.getTargets = function () {\n    return this.props.targets;\n  };\n\n  __proto.updateRect = function (type, isTarget, isSetState) {\n    if (isSetState === void 0) {\n      isSetState = true;\n    }\n\n    setStoreCache(true);\n    this.moveables.forEach(function (moveable) {\n      moveable.updateRect(type, isTarget, isSetState);\n    });\n    setStoreCache();\n  };\n\n  __proto.getRect = function () {\n    return __assign(__assign({}, _super.prototype.getRect.call(this)), {\n      children: this.moveables.map(function (child) {\n        return child.getRect();\n      })\n    });\n  };\n\n  __proto.request = function () {\n    return {\n      request: function () {\n        return this;\n      },\n      requestEnd: function () {\n        return this;\n      }\n    };\n  };\n\n  __proto.dragStart = function () {\n    return this;\n  };\n\n  __proto.hitTest = function () {\n    return 0;\n  };\n\n  __proto.isInside = function () {\n    return false;\n  };\n\n  __proto.isDragging = function () {\n    return false;\n  };\n\n  __proto.updateRenderPoses = function () {};\n\n  __proto.checkUpdate = function () {};\n\n  __proto.triggerEvent = function () {};\n\n  __proto.updateAbles = function () {};\n\n  __proto._updateEvents = function () {};\n\n  __proto._updateObserver = function () {};\n\n  return MoveableIndividualGroup;\n}(MoveableManager);\n\nfunction getElementTargets(refTargets, selectorMap) {\n  var elementTargets = [];\n  refTargets.forEach(function (target) {\n    if (!target) {\n      return;\n    }\n\n    if (isString(target)) {\n      if (selectorMap[target]) {\n        elementTargets.push.apply(elementTargets, selectorMap[target]);\n      }\n\n      return;\n    }\n\n    if (isArray(target)) {\n      elementTargets.push.apply(elementTargets, getElementTargets(target, selectorMap));\n    } else {\n      elementTargets.push(target);\n    }\n  });\n  return elementTargets;\n}\n\nfunction getTargetGroups(refTargets, selectorMap) {\n  var targetGroups = [];\n  refTargets.forEach(function (target) {\n    if (!target) {\n      return;\n    }\n\n    if (isString(target)) {\n      if (selectorMap[target]) {\n        targetGroups.push.apply(targetGroups, selectorMap[target]);\n      }\n\n      return;\n    }\n\n    if (isArray(target)) {\n      targetGroups.push(getTargetGroups(target, selectorMap));\n    } else {\n      targetGroups.push(target);\n    }\n  });\n  return targetGroups;\n}\n\nfunction compareRefTargets(prevRefTargets, nextRefTargets) {\n  return prevRefTargets.length !== nextRefTargets.length || prevRefTargets.some(function (target, i) {\n    var nextTarget = nextRefTargets[i];\n\n    if (!target && !nextTarget) {\n      return false;\n    } else if (target != nextTarget) {\n      if (isArray(target) && isArray(nextTarget)) {\n        return compareRefTargets(target, nextTarget);\n      }\n\n      return true;\n    }\n\n    return false;\n  });\n}\n\nvar InitialMoveable =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(InitialMoveable, _super);\n\n  function InitialMoveable() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.refTargets = [];\n    _this.selectorMap = {};\n    _this._differ = new ChildrenDiffer();\n    _this._elementTargets = [];\n    _this._onChangeTargets = null;\n    return _this;\n  }\n\n  var __proto = InitialMoveable.prototype;\n\n  InitialMoveable.makeStyled = function () {\n    var cssMap = {};\n    var ables = this.getTotalAbles();\n    ables.forEach(function (_a) {\n      var css = _a.css;\n\n      if (!css) {\n        return;\n      }\n\n      css.forEach(function (text) {\n        cssMap[text] = true;\n      });\n    });\n    var style = getKeys(cssMap).join(\"\\n\");\n    this.defaultStyled = styled(\"div\", prefixCSS(PREFIX, MOVEABLE_CSS + style));\n  };\n\n  InitialMoveable.getTotalAbles = function () {\n    return __spreadArray([Default, Groupable, IndividualGroupable, DragArea], this.defaultAbles, true);\n  };\n\n  __proto.render = function () {\n    var _a;\n\n    var moveableContructor = this.constructor;\n\n    if (!moveableContructor.defaultStyled) {\n      moveableContructor.makeStyled();\n    }\n\n    var _b = this.props,\n        userAbles = _b.ables,\n        userProps = _b.props,\n        props = __rest(_b, [\"ables\", \"props\"]);\n\n    var refTargets = this._updateRefs(true);\n\n    var elementTargets = getElementTargets(refTargets, this.selectorMap);\n    var isGroup = elementTargets.length > 1;\n    var totalAbles = moveableContructor.getTotalAbles();\n\n    var ables = __spreadArray(__spreadArray([], totalAbles, true), userAbles || [], true);\n\n    var nextProps = __assign(__assign(__assign({}, props), userProps || {}), {\n      ables: ables,\n      cssStyled: moveableContructor.defaultStyled,\n      customStyledMap: moveableContructor.customStyledMap\n    });\n\n    this._elementTargets = elementTargets;\n    var firstRenderState = null;\n    var prevMoveable = this.moveable;\n    var persistData = props.persistData;\n\n    if (persistData === null || persistData === void 0 ? void 0 : persistData.children) {\n      isGroup = true;\n    } // Even one child is treated as a group if individualGroupable is enabled. #867\n\n\n    if (props.individualGroupable) {\n      return React.createElement(MoveableIndividualGroup, __assign({\n        key: \"individual-group\",\n        ref: ref(this, \"moveable\")\n      }, nextProps, {\n        target: null,\n        targets: elementTargets\n      }));\n    }\n\n    if (isGroup) {\n      var targetGroups = getTargetGroups(refTargets, this.selectorMap); // manager\n\n      if (prevMoveable && !prevMoveable.props.groupable && !prevMoveable.props.individualGroupable) {\n        var target = prevMoveable.props.target;\n\n        if (target && elementTargets.indexOf(target) > -1) {\n          firstRenderState = __assign({}, prevMoveable.state);\n        }\n      }\n\n      return React.createElement(MoveableGroup, __assign({\n        key: \"group\",\n        ref: ref(this, \"moveable\")\n      }, nextProps, (_a = props.groupableProps) !== null && _a !== void 0 ? _a : {}, {\n        target: null,\n        targets: elementTargets,\n        targetGroups: targetGroups,\n        firstRenderState: firstRenderState\n      }));\n    } else {\n      var target_1 = elementTargets[0]; // manager\n\n      if (prevMoveable && (prevMoveable.props.groupable || prevMoveable.props.individualGroupable)) {\n        var moveables = prevMoveable.moveables || [];\n        var prevTargetMoveable = find(moveables, function (mv) {\n          return mv.props.target === target_1;\n        });\n\n        if (prevTargetMoveable) {\n          firstRenderState = __assign({}, prevTargetMoveable.state);\n        }\n      }\n\n      return React.createElement(MoveableManager, __assign({\n        key: \"single\",\n        ref: ref(this, \"moveable\")\n      }, nextProps, {\n        target: target_1,\n        firstRenderState: firstRenderState\n      }));\n    }\n  };\n\n  __proto.componentDidMount = function () {\n    this._checkChangeTargets();\n\n    this._updateRefs();\n  };\n\n  __proto.componentDidUpdate = function () {\n    this._checkChangeTargets();\n  };\n\n  __proto.componentWillUnmount = function () {\n    this.selectorMap = {};\n    this.refTargets = [];\n  };\n  /**\n   * Get targets set in moveable through target or targets of props.\n   * @method Moveable#getTargets\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body, {\n   *    target: [targetRef, \".target\", document.querySelectorAll(\".target\")],\n   * });\n   *\n   * console.log(moveable.getTargets());\n   */\n\n\n  __proto.getTargets = function () {\n    var _a, _b;\n\n    return (_b = (_a = this.moveable) === null || _a === void 0 ? void 0 : _a.getTargets()) !== null && _b !== void 0 ? _b : [];\n  };\n  /**\n   * If the element list corresponding to the selector among the targets is changed, it is updated.\n   * @method Moveable#updateSelectors\n   * @example\n   * import Moveable from \"moveable\";\n   *\n   * const moveable = new Moveable(document.body, {\n   *    target: \".target\",\n   * });\n   *\n   * moveable.updateSelectors();\n   */\n\n\n  __proto.updateSelectors = function () {\n    this.selectorMap = {};\n\n    this._updateRefs();\n  };\n  /**\n   * User changes target and waits for target to change.\n   * @method Moveable#waitToChangeTarget\n   * @story combination-with-other-components--components-selecto\n   * @example\n   * document.querySelector(\".target\").addEventListener(\"mousedown\", e => {\n   *   moveable.waitToChangeTarget().then(() => {\n   *      moveable.dragStart(e.currentTarget);\n   *   });\n   *   moveable.target = e.currentTarget;\n   * });\n   */\n\n\n  __proto.waitToChangeTarget = function () {\n    // let resolvePromise: (e: OnChangeTarget) => void;\n    var _this = this; // this._onChangeTargets = () => {\n    //     this._onChangeTargets = null;\n    //     resolvePromise({\n    //         moveable: this.getManager(),\n    //         targets: this._elementTargets,\n    //     });\n    // };\n    // return new Promise<OnChangeTarget>(resolve => {\n    //     resolvePromise = resolve;\n    // });\n\n\n    var resolvePromise;\n\n    this._onChangeTargets = function () {\n      _this._onChangeTargets = null;\n      resolvePromise();\n    };\n\n    return new Promise(function (resolve) {\n      resolvePromise = resolve;\n    });\n  };\n\n  __proto.waitToChangeTargets = function () {\n    return this.waitToChangeTarget();\n  };\n\n  __proto.getManager = function () {\n    return this.moveable;\n  };\n\n  __proto._updateRefs = function (isRender) {\n    var prevRefTargets = this.refTargets;\n    var nextRefTargets = getRefTargets(this.props.target || this.props.targets);\n    var isBrowser = typeof document !== \"undefined\";\n    var isUpdate = compareRefTargets(prevRefTargets, nextRefTargets);\n    var selectorMap = this.selectorMap;\n    var nextSelectorMap = {};\n    this.refTargets.forEach(function updateSelectorMap(target) {\n      if (isString(target)) {\n        var selectorTarget = selectorMap[target];\n\n        if (selectorTarget) {\n          nextSelectorMap[target] = selectorMap[target];\n        } else if (isBrowser) {\n          isUpdate = true;\n          nextSelectorMap[target] = [].slice.call(document.querySelectorAll(target));\n        }\n      } else if (isArray(target)) {\n        target.forEach(updateSelectorMap);\n      }\n    });\n    this.refTargets = nextRefTargets;\n    this.selectorMap = nextSelectorMap;\n\n    if (!isRender && isUpdate) {\n      this.forceUpdate();\n    }\n\n    return nextRefTargets;\n  };\n\n  __proto._checkChangeTargets = function () {\n    var _a, _b, _c;\n\n    var _d = this._differ.update(this._elementTargets),\n        added = _d.added,\n        removed = _d.removed;\n\n    var isTargetChanged = added.length || removed.length;\n\n    if (isTargetChanged) {\n      (_b = (_a = this.props).onChangeTargets) === null || _b === void 0 ? void 0 : _b.call(_a, {\n        moveable: this.moveable,\n        targets: this._elementTargets\n      });\n      (_c = this._onChangeTargets) === null || _c === void 0 ? void 0 : _c.call(this);\n    }\n\n    this._updateRefs();\n  };\n\n  InitialMoveable.defaultAbles = [];\n  InitialMoveable.customStyledMap = {};\n  InitialMoveable.defaultStyled = null;\n\n  __decorate([withMethods(MOVEABLE_METHODS)], InitialMoveable.prototype, \"moveable\", void 0);\n\n  return InitialMoveable;\n}(React.PureComponent);\n\nvar Moveable =\n/*#__PURE__*/\nfunction (_super) {\n  __extends(Moveable, _super);\n\n  function Moveable() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Moveable.defaultAbles = MOVEABLE_ABLES;\n  return Moveable;\n}(InitialMoveable);\n\nfunction makeMoveable(ables) {\n  var _a;\n\n  return _a =\n  /*#__PURE__*/\n  function (_super) {\n    __extends(Moveable, _super);\n\n    function Moveable() {\n      return _super !== null && _super.apply(this, arguments) || this;\n    }\n\n    return Moveable;\n  }(InitialMoveable), _a.defaultAbles = ables, _a;\n}\n\nexport { Clippable, DIRECTIONS, Draggable, edgeDraggable as EdgeDraggable, InitialMoveable, MOVEABLE_ABLES, MOVEABLE_EVENTS, MOVEABLE_METHODS, MOVEABLE_PROPS, Pinchable, Resizable, Rotatable, Roundable, Scalable, Snappable, Warpable, Moveable as default, getElementInfo, makeAble, makeMoveable };\n//# sourceMappingURL=moveable.esm.js.map\n","import EventEmitter, { EmitterParam, TargetParam } from \"@scena/event-emitter\";\n\nimport { isString, isArray, addEvent, removeEvent } from \"@daybrush/utils\";\nimport { getArrangeCombi, getKey, getCombi } from \"./utils\";\n\n/**\n * @typedef\n * @memberof KeyController\n */\nexport interface KeyControllerEvent extends EmitterParam {\n    inputEvent: KeyboardEvent;\n    isToggle: boolean;\n    key: string;\n    keyCode: number;\n    ctrlKey: boolean;\n    altKey: boolean;\n    shiftKey: boolean;\n    metaKey: boolean;\n}\n\nexport interface OnKeydown extends KeyControllerEvent {\n\n}\nexport interface OnKeyup extends KeyControllerEvent {\n\n}\nexport interface OnBlur {\n\n}\nexport interface KeyconEvents {\n    keydown: OnKeydown;\n    keyup: OnKeyup;\n    blur: OnBlur;\n}\nexport type KeyControllerEvents = KeyconEvents;\n\nlet globalKeyController!: KeyController;\n\n/**\n */\nclass KeyController extends EventEmitter<KeyconEvents & { [text: string]: any }> {\n    /**\n     */\n    public static get global() {\n        return globalKeyController || (globalKeyController = new KeyController());\n    }\n    public static setGlobal() {\n        return this.global;\n    }\n    /**\n     */\n    public ctrlKey = false;\n    /**\n     */\n    public altKey = false;\n    /**\n     *\n     */\n    public shiftKey = false;\n    /**\n     *\n     */\n    public metaKey = false;\n    /**\n     *\n     */\n    constructor(public container: Window | Document | HTMLElement = window) {\n        super();\n\n        addEvent(container, \"blur\", this.blur);\n        addEvent(container, \"keydown\", this.keydownEvent);\n        addEvent(container, \"keyup\", this.keyupEvent);\n    }\n    public clear = (): this => {\n        this.ctrlKey = false;\n        this.altKey = false;\n        this.shiftKey = false;\n        this.metaKey = false;\n        return this;\n    }\n    /**\n     *\n     */\n    public destroy() {\n        const container = this.container as any;\n\n        this.clear();\n        this.off();\n        removeEvent(container, \"blur\", this.blur);\n        removeEvent(container, \"keydown\", this.keydownEvent);\n        removeEvent(container, \"keyup\", this.keyupEvent);\n    }\n    public keydown(comb: string | string[], callback: (e: KeyControllerEvent) => void): this;\n    public keydown(callback: (e: KeyControllerEvent) => void): this;\n    /**\n     *\n     */\n    public keydown(\n        comb: string | string[] | ((e: KeyControllerEvent) => void),\n        callback?: (e: KeyControllerEvent) => void,\n    ): this {\n        return this.addEvent(\"keydown\", comb, callback);\n    }\n    public offKeydown(comb: string | string[], callback?: (e: KeyControllerEvent) => void): this;\n    public offKeydown(callback: (e: KeyControllerEvent) => void): this;\n    /**\n     *\n     */\n    public offKeydown(\n        comb: string | string[] | ((e: KeyControllerEvent) => void),\n        callback?: (e: KeyControllerEvent) => void,\n    ): this {\n        return this.removeEvent(\"keydown\", comb, callback);\n    }\n    public offKeyup(comb: string | string[], callback?: (e: KeyControllerEvent) => void): this;\n    public offKeyup(callback: (e: KeyControllerEvent) => void): this;\n    /**\n     *\n     */\n    public offKeyup(\n        comb: string | string[] | ((e: KeyControllerEvent) => void),\n        callback?: (e: KeyControllerEvent) => void,\n    ): this {\n        return this.removeEvent(\"keyup\", comb, callback);\n    }\n    public keyup(comb: string | string[], callback: (e: KeyControllerEvent) => void): this;\n    public keyup(callback: (e: KeyControllerEvent) => void): this;\n    /**\n     *\n     */\n    public keyup(\n        comb: string | string[] | ((e: KeyControllerEvent) => void),\n        callback?: (e: KeyControllerEvent) => void,\n    ): this {\n        return this.addEvent(\"keyup\", comb, callback);\n    }\n    private addEvent(\n        type: \"keydown\" | \"keyup\",\n        comb: string | string[] | ((e: KeyControllerEvent) => void),\n        callback?: (e: KeyControllerEvent) => void,\n    ) {\n        if (isArray(comb)) {\n            this.on(`${type}.${getArrangeCombi(comb).join(\".\")}`, callback);\n        } else if (isString(comb)) {\n            this.on(`${type}.${comb}`, callback);\n        } else {\n            this.on(type, comb);\n        }\n        return this;\n    }\n    private removeEvent(\n        type: \"keydown\" | \"keyup\",\n        comb: string | string[] | ((e: KeyControllerEvent) => void) | undefined,\n        callback?: (e: KeyControllerEvent) => void,\n    ) {\n        if (isArray(comb)) {\n            this.off(`${type}.${getArrangeCombi(comb).join(\".\")}`, callback);\n        } else if (isString(comb)) {\n            this.off(`${type}.${comb}`, callback);\n        } else {\n            this.off(type, comb);\n        }\n        return this;\n    }\n    private triggerEvent(type: \"keydown\" | \"keyup\", e: KeyboardEvent) {\n        this.ctrlKey = e.ctrlKey;\n        this.shiftKey = e.shiftKey;\n        this.altKey = e.altKey;\n        this.metaKey = e.metaKey;\n\n        const key = getKey(e.keyCode, e.key);\n        const isToggle = key === \"ctrl\"\n            || key === \"shift\"\n            || key === \"meta\"\n            || key === \"alt\";\n        const param: TargetParam<KeyControllerEvent> = {\n            key,\n            isToggle,\n            inputEvent: e,\n            keyCode: e.keyCode,\n            ctrlKey: e.ctrlKey,\n            altKey: e.altKey,\n            shiftKey: e.shiftKey,\n            metaKey: e.metaKey,\n        };\n        this.trigger(type, param);\n        this.trigger(`${type}.${key}`, param);\n\n        const combi = getCombi(e, key);\n\n        combi.length > 1 && this.trigger(`${type}.${combi.join(\".\")}`, param);\n    }\n    private keydownEvent = (e: KeyboardEvent) => {\n        this.triggerEvent(\"keydown\", e);\n    }\n    private keyupEvent = (e: KeyboardEvent) => {\n        this.triggerEvent(\"keyup\", e);\n    }\n    private blur = () => {\n        this.clear();\n        this.trigger(\"blur\");\n    }\n}\n\nexport default KeyController;\n","import { ReactiveAdapter, reactive, Ref, observe, ReactiveObject, Observer } from \"@cfcs/core\";\nimport KeyController, { KeyControllerEvents, KeyControllerEvent } from \"./KeyController\";\n\nexport interface ReactiveKeyControllerData {\n    ref?: Ref<HTMLElement | null | undefined>;\n    checker?: (e: KeyControllerEvent) => boolean;\n    keys: string | string[];\n}\n\nexport type ReactiveKeyController = ReactiveObject<{\n    inst: KeyController;\n    keys: string | string[];\n    isKeydown: Observer<boolean>;\n    destroy(): void;\n}>;\n\nlet instanceMap!: Map<HTMLElement | Window | Document, {\n    inst: KeyController;\n    count: number;\n}>;\n\nexport const REACTIVE: ReactiveAdapter<\n    ReactiveKeyController,\n    { isKeydown: boolean },\n    never,\n    ReactiveKeyControllerData,\n    KeyControllerEvents\n> = {\n    events: [\"keydown\", \"keyup\", \"blur\"],\n    state: { isKeydown: false },\n    mounted(data) {\n        if (!instanceMap) {\n            instanceMap = new Map();\n        }\n        const element = data.ref?.current ?? window;\n\n        let info = instanceMap.get(element);\n\n        if (!info) {\n            info = {\n                inst: new KeyController(element),\n                count: 0,\n            };\n\n            instanceMap.set(element, info);\n        }\n        ++info.count;\n\n        const keycon = info.inst;\n        const keys = data.keys;\n        const isKeydown = observe(false);\n        const checker = data.checker;\n\n        keycon.keydown(keys, (e: KeyControllerEvent) => {\n            if (!checker || checker(e)) {\n                isKeydown.current = true;\n            }\n        });\n        keycon.keyup(keys, () => {\n            isKeydown.current = false;\n        });\n        keycon.on(\"blur\", () => {\n            isKeydown.current = false;\n        });\n\n        return reactive({\n            inst: keycon,\n            keys,\n            destroy: () => keycon.destroy(),\n            isKeydown,\n        });\n    },\n    destroy({ inst }) {\n        const element = inst.container;\n        const info = instanceMap.get(element);\n\n        --info.count;\n        if (!info.count) {\n            inst.destroy();\n            instanceMap.delete(element);\n        }\n    },\n    on(inst, name, callback) {\n        const keycon = inst.inst;\n\n        if (name === \"keydown\") {\n            keycon.keydown(inst.keys, callback as any);\n        } else if (name === \"keyup\") {\n            keycon.keyup(inst.keys, callback as any);\n        } else {\n            keycon.on(name, callback as any);\n        }\n    },\n    off(inst, name, callback) {\n        const keycon = inst.inst;\n\n        if (name === \"keydown\") {\n            keycon.offKeydown(inst.keys, callback as any);\n        } else if (name === \"keyup\") {\n            keycon.offKeyup(inst.keys, callback as any);\n        } else {\n            keycon.off(name, callback as any);\n        }\n    },\n}\n","import EventEmitter from \"@scena/event-emitter\";\nimport Gesto, { OnDrag, OnDragStart } from \"gesto\";\nimport { InjectResult } from \"css-styled\";\nimport { Properties } from \"framework-utils\";\nimport {\n    isObject,\n    camelize,\n    IObject,\n    addEvent,\n    removeEvent,\n    isArray,\n    isString,\n    between,\n    splitUnit,\n    isFunction,\n    getWindow,\n    getDocument,\n    isNode,\n} from \"@daybrush/utils\";\nimport { diff } from \"@egjs/children-differ\";\nimport DragScroll from \"@scena/dragscroll\";\nimport KeyController, { getCombi } from \"keycon\";\nimport {\n    getAreaSize,\n    getOverlapPoints,\n    isInside,\n    fitPoints,\n} from \"overlap-area\";\nimport { getDistElementMatrix, calculateMatrixDist, createMatrix } from \"css-to-mat\";\nimport {\n    createElement,\n    h,\n    getClient,\n    diffValue,\n    getRect,\n    getDefaultElementRect,\n    passTargets,\n    elementFromPoint,\n    filterDuplicated,\n    getLineSize,\n} from \"./utils\";\nimport {\n    SelectoOptions,\n    SelectoProperties,\n    OnDragEvent,\n    SelectoEvents,\n    Rect,\n    BoundContainer,\n    SelectedTargets,\n    SelectedTargetsWithRect,\n    InnerParentInfo,\n} from \"./types\";\nimport { PROPERTIES, injector, CLASS_NAME } from \"./consts\";\n\n/**\n * Selecto.js is a component that allows you to select elements in the drag area using the mouse or touch.\n * @sort 1\n * @extends EventEmitter\n */\n@Properties(PROPERTIES as any, (prototype, property) => {\n    const attributes: IObject<any> = {\n        enumerable: true,\n        configurable: true,\n        get() {\n            return this.options[property];\n        },\n    };\n    const getter = camelize(`get ${property}`);\n    if (prototype[getter]) {\n        attributes.get = function get() {\n            return this[getter]();\n        };\n    } else {\n        attributes.get = function get() {\n            return this.options[property];\n        };\n    }\n    const setter = camelize(`set ${property}`);\n    if (prototype[setter]) {\n        attributes.set = function set(value) {\n            this[setter](value);\n        };\n    } else {\n        attributes.set = function set(value) {\n            this.options[property] = value;\n        };\n    }\n    Object.defineProperty(prototype, property, attributes);\n})\nclass Selecto extends EventEmitter<SelectoEvents> {\n    public options: SelectoOptions;\n    private target!: HTMLElement | SVGElement;\n    private dragContainer!: Element | Window | Element[];\n    private container!: HTMLElement;\n    private gesto!: Gesto;\n    private injectResult!: InjectResult;\n    private selectedTargets: Array<HTMLElement | SVGElement> = [];\n    private dragScroll: DragScroll = new DragScroll();\n    private keycon!: KeyController;\n    private _keydownContinueSelect: boolean;\n    private _keydownContinueSelectWithoutDeselection: boolean;\n    /**\n     *\n     */\n    constructor(options: Partial<SelectoOptions> = {}) {\n        super();\n        this.target = options.portalContainer;\n        let container = options.container;\n        this.options = {\n            portalContainer: null,\n            container: null,\n            dragContainer: null,\n            selectableTargets: [],\n            selectByClick: true,\n            selectFromInside: true,\n            clickBySelectEnd: false,\n            hitRate: 100,\n            continueSelect: false,\n            continueSelectWithoutDeselect: false,\n            toggleContinueSelect: null,\n            toggleContinueSelectWithoutDeselect: null,\n            keyContainer: null,\n            scrollOptions: undefined,\n            checkInput: false,\n            preventDefault: false,\n            boundContainer: false,\n            preventDragFromInside: true,\n            dragCondition: null,\n            rootContainer: null,\n            checkOverflow: false,\n            innerScrollOptions: false,\n            getElementRect: getDefaultElementRect,\n            cspNonce: \"\",\n            ratio: 0,\n            ...options,\n        };\n        const portalContainer = this.options.portalContainer;\n\n        if (portalContainer) {\n            container = portalContainer.parentElement;\n        }\n        this.container = container || document.body;\n        this.initElement();\n        this.initDragScroll();\n        this.setKeyController();\n    }\n    /**\n     * You can set the currently selected targets.\n     * selectByClick, continueSelect, and continueSelectWithoutDeselect are not applied.\n     */\n    public setSelectedTargets(\n        selectedTargets: Array<HTMLElement | SVGElement>\n    ): SelectedTargets {\n        const beforeSelected = this.selectedTargets;\n        const { added, removed, prevList, list } = diff(\n            beforeSelected,\n            selectedTargets\n        );\n        this.selectedTargets = selectedTargets;\n\n        return {\n            added: added.map(index => list[index]),\n            removed: removed.map(index => prevList[index]),\n            beforeSelected,\n            selected: selectedTargets,\n        };\n    }\n    /**\n     * You can set the currently selected targets by points\n     * selectByClick, continueSelect, and continueSelectWithoutDeselect are not applied.\n     */\n    public setSelectedTargetsByPoints(\n        point1: number[],\n        point2: number[],\n    ): SelectedTargetsWithRect {\n        const left = Math.min(point1[0], point2[0]);\n        const top = Math.min(point1[1], point2[1]);\n        const right = Math.max(point1[0], point2[0]);\n        const bottom = Math.max(point1[1], point2[1]);\n        const rect: Rect = {\n            left,\n            top,\n            right,\n            bottom,\n            width: right - left,\n            height: bottom - top,\n        };\n        const data = { ignoreClick: true };\n\n        this.findSelectableTargets(data);\n        const selectedElements = this.hitTest(rect, data);\n        const result = this.setSelectedTargets(selectedElements);\n\n        return {\n            ...result,\n            rect,\n        };\n    }\n    /**\n     * Select target by virtual drag from startPoint to endPoint.\n     * The target of inputEvent is null.\n     */\n    public selectTargetsByPoints(\n        startPoint: number[],\n        endPoint: number[],\n    ) {\n        const mousedown = new MouseEvent(\"mousedown\", {\n            clientX: startPoint[0],\n            clientY: startPoint[1],\n            cancelable: true,\n            bubbles: true,\n        });\n        const mousemove = new MouseEvent(\"mousemove\", {\n            clientX: endPoint[0],\n            clientY: endPoint[1],\n            cancelable: true,\n            bubbles: true,\n        });\n        const mouseup = new MouseEvent(\"mousemove\", {\n            clientX: endPoint[0],\n            clientY: endPoint[1],\n            cancelable: true,\n            bubbles: true,\n        });\n        const gesto = this.gesto;\n        const result = gesto.onDragStart(mousedown);\n\n        if (result !== false) {\n            gesto.onDrag(mousemove);\n            gesto.onDragEnd(mouseup);\n        }\n    }\n    /**\n     * You can get the currently selected targets.\n     */\n    public getSelectedTargets(): Array<HTMLElement | SVGElement> {\n        return this.selectedTargets;\n    }\n    /**\n     * `OnDragStart` is triggered by an external event.\n     * @param - external event\n     * @example\n     * import Selecto from \"selecto\";\n     *\n     * const selecto = new Selecto();\n     *\n     * window.addEventListener(\"mousedown\", e => {\n     *   selecto.triggerDragStart(e);\n     * });\n     */\n    public triggerDragStart(e: MouseEvent | TouchEvent) {\n        this.gesto.triggerDragStart(e);\n        return this;\n    }\n    /**\n     * Destroy elements, properties, and events.\n     */\n    public destroy(): void {\n        this.off();\n        this.keycon && this.keycon.destroy();\n        this.gesto.unset();\n        this.injectResult.destroy();\n        this.dragScroll.dragEnd();\n        removeEvent(document, \"selectstart\", this._onDocumentSelectStart);\n\n        if (!this.options.portalContainer) {\n            this.target.parentElement?.removeChild(this.target);\n        }\n\n\n        this.keycon = null;\n        this.gesto = null;\n        this.injectResult = null;\n        this.target = null;\n        this.container = null;\n        this.options = null;\n    }\n    public getElementPoints(target: HTMLElement | SVGElement) {\n        const getElementRect = this.getElementRect || getDefaultElementRect;\n        const info = getElementRect(target);\n        const points = [info.pos1, info.pos2, info.pos4, info.pos3];\n\n        if (getElementRect !== getDefaultElementRect) {\n            const rect = target.getBoundingClientRect();\n\n            return fitPoints(points, rect);\n        }\n        return points;\n    }\n    /**\n     * Get all elements set in `selectableTargets`.\n     */\n    public getSelectableElements() {\n        const container = this.container;\n        const selectableElements: Array<HTMLElement | SVGElement> = [];\n\n        this.options.selectableTargets.forEach((target) => {\n            if (isFunction(target)) {\n                const result = target();\n\n                if (result) {\n                    selectableElements.push(...[].slice.call(result));\n                }\n            } else if (isNode(target)) {\n                selectableElements.push(target);\n            } else if (isObject(target)) {\n                selectableElements.push(target.value || target.current);\n            } else {\n                const elements = [].slice.call(\n                    (getDocument(container)).querySelectorAll(target)\n                );\n\n                selectableElements.push(...elements);\n            }\n        });\n\n        return selectableElements;\n    }\n    /**\n     * If scroll occurs during dragging, you can manually call this method to check the position again.\n     */\n    public checkScroll() {\n        if (!this.gesto.isFlag()) {\n            return;\n        }\n        const scrollOptions = this.scrollOptions;\n        const innerScrollOptions = this.gesto.getEventData().innerScrollOptions;\n        const hasScrollOptions = innerScrollOptions || scrollOptions?.container;\n\n        // If it is a scrolling position, pass drag\n        if (hasScrollOptions) {\n            this.dragScroll.checkScroll({\n                inputEvent: this.gesto.getCurrentEvent(),\n                ...(innerScrollOptions || scrollOptions),\n            });\n        }\n    }\n    /**\n     * Find for selectableTargets again during drag event\n     * You can update selectable targets during an event.\n     */\n    public findSelectableTargets(data: any = this.gesto.getEventData()): Array<HTMLElement | SVGElement> {\n        const selectableTargets = this.getSelectableElements();\n        const selectablePoints = selectableTargets.map(\n            (target) => this.getElementPoints(target),\n        );\n\n        data.selectableTargets = selectableTargets;\n        data.selectablePoints = selectablePoints;\n        data.selectableParentMap = null;\n\n        const options = this.options;\n        const hasIndexesMap = options.checkOverflow || options.innerScrollOptions;\n        const doc = getDocument(this.container);\n\n        if (hasIndexesMap) {\n            const parentMap = new Map<Element, InnerParentInfo>();\n\n            data.selectableInnerScrollParentMap = parentMap;\n            data.selectableInnerScrollPathsList = selectableTargets.map((target, index) => {\n                let parentElement = target.parentElement;\n\n                let parents: Element[] = [];\n                const paths: Element[] = [];\n\n                while (parentElement && parentElement !== doc.body) {\n                    let info: InnerParentInfo = parentMap.get(parentElement);\n\n                    if (!info) {\n                        const overflow = getComputedStyle(parentElement).overflow !== \"visible\";\n\n                        if (overflow) {\n                            const rect = getDefaultElementRect(parentElement);\n\n                            info = {\n                                parentElement,\n                                indexes: [],\n                                points: [rect.pos1, rect.pos2, rect.pos4, rect.pos3],\n                                paths: [...paths],\n                            };\n\n                            parents.push(parentElement);\n                            parents.forEach(prevParentElement => {\n                                parentMap.set(prevParentElement, info);\n                            });\n                            parents = [];\n                        }\n                    }\n                    if (info) {\n                        parentElement = info.parentElement;\n\n                        parentMap.get(parentElement).indexes.push(index);\n                        paths.push(parentElement);\n                    } else {\n                        parents.push(parentElement);\n                    }\n                    parentElement = parentElement.parentElement;\n                }\n\n                return paths;\n            });\n        }\n\n        if (!options.checkOverflow) {\n            data.selectableInners = selectableTargets.map(() => true);\n        }\n\n        this._refreshGroups(data);\n\n        return selectableTargets;\n    }\n    /**\n     * External click or mouse events can be applied to the selecto.\n     * @params - Extenal click or mouse event\n     * @params - Specify the clicked target directly.\n     */\n    public clickTarget(\n        e: MouseEvent | TouchEvent,\n        clickedTarget?: Element\n    ): this {\n        const { clientX, clientY } = getClient(e);\n        const dragEvent = {\n            data: {\n                selectFlag: false,\n            },\n            clientX,\n            clientY,\n            inputEvent: e,\n            isClick: true,\n            isTrusted: false,\n            stop: () => {\n                return false;\n            },\n        } as any;\n        if (this._onDragStart(dragEvent, clickedTarget)) {\n            this._onDragEnd(dragEvent);\n        }\n        return this;\n    }\n    private setKeyController() {\n        const { keyContainer, toggleContinueSelect, toggleContinueSelectWithoutDeselect } = this.options;\n\n        if (this.keycon) {\n            this.keycon.destroy();\n            this.keycon = null;\n        }\n        if (toggleContinueSelect || toggleContinueSelectWithoutDeselect) {\n            this.keycon = new KeyController(keyContainer || getWindow(this.container));\n            this.keycon\n                .keydown(this._onKeyDown)\n                .keyup(this._onKeyUp)\n                .on(\"blur\", this._onBlur);\n        }\n    }\n    private setKeyEvent() {\n        const { toggleContinueSelect, toggleContinueSelectWithoutDeselect } = this.options;\n        if ((!toggleContinueSelect && !toggleContinueSelectWithoutDeselect) || this.keycon) {\n            return;\n        }\n        this.setKeyController();\n    }\n    // with getter, setter property\n    private setKeyContainer(keyContainer: HTMLElement | Document | Window) {\n        const options = this.options;\n\n        diffValue(options.keyContainer, keyContainer, () => {\n            options.keyContainer = keyContainer;\n\n            this.setKeyController();\n        });\n    }\n    private getContinueSelect() {\n        const {\n            continueSelect,\n            toggleContinueSelect,\n        } = this.options;\n\n        if (!toggleContinueSelect || !this._keydownContinueSelect) {\n            return continueSelect;\n        }\n        return !continueSelect;\n    }\n    private getContinueSelectWithoutDeselect() {\n        const {\n            continueSelectWithoutDeselect,\n            toggleContinueSelectWithoutDeselect,\n        } = this.options;\n\n        if (!toggleContinueSelectWithoutDeselect || !this._keydownContinueSelectWithoutDeselection) {\n            return continueSelectWithoutDeselect;\n        }\n        return !continueSelectWithoutDeselect;\n    }\n    private setToggleContinueSelect(\n        toggleContinueSelect: string[][] | string[] | string\n    ) {\n        const options = this.options;\n\n        diffValue(options.toggleContinueSelect, toggleContinueSelect, () => {\n            options.toggleContinueSelect = toggleContinueSelect;\n\n            this.setKeyEvent();\n        });\n    }\n    private setToggleContinueSelectWithoutDeselect(\n        toggleContinueSelectWithoutDeselect: string[][] | string[] | string\n    ) {\n        const options = this.options;\n\n        diffValue(options.toggleContinueSelectWithoutDeselect, toggleContinueSelectWithoutDeselect, () => {\n            options.toggleContinueSelectWithoutDeselect = toggleContinueSelectWithoutDeselect;\n\n            this.setKeyEvent();\n        });\n    }\n    private setPreventDefault(value: boolean) {\n        this.gesto.options.preventDefault = value;\n    }\n    private setCheckInput(value: boolean) {\n        this.gesto.options.checkInput = value;\n    }\n    private initElement() {\n        const container = this.container;\n\n        this.target = createElement(\n            (<div className={CLASS_NAME}></div>) as any,\n            this.target,\n            container,\n        );\n\n\n        const target = this.target;\n\n        const {\n            dragContainer,\n            checkInput,\n            preventDefault,\n            preventClickEventOnDragStart,\n            preventClickEventOnDrag,\n            preventClickEventByCondition,\n            preventRightClick = true,\n        } = this.options;\n        this.dragContainer =\n            typeof dragContainer === \"string\"\n                ? [].slice.call(getDocument(container).querySelectorAll(dragContainer))\n                : dragContainer || (this.target.parentNode as any);\n        this.gesto = new Gesto(this.dragContainer, {\n            checkWindowBlur: true,\n            container: getWindow(container),\n            checkInput,\n            preventDefault,\n            preventClickEventOnDragStart,\n            preventClickEventOnDrag,\n            preventClickEventByCondition,\n            preventRightClick,\n        }).on({\n            dragStart: this._onDragStart,\n            drag: this._onDrag,\n            dragEnd: this._onDragEnd,\n        });\n        addEvent(document, \"selectstart\", this._onDocumentSelectStart);\n\n        this.injectResult = injector.inject(target, {\n            nonce: this.options.cspNonce,\n        });\n    }\n    private hitTest(\n        selectRect: Rect,\n        data: any,\n        gestoEvent?: any,\n    ) {\n        const { hitRate, selectByClick } = this.options;\n        const { left, top, right, bottom } = selectRect;\n        const innerGroups: Record<string | number, Record<string | number, number[]>> = data.innerGroups;\n        const innerWidth = data.innerWidth;\n        const innerHeight = data.innerHeight;\n        const clientX = gestoEvent?.clientX;\n        const clientY = gestoEvent?.clientY;\n        const ignoreClick = data.ignoreClick;\n        const rectPoints = [\n            [left, top],\n            [right, top],\n            [right, bottom],\n            [left, bottom],\n        ];\n        const hitRateValue = splitUnit(`${hitRate}`);\n\n        const isHit = (points: number[][], el: Element) => {\n            const inArea = ignoreClick ? false : isInside([clientX, clientY], points);\n\n            if (selectByClick && inArea) {\n                return true;\n            }\n            const overlapPoints = getOverlapPoints(rectPoints, points);\n\n            if (!overlapPoints.length) {\n                return false;\n            }\n            let overlapSize = getAreaSize(overlapPoints);\n\n            // Line\n            let targetSize = 0;\n\n            if (overlapSize === 0 && getAreaSize(points) === 0) {\n                targetSize = getLineSize(points);\n                overlapSize = getLineSize(overlapPoints);\n            } else {\n                targetSize = getAreaSize(points);\n            }\n\n\n            if (hitRateValue.unit === \"px\") {\n                return overlapSize >= hitRateValue.value;\n            } else {\n                const rate = between(\n                    Math.round((overlapSize / targetSize) * 100),\n                    0,\n                    100\n                );\n\n                return rate >= Math.min(100, hitRateValue.value);\n            }\n        };\n        const selectableTargets: Array<HTMLElement | SVGElement> = data.selectableTargets;\n        const selectablePoints: number[][][] = data.selectablePoints;\n        const selectableInners: boolean[] = data.selectableInners;\n\n        if (!innerGroups) {\n            return selectableTargets.filter((_, i) => {\n                if (!selectableInners[i]) {\n                    return false;\n                }\n                return isHit(selectablePoints[i], selectableTargets[i]);\n            });\n        }\n        let selectedTargets: Array<HTMLElement | SVGElement> = [];\n        const minX = Math.floor(left / innerWidth);\n        const maxX = Math.floor(right / innerWidth);\n        const minY = Math.floor(top / innerHeight);\n        const maxY = Math.floor(bottom / innerHeight);\n\n        for (let x = minX; x <= maxX; ++x) {\n            const yGroups = innerGroups[x];\n\n            if (!yGroups) {\n                continue;\n            }\n            for (let y = minY; y <= maxY; ++y) {\n                const group = yGroups[y];\n\n                if (!group) {\n                    continue;\n                }\n                group.forEach(index => {\n                    const points = selectablePoints[index];\n                    const inner = selectableInners[index];\n                    const target = selectableTargets[index];\n\n                    if (inner && isHit(points, target)) {\n                        selectedTargets.push(target);\n                    }\n                });\n            }\n        }\n        return filterDuplicated(selectedTargets);\n    }\n    private initDragScroll() {\n        this.dragScroll\n            .on(\"scrollDrag\", ({ next }) => {\n                next(this.gesto.getCurrentEvent());\n            })\n            .on(\"scroll\", ({ container, direction }) => {\n                const innerScrollOptions = this.gesto.getEventData().innerScrollOptions;\n\n                if (innerScrollOptions) {\n                    this.emit(\"innerScroll\", {\n                        container,\n                        direction,\n                    });\n                } else {\n                    this.emit(\"scroll\", {\n                        container,\n                        direction,\n                    });\n                }\n            })\n            .on(\"move\", ({ offsetX, offsetY, inputEvent }) => {\n                const gesto = this.gesto;\n\n                if (!gesto || !gesto.isFlag()) {\n                    return;\n                }\n\n                const data = this.gesto.getEventData();\n                const boundArea = data.boundArea;\n\n                data.startX -= offsetX;\n                data.startY -= offsetY;\n\n                const innerScrollOptions = this.gesto.getEventData().innerScrollOptions;\n                const container = innerScrollOptions?.container;\n                let isMoveInnerScroll = false;\n\n                if (container) {\n                    const parentMap: Map<Element, InnerParentInfo> = data.selectableInnerScrollParentMap;\n                    const parentInfo = parentMap.get(container);\n\n                    if (parentInfo) {\n                        parentInfo.paths.forEach(scrollContainer => {\n                            const containerInfo = parentMap.get(scrollContainer);\n\n                            containerInfo.points.forEach(pos => {\n                                pos[0] -= offsetX;\n                                pos[1] -= offsetY;\n                            });\n                        });\n                        parentInfo.indexes.forEach(index => {\n                            data.selectablePoints[index].forEach((pos) => {\n                                pos[0] -= offsetX;\n                                pos[1] -= offsetY;\n                            });\n                        });\n                        isMoveInnerScroll = true;\n                    }\n                }\n                if (!isMoveInnerScroll) {\n                    data.selectablePoints.forEach((points: number[][]) => {\n                        points.forEach((pos) => {\n                            pos[0] -= offsetX;\n                            pos[1] -= offsetY;\n                        });\n                    });\n                }\n                this._refreshGroups(data);\n\n                boundArea.left -= offsetX;\n                boundArea.right -= offsetX;\n                boundArea.top -= offsetY;\n                boundArea.bottom -= offsetY;\n\n                this.gesto.scrollBy(\n                    offsetX,\n                    offsetY,\n                    inputEvent.inputEvent,\n                    // false\n                );\n                this._checkSelected(this.gesto.getCurrentEvent());\n            });\n    }\n    private _select(\n        selectedTargets: Array<HTMLElement | SVGElement>,\n        rect: Rect,\n        e: OnDragEvent,\n        isStart?: boolean\n    ) {\n        const inputEvent = e.inputEvent;\n        const data = e.data;\n        const result = this.setSelectedTargets(selectedTargets);\n\n        if (isStart) {\n            /**\n             * When the select(drag) starts, the selectStart event is called.\n             * @memberof Selecto\n             * @event selectStart\n             * @param {Selecto.OnSelect} - Parameters for the selectStart event\n             * @example\n             * import Selecto from \"selecto\";\n             *\n             * const selecto = new Selecto({\n             *   container: document.body,\n             *   selectByClick: true,\n             *   selectFromInside: false,\n             * });\n             *\n             * selecto.on(\"selectStart\", e => {\n             *   e.added.forEach(el => {\n             *     el.classList.add(\"selected\");\n             *   });\n             *   e.removed.forEach(el => {\n             *     el.classList.remove(\"selected\");\n             *   });\n             * }).on(\"selectEnd\", e => {\n             *   e.afterAdded.forEach(el => {\n             *     el.classList.add(\"selected\");\n             *   });\n             *   e.afterRemoved.forEach(el => {\n             *     el.classList.remove(\"selected\");\n             *   });\n             * });\n             */\n            this.emit(\"selectStart\", {\n                ...result,\n                rect,\n                inputEvent,\n                data: data.data,\n                isTrusted: e.isTrusted,\n            });\n        }\n        if (result.added.length || result.removed.length) {\n            /**\n             * When the select in real time, the select event is called.\n             * @memberof Selecto\n             * @event select\n             * @param {Selecto.OnSelect} - Parameters for the select event\n             * @example\n             * import Selecto from \"selecto\";\n             *\n             * const selecto = new Selecto({\n             *   container: document.body,\n             *   selectByClick: true,\n             *   selectFromInside: false,\n             * });\n             *\n             * selecto.on(\"select\", e => {\n             *   e.added.forEach(el => {\n             *     el.classList.add(\"selected\");\n             *   });\n             *   e.removed.forEach(el => {\n             *     el.classList.remove(\"selected\");\n             *   });\n             * });\n             */\n            this.emit(\"select\", {\n                ...result,\n                rect,\n                inputEvent,\n                data: data.data,\n                isTrusted: e.isTrusted,\n            });\n        }\n    }\n    private _selectEnd(\n        startSelectedTargets: Array<HTMLElement | SVGElement>,\n        startPassedTargets: Array<HTMLElement | SVGElement>,\n        rect: Rect,\n        e: OnDragEvent,\n    ) {\n        const { inputEvent, isDouble, data } = e;\n        const { added, removed, prevList, list } = diff(\n            startSelectedTargets,\n            this.selectedTargets\n        );\n        const {\n            added: afterAdded,\n            removed: afterRemoved,\n            prevList: afterPrevList,\n            list: afterList,\n        } = diff(startPassedTargets, this.selectedTargets);\n        const type = inputEvent && inputEvent.type;\n        const isDragStart = type === \"mousedown\" || type === \"touchstart\";\n\n        /**\n         * When the select(dragEnd or click) ends, the selectEnd event is called.\n         * @memberof Selecto\n         * @event selectEnd\n         * @param {Selecto.OnSelectEnd} - Parameters for the selectEnd event\n         * @example\n         * import Selecto from \"selecto\";\n         *\n         * const selecto = new Selecto({\n         *   container: document.body,\n         *   selectByClick: true,\n         *   selectFromInside: false,\n         * });\n         *\n         * selecto.on(\"selectStart\", e => {\n         *   e.added.forEach(el => {\n         *     el.classList.add(\"selected\");\n         *   });\n         *   e.removed.forEach(el => {\n         *     el.classList.remove(\"selected\");\n         *   });\n         * }).on(\"selectEnd\", e => {\n         *   e.afterAdded.forEach(el => {\n         *     el.classList.add(\"selected\");\n         *   });\n         *   e.afterRemoved.forEach(el => {\n         *     el.classList.remove(\"selected\");\n         *   });\n         * });\n         */\n        this.emit(\"selectEnd\", {\n            startSelected: startSelectedTargets,\n            beforeSelected: startPassedTargets,\n            selected: this.selectedTargets,\n            added: added.map((index) => list[index]),\n            removed: removed.map((index) => prevList[index]),\n            afterAdded: afterAdded.map((index) => afterList[index]),\n            afterRemoved: afterRemoved.map((index) => afterPrevList[index]),\n            isDragStart,\n            isClick: !!e.isClick,\n            isDouble: !!isDouble,\n            rect,\n            inputEvent,\n            data: data.data,\n            isTrusted: e.isTrusted,\n        });\n    }\n    private _onDragStart = (e: OnDragStart, clickedTarget?: Element) => {\n        const { data, clientX, clientY, inputEvent } = e;\n        const {\n            selectFromInside,\n            selectByClick,\n            rootContainer,\n            boundContainer,\n            preventDragFromInside = true,\n            clickBySelectEnd,\n            dragCondition,\n        } = this.options;\n\n        if (dragCondition && !dragCondition(e)) {\n            e.stop();\n            return;\n        }\n        data.data = {};\n        const win = getWindow(this.container);\n        data.innerWidth = win.innerWidth;\n        data.innerHeight = win.innerHeight;\n        this.findSelectableTargets(data);\n        data.startSelectedTargets = this.selectedTargets;\n        data.scaleMatrix = createMatrix();\n        data.containerX = 0;\n        data.containerY = 0;\n\n\n        const container = this.container;\n        let boundArea = {\n            left: -Infinity,\n            top: -Infinity,\n            right: Infinity,\n            bottom: Infinity,\n        };\n        if (rootContainer) {\n            const containerRect = this.container.getBoundingClientRect();\n\n            data.containerX = containerRect.left;\n            data.containerY = containerRect.top;\n            data.scaleMatrix = getDistElementMatrix(this.container, rootContainer);\n        }\n\n        if (boundContainer) {\n            const boundInfo: Required<BoundContainer> =\n                isObject(boundContainer) && \"element\" in boundContainer\n                    ? {\n                        left: true,\n                        top: true,\n                        bottom: true,\n                        right: true,\n                        ...boundContainer,\n                    }\n                    : {\n                        element: boundContainer,\n                        left: true,\n                        top: true,\n                        bottom: true,\n                        right: true,\n                    };\n            const boundElement = boundInfo.element;\n            let rectElement: HTMLElement;\n\n            if (boundElement) {\n                if (isString(boundElement)) {\n                    rectElement = getDocument(container).querySelector(boundElement);\n                } else if (boundElement === true) {\n                    rectElement = this.container;\n                } else {\n                    rectElement = boundElement;\n                }\n                const rect = rectElement.getBoundingClientRect();\n\n                if (boundInfo.left) {\n                    boundArea.left = rect.left;\n                }\n                if (boundInfo.top) {\n                    boundArea.top = rect.top;\n                }\n                if (boundInfo.right) {\n                    boundArea.right = rect.right;\n                }\n                if (boundInfo.bottom) {\n                    boundArea.bottom = rect.bottom;\n                }\n            }\n        }\n\n        data.boundArea = boundArea;\n\n        const hitRect = {\n            left: clientX,\n            top: clientY,\n            right: clientX,\n            bottom: clientY,\n            width: 0,\n            height: 0,\n        };\n        let firstPassedTargets: Array<HTMLElement | SVGElement> = [];\n\n        if (!selectFromInside || (selectByClick && !clickBySelectEnd)) {\n            const pointTarget = this._findElement(\n                clickedTarget || inputEvent.target, // elementFromPoint(clientX, clientY),\n                data.selectableTargets,\n            );\n            firstPassedTargets = pointTarget ? [pointTarget] : [];\n        }\n        const hasInsideTargets = firstPassedTargets.length > 0;\n        const isPreventSelect = !selectFromInside && hasInsideTargets;\n\n        // prevent drag from inside when selectByClick is false\n        if (isPreventSelect && !selectByClick) {\n            e.stop();\n            return false;\n        }\n\n        const type = inputEvent.type;\n        const isTrusted = type === \"mousedown\" || type === \"touchstart\";\n        /**\n         * When the drag starts (triggers on mousedown or touchstart), the dragStart event is called.\n         * Call the stop () function if you have a specific element or don't want to raise a select\n         * @memberof Selecto\n         * @event dragStart\n         * @param {OnDragStart} - Parameters for the dragStart event\n         * @example\n         * import Selecto from \"selecto\";\n         *\n         * const selecto = new Selecto({\n         *   container: document.body,\n         *   selectByClick: true,\n         *   selectFromInside: false,\n         * });\n         *\n         * selecto.on(\"dragStart\", e => {\n         *   if (e.inputEvent.target.tagName === \"SPAN\") {\n         *     e.stop();\n         *   }\n         * }).on(\"select\", e => {\n         *   e.added.forEach(el => {\n         *     el.classList.add(\"selected\");\n         *   });\n         *   e.removed.forEach(el => {\n         *     el.classList.remove(\"selected\");\n         *   });\n         * });\n         */\n        const result =\n            !(e as any).isClick && isTrusted\n                ? this.emit(\"dragStart\", { ...e, data: data.data })\n                : true;\n\n        if (!result) {\n            e.stop();\n            return false;\n        }\n\n        if (this.continueSelect) {\n            firstPassedTargets = passTargets(\n                this.selectedTargets,\n                firstPassedTargets,\n                this.continueSelectWithoutDeselect,\n            );\n            data.startPassedTargets = this.selectedTargets;\n        } else {\n            data.startPassedTargets = [];\n        }\n        this._select(\n            firstPassedTargets,\n            hitRect,\n            e,\n            true\n        );\n        data.startX = clientX;\n        data.startY = clientY;\n        data.selectFlag = false;\n        data.preventDragFromInside = false;\n\n        if (inputEvent.target) {\n            const offsetPos = calculateMatrixDist(data.scaleMatrix, [\n                clientX - data.containerX,\n                clientY - data.containerY,\n            ]);\n            this.target.style.cssText += `position: ${rootContainer ? \"absolute\" : \"fixed\"};`\n                + `left:0px;top:0px;`\n                + `transform: translate(${offsetPos[0]}px, ${offsetPos[1]}px)`;\n        }\n\n        if (isPreventSelect && selectByClick && !clickBySelectEnd) {\n            inputEvent.preventDefault();\n\n            // prevent drag from inside when selectByClick is true and force call `selectEnd`\n            if (preventDragFromInside) {\n                this._selectEnd(\n                    data.startSelectedTargets,\n                    data.startPassedTargets,\n                    hitRect,\n                    e\n                );\n                data.preventDragFromInside = true;\n            }\n        } else {\n            data.selectFlag = true;\n            // why?\n            // if (type === \"touchstart\") {\n            //     inputEvent.preventDefault();\n            // }\n            const { scrollOptions, innerScrollOptions } = this.options;\n\n            let isInnerScroll = false\n\n            if (innerScrollOptions) {\n                const inputEvent = e.inputEvent;\n                const target = inputEvent.target;\n\n                let innerScrollElement: HTMLElement | null = null;\n                let parentElement = target;\n\n                while (parentElement && parentElement !== getDocument(container).body) {\n\n                    const overflow = getComputedStyle(parentElement).overflow !== \"visible\";\n\n                    if (overflow) {\n                        innerScrollElement = parentElement;\n                        break;\n                    }\n                    parentElement = parentElement.parentElement;\n                }\n                if (innerScrollElement) {\n                    data.innerScrollOptions = {\n                        container: innerScrollElement,\n                        checkScrollEvent: true,\n                        ...(innerScrollOptions === true ? {} : innerScrollOptions),\n                    };\n                    this.dragScroll.dragStart(e, data.innerScrollOptions);\n\n                    isInnerScroll = true;\n                }\n            }\n            if (!isInnerScroll && scrollOptions && scrollOptions.container) {\n                this.dragScroll.dragStart(e, scrollOptions);\n            }\n            if (clickBySelectEnd) {\n                data.selectFlag = false;\n                e.preventDrag();\n            }\n        }\n        return true;\n    };\n    private _checkSelected(e: any, rect = getRect(e, this.options.ratio)) {\n        const { data } = e;\n        const { top, left, width, height } = rect;\n        const selectFlag = data.selectFlag;\n        const {\n            containerX,\n            containerY,\n            scaleMatrix,\n        } = data;\n        const offsetPos = calculateMatrixDist(scaleMatrix, [\n            left - containerX,\n            top - containerY,\n        ]);\n        const offsetSize = calculateMatrixDist(scaleMatrix, [\n            width,\n            height,\n        ]);\n        let selectedTargets: Array<HTMLElement | SVGElement> = [];\n        if (selectFlag) {\n            this.target.style.cssText +=\n                `display: block;` +\n                `left:0px;top:0px;` +\n                `transform: translate(${offsetPos[0]}px, ${offsetPos[1]}px);` +\n                `width:${offsetSize[0]}px;height:${offsetSize[1]}px;`;\n\n            const passedTargets = this.hitTest(\n                rect,\n                data,\n                e,\n            );\n            selectedTargets = passTargets(\n                data.startPassedTargets,\n                passedTargets,\n                this.continueSelect && this.continueSelectWithoutDeselect,\n            );\n        }\n        /**\n         * When the drag, the drag event is called.\n         * Call the stop () function if you have a specific element or don't want to raise a select\n         * @memberof Selecto\n         * @event drag\n         * @param {OnDrag} - Parameters for the drag event\n         * @example\n         * import Selecto from \"selecto\";\n         *\n         * const selecto = new Selecto({\n         *   container: document.body,\n         *   selectByClick: true,\n         *   selectFromInside: false,\n         * });\n         *\n         * selecto.on(\"drag\", e => {\n         *   e.stop();\n         * }).on(\"select\", e => {\n         *   e.added.forEach(el => {\n         *     el.classList.add(\"selected\");\n         *   });\n         *   e.removed.forEach(el => {\n         *     el.classList.remove(\"selected\");\n         *   });\n         * });\n         */\n        const result = this.emit(\"drag\", {\n            ...e,\n            data: data.data,\n            isSelect: selectFlag,\n            rect,\n        });\n        if (result === false) {\n            this.target.style.cssText += \"display: none;\";\n            e.stop();\n            return;\n        }\n\n        if (selectFlag) {\n            this._select(selectedTargets, rect, e);\n        }\n    }\n    private _onDrag = (e: OnDrag) => {\n        if (e.data.selectFlag) {\n            const scrollOptions = this.scrollOptions;\n            const innerScrollOptions = e.data.innerScrollOptions;\n            const hasScrollOptions = innerScrollOptions || scrollOptions?.container;\n\n            // If it is a scrolling position, pass drag\n            if (hasScrollOptions && !e.isScroll && this.dragScroll.drag(e, innerScrollOptions || scrollOptions)) {\n                return;\n            }\n        }\n        this._checkSelected(e);\n    };\n    private _onDragEnd = (e: OnDragEvent) => {\n        const { data, inputEvent } = e;\n        const rect = getRect(e, this.options.ratio);\n        const selectFlag = data.selectFlag;\n        const container = this.container;\n\n        /**\n         * When the drag ends (triggers on mouseup or touchend after drag), the dragEnd event is called.\n         * @memberof Selecto\n         * @event dragEnd\n         * @param {OnDragEnd} - Parameters for the dragEnd event\n         */\n        if (inputEvent) {\n            this.emit(\"dragEnd\", {\n                isDouble: !!e.isDouble,\n                isClick: !!e.isClick,\n                isDrag: false,\n                isSelect: selectFlag,\n                ...e,\n                data: data.data,\n                rect,\n            });\n        }\n        this.target.style.cssText += \"display: none;\";\n\n        if (selectFlag) {\n            data.selectFlag = false;\n            this.dragScroll.dragEnd();\n        } else if (this.selectByClick && this.clickBySelectEnd) {\n            // only clickBySelectEnd\n            const pointTarget = this._findElement(\n                inputEvent?.target || elementFromPoint(container, e.clientX, e.clientY),\n                data.selectableTargets,\n            );\n            this._select(pointTarget ? [pointTarget] : [], rect, e);\n        }\n        if (!data.preventDragFromInside) {\n            this._selectEnd(\n                data.startSelectedTargets,\n                data.startPassedTargets,\n                rect,\n                e\n            );\n        }\n    };\n    private _sameCombiKey(e: any, keys: string | string[] | string[][], isKeyup?: boolean) {\n        if (!keys) {\n            return false;\n        }\n        const combi = getCombi(e.inputEvent, e.key);\n        const nextKeys = [].concat(keys);\n        const toggleKeys = isArray(nextKeys[0]) ? nextKeys : [nextKeys];\n\n        if (isKeyup) {\n            const singleKey = e.key;\n\n            return toggleKeys.some((keys) =>\n                keys.some((key) => key === singleKey)\n            );\n        }\n        return toggleKeys.some((keys) =>\n            keys.every((key) => combi.indexOf(key) > -1)\n        );\n    }\n    private _onKeyDown = (e: any) => {\n        const options = this.options;\n        let isKeyDown = false;\n\n        if (!this._keydownContinueSelect) {\n            const result = this._sameCombiKey(e, options.toggleContinueSelect);\n\n            this._keydownContinueSelect = result;\n            isKeyDown ||= result;\n        }\n        if (!this._keydownContinueSelectWithoutDeselection) {\n            const result = this._sameCombiKey(e, options.toggleContinueSelectWithoutDeselect);\n\n            this._keydownContinueSelectWithoutDeselection = result;\n            isKeyDown ||= result;\n        }\n        if (!isKeyDown) {\n            return;\n        }\n        /**\n         * When you keydown the key you specified in toggleContinueSelect, the keydown event is called.\n         * @memberof Selecto\n         * @event keydown\n         * @example\n         * import Selecto from \"selecto\";\n         *\n         * const selecto = new Selecto({\n         *   container: document.body,\n         *   toggleContinueSelect: \"shift\";\n         *   keyContainer: window,\n         * });\n         *\n         * selecto.on(\"keydown\", () => {\n         *   document.querySelector(\".button\").classList.add(\"selected\");\n         * }).on(\"keyup\", () => {\n         *   document.querySelector(\".button\").classList.remove(\"selected\");\n         * }).on(\"select\", e => {\n         *   e.added.forEach(el => {\n         *     el.classList.add(\"selected\");\n         *   });\n         *   e.removed.forEach(el => {\n         *     el.classList.remove(\"selected\");\n         *   });\n         * });\n         */\n        this.emit(\"keydown\", {\n            keydownContinueSelect: this._keydownContinueSelect,\n            keydownContinueSelectWithoutDeselection: this._keydownContinueSelectWithoutDeselection,\n        });\n    };\n    private _onKeyUp = (e: any) => {\n        const options = this.options;\n        let isKeyUp = false;\n\n        if (this._keydownContinueSelect) {\n            const result = this._sameCombiKey(e, options.toggleContinueSelect, true);\n            this._keydownContinueSelect = !result;\n\n            isKeyUp ||= result;\n        }\n        if (this._keydownContinueSelectWithoutDeselection) {\n            const result = this._sameCombiKey(e, options.toggleContinueSelectWithoutDeselect, true);\n            this._keydownContinueSelectWithoutDeselection = !result;\n\n            isKeyUp ||= result;\n        }\n        if (!isKeyUp) {\n            return;\n        }\n\n        /**\n         * When you keyup the key you specified in toggleContinueSelect, the keyup event is called.\n         * @memberof Selecto\n         * @event keyup\n         * @example\n         * import Selecto from \"selecto\";\n         *\n         * const selecto = new Selecto({\n         *   container: document.body,\n         *   toggleContinueSelect: \"shift\";\n         *   keyContainer: window,\n         * });\n         *\n         * selecto.on(\"keydown\", () => {\n         *   document.querySelector(\".button\").classList.add(\"selected\");\n         * }).on(\"keyup\", () => {\n         *   document.querySelector(\".button\").classList.remove(\"selected\");\n         * }).on(\"select\", e => {\n         *   e.added.forEach(el => {\n         *     el.classList.add(\"selected\");\n         *   });\n         *   e.removed.forEach(el => {\n         *     el.classList.remove(\"selected\");\n         *   });\n         * });\n         */\n        this.emit(\"keyup\", {\n            keydownContinueSelect: this._keydownContinueSelect,\n            keydownContinueSelectWithoutDeselection: this._keydownContinueSelectWithoutDeselection,\n        });\n    };\n    private _onBlur = () => {\n        if (this._keydownContinueSelect || this._keydownContinueSelectWithoutDeselection) {\n            this._keydownContinueSelect = false;\n            this._keydownContinueSelectWithoutDeselection = false;\n            this.emit(\"keyup\", {\n                keydownContinueSelect: this._keydownContinueSelect,\n                keydownContinueSelectWithoutDeselection: this._keydownContinueSelectWithoutDeselection,\n            });\n        }\n    };\n    private _onDocumentSelectStart = (e: any) => {\n        const doc = getDocument(this.container);\n\n        if (!this.gesto.isFlag()) {\n            return;\n        }\n        let dragContainer = this.dragContainer;\n\n        if (dragContainer === getWindow(this.container)) {\n            dragContainer = doc.documentElement;\n        }\n        const containers = isNode(dragContainer)\n            ? [dragContainer]\n            : ([].slice.call(dragContainer) as Element[]);\n        const target = e.target;\n\n        containers.some((container) => {\n            if (container === target || container.contains(target)) {\n                e.preventDefault();\n                return true;\n            }\n        });\n    };\n    private _findElement(clickedTarget: Element | null, selectableTargets: Array<Element>): HTMLElement | SVGElement {\n        let pointTarget = clickedTarget;\n\n        while (pointTarget) {\n            if (selectableTargets.indexOf(pointTarget) > -1) {\n                break;\n            }\n            pointTarget = pointTarget.parentElement;\n        }\n        return pointTarget as any;\n    }\n    private _refreshGroups(data: any) {\n        const innerWidth = data.innerWidth;\n        const innerHeight = data.innerHeight;\n        const selectablePoints: number[][][] = data.selectablePoints;\n\n        if (this.options.checkOverflow) {\n            const innerScrollContainer = this.gesto.getEventData().innerScrollOptions?.container;\n            const parentMap: Map<Element, InnerParentInfo> = data.selectableInnerScrollParentMap;\n            const innerScrollPathsList: Element[][] = data.selectableInnerScrollPathsList;\n\n            data.selectableInners = innerScrollPathsList.map((innerScrollPaths, i) => {\n                let isAlwaysTrue = false;\n                return innerScrollPaths.every(target => {\n                    if (isAlwaysTrue) {\n                        return true;\n                    }\n                    if (target === innerScrollContainer) {\n                        isAlwaysTrue = true;\n                        return true;\n                    }\n\n                    const rect = parentMap.get(target);\n\n                    if (rect) {\n                        const points1 = selectablePoints[i];\n                        const points2 = rect.points;\n                        const overlapPoints = getOverlapPoints(points1, points2);\n\n                        if (!overlapPoints.length) {\n                            return false;\n                        }\n                    }\n                    return true;\n                });\n            });\n        }\n        if (!innerWidth || !innerHeight) {\n            data.innerGroups = null;\n        } else {\n            const selectablePoints: number[][][] = data.selectablePoints;\n\n            const groups: Record<string | number, Record<string | number, number[]>> = {};\n\n            selectablePoints.forEach((points, i) => {\n                let minX = Infinity;\n                let maxX = -Infinity;\n                let minY = Infinity;\n                let maxY = -Infinity;\n\n                points.forEach(pos => {\n                    const x = Math.floor(pos[0] / innerWidth);\n                    const y = Math.floor(pos[1] / innerHeight);\n\n                    minX = Math.min(x, minX);\n                    maxX = Math.max(x, maxX);\n                    minY = Math.min(y, minY);\n                    maxY = Math.max(y, maxY);\n                });\n\n                for (let x = minX; x <= maxX; ++x) {\n                    for (let y = minY; y <= maxY; ++y) {\n                        groups[x] = groups[x] || {};\n                        groups[x][y] = groups[x][y] || [];\n\n                        groups[x][y].push(i);\n                    }\n                }\n            });\n\n            data.innerGroups = groups;\n        }\n    }\n}\n\ninterface Selecto extends SelectoProperties { }\n\nexport default Selecto;\n","import SelectoManager from \"./SelectoManager\";\n\nclass Selecto extends SelectoManager {\n\n}\nexport default Selecto;\n","import { EVENTS } from \"selecto\";\nimport { camelize } from \"@daybrush/utils\";\n\nexport const REACT_EVENTS =  EVENTS.map(name => camelize(`on ${name}`));\n","import * as React from \"react\";\nimport VanillaSelecto, {\n    CLASS_NAME,\n    OPTIONS,\n    SelectoOptions,\n    PROPERTIES,\n    SelectoProperties,\n    EVENTS,\n    SelectoMethods,\n    METHODS,\n} from \"selecto\";\nimport { ref, MethodInterface, withMethods } from \"framework-utils\";\nimport { SelectoProps } from \"./types\";\nimport { REACT_EVENTS } from \"./consts\";\n\nexport default class Selecto extends React.PureComponent<Partial<SelectoProps>> {\n    @withMethods(METHODS as any)\n    private selecto!: VanillaSelecto;\n    private selectionElement!: HTMLElement;\n    public render() {\n        return <div className={CLASS_NAME} ref={ref(this, \"selectionElement\")}></div>;\n    }\n    public componentDidMount() {\n        const props = this.props;\n        const options: Partial<SelectoOptions> = {};\n\n        OPTIONS.forEach(name => {\n            if (name in props) {\n                (options as any)[name] = props[name];\n            }\n        });\n        this.selecto = new VanillaSelecto({\n            ...options,\n            portalContainer: this.selectionElement,\n        });\n\n        EVENTS.forEach((name, i) => {\n            this.selecto.on(name, (e: any) => {\n                const selfProps = this.props as any;\n                const result = selfProps[REACT_EVENTS[i]] && selfProps[REACT_EVENTS[i]](e);\n\n                if (result === false) {\n                    e.stop();\n                }\n            });\n        });\n    }\n    public componentDidUpdate(prevProps: Partial<SelectoProperties>) {\n        const props = this.props;\n        const selecto = this.selecto;\n\n        PROPERTIES.forEach(name => {\n            if (prevProps[name] !== props[name]) {\n                (selecto as any)[name] = props[name];\n            }\n        });\n    }\n    public componentWillUnmount() {\n        this.selecto.destroy();\n    }\n}\nexport default interface Selecto extends MethodInterface<SelectoMethods, VanillaSelecto, Selecto> {}\n","// Thanks to https://github.com/andreypopp/react-textarea-autosize/\n\n/**\n * calculateNodeHeight(uiTextNode, useCache = false)\n */\nvar HIDDEN_TEXTAREA_STYLE = \"\\n  min-height:0 !important;\\n  max-height:none !important;\\n  height:0 !important;\\n  visibility:hidden !important;\\n  overflow:hidden !important;\\n  position:absolute !important;\\n  z-index:-1000 !important;\\n  top:0 !important;\\n  right:0 !important\\n\";\nvar SIZING_STYLE = ['letter-spacing', 'line-height', 'padding-top', 'padding-bottom', 'font-family', 'font-weight', 'font-size', 'font-variant', 'text-rendering', 'text-transform', 'width', 'text-indent', 'padding-left', 'padding-right', 'border-width', 'box-sizing', 'word-break'];\nvar computedStyleCache = {};\nvar hiddenTextarea;\nexport function calculateNodeStyling(node) {\n  var useCache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var nodeRef = node.getAttribute('id') || node.getAttribute('data-reactid') || node.getAttribute('name');\n\n  if (useCache && computedStyleCache[nodeRef]) {\n    return computedStyleCache[nodeRef];\n  }\n\n  var style = window.getComputedStyle(node);\n  var boxSizing = style.getPropertyValue('box-sizing') || style.getPropertyValue('-moz-box-sizing') || style.getPropertyValue('-webkit-box-sizing');\n  var paddingSize = parseFloat(style.getPropertyValue('padding-bottom')) + parseFloat(style.getPropertyValue('padding-top'));\n  var borderSize = parseFloat(style.getPropertyValue('border-bottom-width')) + parseFloat(style.getPropertyValue('border-top-width'));\n  var sizingStyle = SIZING_STYLE.map(function (name) {\n    return \"\".concat(name, \":\").concat(style.getPropertyValue(name));\n  }).join(';');\n  var nodeInfo = {\n    sizingStyle: sizingStyle,\n    paddingSize: paddingSize,\n    borderSize: borderSize,\n    boxSizing: boxSizing\n  };\n\n  if (useCache && nodeRef) {\n    computedStyleCache[nodeRef] = nodeInfo;\n  }\n\n  return nodeInfo;\n}\nexport default function calculateNodeHeight(uiTextNode) {\n  var useCache = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var minRows = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var maxRows = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n  if (!hiddenTextarea) {\n    hiddenTextarea = document.createElement('textarea');\n    hiddenTextarea.setAttribute('tab-index', '-1');\n    hiddenTextarea.setAttribute('aria-hidden', 'true');\n    document.body.appendChild(hiddenTextarea);\n  } // Fix wrap=\"off\" issue\n  // https://github.com/ant-design/ant-design/issues/6577\n\n\n  if (uiTextNode.getAttribute('wrap')) {\n    hiddenTextarea.setAttribute('wrap', uiTextNode.getAttribute('wrap'));\n  } else {\n    hiddenTextarea.removeAttribute('wrap');\n  } // Copy all CSS properties that have an impact on the height of the content in\n  // the textbox\n\n\n  var _calculateNodeStyling = calculateNodeStyling(uiTextNode, useCache),\n      paddingSize = _calculateNodeStyling.paddingSize,\n      borderSize = _calculateNodeStyling.borderSize,\n      boxSizing = _calculateNodeStyling.boxSizing,\n      sizingStyle = _calculateNodeStyling.sizingStyle; // Need to have the overflow attribute to hide the scrollbar otherwise\n  // text-lines will not calculated properly as the shadow will technically be\n  // narrower for content\n\n\n  hiddenTextarea.setAttribute('style', \"\".concat(sizingStyle, \";\").concat(HIDDEN_TEXTAREA_STYLE));\n  hiddenTextarea.value = uiTextNode.value || uiTextNode.placeholder || '';\n  var minHeight = Number.MIN_SAFE_INTEGER;\n  var maxHeight = Number.MAX_SAFE_INTEGER;\n  var height = hiddenTextarea.scrollHeight;\n  var overflowY;\n\n  if (boxSizing === 'border-box') {\n    // border-box: add border, since height = content + padding + border\n    height += borderSize;\n  } else if (boxSizing === 'content-box') {\n    // remove padding, since height = content\n    height -= paddingSize;\n  }\n\n  if (minRows !== null || maxRows !== null) {\n    // measure height of a textarea with a single row\n    hiddenTextarea.value = ' ';\n    var singleRowHeight = hiddenTextarea.scrollHeight - paddingSize;\n\n    if (minRows !== null) {\n      minHeight = singleRowHeight * minRows;\n\n      if (boxSizing === 'border-box') {\n        minHeight = minHeight + paddingSize + borderSize;\n      }\n\n      height = Math.max(minHeight, height);\n    }\n\n    if (maxRows !== null) {\n      maxHeight = singleRowHeight * maxRows;\n\n      if (boxSizing === 'border-box') {\n        maxHeight = maxHeight + paddingSize + borderSize;\n      }\n\n      overflowY = height > maxHeight ? '' : 'hidden';\n      height = Math.min(maxHeight, height);\n    }\n  }\n\n  return {\n    height: height,\n    minHeight: minHeight,\n    maxHeight: maxHeight,\n    overflowY: overflowY,\n    resize: 'none'\n  };\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport * as React from 'react';\nimport ResizeObserver from 'rc-resize-observer';\nimport omit from \"rc-util/es/omit\";\nimport classNames from 'classnames';\nimport calculateNodeHeight from './calculateNodeHeight';\nimport shallowEqual from 'shallowequal'; // eslint-disable-next-line @typescript-eslint/naming-convention\n\nvar RESIZE_STATUS;\n\n(function (RESIZE_STATUS) {\n  RESIZE_STATUS[RESIZE_STATUS[\"NONE\"] = 0] = \"NONE\";\n  RESIZE_STATUS[RESIZE_STATUS[\"RESIZING\"] = 1] = \"RESIZING\";\n  RESIZE_STATUS[RESIZE_STATUS[\"RESIZED\"] = 2] = \"RESIZED\";\n})(RESIZE_STATUS || (RESIZE_STATUS = {}));\n\nvar ResizableTextArea = /*#__PURE__*/function (_React$Component) {\n  _inherits(ResizableTextArea, _React$Component);\n\n  var _super = _createSuper(ResizableTextArea);\n\n  function ResizableTextArea(props) {\n    var _this;\n\n    _classCallCheck(this, ResizableTextArea);\n\n    _this = _super.call(this, props);\n    _this.nextFrameActionId = void 0;\n    _this.resizeFrameId = void 0;\n    _this.textArea = void 0;\n\n    _this.saveTextArea = function (textArea) {\n      _this.textArea = textArea;\n    };\n\n    _this.handleResize = function (size) {\n      var resizeStatus = _this.state.resizeStatus;\n      var _this$props = _this.props,\n          autoSize = _this$props.autoSize,\n          onResize = _this$props.onResize;\n\n      if (resizeStatus !== RESIZE_STATUS.NONE) {\n        return;\n      }\n\n      if (typeof onResize === 'function') {\n        onResize(size);\n      }\n\n      if (autoSize) {\n        _this.resizeOnNextFrame();\n      }\n    };\n\n    _this.resizeOnNextFrame = function () {\n      cancelAnimationFrame(_this.nextFrameActionId);\n      _this.nextFrameActionId = requestAnimationFrame(_this.resizeTextarea);\n    };\n\n    _this.resizeTextarea = function () {\n      var autoSize = _this.props.autoSize;\n\n      if (!autoSize || !_this.textArea) {\n        return;\n      }\n\n      var minRows = autoSize.minRows,\n          maxRows = autoSize.maxRows;\n      var textareaStyles = calculateNodeHeight(_this.textArea, false, minRows, maxRows);\n\n      _this.setState({\n        textareaStyles: textareaStyles,\n        resizeStatus: RESIZE_STATUS.RESIZING\n      }, function () {\n        cancelAnimationFrame(_this.resizeFrameId);\n        _this.resizeFrameId = requestAnimationFrame(function () {\n          _this.setState({\n            resizeStatus: RESIZE_STATUS.RESIZED\n          }, function () {\n            _this.resizeFrameId = requestAnimationFrame(function () {\n              _this.setState({\n                resizeStatus: RESIZE_STATUS.NONE\n              });\n\n              _this.fixFirefoxAutoScroll();\n            });\n          });\n        });\n      });\n    };\n\n    _this.renderTextArea = function () {\n      var _this$props2 = _this.props,\n          _this$props2$prefixCl = _this$props2.prefixCls,\n          prefixCls = _this$props2$prefixCl === void 0 ? 'rc-textarea' : _this$props2$prefixCl,\n          autoSize = _this$props2.autoSize,\n          onResize = _this$props2.onResize,\n          className = _this$props2.className,\n          disabled = _this$props2.disabled;\n      var _this$state = _this.state,\n          textareaStyles = _this$state.textareaStyles,\n          resizeStatus = _this$state.resizeStatus;\n      var otherProps = omit(_this.props, ['prefixCls', 'onPressEnter', 'autoSize', 'defaultValue', 'onResize']);\n      var cls = classNames(prefixCls, className, _defineProperty({}, \"\".concat(prefixCls, \"-disabled\"), disabled)); // Fix https://github.com/ant-design/ant-design/issues/6776\n      // Make sure it could be reset when using form.getFieldDecorator\n\n      if ('value' in otherProps) {\n        otherProps.value = otherProps.value || '';\n      }\n\n      var style = _objectSpread(_objectSpread(_objectSpread({}, _this.props.style), textareaStyles), resizeStatus === RESIZE_STATUS.RESIZING ? // React will warning when mix `overflow` & `overflowY`.\n      // We need to define this separately.\n      {\n        overflowX: 'hidden',\n        overflowY: 'hidden'\n      } : null);\n\n      return /*#__PURE__*/React.createElement(ResizeObserver, {\n        onResize: _this.handleResize,\n        disabled: !(autoSize || onResize)\n      }, /*#__PURE__*/React.createElement(\"textarea\", _extends({}, otherProps, {\n        className: cls,\n        style: style,\n        ref: _this.saveTextArea\n      })));\n    };\n\n    _this.state = {\n      textareaStyles: {},\n      resizeStatus: RESIZE_STATUS.NONE\n    };\n    return _this;\n  }\n\n  _createClass(ResizableTextArea, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      // Re-render with the new content or new autoSize property then recalculate the height as required.\n      if (prevProps.value !== this.props.value || !shallowEqual(prevProps.autoSize, this.props.autoSize)) {\n        this.resizeTextarea();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cancelAnimationFrame(this.nextFrameActionId);\n      cancelAnimationFrame(this.resizeFrameId);\n    } // https://github.com/ant-design/ant-design/issues/21870\n\n  }, {\n    key: \"fixFirefoxAutoScroll\",\n    value: function fixFirefoxAutoScroll() {\n      try {\n        if (document.activeElement === this.textArea) {\n          var currentStart = this.textArea.selectionStart;\n          var currentEnd = this.textArea.selectionEnd;\n          this.textArea.setSelectionRange(currentStart, currentEnd);\n        }\n      } catch (e) {// Fix error in Chrome:\n        // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n        // http://stackoverflow.com/q/21177489/3040605\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.renderTextArea();\n    }\n  }]);\n\n  return ResizableTextArea;\n}(React.Component);\n\nexport default ResizableTextArea;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport * as React from 'react';\nimport ResizableTextArea from './ResizableTextArea';\n\nvar TextArea = /*#__PURE__*/function (_React$Component) {\n  _inherits(TextArea, _React$Component);\n\n  var _super = _createSuper(TextArea);\n\n  function TextArea(props) {\n    var _this;\n\n    _classCallCheck(this, TextArea);\n\n    _this = _super.call(this, props);\n    _this.resizableTextArea = void 0;\n\n    _this.focus = function () {\n      _this.resizableTextArea.textArea.focus();\n    };\n\n    _this.saveTextArea = function (resizableTextArea) {\n      _this.resizableTextArea = resizableTextArea;\n    };\n\n    _this.handleChange = function (e) {\n      var onChange = _this.props.onChange;\n\n      _this.setValue(e.target.value, function () {\n        _this.resizableTextArea.resizeTextarea();\n      });\n\n      if (onChange) {\n        onChange(e);\n      }\n    };\n\n    _this.handleKeyDown = function (e) {\n      var _this$props = _this.props,\n          onPressEnter = _this$props.onPressEnter,\n          onKeyDown = _this$props.onKeyDown;\n\n      if (e.keyCode === 13 && onPressEnter) {\n        onPressEnter(e);\n      }\n\n      if (onKeyDown) {\n        onKeyDown(e);\n      }\n    };\n\n    var value = typeof props.value === 'undefined' || props.value === null ? props.defaultValue : props.value;\n    _this.state = {\n      value: value\n    };\n    return _this;\n  }\n\n  _createClass(TextArea, [{\n    key: \"setValue\",\n    value: function setValue(value, callback) {\n      if (!('value' in this.props)) {\n        this.setState({\n          value: value\n        }, callback);\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.resizableTextArea.textArea.blur();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ResizableTextArea, _extends({}, this.props, {\n        value: this.state.value,\n        onKeyDown: this.handleKeyDown,\n        onChange: this.handleChange,\n        ref: this.saveTextArea\n      }));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps) {\n      if ('value' in nextProps) {\n        return {\n          value: nextProps.value\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return TextArea;\n}(React.Component);\n\nexport { ResizableTextArea };\nexport default TextArea;","import * as React from \"react\";\nimport { ref } from \"framework-utils\";\nimport { RulerInterface, RulerProps } from \"./types\";\nimport { convertUnitSize, findLast } from \"@daybrush/utils\";\n\nexport default class Ruler extends React.PureComponent<RulerProps> implements RulerInterface {\n    public static defaultProps: Partial<RulerProps> = {\n        type: \"horizontal\",\n        zoom: 1,\n        width: 0,\n        height: 0,\n        unit: 50,\n        negativeRuler: true,\n        mainLineSize: \"100%\",\n        longLineSize: 10,\n        shortLineSize: 7,\n        segment: 10,\n        direction: \"end\",\n        style: { width: \"100%\", height: \"100%\" },\n        backgroundColor: \"#333333\",\n        font: \"10px sans-serif\",\n        textColor: \"#ffffff\",\n        textBackgroundColor: 'transparent',\n        lineColor: \"#777777\",\n        range: [-Infinity, Infinity],\n        rangeBackgroundColor: 'transparent',\n        lineWidth: 1,\n        selectedBackgroundColor: \"#555555\",\n        defaultScrollPos: 0,\n    };\n    public divisionsElement!: HTMLElement;\n    public state = {\n        scrollPos: 0,\n    };\n    public canvasElement!: HTMLCanvasElement;\n    private canvasContext!: CanvasRenderingContext2D;\n    private width: number = 0;\n    private height: number = 0;\n    private _zoom = 0;\n    private _rulerScale = 0;\n    private _observer: ResizeObserver | null = null;\n\n    public render() {\n        const props = this.props;\n        this._zoom = props.zoom!;\n\n        return <canvas\n            ref={ref(this, \"canvasElement\")}\n            style={this.props.style} />;\n\n    }\n    public componentDidMount() {\n        const props = this.props;\n        this.state.scrollPos = props.defaultScrollPos || 0;\n        const canvas = this.canvasElement;\n        const context = canvas.getContext(\"2d\", { alpha: false })!;\n\n        this.canvasContext = context;\n\n        if (props.useResizeObserver) {\n            this._observer = new ResizeObserver(this._checkResize);\n\n            this._observer.observe(canvas, {\n                box: \"border-box\",\n            });\n        } else {\n            this.resize();\n        }\n    }\n    public componentDidUpdate() {\n        this.resize();\n    }\n    public componentWillUnmount(): void {\n        this.state.scrollPos = 0;\n        this._observer?.disconnect();\n    }\n    /**\n     * Gets the scroll position of the ruler.\n     */\n    public getScrollPos() {\n        return this.state.scrollPos;\n    }\n    /**\n     * @method Ruler#scroll\n     * @param scrollPos\n     */\n    public scroll(scrollPos: number, nextZoom?: number) {\n        this.draw(scrollPos, nextZoom);\n    }\n    /**\n     * @method Ruler#resize\n     */\n    public resize(nextZoom?: number) {\n        const canvas = this.canvasElement;\n        const {\n            width,\n            height,\n            scrollPos,\n        } = this.props;\n        const rulerScale = this._getRulerScale();\n\n        this.width = width || canvas.offsetWidth;\n        this.height = height || canvas.offsetHeight;\n        canvas.width = this.width * rulerScale;\n        canvas.height = this.height * rulerScale;\n        this.draw(scrollPos, nextZoom);\n    }\n    private draw(scrollPos: number = this.state.scrollPos, nextZoom = this._zoom) {\n        this._zoom = nextZoom;\n        const props = this.props;\n        const {\n            unit,\n            type,\n            backgroundColor,\n            lineColor,\n            textColor,\n            textBackgroundColor,\n            direction,\n            negativeRuler = true,\n            segment = 10,\n            textFormat,\n            range = [-Infinity, Infinity],\n            rangeBackgroundColor,\n            selectedRanges,\n            selectedBackgroundColor,\n            lineWidth = 1,\n            selectedRangesText,\n            selectedRangesTextColor = \"#44aaff\",\n            selectedRangesTextOffset = [0, 0],\n        } = props as Required<RulerProps>;\n\n        const rulerScale = this._getRulerScale();\n        const width = this.width;\n        const height = this.height;\n        const state = this.state;\n        state.scrollPos = scrollPos;\n        const context = this.canvasContext;\n        const isHorizontal = type === \"horizontal\";\n        const isNegative = negativeRuler !== false;\n        const font = props.font || \"10px sans-serif\";\n        const textAlign = props.textAlign || \"left\";\n        const textOffset = props.textOffset || [0, 0];\n        const containerSize = isHorizontal ? height : width;\n        const mainLineSize = convertUnitSize(`${props.mainLineSize || \"100%\"}`, containerSize);\n        const longLineSize = convertUnitSize(`${props.longLineSize || 10}`, containerSize);\n        const shortLineSize = convertUnitSize(`${props.shortLineSize || 7}`, containerSize);\n        const lineOffset = props.lineOffset || [0, 0];\n\n        if (backgroundColor === \"transparent\") {\n            // Clear existing paths & text\n            context.clearRect(0, 0, width * rulerScale, height * rulerScale);\n        } else {\n            // Draw the background\n            context.rect(0, 0, width * rulerScale, height * rulerScale);\n            context.fillStyle = backgroundColor;\n            context.fill();\n        }\n\n\n        context.save();\n        context.scale(rulerScale, rulerScale);\n        context.strokeStyle = lineColor;\n        context.lineWidth = lineWidth;\n        context.font = font;\n        context.fillStyle = textColor;\n        context.textAlign = textAlign;\n\n        switch (direction) {\n            case \"start\":\n                context.textBaseline = \"top\";\n                break;\n            case \"center\":\n                context.textBaseline = \"middle\";\n                break;\n            case \"end\":\n                context.textBaseline = \"bottom\";\n                break;\n        }\n\n        context.translate(0.5, 0);\n        context.beginPath();\n\n        const size = isHorizontal ? width : height;\n        const zoomUnit = nextZoom * unit;\n        const minRange = Math.floor(scrollPos * nextZoom / zoomUnit);\n        const maxRange = Math.ceil((scrollPos * nextZoom + size) / zoomUnit);\n        const length = maxRange - minRange;\n        const alignOffset = Math.max([\"left\", \"center\", \"right\"].indexOf(textAlign) - 1, -1);\n        const barSize = isHorizontal ? height : width;\n        const values: Array<{\n            color: string;\n            backgroundColor?: string;\n            offset: number[];\n            value: number;\n            text: string;\n            textSize: number;\n        }> = [];\n\n        for (let i = 0; i <= length; ++i) {\n            const value = (i + minRange) * unit;\n            let text = `${value}`;\n\n            if (textFormat) {\n                text = textFormat(value);\n            }\n            const textSize = context.measureText(text).width;\n\n            values.push({\n                color: textColor,\n                offset: textOffset,\n                backgroundColor: textBackgroundColor,\n                value,\n                text,\n                textSize: textSize,\n            });\n        }\n\n\n        // Draw Selected Range Background\n        if (selectedBackgroundColor !== \"transparent\" && selectedRanges?.length) {\n            selectedRanges.forEach(selectedRange => {\n                const rangeStart = Math.max(selectedRange[0], range[0], negativeRuler ? -Infinity : 0);\n                const rangeEnd = Math.min(selectedRange[1], range[1]);\n                const rangeX = (rangeStart - scrollPos) * nextZoom;\n                const rangeWidth = ((rangeEnd - rangeStart) * nextZoom);\n\n                if (selectedRangesText) {\n                    selectedRange.forEach(value => {\n                        let text = `${value}`;\n\n                        if (textFormat) {\n                            text = textFormat(value);\n                        }\n                        const textSize = context.measureText(text).width;\n\n                        const startPos = value * nextZoom;\n                        const endPos = startPos + textSize;\n\n                        findLast(values, ({ value: prevValue, textSize: prevTextSize }, index) => {\n                            const prevStartPos = prevValue * nextZoom;\n                            const prevEndPos = prevStartPos + prevTextSize;\n\n                            if (prevStartPos <= endPos && startPos <= prevEndPos) {\n                                values.splice(index, 1);\n                            }\n                        });\n                        values.push({\n                            value,\n                            color: selectedRangesTextColor,\n                            offset: selectedRangesTextOffset,\n                            text,\n                            textSize,\n                        });\n                    });\n                }\n\n                if (rangeWidth <= 0) {\n                    return;\n                }\n                context.save();\n                context.fillStyle = selectedBackgroundColor;\n\n                if (isHorizontal) {\n                    context.fillRect(rangeX, 0, rangeWidth, barSize);\n                } else {\n                    context.fillRect(0, rangeX, barSize, rangeWidth);\n                }\n                context.restore();\n            });\n        }\n        // Draw Range Background\n        if (rangeBackgroundColor !== \"transparent\" && range[0] !== -Infinity && range[1] !== Infinity) {\n            const rangeStart = (range[0] - scrollPos) * nextZoom;\n            const rangeEnd = ((range[1] - range[0]) * nextZoom);\n            context.save();\n            context.fillStyle = rangeBackgroundColor;\n            if (isHorizontal) {\n                context.fillRect(rangeStart, 0, rangeEnd, barSize);\n            } else {\n                context.fillRect(0, rangeStart, barSize, rangeEnd);\n            }\n\n            context.restore();\n        }\n\n        // Render Segments First\n        for (let i = 0; i <= length; ++i) {\n            const value = i + minRange;\n\n            if (!isNegative && value < 0) {\n                continue;\n            }\n            const startValue = value * unit;\n            const startPos = (startValue - scrollPos) * nextZoom;\n\n            for (let j = 0; j < segment; ++j) {\n                const pos = startPos + j / segment * zoomUnit;\n                const value = startValue + j / segment * unit;\n\n                if (pos < 0 || pos >= size || value < range[0] || value > range[1]) {\n                    continue;\n                }\n\n                const lineSize = j === 0\n                    ? mainLineSize\n                    : (j % 2 === 0 ? longLineSize : shortLineSize);\n\n                let origin = 0\n                switch (direction) {\n                    case \"start\":\n                        origin = 0;\n                        break;\n                    case \"center\":\n                        origin = barSize / 2 - lineSize / 2;\n                        break;\n                    case \"end\":\n                        origin = barSize - lineSize;\n                        break;\n                }\n\n                const [x1, y1] = isHorizontal ?\n                    [pos + lineOffset[0], origin + lineOffset[1]] :\n                    [origin + lineOffset[0], pos + lineOffset[1]];\n\n                const [x2, y2] = isHorizontal ? [x1, y1 + lineSize] : [x1 + lineSize, y1];\n\n                context.moveTo(x1 + lineOffset[0], y1 + lineOffset[1]);\n                context.lineTo(x2 + lineOffset[0], y2 + lineOffset[1]);\n            }\n        }\n        context.stroke();\n\n        // Render Labels\n\n        values.forEach(({ value, offset, backgroundColor, color, text, textSize }) => {\n            if (!isNegative && value < 0) {\n                return;\n            }\n            const startPos = (value - scrollPos) * nextZoom;\n\n            if (startPos < -zoomUnit || startPos >= size + unit * nextZoom || value < range[0] || value > range[1]) {\n                return;\n            }\n\n            let origin = 0\n            switch (direction) {\n                case \"start\":\n                    origin = 17;\n                    break;\n                case \"center\":\n                    origin = barSize / 2;\n                    break;\n                case \"end\":\n                    origin = barSize - 17;\n                    break;\n            }\n\n            const [startX, startY] = isHorizontal\n                ? [startPos + alignOffset * -3, origin]\n                : [origin, startPos + alignOffset * 3];\n\n            if (backgroundColor) {\n                let backgroundOffset = 0\n                switch (textAlign) {\n                    case \"left\":\n                        backgroundOffset = 0;\n                        break;\n                    case \"center\":\n                        backgroundOffset = -textSize / 2;\n                        break;\n                    case \"right\":\n                        backgroundOffset = -textSize;\n                        break;\n                }\n                context.save();\n                context.fillStyle = backgroundColor;\n                if (isHorizontal) {\n                    context.fillRect(startX + offset[0] + backgroundOffset, 0, textSize, mainLineSize);\n                } else {\n                    context.translate(0, startY + offset[1]);\n                    context.rotate(-Math.PI / 2);\n                    context.fillRect(backgroundOffset, 0, textSize, mainLineSize);\n                }\n                context.restore();\n            }\n\n            context.save();\n            context.fillStyle = color;\n            if (isHorizontal) {\n                context.fillText(text, startX + offset[0], startY + offset[1]);\n            } else {\n                context.translate(startX + offset[0], startY + offset[1]);\n                context.rotate(-Math.PI / 2);\n                context.fillText(text, 0, 0);\n            }\n            context.restore();\n        });\n\n        context.restore();\n    }\n    private _getRulerScale() {\n        const defaultPixelScale = this.props.defaultPixelScale || 2;\n\n        if (!this._rulerScale) {\n            let isHighDensity = window.devicePixelRatio > 1;\n\n            if (!isHighDensity && window.matchMedia) {\n                const mq = window.matchMedia('only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)');\n                isHighDensity = mq && mq.matches;\n            }\n            this._rulerScale = isHighDensity ? 3 : defaultPixelScale;\n        }\n        return this._rulerScale;\n    }\n    private _checkResize = () => {\n        this.resize();\n    }\n}\n","// This icon file is generated automatically.\nvar EyeInvisibleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z\" } }] }, \"name\": \"eye-invisible\", \"theme\": \"outlined\" };\nexport default EyeInvisibleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EyeInvisibleOutlinedSvg from \"@ant-design/icons-svg/es/asn/EyeInvisibleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EyeInvisibleOutlined = function EyeInvisibleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: EyeInvisibleOutlinedSvg\n  }));\n};\n\nEyeInvisibleOutlined.displayName = 'EyeInvisibleOutlined';\nexport default /*#__PURE__*/React.forwardRef(EyeInvisibleOutlined);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport classNames from 'classnames';\nexport function getInputClassName(prefixCls, bordered, size, disabled, direction) {\n  var _classNames;\n\n  return classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-disabled\"), disabled), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-borderless\"), !bordered), _classNames));\n}\nexport function hasPrefixSuffix(props) {\n  return !!(props.prefix || props.suffix || props.allowClear);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport CloseCircleFilled from \"@ant-design/icons/es/icons/CloseCircleFilled\";\nimport { tuple } from '../_util/type';\nimport { cloneElement } from '../_util/reactNode';\nimport { getInputClassName, hasPrefixSuffix } from './utils';\nvar ClearableInputType = tuple('text', 'input');\n\nfunction hasAddon(props) {\n  return !!(props.addonBefore || props.addonAfter);\n}\n\nvar ClearableLabeledInput = /*#__PURE__*/function (_React$Component) {\n  _inherits(ClearableLabeledInput, _React$Component);\n\n  var _super = _createSuper(ClearableLabeledInput);\n\n  function ClearableLabeledInput() {\n    var _this;\n\n    _classCallCheck(this, ClearableLabeledInput);\n\n    _this = _super.apply(this, arguments);\n    /** @private Do Not use out of this class. We do not promise this is always keep. */\n\n    _this.containerRef = /*#__PURE__*/React.createRef();\n\n    _this.onInputMouseUp = function (e) {\n      var _a;\n\n      if ((_a = _this.containerRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target)) {\n        var triggerFocus = _this.props.triggerFocus;\n        triggerFocus === null || triggerFocus === void 0 ? void 0 : triggerFocus();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(ClearableLabeledInput, [{\n    key: \"renderClearIcon\",\n    value: function renderClearIcon(prefixCls) {\n      var _classNames;\n\n      var _this$props = this.props,\n          allowClear = _this$props.allowClear,\n          value = _this$props.value,\n          disabled = _this$props.disabled,\n          readOnly = _this$props.readOnly,\n          handleReset = _this$props.handleReset,\n          suffix = _this$props.suffix;\n\n      if (!allowClear) {\n        return null;\n      }\n\n      var needClear = !disabled && !readOnly && value;\n      var className = \"\".concat(prefixCls, \"-clear-icon\");\n      return /*#__PURE__*/React.createElement(CloseCircleFilled, {\n        onClick: handleReset // Do not trigger onBlur when clear input\n        // https://github.com/ant-design/ant-design/issues/31200\n        ,\n        onMouseDown: function onMouseDown(e) {\n          return e.preventDefault();\n        },\n        className: classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(className, \"-hidden\"), !needClear), _defineProperty(_classNames, \"\".concat(className, \"-has-suffix\"), !!suffix), _classNames), className),\n        role: \"button\"\n      });\n    }\n  }, {\n    key: \"renderSuffix\",\n    value: function renderSuffix(prefixCls) {\n      var _this$props2 = this.props,\n          suffix = _this$props2.suffix,\n          allowClear = _this$props2.allowClear;\n\n      if (suffix || allowClear) {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"\".concat(prefixCls, \"-suffix\")\n        }, this.renderClearIcon(prefixCls), suffix);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderLabeledIcon\",\n    value: function renderLabeledIcon(prefixCls, element) {\n      var _classNames2;\n\n      var _this$props3 = this.props,\n          focused = _this$props3.focused,\n          value = _this$props3.value,\n          prefix = _this$props3.prefix,\n          className = _this$props3.className,\n          size = _this$props3.size,\n          suffix = _this$props3.suffix,\n          disabled = _this$props3.disabled,\n          allowClear = _this$props3.allowClear,\n          direction = _this$props3.direction,\n          style = _this$props3.style,\n          readOnly = _this$props3.readOnly,\n          bordered = _this$props3.bordered,\n          hidden = _this$props3.hidden;\n\n      if (!hasPrefixSuffix(this.props)) {\n        return cloneElement(element, {\n          value: value\n        });\n      }\n\n      var suffixNode = this.renderSuffix(prefixCls);\n      var prefixNode = prefix ? /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-prefix\")\n      }, prefix) : null;\n      var affixWrapperCls = classNames(\"\".concat(prefixCls, \"-affix-wrapper\"), (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-affix-wrapper-focused\"), focused), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-affix-wrapper-disabled\"), disabled), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-affix-wrapper-sm\"), size === 'small'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-affix-wrapper-lg\"), size === 'large'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-affix-wrapper-input-with-clear-btn\"), suffix && allowClear && value), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-affix-wrapper-rtl\"), direction === 'rtl'), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-affix-wrapper-readonly\"), readOnly), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-affix-wrapper-borderless\"), !bordered), _defineProperty(_classNames2, \"\".concat(className), !hasAddon(this.props) && className), _classNames2));\n      return /*#__PURE__*/React.createElement(\"span\", {\n        ref: this.containerRef,\n        className: affixWrapperCls,\n        style: style,\n        onMouseUp: this.onInputMouseUp,\n        hidden: hidden\n      }, prefixNode, cloneElement(element, {\n        style: null,\n        value: value,\n        className: getInputClassName(prefixCls, bordered, size, disabled)\n      }), suffixNode);\n    }\n  }, {\n    key: \"renderInputWithLabel\",\n    value: function renderInputWithLabel(prefixCls, labeledElement) {\n      var _classNames4;\n\n      var _this$props4 = this.props,\n          addonBefore = _this$props4.addonBefore,\n          addonAfter = _this$props4.addonAfter,\n          style = _this$props4.style,\n          size = _this$props4.size,\n          className = _this$props4.className,\n          direction = _this$props4.direction,\n          hidden = _this$props4.hidden; // Not wrap when there is not addons\n\n      if (!hasAddon(this.props)) {\n        return labeledElement;\n      }\n\n      var wrapperClassName = \"\".concat(prefixCls, \"-group\");\n      var addonClassName = \"\".concat(wrapperClassName, \"-addon\");\n      var addonBeforeNode = addonBefore ? /*#__PURE__*/React.createElement(\"span\", {\n        className: addonClassName\n      }, addonBefore) : null;\n      var addonAfterNode = addonAfter ? /*#__PURE__*/React.createElement(\"span\", {\n        className: addonClassName\n      }, addonAfter) : null;\n      var mergedWrapperClassName = classNames(\"\".concat(prefixCls, \"-wrapper\"), wrapperClassName, _defineProperty({}, \"\".concat(wrapperClassName, \"-rtl\"), direction === 'rtl'));\n      var mergedGroupClassName = classNames(\"\".concat(prefixCls, \"-group-wrapper\"), (_classNames4 = {}, _defineProperty(_classNames4, \"\".concat(prefixCls, \"-group-wrapper-sm\"), size === 'small'), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-group-wrapper-lg\"), size === 'large'), _defineProperty(_classNames4, \"\".concat(prefixCls, \"-group-wrapper-rtl\"), direction === 'rtl'), _classNames4), className); // Need another wrapper for changing display:table to display:inline-block\n      // and put style prop in wrapper\n\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: mergedGroupClassName,\n        style: style,\n        hidden: hidden\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: mergedWrapperClassName\n      }, addonBeforeNode, cloneElement(labeledElement, {\n        style: null\n      }), addonAfterNode));\n    }\n  }, {\n    key: \"renderTextAreaWithClearIcon\",\n    value: function renderTextAreaWithClearIcon(prefixCls, element) {\n      var _classNames5;\n\n      var _this$props5 = this.props,\n          value = _this$props5.value,\n          allowClear = _this$props5.allowClear,\n          className = _this$props5.className,\n          style = _this$props5.style,\n          direction = _this$props5.direction,\n          bordered = _this$props5.bordered,\n          hidden = _this$props5.hidden;\n\n      if (!allowClear) {\n        return cloneElement(element, {\n          value: value\n        });\n      }\n\n      var affixWrapperCls = classNames(\"\".concat(prefixCls, \"-affix-wrapper\"), \"\".concat(prefixCls, \"-affix-wrapper-textarea-with-clear-btn\"), (_classNames5 = {}, _defineProperty(_classNames5, \"\".concat(prefixCls, \"-affix-wrapper-rtl\"), direction === 'rtl'), _defineProperty(_classNames5, \"\".concat(prefixCls, \"-affix-wrapper-borderless\"), !bordered), _defineProperty(_classNames5, \"\".concat(className), !hasAddon(this.props) && className), _classNames5));\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: affixWrapperCls,\n        style: style,\n        hidden: hidden\n      }, cloneElement(element, {\n        style: null,\n        value: value\n      }), this.renderClearIcon(prefixCls));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props6 = this.props,\n          prefixCls = _this$props6.prefixCls,\n          inputType = _this$props6.inputType,\n          element = _this$props6.element;\n\n      if (inputType === ClearableInputType[0]) {\n        return this.renderTextAreaWithClearIcon(prefixCls, element);\n      }\n\n      return this.renderInputWithLabel(prefixCls, this.renderLabeledIcon(prefixCls, element));\n    }\n  }]);\n\n  return ClearableLabeledInput;\n}(React.Component);\n\nexport default ClearableLabeledInput;","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport ClearableLabeledInput from './ClearableLabeledInput';\nimport { ConfigConsumer } from '../config-provider';\nimport SizeContext from '../config-provider/SizeContext';\nimport devWarning from '../_util/devWarning';\nimport { getInputClassName, hasPrefixSuffix } from './utils';\nexport function fixControlledValue(value) {\n  if (typeof value === 'undefined' || value === null) {\n    return '';\n  }\n\n  return String(value);\n}\nexport function resolveOnChange(target, e, onChange, targetValue) {\n  if (!onChange) {\n    return;\n  }\n\n  var event = e;\n\n  if (e.type === 'click') {\n    // Clone a new target for event.\n    // Avoid the following usage, the setQuery method gets the original value.\n    //\n    // const [query, setQuery] = React.useState('');\n    // <Input\n    //   allowClear\n    //   value={query}\n    //   onChange={(e)=> {\n    //     setQuery((prevStatus) => e.target.value);\n    //   }}\n    // />\n    var currentTarget = target.cloneNode(true); // click clear icon\n\n    event = Object.create(e, {\n      target: {\n        value: currentTarget\n      },\n      currentTarget: {\n        value: currentTarget\n      }\n    });\n    currentTarget.value = '';\n    onChange(event);\n    return;\n  } // Trigger by composition event, this means we need force change the input value\n\n\n  if (targetValue !== undefined) {\n    event = Object.create(e, {\n      target: {\n        value: target\n      },\n      currentTarget: {\n        value: target\n      }\n    });\n    target.value = targetValue;\n    onChange(event);\n    return;\n  }\n\n  onChange(event);\n}\nexport function triggerFocus(element, option) {\n  if (!element) return;\n  element.focus(option); // Selection content\n\n  var _ref = option || {},\n      cursor = _ref.cursor;\n\n  if (cursor) {\n    var len = element.value.length;\n\n    switch (cursor) {\n      case 'start':\n        element.setSelectionRange(0, 0);\n        break;\n\n      case 'end':\n        element.setSelectionRange(len, len);\n        break;\n\n      default:\n        element.setSelectionRange(0, len);\n    }\n  }\n}\n\nvar Input = /*#__PURE__*/function (_React$Component) {\n  _inherits(Input, _React$Component);\n\n  var _super = _createSuper(Input);\n\n  function Input(props) {\n    var _this;\n\n    _classCallCheck(this, Input);\n\n    _this = _super.call(this, props);\n    _this.direction = 'ltr';\n\n    _this.focus = function (option) {\n      triggerFocus(_this.input, option);\n    };\n\n    _this.saveClearableInput = function (input) {\n      _this.clearableInput = input;\n    };\n\n    _this.saveInput = function (input) {\n      _this.input = input;\n    };\n\n    _this.onFocus = function (e) {\n      var onFocus = _this.props.onFocus;\n\n      _this.setState({\n        focused: true\n      }, _this.clearPasswordValueAttribute);\n\n      onFocus === null || onFocus === void 0 ? void 0 : onFocus(e);\n    };\n\n    _this.onBlur = function (e) {\n      var onBlur = _this.props.onBlur;\n\n      _this.setState({\n        focused: false\n      }, _this.clearPasswordValueAttribute);\n\n      onBlur === null || onBlur === void 0 ? void 0 : onBlur(e);\n    };\n\n    _this.handleReset = function (e) {\n      _this.setValue('', function () {\n        _this.focus();\n      });\n\n      resolveOnChange(_this.input, e, _this.props.onChange);\n    };\n\n    _this.renderInput = function (prefixCls, size, bordered) {\n      var input = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var _this$props = _this.props,\n          className = _this$props.className,\n          addonBefore = _this$props.addonBefore,\n          addonAfter = _this$props.addonAfter,\n          customizeSize = _this$props.size,\n          disabled = _this$props.disabled,\n          htmlSize = _this$props.htmlSize; // Fix https://fb.me/react-unknown-prop\n\n      var otherProps = omit(_this.props, ['prefixCls', 'onPressEnter', 'addonBefore', 'addonAfter', 'prefix', 'suffix', 'allowClear', // Input elements must be either controlled or uncontrolled,\n      // specify either the value prop, or the defaultValue prop, but not both.\n      'defaultValue', 'size', 'inputType', 'bordered', 'htmlSize', 'showCount']);\n      return /*#__PURE__*/React.createElement(\"input\", _extends({\n        autoComplete: input.autoComplete\n      }, otherProps, {\n        onChange: _this.handleChange,\n        onFocus: _this.onFocus,\n        onBlur: _this.onBlur,\n        onKeyDown: _this.handleKeyDown,\n        className: classNames(getInputClassName(prefixCls, bordered, customizeSize || size, disabled, _this.direction), _defineProperty({}, className, className && !addonBefore && !addonAfter)),\n        ref: _this.saveInput,\n        size: htmlSize\n      }));\n    };\n\n    _this.clearPasswordValueAttribute = function () {\n      // https://github.com/ant-design/ant-design/issues/20541\n      _this.removePasswordTimeout = setTimeout(function () {\n        if (_this.input && _this.input.getAttribute('type') === 'password' && _this.input.hasAttribute('value')) {\n          _this.input.removeAttribute('value');\n        }\n      });\n    };\n\n    _this.handleChange = function (e) {\n      _this.setValue(e.target.value, _this.clearPasswordValueAttribute);\n\n      resolveOnChange(_this.input, e, _this.props.onChange);\n    };\n\n    _this.handleKeyDown = function (e) {\n      var _this$props2 = _this.props,\n          onPressEnter = _this$props2.onPressEnter,\n          onKeyDown = _this$props2.onKeyDown;\n\n      if (onPressEnter && e.keyCode === 13) {\n        onPressEnter(e);\n      }\n\n      onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(e);\n    };\n\n    _this.renderShowCountSuffix = function (prefixCls) {\n      var value = _this.state.value;\n      var _this$props3 = _this.props,\n          maxLength = _this$props3.maxLength,\n          suffix = _this$props3.suffix,\n          showCount = _this$props3.showCount; // Max length value\n\n      var hasMaxLength = Number(maxLength) > 0;\n\n      if (suffix || showCount) {\n        var valueLength = _toConsumableArray(fixControlledValue(value)).length;\n\n        var dataCount = null;\n\n        if (_typeof(showCount) === 'object') {\n          dataCount = showCount.formatter({\n            count: valueLength,\n            maxLength: maxLength\n          });\n        } else {\n          dataCount = \"\".concat(valueLength).concat(hasMaxLength ? \" / \".concat(maxLength) : '');\n        }\n\n        return /*#__PURE__*/React.createElement(React.Fragment, null, !!showCount && /*#__PURE__*/React.createElement(\"span\", {\n          className: classNames(\"\".concat(prefixCls, \"-show-count-suffix\"), _defineProperty({}, \"\".concat(prefixCls, \"-show-count-has-suffix\"), !!suffix))\n        }, dataCount), suffix);\n      }\n\n      return null;\n    };\n\n    _this.renderComponent = function (_ref2) {\n      var getPrefixCls = _ref2.getPrefixCls,\n          direction = _ref2.direction,\n          input = _ref2.input;\n      var _this$state = _this.state,\n          value = _this$state.value,\n          focused = _this$state.focused;\n      var _this$props4 = _this.props,\n          customizePrefixCls = _this$props4.prefixCls,\n          _this$props4$bordered = _this$props4.bordered,\n          bordered = _this$props4$bordered === void 0 ? true : _this$props4$bordered;\n      var prefixCls = getPrefixCls('input', customizePrefixCls);\n      _this.direction = direction;\n\n      var showCountSuffix = _this.renderShowCountSuffix(prefixCls);\n\n      return /*#__PURE__*/React.createElement(SizeContext.Consumer, null, function (size) {\n        return /*#__PURE__*/React.createElement(ClearableLabeledInput, _extends({\n          size: size\n        }, _this.props, {\n          prefixCls: prefixCls,\n          inputType: \"input\",\n          value: fixControlledValue(value),\n          element: _this.renderInput(prefixCls, size, bordered, input),\n          handleReset: _this.handleReset,\n          ref: _this.saveClearableInput,\n          direction: direction,\n          focused: focused,\n          triggerFocus: _this.focus,\n          bordered: bordered,\n          suffix: showCountSuffix\n        }));\n      });\n    };\n\n    var value = typeof props.value === 'undefined' ? props.defaultValue : props.value;\n    _this.state = {\n      value: value,\n      focused: false,\n      // eslint-disable-next-line react/no-unused-state\n      prevValue: props.value\n    };\n    return _this;\n  }\n\n  _createClass(Input, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.clearPasswordValueAttribute();\n    } // Since polyfill `getSnapshotBeforeUpdate` need work with `componentDidUpdate`.\n    // We keep an empty function here.\n\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {}\n  }, {\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate(prevProps) {\n      if (hasPrefixSuffix(prevProps) !== hasPrefixSuffix(this.props)) {\n        devWarning(this.input !== document.activeElement, 'Input', \"When Input is focused, dynamic add or remove prefix / suffix will make it lose focus caused by dom structure change. Read more: https://ant.design/components/input/#FAQ\");\n      }\n\n      return null;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.removePasswordTimeout) {\n        clearTimeout(this.removePasswordTimeout);\n      }\n    }\n  }, {\n    key: \"blur\",\n    value: function blur() {\n      this.input.blur();\n    }\n  }, {\n    key: \"setSelectionRange\",\n    value: function setSelectionRange(start, end, direction) {\n      this.input.setSelectionRange(start, end, direction);\n    }\n  }, {\n    key: \"select\",\n    value: function select() {\n      this.input.select();\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value, callback) {\n      if (this.props.value === undefined) {\n        this.setState({\n          value: value\n        }, callback);\n      } else {\n        callback === null || callback === void 0 ? void 0 : callback();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(ConfigConsumer, null, this.renderComponent);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, _ref3) {\n      var prevValue = _ref3.prevValue;\n      var newState = {\n        prevValue: nextProps.value\n      };\n\n      if (nextProps.value !== undefined || prevValue !== nextProps.value) {\n        newState.value = nextProps.value;\n      }\n\n      if (nextProps.disabled) {\n        newState.focused = false;\n      }\n\n      return newState;\n    }\n  }]);\n\n  return Input;\n}(React.Component);\n\nInput.defaultProps = {\n  type: 'text'\n};\nexport default Input;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Group = function Group(props) {\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, function (_ref) {\n    var _classNames;\n\n    var getPrefixCls = _ref.getPrefixCls,\n        direction = _ref.direction;\n    var customizePrefixCls = props.prefixCls,\n        _props$className = props.className,\n        className = _props$className === void 0 ? '' : _props$className;\n    var prefixCls = getPrefixCls('input-group', customizePrefixCls);\n    var cls = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), props.size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), props.size === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-compact\"), props.compact), _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _classNames), className);\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: cls,\n      style: props.style,\n      onMouseEnter: props.onMouseEnter,\n      onMouseLeave: props.onMouseLeave,\n      onFocus: props.onFocus,\n      onBlur: props.onBlur\n    }, props.children);\n  });\n};\n\nexport default Group;","// This icon file is generated automatically.\nvar SearchOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\" } }] }, \"name\": \"search\", \"theme\": \"outlined\" };\nexport default SearchOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport SearchOutlinedSvg from \"@ant-design/icons-svg/es/asn/SearchOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar SearchOutlined = function SearchOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: SearchOutlinedSvg\n  }));\n};\n\nSearchOutlined.displayName = 'SearchOutlined';\nexport default /*#__PURE__*/React.forwardRef(SearchOutlined);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport { composeRef } from \"rc-util/es/ref\";\nimport SearchOutlined from \"@ant-design/icons/es/icons/SearchOutlined\";\nimport Input from './Input';\nimport Button from '../button';\nimport SizeContext from '../config-provider/SizeContext';\nimport { ConfigContext } from '../config-provider';\nimport { cloneElement } from '../_util/reactNode';\nvar Search = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _classNames;\n\n  var customizePrefixCls = props.prefixCls,\n      customizeInputPrefixCls = props.inputPrefixCls,\n      className = props.className,\n      customizeSize = props.size,\n      suffix = props.suffix,\n      _props$enterButton = props.enterButton,\n      enterButton = _props$enterButton === void 0 ? false : _props$enterButton,\n      addonAfter = props.addonAfter,\n      loading = props.loading,\n      disabled = props.disabled,\n      customOnSearch = props.onSearch,\n      customOnChange = props.onChange,\n      restProps = __rest(props, [\"prefixCls\", \"inputPrefixCls\", \"className\", \"size\", \"suffix\", \"enterButton\", \"addonAfter\", \"loading\", \"disabled\", \"onSearch\", \"onChange\"]);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var contextSize = React.useContext(SizeContext);\n  var size = customizeSize || contextSize;\n  var inputRef = React.useRef(null);\n\n  var onChange = function onChange(e) {\n    if (e && e.target && e.type === 'click' && customOnSearch) {\n      customOnSearch(e.target.value, e);\n    }\n\n    if (customOnChange) {\n      customOnChange(e);\n    }\n  };\n\n  var onMouseDown = function onMouseDown(e) {\n    var _a;\n\n    if (document.activeElement === ((_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.input)) {\n      e.preventDefault();\n    }\n  };\n\n  var onSearch = function onSearch(e) {\n    var _a;\n\n    if (customOnSearch) {\n      customOnSearch((_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.input.value, e);\n    }\n  };\n\n  var prefixCls = getPrefixCls('input-search', customizePrefixCls);\n  var inputPrefixCls = getPrefixCls('input', customizeInputPrefixCls);\n  var searchIcon = typeof enterButton === 'boolean' ? /*#__PURE__*/React.createElement(SearchOutlined, null) : null;\n  var btnClassName = \"\".concat(prefixCls, \"-button\");\n  var button;\n  var enterButtonAsElement = enterButton || {};\n  var isAntdButton = enterButtonAsElement.type && enterButtonAsElement.type.__ANT_BUTTON === true;\n\n  if (isAntdButton || enterButtonAsElement.type === 'button') {\n    button = cloneElement(enterButtonAsElement, _extends({\n      onMouseDown: onMouseDown,\n      onClick: function onClick(e) {\n        var _a, _b;\n\n        (_b = (_a = enterButtonAsElement === null || enterButtonAsElement === void 0 ? void 0 : enterButtonAsElement.props) === null || _a === void 0 ? void 0 : _a.onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        onSearch(e);\n      },\n      key: 'enterButton'\n    }, isAntdButton ? {\n      className: btnClassName,\n      size: size\n    } : {}));\n  } else {\n    button = /*#__PURE__*/React.createElement(Button, {\n      className: btnClassName,\n      type: enterButton ? 'primary' : undefined,\n      size: size,\n      disabled: disabled,\n      key: \"enterButton\",\n      onMouseDown: onMouseDown,\n      onClick: onSearch,\n      loading: loading,\n      icon: searchIcon\n    }, enterButton);\n  }\n\n  if (addonAfter) {\n    button = [button, cloneElement(addonAfter, {\n      key: 'addonAfter'\n    })];\n  }\n\n  var cls = classNames(prefixCls, (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-rtl\"), direction === 'rtl'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-\").concat(size), !!size), _defineProperty(_classNames, \"\".concat(prefixCls, \"-with-button\"), !!enterButton), _classNames), className);\n  return /*#__PURE__*/React.createElement(Input, _extends({\n    ref: composeRef(inputRef, ref),\n    onPressEnter: onSearch\n  }, restProps, {\n    size: size,\n    prefixCls: inputPrefixCls,\n    addonAfter: button,\n    suffix: suffix,\n    onChange: onChange,\n    className: cls,\n    disabled: disabled\n  }));\n});\nSearch.displayName = 'Search';\nexport default Search;","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport RcTextArea from 'rc-textarea';\nimport omit from \"rc-util/es/omit\";\nimport classNames from 'classnames';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport ClearableLabeledInput from './ClearableLabeledInput';\nimport { ConfigContext } from '../config-provider';\nimport { fixControlledValue, resolveOnChange, triggerFocus } from './Input';\nimport SizeContext from '../config-provider/SizeContext';\n\nfunction fixEmojiLength(value, maxLength) {\n  return _toConsumableArray(value || '').slice(0, maxLength).join('');\n}\n\nvar TextArea = /*#__PURE__*/React.forwardRef(function (_a, ref) {\n  var _classNames;\n\n  var customizePrefixCls = _a.prefixCls,\n      _a$bordered = _a.bordered,\n      bordered = _a$bordered === void 0 ? true : _a$bordered,\n      _a$showCount = _a.showCount,\n      showCount = _a$showCount === void 0 ? false : _a$showCount,\n      maxLength = _a.maxLength,\n      className = _a.className,\n      style = _a.style,\n      customizeSize = _a.size,\n      onCompositionStart = _a.onCompositionStart,\n      onCompositionEnd = _a.onCompositionEnd,\n      onChange = _a.onChange,\n      props = __rest(_a, [\"prefixCls\", \"bordered\", \"showCount\", \"maxLength\", \"className\", \"style\", \"size\", \"onCompositionStart\", \"onCompositionEnd\", \"onChange\"]);\n\n  var _React$useContext = React.useContext(ConfigContext),\n      getPrefixCls = _React$useContext.getPrefixCls,\n      direction = _React$useContext.direction;\n\n  var size = React.useContext(SizeContext);\n  var innerRef = React.useRef(null);\n  var clearableInputRef = React.useRef(null);\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      compositing = _React$useState2[0],\n      setCompositing = _React$useState2[1];\n\n  var _useMergedState = useMergedState(props.defaultValue, {\n    value: props.value\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      value = _useMergedState2[0],\n      setValue = _useMergedState2[1];\n\n  var hidden = props.hidden;\n\n  var handleSetValue = function handleSetValue(val, callback) {\n    if (props.value === undefined) {\n      setValue(val);\n      callback === null || callback === void 0 ? void 0 : callback();\n    }\n  }; // =========================== Value Update ===========================\n  // Max length value\n\n\n  var hasMaxLength = Number(maxLength) > 0;\n\n  var onInternalCompositionStart = function onInternalCompositionStart(e) {\n    setCompositing(true);\n    onCompositionStart === null || onCompositionStart === void 0 ? void 0 : onCompositionStart(e);\n  };\n\n  var onInternalCompositionEnd = function onInternalCompositionEnd(e) {\n    setCompositing(false);\n    var triggerValue = e.currentTarget.value;\n\n    if (hasMaxLength) {\n      triggerValue = fixEmojiLength(triggerValue, maxLength);\n    } // Patch composition onChange when value changed\n\n\n    if (triggerValue !== value) {\n      handleSetValue(triggerValue);\n      resolveOnChange(e.currentTarget, e, onChange, triggerValue);\n    }\n\n    onCompositionEnd === null || onCompositionEnd === void 0 ? void 0 : onCompositionEnd(e);\n  };\n\n  var handleChange = function handleChange(e) {\n    var triggerValue = e.target.value;\n\n    if (!compositing && hasMaxLength) {\n      triggerValue = fixEmojiLength(triggerValue, maxLength);\n    }\n\n    handleSetValue(triggerValue);\n    resolveOnChange(e.currentTarget, e, onChange, triggerValue);\n  }; // ============================== Reset ===============================\n\n\n  var handleReset = function handleReset(e) {\n    var _a, _b;\n\n    handleSetValue('', function () {\n      var _a;\n\n      (_a = innerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    });\n    resolveOnChange((_b = (_a = innerRef.current) === null || _a === void 0 ? void 0 : _a.resizableTextArea) === null || _b === void 0 ? void 0 : _b.textArea, e, onChange);\n  };\n\n  var prefixCls = getPrefixCls('input', customizePrefixCls);\n  React.useImperativeHandle(ref, function () {\n    var _a;\n\n    return {\n      resizableTextArea: (_a = innerRef.current) === null || _a === void 0 ? void 0 : _a.resizableTextArea,\n      focus: function focus(option) {\n        var _a, _b;\n\n        triggerFocus((_b = (_a = innerRef.current) === null || _a === void 0 ? void 0 : _a.resizableTextArea) === null || _b === void 0 ? void 0 : _b.textArea, option);\n      },\n      blur: function blur() {\n        var _a;\n\n        return (_a = innerRef.current) === null || _a === void 0 ? void 0 : _a.blur();\n      }\n    };\n  });\n  var textArea = /*#__PURE__*/React.createElement(RcTextArea, _extends({}, omit(props, ['allowClear']), {\n    className: classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-borderless\"), !bordered), _defineProperty(_classNames, className, className && !showCount), _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small' || customizeSize === 'small'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large' || customizeSize === 'large'), _classNames)),\n    style: showCount ? undefined : style,\n    prefixCls: prefixCls,\n    onCompositionStart: onInternalCompositionStart,\n    onChange: handleChange,\n    onCompositionEnd: onInternalCompositionEnd,\n    ref: innerRef\n  }));\n  var val = fixControlledValue(value);\n\n  if (!compositing && hasMaxLength && (props.value === null || props.value === undefined)) {\n    // fix #27612 将value转为数组进行截取，解决 '😂'.length === 2 等emoji表情导致的截取乱码的问题\n    val = fixEmojiLength(val, maxLength);\n  } // TextArea\n\n\n  var textareaNode = /*#__PURE__*/React.createElement(ClearableLabeledInput, _extends({}, props, {\n    prefixCls: prefixCls,\n    direction: direction,\n    inputType: \"text\",\n    value: val,\n    element: textArea,\n    handleReset: handleReset,\n    ref: clearableInputRef,\n    bordered: bordered,\n    style: showCount ? undefined : style\n  })); // Only show text area wrapper when needed\n\n  if (showCount) {\n    var valueLength = _toConsumableArray(val).length;\n\n    var dataCount = '';\n\n    if (_typeof(showCount) === 'object') {\n      dataCount = showCount.formatter({\n        count: valueLength,\n        maxLength: maxLength\n      });\n    } else {\n      dataCount = \"\".concat(valueLength).concat(hasMaxLength ? \" / \".concat(maxLength) : '');\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      hidden: hidden,\n      className: classNames(\"\".concat(prefixCls, \"-textarea\"), _defineProperty({}, \"\".concat(prefixCls, \"-textarea-rtl\"), direction === 'rtl'), \"\".concat(prefixCls, \"-textarea-show-count\"), className),\n      style: style,\n      \"data-count\": dataCount\n    }, textareaNode);\n  }\n\n  return textareaNode;\n});\nexport default TextArea;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from \"rc-util/es/omit\";\nimport EyeOutlined from \"@ant-design/icons/es/icons/EyeOutlined\";\nimport EyeInvisibleOutlined from \"@ant-design/icons/es/icons/EyeInvisibleOutlined\";\nimport { useState } from 'react';\nimport { ConfigConsumer } from '../config-provider';\nimport Input from './Input';\nvar ActionMap = {\n  click: 'onClick',\n  hover: 'onMouseOver'\n};\nvar Password = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      visible = _useState2[0],\n      setVisible = _useState2[1];\n\n  var onVisibleChange = function onVisibleChange() {\n    var disabled = props.disabled;\n\n    if (disabled) {\n      return;\n    }\n\n    setVisible(!visible);\n  };\n\n  var getIcon = function getIcon(prefixCls) {\n    var _iconProps;\n\n    var action = props.action,\n        _props$iconRender = props.iconRender,\n        iconRender = _props$iconRender === void 0 ? function () {\n      return null;\n    } : _props$iconRender;\n    var iconTrigger = ActionMap[action] || '';\n    var icon = iconRender(visible);\n    var iconProps = (_iconProps = {}, _defineProperty(_iconProps, iconTrigger, onVisibleChange), _defineProperty(_iconProps, \"className\", \"\".concat(prefixCls, \"-icon\")), _defineProperty(_iconProps, \"key\", 'passwordIcon'), _defineProperty(_iconProps, \"onMouseDown\", function onMouseDown(e) {\n      // Prevent focused state lost\n      // https://github.com/ant-design/ant-design/issues/15173\n      e.preventDefault();\n    }), _defineProperty(_iconProps, \"onMouseUp\", function onMouseUp(e) {\n      // Prevent caret position change\n      // https://github.com/ant-design/ant-design/issues/23524\n      e.preventDefault();\n    }), _iconProps);\n    return /*#__PURE__*/React.cloneElement( /*#__PURE__*/React.isValidElement(icon) ? icon : /*#__PURE__*/React.createElement(\"span\", null, icon), iconProps);\n  };\n\n  var renderPassword = function renderPassword(_ref) {\n    var getPrefixCls = _ref.getPrefixCls;\n\n    var className = props.className,\n        customizePrefixCls = props.prefixCls,\n        customizeInputPrefixCls = props.inputPrefixCls,\n        size = props.size,\n        visibilityToggle = props.visibilityToggle,\n        restProps = __rest(props, [\"className\", \"prefixCls\", \"inputPrefixCls\", \"size\", \"visibilityToggle\"]);\n\n    var inputPrefixCls = getPrefixCls('input', customizeInputPrefixCls);\n    var prefixCls = getPrefixCls('input-password', customizePrefixCls);\n    var suffixIcon = visibilityToggle && getIcon(prefixCls);\n    var inputClassName = classNames(prefixCls, className, _defineProperty({}, \"\".concat(prefixCls, \"-\").concat(size), !!size));\n\n    var omittedProps = _extends(_extends({}, omit(restProps, ['suffix', 'iconRender'])), {\n      type: visible ? 'text' : 'password',\n      className: inputClassName,\n      prefixCls: inputPrefixCls,\n      suffix: suffixIcon\n    });\n\n    if (size) {\n      omittedProps.size = size;\n    }\n\n    return /*#__PURE__*/React.createElement(Input, _extends({\n      ref: ref\n    }, omittedProps));\n  };\n\n  return /*#__PURE__*/React.createElement(ConfigConsumer, null, renderPassword);\n});\nPassword.defaultProps = {\n  action: 'click',\n  visibilityToggle: true,\n  iconRender: function iconRender(visible) {\n    return visible ? /*#__PURE__*/React.createElement(EyeOutlined, null) : /*#__PURE__*/React.createElement(EyeInvisibleOutlined, null);\n  }\n};\nPassword.displayName = 'Password';\nexport default Password;","import Input from './Input';\nimport Group from './Group';\nimport Search from './Search';\nimport TextArea from './TextArea';\nimport Password from './Password';\nInput.Group = Group;\nInput.Search = Search;\nInput.TextArea = TextArea;\nInput.Password = Password;\nexport default Input;","// This icon file is generated automatically.\nvar VerticalAlignTopOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z\" } }] }, \"name\": \"vertical-align-top\", \"theme\": \"outlined\" };\nexport default VerticalAlignTopOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport VerticalAlignTopOutlinedSvg from \"@ant-design/icons-svg/es/asn/VerticalAlignTopOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar VerticalAlignTopOutlined = function VerticalAlignTopOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: VerticalAlignTopOutlinedSvg\n  }));\n};\n\nVerticalAlignTopOutlined.displayName = 'VerticalAlignTopOutlined';\nexport default /*#__PURE__*/React.forwardRef(VerticalAlignTopOutlined);","// This icon file is generated automatically.\nvar LockOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z\" } }] }, \"name\": \"lock\", \"theme\": \"outlined\" };\nexport default LockOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LockOutlinedSvg from \"@ant-design/icons-svg/es/asn/LockOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar LockOutlined = function LockOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: LockOutlinedSvg\n  }));\n};\n\nLockOutlined.displayName = 'LockOutlined';\nexport default /*#__PURE__*/React.forwardRef(LockOutlined);","// This icon file is generated automatically.\nvar CopyOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\" } }] }, \"name\": \"copy\", \"theme\": \"outlined\" };\nexport default CopyOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport CopyOutlinedSvg from \"@ant-design/icons-svg/es/asn/CopyOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar CopyOutlined = function CopyOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: CopyOutlinedSvg\n  }));\n};\n\nCopyOutlined.displayName = 'CopyOutlined';\nexport default /*#__PURE__*/React.forwardRef(CopyOutlined);","// This icon file is generated automatically.\nvar VerticalAlignBottomOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z\" } }] }, \"name\": \"vertical-align-bottom\", \"theme\": \"outlined\" };\nexport default VerticalAlignBottomOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport VerticalAlignBottomOutlinedSvg from \"@ant-design/icons-svg/es/asn/VerticalAlignBottomOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar VerticalAlignBottomOutlined = function VerticalAlignBottomOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: VerticalAlignBottomOutlinedSvg\n  }));\n};\n\nVerticalAlignBottomOutlined.displayName = 'VerticalAlignBottomOutlined';\nexport default /*#__PURE__*/React.forwardRef(VerticalAlignBottomOutlined);"],"sourceRoot":""}
(this["webpackJsonplight-chaser"]=this["webpackJsonplight-chaser"]||[]).push([[1],{127:function(e,t,n){"use strict";n.r(t),n.d(t,"ApiDataConfig",(function(){return J})),n.d(t,"StaticDataConfig",(function(){return D}));var a=n(70),r=n(6),i=n(7),c=n(9),o=n(10),s=n(0),l=n(73),u=n(162),d=n.n(u),h=(n(340),n(243),n(341),n(342),n(343),n(344)),j=n.n(h),f=n(1),b=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(e){var a;Object(r.a)(this,n),(a=t.call(this,e)).editorDom=null,a.editor=null,a.valueControl=!0,a.value="",a.onChange=function(){var e=a.props.onChange;e&&e(a.editor.getValue())},a.formatCodeShortKey=function(){if(a.editor){var e=a.editor.getValue(),t=j()(e,{indent_size:2,space_in_empty_paren:!0});a.editor.setValue(t)}},a.formatCode=function(e){return j()(e,{indent_size:2,space_in_empty_paren:!0})};var i=e.value,c=e.defaultValue;return a.valueControl=void 0!==i,a.value=i||c||"",a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){if(null!=this.editorDom){var e=this.props,t=e.readonly,n=e.width,a=e.height,r=e.mode;this.editor=d()(this.editorDom,{mode:r||"javascript",theme:"lc-dark",lineNumbers:!0,matchBrackets:!0,smartIndent:!0,readOnly:t||!1,extraKeys:{"Ctrl-/":"toggleComment","Ctrl-Alt-L":this.formatCodeShortKey}}),this.editor.setValue(this.value&&j()(this.value,{indent_size:2,space_in_empty_paren:!0})||""),this.editor.on("change",this.onChange),this.editor.setSize(n||"100%",a||"100%")}}},{key:"render",value:function(){var e=this;return this.valueControl&&this.editor&&(this.editor.off("change",this.onChange),this.editor.setValue(this.formatCode(this.props.value||""),0),this.editor.on("change",this.onChange)),Object(f.jsx)("div",{className:"lc-code-editor",style:{border:"1px solid #373738"},ref:function(t){return e.editorDom=t}})}}]),n}(s.Component),v=n(115),O=n(81),p=(n(246),n(87)),g=n(180),m=n(75),y=n(23),x=(n(247),function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=void 0===t?"":t,a=e.contentStyle,r=void 0===a?{width:90}:a;return Object(f.jsxs)("div",{className:"lc-config-item-tb",children:[Object(f.jsx)("div",{className:"item-tb-title",children:n}),Object(f.jsx)("div",{className:"item-tb-content",style:Object(y.a)({},r),children:this.props.children})]})}}]),n}(s.Component)),C=x,S=n(574),N=n(105),w=function(e){Object(c.a)(n,e);var t=Object(o.a)(n);function n(e){var a;Object(r.a)(this,n),(a=t.call(this,e)).state={dataSource:"static"},a.dataSourcesChange=function(e){a.props.instance.update({data:{dataSource:e}},{reRender:!1}),a.setState({dataSource:e})};var i=e.instance.getConfig().data;return a.state={dataSource:(null===i||void 0===i?void 0:i.dataSource)||"static"},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props.instance,n=this.state.dataSource;return Object(f.jsxs)("div",{className:"lc-data-config",children:[Object(f.jsx)(l.a,{title:"\u6570\u636e\u6e90",contentStyle:{width:100},children:Object(f.jsx)(O.default,{onChange:function(t){return e.dataSourcesChange(t)},defaultValue:n,options:[{value:"static",label:"\u9759\u6001\u6570\u636e"},{value:"api",label:"\u63a5\u53e3(API)"}]})}),"static"===n&&Object(f.jsx)(D,{instance:t}),"api"===n&&Object(f.jsx)(J,{instance:t})]})}}]),n}(s.Component),J=function(e){var t=e.instance,n=t.getConfig().data.apiData,r=Object(s.useRef)((null===n||void 0===n?void 0:n.url)||""),i=Object(s.useRef)((null===n||void 0===n?void 0:n.method)||""),c=Object(s.useRef)(JSON.stringify((null===n||void 0===n?void 0:n.header)||{})),o=Object(s.useRef)(JSON.stringify((null===n||void 0===n?void 0:n.params)||{})),u=Object(s.useRef)((null===n||void 0===n?void 0:n.flashFrequency)||5),d=Object(s.useState)(""),h=Object(a.a)(d,2),j=h[0],p=h[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(l.a,{title:"\u63a5\u53e3\u5730\u5740",contentStyle:{width:240},children:Object(f.jsx)(m.default,{defaultValue:r.current,onChange:function(e){return r.current=e.target.value}})}),Object(f.jsx)(l.a,{title:"\u8bf7\u6c42\u65b9\u5f0f",contentStyle:{width:100},children:Object(f.jsx)(O.default,{options:[{value:"get",label:"GET"},{value:"post",label:"POST"},{value:"put",label:"PUT"},{value:"delete",label:"DELETE"}],defaultValue:i.current,onChange:function(e){return i.current=e}})}),Object(f.jsxs)(l.a,{title:"\u5237\u65b0\u9891\u7387",contentStyle:{color:"#c6c9cd",display:"flex",width:40,alignItems:"center"},children:[Object(f.jsx)(m.default,{type:"number",defaultValue:u.current,onChange:function(e){return u.current=parseInt(e.target.value)}}),Object(f.jsx)("div",{children:"\u79d2"})]}),Object(f.jsx)(C,{title:"\u8bf7\u6c42\u5934(JSON)",contentStyle:{width:"95%"},children:Object(f.jsx)(b,{onChange:function(e){c.current=e},defaultValue:c.current})}),Object(f.jsx)(C,{title:"\u8bf7\u6c42\u53c2\u6570(JSON)",contentStyle:{width:"95%"},children:Object(f.jsx)(b,{onChange:function(e){o.current=e},defaultValue:o.current})}),Object(f.jsx)(C,{title:"\u54cd\u5e94\u7ed3\u679c",contentStyle:{width:"95%"},children:Object(f.jsx)(b,{readonly:!0,value:j})}),Object(f.jsx)(v.a,{style:{width:"calc(50% - 16px)",margin:"0 7px"},onClick:function(){if(""!==r.current)if(""!==i.current){var e=N.a.stringToJsObj(c.current);if(e){var t=N.a.stringToJsObj(o.current);t?Object(g.a)(r.current,i.current,e,t).then((function(e){p(JSON.stringify(e))})).catch((function(e){p(JSON.stringify(e))})):S.b.error("\u8bf7\u6c42\u53c2\u6570\u4e0d\u7b26\u5408json\u683c\u5f0f")}else S.b.error("\u8bf7\u6c42\u5934\u4e0d\u7b26\u5408json\u683c\u5f0f")}else S.b.error("\u8bf7\u6c42\u65b9\u5f0f\u4e0d\u80fd\u4e3a\u7a7a");else S.b.error("\u63a5\u53e3\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a")},children:"\u6d4b\u8bd5\u63a5\u53e3"}),Object(f.jsx)(v.a,{style:{width:"calc(50% - 16px)",margin:"0 7px"},onClick:function(){if(""!==r.current)if(""!==i.current){var e=N.a.stringToJsObj(c.current);e||S.b.error("\u8bf7\u6c42\u5934\u4e0d\u7b26\u5408json\u683c\u5f0f");var n=N.a.stringToJsObj(o.current);n||S.b.error("\u8bf7\u6c42\u53c2\u6570\u4e0d\u7b26\u5408json\u683c\u5f0f"),t.update({data:{apiData:{url:r.current,method:i.current,header:e,params:n,flashFrequency:u.current}},style:{data:JSON.parse(j)}})}else S.b.warning("\u8bf7\u6c42\u65b9\u5f0f\u4e0d\u80fd\u4e3a\u7a7a");else S.b.warning("\u63a5\u53e3\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a")},children:"\u4fdd\u5b58"})]})},D=function(e){var t,n=e.instance,a=n.getConfig().data,r=JSON.stringify(null===(t=a.staticData)||void 0===t?void 0:t.data);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(b,{onChange:function(e){return r=e},height:"400",defaultValue:r||""}),Object(f.jsx)("div",{className:"static-data-btn-arr",children:Object(f.jsx)(v.a,{onClick:function(){try{var e=r.replace(/'/g,'"').replace(/\s/g,""),t=JSON.parse(e);n.update({data:{staticData:{data:t}},style:{data:t}},{reRender:!0,operateType:p.OperateType.DATA})}catch(a){S.b.error("\u6570\u636e\u683c\u5f0f\u9519\u8bef")}},children:"\u4fdd\u5b58\u5e76\u5237\u65b0\u6570\u636e"})})]})};t.default=w},243:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){}}]);
//# sourceMappingURL=1.72fc356b.chunk.js.map
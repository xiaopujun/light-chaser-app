import{r as a,b as l,j as m}from"./index-DEH0txKw.js";import{D as v}from"./DragScaleProvider-BVoYYvU0.js";import{S as x,c as R,e as i}from"./ViewDesignerLoader-jgZQec8d.js";import{o as k}from"./mobxreact.esm-Bj-qJWps.js";import"./Input-DrP1MErD.js";import"./GlobalMessage-CLP7Ukq2.js";import"./MainRouter-BwKsbEMB.js";import"./render-CtKaNIyG.js";import"./asyncToGenerator-BId76fBH.js";import"./pickAttrs-MPILqOrS.js";import"./useZIndex-_nF327DT.js";import"./index-DZ9jMG-M.js";import"./zoom-Dmac6z75.js";import"./Compact-N6WowFFV.js";import"./index-BlXPA9sS.js";import"./button-BVsw3twu.js";import"./FetchUtil-jeBypYyg.js";import"./Overflow-CpDWjRBD.js";import"./index-DW5GKhvh.js";import"./Data-D9YYElFN.js";import"./collapse-BbEVqHco.js";import"./CheckBox-DstIPFex.js";import"./index-C1P9Qb-Y.js";import"./NumberInput-e2UHMUMZ.js";const V=a.memo(k(p=>{const{children:d,onDoubleClick:h}=p,n=l.useRef(null),s=l.useRef(null),{canvasConfig:e}=R;return a.useEffect(()=>{const c=n.current,o=s.current;if(c&&o){const{setDsContentRef:u}=i;u(o);const g=new v({container:c,content:o,scaleCallback:t=>{const{scale:f,ratio:w}=t,{setScale:S,setRatio:b,rulerRef:r}=i;S(f),b(w),r==null||r.ruleWheel(),x.doScale(t.scale,t.scale)},dragCallback:()=>{const{rulerRef:t}=i;t==null||t.ruleDrag()}});return()=>{g.destroy()}}},[]),m.jsx("div",{className:"designer-ds-container",ref:n,style:{overflow:"hidden",height:window.innerHeight-110,width:window.innerWidth-115,backgroundColor:"#434343",position:"relative"},children:m.jsx("div",{className:"designer-ds-content lc-drag-scale-provider",id:"designer-ds-content",ref:s,onDoubleClick:h,style:{width:e==null?void 0:e.width,height:e==null?void 0:e.height,background:"#1c1c1c",position:"absolute"},children:d})})}));export{V as default};

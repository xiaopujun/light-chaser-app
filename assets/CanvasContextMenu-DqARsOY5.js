import{b as t,j as c}from"./index-Duc4ZoM_.js";import{o as C}from"./mobxreact.esm-AXuQb6fD.js";import{U as v,L as x,c as H,P as w}from"./FontGlobal-IF-0qGeT.js";import{d as y,a as z,b as V,c as B,r as T,e as b,l as D,f as G,g as S,h as U,i as I,j as Z}from"./DesignerPage-hOKeX8hE.js";import{aD as M,e as O,l as R}from"./ViewDesignerLoader-8rMP9FZs.js";import{I as s}from"./index-AfMii643.js";import{D as P}from"./Down-X5z7RGv2.js";import"./PreviewOpen-xNkBcbY-.js";import"./LocalOperator-t4oOcFvM.js";import"./GlobalMessage-I0KrOayq.js";import"./MainRouter-l7Z1Z1jr.js";import"./render-8hUH_M6B.js";import"./AntdIcon-jwWmiLqW.js";import"./InfoCircleFilled-JfnNzh3b.js";import"./useZIndex-c7eQO3Zz.js";import"./System-wlPeHLhg.js";import"./index-KGsAQAl1.js";import"./zoom-1qZDylxx.js";import"./Compact-BtIEhQqw.js";import"./Dialog-vSMHMWDI.js";import"./Grid-qWvRWUZo.js";import"./UIContainer-fqZbFePv.js";import"./Help-Q6DYu7mz.js";import"./Input-Fu5_43az.js";import"./MonacoEditor-AmRPsGTx.js";import"./Button-Tm3IfQtm.js";import"./Plus-WQxU0q_G.js";import"./pickAttrs-UI4Ho79H.js";import"./collapse-aS6vX33V.js";import"./fade-CRG4MrDV.js";import"./useForceUpdate-rXHM3SwU.js";import"./button-cD7Pe9UH.js";import"./omit-zfc2TTl_.js";import"./EyeOutlined-R3RbAP4C.js";import"./index-foMHq-FM.js";import"./ActionButton-AsinbvHa.js";import"./Info-kImE1q_J.js";import"./index--SWnmJ5Q.js";import"./FetchUtil-5ZwtxN_0.js";import"./NumberInput-WrPaUvHm.js";import"./Select-wGR39UQA.js";import"./Radio-kbTZ0tv0.js";import"./ThemeEditor-2NmMzzG7.js";import"./ColorPicker-pyjWXEAx.js";import"./PurePanel-ruJ4o-iR.js";import"./index-tOmn1sxg.js";import"./Overflow-2V5ntg0K.js";import"./CardPanel-GnLi4EHp.js";import"./Data-_fslVRGK.js";const F=s("application-two",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("circle",{cx:"34.5",cy:"13.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}),t.createElement("circle",{cx:"34.5",cy:"34.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}),t.createElement("circle",{cx:"13.5",cy:"13.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}),t.createElement("circle",{cx:"13.5",cy:"34.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}))}),N=s("copy-one",!0,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M13 38H41V16H30V4H13V38Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M30 4L41 16",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M7 20V44H28",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 20H23",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}),t.createElement("path",{d:"M19 28H31",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),A=s("delete-one",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M15 12L16.2 5H31.8L33 12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M6 12H42",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37 12L35 43H13L11 12H37Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 35H29",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),_=s("graphic-stitching-three",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M24 14C26.7614 14 29 11.7614 29 9C29 6.23858 26.7614 4 24 4C21.2386 4 19 6.23858 19 9C19 11.7614 21.2386 14 24 14Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M24 44C26.7614 44 29 41.7614 29 39C29 36.2386 26.7614 34 24 34C21.2386 34 19 36.2386 19 39C19 41.7614 21.2386 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M14 19H4V29H14V19Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M44 19H34V29H44V19Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 9H9V19",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 39H9V29",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M29 9H40V19",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M29 39H39V29",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),$=s("link-right",!0,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M8 12V4H24V12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M24 36V44H8V36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M44 24L24 24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M16 34V14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M36 16L44 24L36 32",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),q=s("to-bottom-one",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M36 14L24 26L12 14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M12 34H36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),J=s("to-top-one",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M12 33L24 21L36 33",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M12 13H36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),K=s("up",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M13 30L25 18L37 30",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))});function Q(e){const{menus:a,visible:d,position:L}=e,n=o=>[130,o*33],r=()=>{const o=[];for(let i=0;i<a.length;i++){const k=a[i],m=k.icon;o.push(c.jsxs("div",{className:"menu-item",onClick:k.onClick,children:[c.jsx("label",{children:c.jsx(m,{})}),c.jsx("span",{children:k.name})]},i+""))}return o},l=(o,i)=>{const[k,m]=L,{innerWidth:f,innerHeight:j}=window;let E=k,g=m;return k+o>f&&(E=f-o),m+i>j&&(g=j-i),[E,g]},[W,h]=n(a.length),u=l(W,h);return c.jsx(c.Fragment,{children:d&&c.jsx("div",{className:"context-menu",style:{position:"fixed",top:u[1],left:u[0]},children:r()})})}const X=[{name:"复制",icon:N,onClick:b},{name:"上移",icon:K,onClick:D},{name:"下移",icon:P,onClick:G},{name:"置顶",icon:J,onClick:S},{name:"置底",icon:q,onClick:U},{name:"删除",icon:A,onClick:I},{name:"隐藏",icon:w,onClick:Z}],Y=()=>{const e=()=>{var o;const n=[...X],{targetIds:r}=O;if(r.length===0)return n;const{layerConfigs:l}=R;!!((o=l[r[0]])!=null&&o.lock)?n.push({name:"解锁",icon:v,onClick:y}):n.push({name:"锁定",icon:x,onClick:z}),r.length>1&&!M.hasSameGroup(r)&&n.push({name:"编组",icon:_,onClick:V});let h=M.findTopGroupLayer(r,!0);return h=h.filter(i=>l[i].type==="group"),h.length>0&&n.push({name:"解组",icon:F,onClick:B}),r.some(i=>!l[i].pid)||n.push({name:"移出分组",icon:$,onClick:T}),n},{visible:a,position:d}=H,L=e();return c.jsx(Q,{menus:L,visible:a,position:d})},Je=C(Y);export{Je as default};

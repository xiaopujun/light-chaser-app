import{r as a,b as d,j as l}from"./index-Vy1Yw5o7.js";import{D}from"./DragScaleProvider-Xr3oGa7d.js";import{c as x,e as i}from"./LayerManager-GjyFNgYQ.js";import{o as R}from"./Dialog-Zv92ba_c.js";import"./AntdIcon-H26mUnTY.js";import"./MainRouter-JVC0j7bk.js";import"./useZIndex-j0u8NYY7.js";import"./Accordion-3459iFJP.js";import"./Switch-JT6W9IDW.js";import"./UIContainer-Yl49M_pF.js";import"./QuestionCircleOutlined-QjJiUeOP.js";import"./Overflow-kXLebS6p.js";import"./GlobalMessage-xEmdGiIb.js";import"./Radio-WoN3Ah2C.js";import"./ColorPicker-EgERoCQ7.js";import"./CardPanel-WUJ30tpk.js";import"./Input-cgMnXtOp.js";import"./Grid-0zq_maPI.js";import"./Button-TSqYfOPg.js";const K=a.memo(R(m=>{const{children:p,onDoubleClick:h}=m,n=d.useRef(null),s=d.useRef(null),{canvasConfig:t}=x;return a.useEffect(()=>{const c=n.current,r=s.current;if(c&&r){const{setDsContentRef:u}=i;u(r);const g=new D({container:c,content:r,scaleCallback:e=>{const{scale:f,ratio:w}=e,{setScale:b,setRatio:v,rulerRef:o}=i;b(f),v(w),o==null||o.ruleWheel()},dragCallback:()=>{const{rulerRef:e}=i;e==null||e.ruleDrag()}});return()=>{g.destroy()}}},[]),l.jsx("div",{className:"designer-ds-container",ref:n,style:{overflow:"hidden",height:window.innerHeight-110,width:window.innerWidth-115,backgroundColor:"#434343",position:"relative"},children:l.jsx("div",{className:"designer-ds-content lc-drag-scale-provider",id:"designer-ds-content",ref:s,onDoubleClick:h,style:{width:t==null?void 0:t.width,height:t==null?void 0:t.height,background:"#1c1c1c",position:"absolute"},children:p})})}));export{K as default};

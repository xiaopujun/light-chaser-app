import{r as a,R as l,j as d}from"./index-OsS9UfkW.js";import{D as v}from"./DragScaleProvider-Xr3oGa7d.js";import{c as R,e as n}from"./LayerManager-yWnDoBOm.js";import{o as x}from"./mobxreact.esm-rNVktGB7.js";import{S as k}from"./ScaleAction-O7o3lc4T.js";import"./ObjectUtil-nMvTrJhh.js";import"./index-K2O65-hP.js";import"./index-APrWN4Qi.js";import"./LocalOperator-BbYzoZ36.js";import"./GlobalMessage-FQtvcjbG.js";import"./MainRouter-Z3gK7D7G.js";import"./useZIndex-g2cfol2D.js";import"./FetchUtil-Ivd_z0Im.js";const B=a.memo(x(m=>{const{children:p,onDoubleClick:h}=m,s=l.useRef(null),i=l.useRef(null),{canvasConfig:t}=R;return a.useEffect(()=>{const c=s.current,o=i.current;if(c&&o){const{setDsContentRef:u}=n;u(o);const g=new v({container:c,content:o,scaleCallback:e=>{const{scale:f,ratio:w}=e,{setScale:S,setRatio:b,rulerRef:r}=n;S(f),b(w),r==null||r.ruleWheel(),k.doScale(e.scale,e.scale)},dragCallback:()=>{const{rulerRef:e}=n;e==null||e.ruleDrag()}});return()=>{g.destroy()}}},[]),d.jsx("div",{className:"designer-ds-container",ref:s,style:{overflow:"hidden",height:window.innerHeight-110,width:window.innerWidth-115,backgroundColor:"#434343",position:"relative"},children:d.jsx("div",{className:"designer-ds-content lc-drag-scale-provider",id:"designer-ds-content",ref:i,onDoubleClick:h,style:{width:t==null?void 0:t.width,height:t==null?void 0:t.height,background:"#1c1c1c",position:"absolute"},children:p})})}));export{B as default};

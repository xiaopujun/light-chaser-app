var l=Object.defineProperty;var h=(i,e,t)=>e in i?l(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var o=(i,e,t)=>(h(i,typeof e!="symbol"?e+"":e,t),t);import{A as m,B as d}from"./FontGlobal-I0xzNbJH.js";import{r as p,j as r}from"./index-OsS9UfkW.js";import{C as g}from"./LayerManager-yWnDoBOm.js";import{O as f}from"./ObjectUtil-nMvTrJhh.js";import"./mobxreact.esm-rNVktGB7.js";import"./PreviewOpen-nQ2Iv4_U.js";import"./index-K2O65-hP.js";import"./LocalOperator-BbYzoZ36.js";import"./GlobalMessage-FQtvcjbG.js";import"./MainRouter-Z3gK7D7G.js";import"./useZIndex-g2cfol2D.js";import"./FetchUtil-Ivd_z0Im.js";import"./index-APrWN4Qi.js";class C extends p.Component{constructor(t){super(t);o(this,"eventHandlerMap",{});o(this,"onClick",()=>{"click"in this.eventHandlerMap&&this.eventHandlerMap.click()});this.state={...t}}render(){const{type:t,onLineUrl:n,localUrl:s,opacity:c}=this.state,a=t==="online"?n:s;return r.jsx("div",{style:{width:"100%",height:"100%"},onClick:this.onClick,children:a?r.jsx("img",{alt:"图片组件",style:{opacity:c},width:"100%",height:"100%",src:a}):r.jsx("div",{style:{color:"#9a9a9a",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx("div",{children:"请配置图片连接或上传图片"})})})}}const x=C;class A extends m{async create(e,t){this.config=t,this.container=e,this.instance=await g.createAndRender(e,x,t.style)}destroy(){this.instance=null,this.config=null}getConfig(){return this.config}update(e,t){var n,s;this.config=f.merge(this.config,e),t=t||{reRender:!0},t.reRender&&((s=this.instance)==null||s.setState((n=this.config)==null?void 0:n.style))}updateTheme(e){}registerEvent(){var e,t;if(this.instance){const n=(t=(e=this.config)==null?void 0:e.base)==null?void 0:t.id;this.instance.eventHandlerMap={click:()=>d.triggerComponentEvent(n,"click",this.config)}}}}export{A as default};

var g=Object.defineProperty;var p=(s,o,e)=>o in s?g(s,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[o]=e;var a=(s,o,e)=>(p(s,typeof o!="symbol"?o+"":o,e),e);import{r as C,j as r}from"./index-wY5bseHE.js";import{C as v}from"./ColorPicker-2gxUn56y.js";import x from"./Select-2Dof2XEt.js";import f from"./ColorsPicker-m5tcJ78d.js";import{U as V}from"./UIContainer-aDq5B8cI.js";import"./QuestionCircleOutlined-_KKQMd73.js";class M extends C.Component{constructor(e){super(e);a(this,"_generalValue","#252525");a(this,"_multiValue",["#252525"]);a(this,"controlled",!1);a(this,"state",{value:"#252525"});a(this,"modeChange",e=>{let{value:t}=this.state;switch(e){case"general":t=this._generalValue;break;case"multi":t=this._multiValue;break}const{onChange:l}=this.props;l&&l(t),this.controlled||this.setState({value:t})});a(this,"colorChange",e=>{const{onChange:t}=this.props;t&&t(e),this.controlled||this.setState({value:e})});a(this,"buildColorModeValue",e=>Array.isArray(e)?{color:e,mode:"multi"}:{color:e,mode:"general"});const{value:t,defaultValue:l}=e;this.controlled=!!t&&!l;const i=t||l||"#000000";this.state={value:i}}render(){const{value:e}=this.state,{padding:t,margin:l,tip:i,label:h,value:d,gridColumn:c}=this.props,{color:u,mode:n}=this.buildColorModeValue(this.controlled?d:e);return r.jsx(V,{tip:i,label:h,margin:l,padding:t,gridColumn:c,children:r.jsxs("div",{className:"lc-color-mode",children:[r.jsx("div",{className:"mode-select",style:{width:80},children:r.jsx(x,{value:n||"general",onChange:m=>this.modeChange(m),options:[{value:"general",label:"单色&渐变"},{value:"multi",label:"多色"}]})}),n==="general"&&r.jsx(v,{value:u,onChange:this.colorChange,width:100,height:16,showBorder:!0,radius:2,showText:!0}),n==="multi"&&r.jsx(f,{onChange:this.colorChange,canAdd:!0,value:u||["#a9a9a9"]})]})})}}export{M as default};

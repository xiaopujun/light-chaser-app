import{R as t,j as c}from"./index-OsS9UfkW.js";import{o as C}from"./mobxreact.esm-rNVktGB7.js";import{U as v,L as x,c as H,P as w}from"./FontGlobal-I0xzNbJH.js";import{d as y,a as z,e as V,f as B,g as T,h as G,l as D,i as S,j as U,k as b,m as I,n as R}from"./DesignerPage-eo07yA5W.js";import{L as M,e as Z,l as O}from"./LayerManager-yWnDoBOm.js";import{I as s}from"./index-K2O65-hP.js";import{D as P}from"./Down-uvD6wECP.js";import"./PreviewOpen-nQ2Iv4_U.js";import"./ObjectUtil-nMvTrJhh.js";import"./LocalOperator-BbYzoZ36.js";import"./GlobalMessage-FQtvcjbG.js";import"./MainRouter-Z3gK7D7G.js";import"./useZIndex-g2cfol2D.js";import"./FetchUtil-Ivd_z0Im.js";import"./System-UGwVndg7.js";import"./index-hcrqZ8so.js";import"./ResizeObserver.es-B32NGzNS.js";import"./Dialog-BERcuBcz.js";import"./Grid-pJgl1oS6.js";import"./UIContainer-QUMruXjD.js";import"./Help-EfSmZBRS.js";import"./Input-0x6URBKt.js";import"./MonacoEditor-ov8BpsQ9.js";import"./Button-tVc5ioar.js";import"./Plus-s0Jz5-eZ.js";import"./CheckOutlined-r3grTFMw.js";import"./collapse-aS6vX33V.js";import"./useForceUpdate-FVo-4i1b.js";import"./EyeOutlined-32DaWiZk.js";import"./omit--0Qnqbh8.js";import"./index-wIpC5sck.js";import"./Info-a_timmp6.js";import"./index-APrWN4Qi.js";import"./Switch-Xsscl7VA.js";import"./NumberInput-jcBc5L4J.js";import"./Select-QnvNqaJ3.js";import"./Radio-gqYk-AVU.js";import"./ThemeEditor-tlpmIS3d.js";import"./ColorPicker-Zriz_5ra.js";import"./index-p8ckIXOR.js";import"./Overflow-UKUJyBo6.js";import"./index-4x1LRhOc.js";import"./CardPanel-UxpYECmD.js";import"./Theme-XU3oEXi4.js";import"./BaseInfoStore-VzdD0w4k.js";const F=s("application-two",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("circle",{cx:"34.5",cy:"13.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}),t.createElement("circle",{cx:"34.5",cy:"34.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}),t.createElement("circle",{cx:"13.5",cy:"13.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}),t.createElement("circle",{cx:"13.5",cy:"34.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}))}),N=s("copy-one",!0,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M13 38H41V16H30V4H13V38Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M30 4L41 16",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M7 20V44H28",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 20H23",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}),t.createElement("path",{d:"M19 28H31",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),A=s("delete-one",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M15 12L16.2 5H31.8L33 12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M6 12H42",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37 12L35 43H13L11 12H37Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 35H29",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),_=s("graphic-stitching-three",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M24 14C26.7614 14 29 11.7614 29 9C29 6.23858 26.7614 4 24 4C21.2386 4 19 6.23858 19 9C19 11.7614 21.2386 14 24 14Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M24 44C26.7614 44 29 41.7614 29 39C29 36.2386 26.7614 34 24 34C21.2386 34 19 36.2386 19 39C19 41.7614 21.2386 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M14 19H4V29H14V19Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M44 19H34V29H44V19Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 9H9V19",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 39H9V29",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M29 9H40V19",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M29 39H39V29",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),$=s("link-right",!0,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M8 12V4H24V12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M24 36V44H8V36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M44 24L24 24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M16 34V14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M36 16L44 24L36 32",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),q=s("to-bottom-one",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M36 14L24 26L12 14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M12 34H36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),J=s("to-top-one",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M12 33L24 21L36 33",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M12 13H36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),K=s("up",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M13 30L25 18L37 30",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))});function Q(e){const{menus:a,visible:m,position:L}=e,n=o=>[130,o*33],r=()=>{const o=[];for(let i=0;i<a.length;i++){const k=a[i],d=k.icon;o.push(c.jsxs("div",{className:"menu-item",onClick:k.onClick,children:[c.jsx("label",{children:c.jsx(d,{})}),c.jsx("span",{children:k.name})]},i+""))}return o},l=(o,i)=>{const[k,d]=L,{innerWidth:f,innerHeight:j}=window;let E=k,g=d;return k+o>f&&(E=f-o),d+i>j&&(g=j-i),[E,g]},[W,h]=n(a.length),u=l(W,h);return c.jsx(c.Fragment,{children:m&&c.jsx("div",{className:"context-menu",style:{position:"fixed",top:u[1],left:u[0]},children:r()})})}const X=[{name:"复制",icon:N,onClick:G},{name:"上移",icon:K,onClick:D},{name:"下移",icon:P,onClick:S},{name:"置顶",icon:J,onClick:U},{name:"置底",icon:q,onClick:b},{name:"删除",icon:A,onClick:I},{name:"隐藏",icon:w,onClick:R}],Y=()=>{const e=()=>{var o;const n=[...X],{targetIds:r}=Z;if(r.length===0)return n;const{layerConfigs:l}=O;!!((o=l[r[0]])!=null&&o.lock)?n.push({name:"解锁",icon:v,onClick:y}):n.push({name:"锁定",icon:x,onClick:z}),r.length>1&&!M.hasSameGroup(r)&&n.push({name:"编组",icon:_,onClick:V});let h=M.findTopGroupLayer(r,!0);return h=h.filter(i=>l[i].type==="group"),h.length>0&&n.push({name:"解组",icon:F,onClick:B}),r.some(i=>!l[i].pid)||n.push({name:"移出分组",icon:$,onClick:T}),n},{visible:a,position:m}=H,L=e();return c.jsx(Q,{menus:L,visible:a,position:m})},Ae=C(Y);export{Ae as default};

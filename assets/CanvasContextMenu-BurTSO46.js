import{b as t,j as c}from"./index-D6TBVxtY.js";import{o as C}from"./mobxreact.esm-JD4dsIZD.js";import{U as v,L as x,c as H,P as w}from"./FontGlobal-BHni4hQg.js";import{d as y,a as z,b as V,c as B,r as b,e as G,l as T,f as S,g as U,h as D,i as I,j as Z}from"./DesignerPage-D-bu7JiD.js";import{aG as M,e as O,l as R,b5 as P}from"./ViewDesignerLoader-CNRtTEkR.js";import{I as s}from"./index-mp9x8JDr.js";import"./MainRouter-P8gdG0Bh.js";import"./zoom-CntXMyuy.js";import"./asyncToGenerator-D9auTsc5.js";import"./Compact-D4tWohay.js";import"./useZIndex-3ZqMTx_f.js";import"./pickAttrs-DFSuEiRl.js";import"./index-iX9Jx9cy.js";import"./button-DegSlPI3.js";import"./render-D4mr46_6.js";import"./NumberInput-Cmrm0tNn.js";import"./GlobalMessage-axQKYq8I.js";import"./FetchUtil-DGFO2YFu.js";import"./Overflow-zjdP-BIA.js";import"./index-CtupgoPG.js";import"./index-BAAI1CD0.js";import"./Input-3EOJ10a0.js";import"./System-Dw03ZM9Z.js";import"./ThemeEditor-BgywPbtB.js";import"./CheckBox-CSDxIqSw.js";import"./Info-B9OU6uGK.js";import"./Data-HJtzqNGY.js";import"./collapse-BbEVqHco.js";const F=s("application-two",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("circle",{cx:"34.5",cy:"13.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}),t.createElement("circle",{cx:"34.5",cy:"34.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}),t.createElement("circle",{cx:"13.5",cy:"13.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}),t.createElement("circle",{cx:"13.5",cy:"34.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}))}),N=s("copy-one",!0,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M13 38H41V16H30V4H13V38Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M30 4L41 16",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M7 20V44H28",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 20H23",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}),t.createElement("path",{d:"M19 28H31",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),A=s("delete-one",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M15 12L16.2 5H31.8L33 12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M6 12H42",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37 12L35 43H13L11 12H37Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 35H29",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),_=s("graphic-stitching-three",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M24 14C26.7614 14 29 11.7614 29 9C29 6.23858 26.7614 4 24 4C21.2386 4 19 6.23858 19 9C19 11.7614 21.2386 14 24 14Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M24 44C26.7614 44 29 41.7614 29 39C29 36.2386 26.7614 34 24 34C21.2386 34 19 36.2386 19 39C19 41.7614 21.2386 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M14 19H4V29H14V19Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M44 19H34V29H44V19Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 9H9V19",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 39H9V29",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M29 9H40V19",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M29 39H39V29",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),$=s("link-right",!0,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M8 12V4H24V12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M24 36V44H8V36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M44 24L24 24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M16 34V14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M36 16L44 24L36 32",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),q=s("to-bottom-one",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M36 14L24 26L12 14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M12 34H36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),J=s("to-top-one",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M12 33L24 21L36 33",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M12 13H36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),K=s("up",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M13 30L25 18L37 30",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))});function Q(e){const{menus:a,visible:L,position:m}=e,n=o=>[130,o*33],r=()=>{const o=[];for(let i=0;i<a.length;i++){const k=a[i],d=k.icon;o.push(c.jsxs("div",{className:"menu-item",onClick:k.onClick,children:[c.jsx("label",{children:c.jsx(d,{})}),c.jsx("span",{children:k.name})]},i+""))}return o},l=(o,i)=>{const[k,d]=m,{innerWidth:f,innerHeight:j}=window;let E=k,g=d;return k+o>f&&(E=f-o),d+i>j&&(g=j-i),[E,g]},[W,h]=n(a.length),u=l(W,h);return c.jsx(c.Fragment,{children:L&&c.jsx("div",{className:"context-menu",style:{position:"fixed",top:u[1],left:u[0]},children:r()})})}const X=[{name:"复制",icon:N,onClick:G},{name:"上移",icon:K,onClick:T},{name:"下移",icon:P,onClick:S},{name:"置顶",icon:J,onClick:U},{name:"置底",icon:q,onClick:D},{name:"删除",icon:A,onClick:I},{name:"隐藏",icon:w,onClick:Z}],Y=()=>{const e=()=>{var o;const n=[...X],{targetIds:r}=O;if(r.length===0)return n;const{layerConfigs:l}=R;!!((o=l[r[0]])!=null&&o.lock)?n.push({name:"解锁",icon:v,onClick:y}):n.push({name:"锁定",icon:x,onClick:z}),r.length>1&&!M.hasSameGroup(r)&&n.push({name:"编组",icon:_,onClick:V});let h=M.findTopGroupLayer(r,!0);return h=h.filter(i=>l[i].type==="group"),h.length>0&&n.push({name:"解组",icon:F,onClick:B}),r.some(i=>!l[i].pid)||n.push({name:"移出分组",icon:$,onClick:b}),n},{visible:a,position:L}=H,m=e();return c.jsx(Q,{menus:m,visible:a,position:L})},ye=C(Y);export{ye as default};

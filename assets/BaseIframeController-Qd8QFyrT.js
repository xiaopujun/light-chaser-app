var o=Object.defineProperty;var a=(i,e,t)=>e in i?o(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var s=(i,e,t)=>(a(i,typeof e!="symbol"?e+"":e,t),t);import{A as l,B as c}from"./FontGlobal-OJzIEJBO.js";import{C as d}from"./LayerManager-9_OZ_v7l.js";import{r as h,j as n}from"./index-CIZzpp4t.js";import{O as m}from"./FetchUtil-FMEOVjjY.js";import"./mobxreact.esm-QmaNsbsC.js";import"./PreviewOpen-ZH2J-uf_.js";import"./index-PQsxm07c.js";import"./index-Ky8VuNT2.js";import"./GlobalMessage-b_IUatJJ.js";import"./MainRouter-LJqlNU58.js";import"./useZIndex-C48Dwtsu.js";class f extends h.Component{constructor(t){super(t);s(this,"eventHandlerMap",{});s(this,"onLoad",()=>{"load"in this.eventHandlerMap&&this.eventHandlerMap.load()});this.state={...t}}render(){const{src:t}=this.state.style;return n.jsx(n.Fragment,{children:t===""?n.jsx("div",{style:{color:"#9a9a9a",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:n.jsx("div",{children:"请设置iframe地址"})}):n.jsx("div",{style:{height:"100%",display:"flex"},children:n.jsx("iframe",{title:"lc标准iframe组件",src:t,onLoad:this.onLoad,style:{width:"100%",height:"100%",border:"none"}})})})}}class I extends l{async create(e,t){this.config=t,this.container=e,this.instance=await d.createAndRender(e,f,t)}destroy(){this.instance=null,this.config=null}getConfig(){return this.config}update(e,t){var r;this.config=m.merge(this.config,e),t=t||{reRender:!0},t.reRender&&((r=this.instance)==null||r.setState(this.config))}registerEvent(){var e,t;if(this.instance){const r=(t=(e=this.config)==null?void 0:e.base)==null?void 0:t.id;this.instance.eventHandlerMap={load:()=>c.triggerComponentEvent(r,"load",this.config)}}}}export{I as BaseIframeController};

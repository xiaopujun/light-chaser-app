var Ht=Object.defineProperty;var Tt=(i,l,e)=>l in i?Ht(i,l,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[l]=e;var a=(i,l,e)=>(Tt(i,typeof l!="symbol"?l+"":l,e),e);import{r as d,A as G,_ as w,j as r,I as Nt,L as Y,R as le,a as Se}from"./index-Xz_xv9BX.js";import{m as Bt,a as Vt,b as Ke,c as $e,o as C}from"./mobxreact.esm-mgNSKNC1.js";import{D as ce,r as A,h as ie,d as x,f as Fe,l as ae,e as m,E as Pt,a as De,L as q,B as _t,b as At,c as Gt,g as Me,i as Ut,M as Kt,j as me,k as Ye,t as Ze,m as qe,n as Qe,o as Je,p as et,q as tt,s as nt,u as rt,v as de,w as $t,x as Ft,y as Wt,z as Xt,A as Yt,C as Zt,F as qt,G as Qt,H as Jt,I as en,J as tn,K as nn,N as rn,O as on,P as sn,Q as an,R as ln,S as cn,T as dn,U as hn,V as fn,W as un,X as gn,Y as pn,Z as mn,_ as vn}from"./LayerBuilder-23NAoZPq.js";import{O as xn}from"./lodash-yKXT05iH.js";import{L as ot,D as yn,I as kn}from"./index-wVcDQRpV.js";import st from"./Input-MBUoxGD6.js";import{D as Cn}from"./DeleteOutlined-0LET8l3r.js";import"./MonacoEditor-5a2nYetO.js";import"./Accordion-fVzLXKmC.js";import"./Switch-NYNERv4V.js";import"./UIContainer-5E4Em6al.js";import"./QuestionCircleOutlined-J2vj6sy2.js";import"./DatabaseFilled-xZt8FqD1.js";import"./Grid-XC7URVZ1.js";import"./Button-hXfgETs5.js";import"./Radio-9Fmm95dr.js";import"./Select-EOvG-Jwf.js";import"./ColorPicker-zRaZv7-A.js";import"./ItemPanel-E6FHvqgY.js";import"./LCGUI-3RqjhxCc.js";var wn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"};const Ln=wn;var it=function(l,e){return d.createElement(G,w(w({},l),{},{ref:e,icon:Ln}))};it.displayName="VerticalAlignTopOutlined";const jn=d.forwardRef(it);var bn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const Mn=bn;var at=function(l,e){return d.createElement(G,w(w({},l),{},{ref:e,icon:Mn}))};at.displayName="EyeInvisibleOutlined";const Dn=d.forwardRef(at);var Rn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const Sn=Rn;var lt=function(l,e){return d.createElement(G,w(w({},l),{},{ref:e,icon:Sn}))};lt.displayName="CopyOutlined";const En=d.forwardRef(lt);var zn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M912 820.1V203.9c28-9.9 48-36.6 48-67.9 0-39.8-32.2-72-72-72-31.3 0-58 20-67.9 48H203.9C194 84 167.3 64 136 64c-39.8 0-72 32.2-72 72 0 31.3 20 58 48 67.9v616.2C84 830 64 856.7 64 888c0 39.8 32.2 72 72 72 31.3 0 58-20 67.9-48h616.2c9.9 28 36.6 48 67.9 48 39.8 0 72-32.2 72-72 0-31.3-20-58-48-67.9zM888 112c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zM136 912c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-752c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm704 680H184V184h656v656zm48 72c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24z"}},{tag:"path",attrs:{d:"M288 474h448c8.8 0 16-7.2 16-16V282c0-8.8-7.2-16-16-16H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16zm56-136h336v64H344v-64zm-56 420h448c8.8 0 16-7.2 16-16V566c0-8.8-7.2-16-16-16H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16zm56-136h336v64H344v-64z"}}]},name:"group",theme:"outlined"};const In=zn;var ct=function(l,e){return d.createElement(G,w(w({},l),{},{ref:e,icon:In}))};ct.displayName="GroupOutlined";const On=d.forwardRef(ct);var Hn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const Tn=Hn;var dt=function(l,e){return d.createElement(G,w(w({},l),{},{ref:e,icon:Tn}))};dt.displayName="LockOutlined";const We=d.forwardRef(dt);var Nn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M736 550H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16h448c8.8 0 16-7.2 16-16V566c0-8.8-7.2-16-16-16zm-56 136H344v-64h336v64zm208 130c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm0 96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zM736 266H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16h448c8.8 0 16-7.2 16-16V282c0-8.8-7.2-16-16-16zm-56 136H344v-64h336v64zm208-194c39.8 0 72-32.2 72-72s-32.2-72-72-72-72 32.2-72 72 32.2 72 72 72zm0-96c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zM136 64c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm0 96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0 656c-39.8 0-72 32.2-72 72s32.2 72 72 72 72-32.2 72-72-32.2-72-72-72zm0 96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24z"}}]},name:"ungroup",theme:"outlined"};const Bn=Nn;var ht=function(l,e){return d.createElement(G,w(w({},l),{},{ref:e,icon:Bn}))};ht.displayName="UngroupOutlined";const Vn=d.forwardRef(ht);var Pn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"};const _n=Pn;var ft=function(l,e){return d.createElement(G,w(w({},l),{},{ref:e,icon:_n}))};ft.displayName="VerticalAlignBottomOutlined";const An=d.forwardRef(ft);class Gn extends d.Component{render(){return r.jsx("div",{className:"structure-header",children:this.props.children})}}class Un extends d.Component{render(){return r.jsx("div",{className:"structure-body",children:this.props.children})}}class Kn extends d.Component{render(){return r.jsx("div",{className:"structure-body-left",children:this.props.children})}}class $n extends d.Component{render(){return r.jsx("div",{id:"structureContent",className:"structure-body-content",children:this.props.children})}}class Fn extends d.Component{render(){return r.jsx("div",{className:"structure-body-right",children:this.props.children})}}class Wn extends d.Component{render(){return r.jsx("div",{className:"lc-designer-structure",children:this.props.children})}}class Xn extends d.Component{render(){return r.jsx("div",{className:"structure-foot",children:this.props.children})}}var j=(i=>(i.ALL="all",i.BASE="base",i.ORNAMENTAL="ornamental",i.BAR="bar",i.COLUMN="column",i.LINE="line",i.AREA="area",i.PIE="pie",i.PROGRESS="progress",i.SCATTER="scatter",i.RADAR="radar",i.ROSE="rose",i.WORD_CLOUD="word_cloud",i.HISTOGRAM="histogram",i.SUNBURST="sunburst",i.TREEMAP="treemap",i))(j||{});const Yn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='25'%20height='25'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18%206H8C6.89543%206%206%206.89543%206%208V18C6%2019.1046%206.89543%2020%208%2020H18C19.1046%2020%2020%2019.1046%2020%2018V8C20%206.89543%2019.1046%206%2018%206Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linejoin='round'/%3e%3cpath%20d='M18%2028H8C6.89543%2028%206%2028.8954%206%2030V40C6%2041.1046%206.89543%2042%208%2042H18C19.1046%2042%2020%2041.1046%2020%2040V30C20%2028.8954%2019.1046%2028%2018%2028Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linejoin='round'/%3e%3cpath%20d='M40%206H30C28.8954%206%2028%206.89543%2028%208V18C28%2019.1046%2028.8954%2020%2030%2020H40C41.1046%2020%2042%2019.1046%2042%2018V8C42%206.89543%2041.1046%206%2040%206Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linejoin='round'/%3e%3cpath%20d='M40%2028H30C28.8954%2028%2028%2028.8954%2028%2030V40C28%2041.1046%2028.8954%2042%2030%2042H40C41.1046%2042%2042%2041.1046%2042%2040V30C42%2028.8954%2041.1046%2028%2040%2028Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linejoin='round'/%3e%3c/svg%3e",Zn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='25'%20height='25'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%206V42H42'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M18%2034H14'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M26%2026H14'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M42%2018H14'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M34%2010L14%2010'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",qn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='25'%20height='25'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M4%2042H44H4Z'%20fill='none'/%3e%3cpath%20d='M4%2042H44'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3crect%20x='8'%20y='28'%20width='6'%20height='14'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linejoin='round'/%3e%3crect%20x='21'%20y='18'%20width='6'%20height='24'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linejoin='round'/%3e%3crect%20x='34'%20y='6'%20width='6'%20height='36'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linejoin='round'/%3e%3c/svg%3e",Qn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='25'%20height='25'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18%2024L12%2033L4%2028.5V42H44V15L37%2023L31%2018L24%2026L18%2024Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%2028.5V17L11%2023L16.5%2015L22.5%2018L31%209L36.5%2013.5L44%206V15.5'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Jn="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='25'%20height='25'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M44%2024C44%2035.0457%2035.0457%2044%2024%2044C12.9543%2044%204%2035.0457%204%2024C4%2012.9543%2012.9543%204%2024%204V24H44Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M43.0844%2018H30V4.91553C36.2202%206.86917%2041.1308%2011.7798%2043.0844%2018Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",er="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='25'%20height='25'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%206V42H42'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M20%2024C22.2091%2024%2024%2022.2091%2024%2020C24%2017.7909%2022.2091%2016%2020%2016C17.7909%2016%2016%2017.7909%2016%2020C16%2022.2091%2017.7909%2024%2020%2024Z'%20fill='%23afafaf'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M37%2016C39.7614%2016%2042%2013.7614%2042%2011C42%208.23858%2039.7614%206%2037%206C34.2386%206%2032%208.23858%2032%2011C32%2013.7614%2034.2386%2016%2037%2016Z'%20fill='%23afafaf'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M15%2036C16.6569%2036%2018%2034.6569%2018%2033C18%2031.3431%2016.6569%2030%2015%2030C13.3431%2030%2012%2031.3431%2012%2033C12%2034.6569%2013.3431%2036%2015%2036Z'%20fill='%23afafaf'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M33%2032C34.6569%2032%2036%2030.6569%2036%2029C36%2027.3431%2034.6569%2026%2033%2026C31.3431%2026%2030%2027.3431%2030%2029C30%2030.6569%2031.3431%2032%2033%2032Z'%20fill='%23afafaf'/%3e%3c/svg%3e",tr="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='25'%20height='25'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6%206V42H42'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14%2034L22%2018L32%2027L42%206'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",nr="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='25'%20height='25'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2024C4%2035.0457%2012.9543%2044%2024%2044V44C35.0457%2044%2044%2035.0457%2044%2024C44%2012.9543%2035.0457%204%2024%204'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M36%2024C36%2017.3726%2030.6274%2012%2024%2012C17.3726%2012%2012%2017.3726%2012%2024C12%2030.6274%2017.3726%2036%2024%2036V36'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",rr="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='25'%20height='25'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M28.3117%2027.8317C31.6858%2024.4575%2029.5584%2016.8596%2023.5599%2010.8611C17.5615%204.86265%209.96351%202.73522%206.58938%206.10935C3.21525%209.48348%205.34269%2017.0815%2011.3411%2023.0799C17.3396%2029.0784%2024.9376%2031.2058%2028.3117%2027.8317Z'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M28.3117%2019.2621C31.6858%2022.6362%2029.5584%2030.2342%2023.56%2036.2326C17.5615%2042.2311%209.96352%2044.3585%206.58938%2040.9844C3.21525%2037.6103%205.34269%2030.0123%2011.3411%2024.0138C17.3396%2018.0154%2024.9376%2015.8879%2028.3117%2019.2621Z'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M19.6883%2027.8317C16.3142%2024.4575%2018.4416%2016.8596%2024.44%2010.8611C30.4385%204.86265%2038.0365%202.73522%2041.4106%206.10935C44.7847%209.48348%2042.6573%2017.0815%2036.6589%2023.0799C30.6604%2029.0784%2023.0624%2031.2058%2019.6883%2027.8317Z'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M19.6883%2019.2621C16.3142%2022.6362%2018.4416%2030.2342%2024.4401%2036.2326C30.4385%2042.2311%2038.0365%2044.3585%2041.4106%2040.9844C44.7847%2037.6103%2042.6573%2030.0123%2036.6589%2024.0138C30.6604%2018.0154%2023.0624%2015.888%2019.6883%2019.2621Z'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",or="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='25'%20height='25'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19%207.99991L28%2015.9999L38.0323%2010.1097L33%2020.9999L42%2028.9999L30%2027.9999L25.5%2037.9999L23%2026.9999L11.0004%2025.9999L21.5082%2019.6499L19%207.99991Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M8%2042.0205L23%2027'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'/%3e%3c/svg%3e",sr="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='25'%20height='25'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.9999%2024V12M23.9999%2024L13.5%2030.0621L23.9999%2024ZM23.9999%2024L34.4998%2030.0621L23.9999%2024Z'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14%2016C14%2018.2091%2012.2091%2020%2010%2020C7.79086%2020%206%2018.2091%206%2016C6%2013.7909%207.79086%2012%2010%2012C12.2091%2012%2014%2013.7909%2014%2016Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M14%2032C14%2034.2091%2012.2091%2036%2010%2036C7.79086%2036%206%2034.2091%206%2032C6%2029.7909%207.79086%2028%2010%2028C12.2091%2028%2014%2029.7909%2014%2032Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M28%2040C28%2042.2091%2026.2091%2044%2024%2044C21.7909%2044%2020%2042.2091%2020%2040C20%2037.7909%2021.7909%2036%2024%2036C26.2091%2036%2028%2037.7909%2028%2040Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M42%2032C42%2034.2091%2040.2091%2036%2038%2036C35.7909%2036%2034%2034.2091%2034%2032C34%2029.7909%2035.7909%2028%2038%2028C40.2091%2028%2042%2029.7909%2042%2032Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M42%2016C42%2018.2091%2040.2091%2020%2038%2020C35.7909%2020%2034%2018.2091%2034%2016C34%2013.7909%2035.7909%2012%2038%2012C40.2091%2012%2042%2013.7909%2042%2016Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M28%208C28%2010.2091%2026.2091%2012%2024%2012C21.7909%2012%2020%2010.2091%2020%208C20%205.79086%2021.7909%204%2024%204C26.2091%204%2028%205.79086%2028%208Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='3'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",ir=()=>[{icon:Yn,name:"全部",classify:j.ALL},{icon:sr,name:"基础",classify:j.BASE},{icon:or,name:"装饰",classify:j.ORNAMENTAL},{icon:Zn,name:"条形图",classify:j.BAR},{icon:qn,name:"柱状图",classify:j.COLUMN},{icon:tr,name:"折线图",classify:j.LINE},{icon:Qn,name:"面积图",classify:j.AREA},{icon:Jn,name:"饼图",classify:j.PIE},{icon:nr,name:"进度图",classify:j.PROGRESS},{icon:er,name:"散点图",classify:j.SCATTER},{icon:rr,name:"玫瑰图",classify:j.ROSE}];class ar{constructor(){a(this,"classifies",[]);a(this,"classifyKey","all");a(this,"doInit",()=>{this.classifies=ir()});a(this,"doClear",()=>{this.classifies=[]});a(this,"setClassifyKey",l=>{this.classifyKey=l});Bt(this)}}const ve=new ar;class lr{constructor(){a(this,"compInfoArr",[]);a(this,"compKey","");a(this,"visible",!1);a(this,"doInit",()=>{const l=[],{definitionMap:e}=ce.getLoader();e&&Object.keys(e).forEach(t=>{let n=e[t].getBaseInfo();n.compKey!=="group"&&l.push(n)}),this.compInfoArr=l});a(this,"setVisible",l=>this.visible=l);a(this,"setCompKey",l=>this.compKey=l);Vt(this,{compKey:Ke,visible:Ke,setVisible:$e,setCompKey:$e})}}const Z=new lr;class cr extends d.Component{constructor(e){super(e);a(this,"changeClassifyKey",e=>{const{setClassifyKey:t}=ve,{setVisible:n,visible:s}=Z;t(e.currentTarget.id),s||n&&n(!0)});a(this,"buildClassifyList",()=>{const{classifies:e}=ve;let t=[];for(let n=0;n<e.length;n++){const{icon:s,name:o,classify:c}=e[n];t.push(r.jsxs("div",{className:"sort-item",id:c,onClick:this.changeClassifyKey,children:[r.jsx("div",{className:"sort-item-icon",children:r.jsx("img",{style:{width:20},src:s,alt:"all"})}),r.jsx("span",{className:"sort-item-content",children:o})]},n+""))}return t});const{doInit:t}=ve;t&&t()}render(){const e=this.buildClassifyList();return r.jsx("div",{className:"lc-charts-sort",style:{overflowY:"scroll"},children:e})}}const dr=C(cr);class hr extends d.Component{render(){return r.jsx(dr,{})}}const fr=C(hr);class ur extends d.Component{constructor(){super(...arguments);a(this,"menuChange",e=>{const{setActiveMenu:t,setContentVisible:n}=A;t&&t(e.currentTarget.id),n&&n(!0)});a(this,"buildMenuList",()=>{const{menus:e}=A;return e.length===0?r.jsxs("div",{style:{writingMode:"vertical-rl",color:"#ced2d8",letterSpacing:"8px",padding:7,fontSize:12},children:[r.jsx(Nt,{style:{fontSize:15,position:"relative",left:2,marginBottom:7}}),"双击组件激活..."]}):e.map(t=>{const n=t.icon;return r.jsxs("div",{className:"menu-item",id:t.key,onClick:this.menuChange,children:[r.jsx("div",{className:"item-icon",children:r.jsx(n,{})}),r.jsx("div",{className:"item-content",children:t.name})]},t.key)})})}render(){return r.jsx("div",{className:"lc-config-menu",children:r.jsx("div",{className:"menu-list",children:this.buildMenuList()})})}}const gr=C(ur);class pr extends d.Component{constructor(){super(...arguments);a(this,"createProxy",e=>new Proxy(e,{get(t,n){const s=t[n];return typeof s=="function"&&s.name==="update"?new Proxy(s,{apply(o,c,f){const u=f[0],p=xn.getOriginValue(c.config,f[0]);return ie.doStyleUpd(u,p),o.apply(c,f)}}):s}}));a(this,"buildConfigContent",()=>{const{compController:e}=x;let{activeMenu:t,activeElem:n}=A,s=ce.getLoader().definitionMap[n.type+""];if(!s)return;const c=s.getMenuToConfigContentMap()[t],f=this.createProxy(e[n.id+""]);return r.jsx(d.Suspense,{fallback:r.jsx(Y,{}),children:r.jsx(c,{controller:f})})});a(this,"onClose",()=>{const{setContentVisible:e}=A;e&&e(!1)})}render(){const{activeMenu:e,menus:t}=A;let n="";for(let s=0;s<t.length;s++)if(t[s].key===e){n=t[s].name;break}return r.jsxs("div",{className:"lc-config-panel",children:[r.jsxs("div",{className:"lc-panel-top",children:[r.jsx("div",{className:"panel-title",children:r.jsx("span",{children:n})}),r.jsx("div",{className:"panel-operate",onClick:this.onClose,children:r.jsx(ot,{})})]}),r.jsx("div",{className:"lc-panel-content",children:this.buildConfigContent()})]})}}const mr=C(pr);class vr extends d.Component{render(){const{visible:l}=A;return r.jsxs(r.Fragment,{children:[r.jsx(gr,{}),l&&r.jsx(mr,{})]})}}const xr=C(vr);class yr extends d.Component{constructor(){super(...arguments);a(this,"hotkeys",[{name:"保存项目",key:"ctrl + s"},{name:"复制组件",key:"ctrl + v"},{name:"锁定组件",key:"ctrl + l"},{name:"解锁组件",key:"ctrl + shift + l"},{name:"隐藏组件",key:"ctrl + h"},{name:"开/关辅助边框",key:"ctrl + k"},{name:"元素置顶",key:"ctrl + up-arrow(方向上键)"},{name:"元素置底",key:"ctrl + down-arrow(方向下键)"},{name:"删除组件",key:"delete"},{name:"缩放画布",key:"alt + wheel(鼠标滑轮)"},{name:"拖拽画布",key:"长按鼠标右键"},{name:"组件上移",key:"方向上键"},{name:"组件下移",key:"方向下键"},{name:"组件左移",key:"方向左键"},{name:"组件右移",key:"方向右键"},{name:"组件上扩大",key:"ctrl + shift + 方向上键"},{name:"组件下扩大",key:"ctrl + shift + 方向下键"},{name:"组件左扩大",key:"ctrl + shift + 方向左键"},{name:"组件右扩大",key:"ctrl + shift + 方向右键"},{name:"组件上缩小",key:"ctrl + alt + 方向上键"},{name:"组件下缩小",key:"ctrl + alt + 方向下键"},{name:"组件左缩小",key:"ctrl + alt + 方向左键"},{name:"组件右缩小",key:"ctrl + alt + 方向右键"},{name:"撤销",key:"ctrl + z"},{name:"重做",key:"ctrl + shift + z"},{name:"打开/关闭项目设置",key:"ctrl + 1"},{name:"打开/关闭画布设置",key:"ctrl + 2"},{name:"打开/关闭全局主题设置",key:"ctrl + 3"},{name:"打开/关闭图层",key:"ctrl + 4"},{name:"打开/关闭快捷键说明",key:"ctrl + 5"},{name:"编组",key:"ctrl + g"},{name:"解除编组",key:"ctrl + shift + g"}])}render(){return r.jsx("div",{className:"lc-hotkey-des",style:{color:"white"},children:this.hotkeys.map((e,t)=>r.jsxs("div",{className:"hotkey-des-item",children:[r.jsx("div",{className:"hotkey-content",children:r.jsx("code",{children:e.key})}),r.jsx("div",{className:"hotkey-des",children:e.name})]},t))})}}const kr="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='30'%20height='30'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M42%207H6C4.89543%207%204%207.89543%204%209V37C4%2038.1046%204.89543%2039%206%2039H42C43.1046%2039%2044%2038.1046%2044%2037V9C44%207.89543%2043.1046%207%2042%207Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='4'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2019H14'%20stroke='%23afafaf'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M21%2019H23'%20stroke='%23afafaf'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M29%2019H36'%20stroke='%23afafaf'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M12%2028H36'%20stroke='%23afafaf'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Cr="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'?%3e%3csvg%20width='30'%20height='30'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%2011.9143L24%2019L44%2011.9143L24%205L4%2011.9143Z'%20fill='none'%20stroke='%23afafaf'%20stroke-width='4'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%2020L24%2027L44%2020'%20stroke='%23afafaf'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%2028L24%2035L44%2028'%20stroke='%23afafaf'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%2036L24%2043L44%2036'%20stroke='%23afafaf'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e";class wr extends d.Component{constructor(){super(...arguments);a(this,"toggleHotKeyDes",()=>{const{hotKeyVisible:e,setHotKeyVisible:t}=Fe;t(!e)});a(this,"toggleLayerList",()=>{const{setVisible:e,visible:t}=ae;e&&e(!t)})}render(){const{layerConfigs:e,projectConfig:{name:t,state:n}}=x,{hotKeyVisible:s}=Fe,{scale:o}=m;let c="";switch(n){case"0":c="草稿";break;case"1":c="发布";break;case"2":c="封存";break}return r.jsxs("div",{className:"lc-designer-footer",children:[r.jsxs("div",{className:"footer-left",children:[r.jsxs("div",{className:"footer-item",onClick:this.toggleHotKeyDes,children:[r.jsx("img",{width:16,alt:"快捷键",src:kr})," ",r.jsx("span",{style:{position:"relative",top:2},children:"快捷键"})]}),r.jsxs("div",{className:"footer-item",onClick:this.toggleLayerList,children:[r.jsx("img",{width:16,alt:"图层",src:Cr})," ",r.jsx("span",{style:{position:"relative",top:2},children:"图层"})]})]}),r.jsxs("div",{className:"footer-right",children:[r.jsxs("div",{className:"right-info-item",children:["缩放 : ",(o*100).toFixed(0),"%"]}),r.jsxs("div",{className:"right-info-item",children:["图层 : ",Object.keys(e).length]}),r.jsxs("div",{className:"right-info-item",children:["项目 : ",t]}),r.jsxs("div",{className:"right-info-item",children:["状态 : ",c]})]}),r.jsx(yn,{title:"快捷键说明",visible:s,width:500,onClose:this.toggleHotKeyDes,children:r.jsx(yr,{})})]})}}const Lr=C(wr);class jr{constructor(){a(this,"target",null);a(this,"dragTarget",null);a(this,"position",{x:0,y:0})}registerDragger(){this.onDragStart(this.target),this.onDragEnd(this.target)}}class br extends jr{constructor(e,t,n){super();a(this,"position",{x:0,y:0});a(this,"onDragEnd",()=>{this.dragTarget.addEventListener("pointerup",e=>{e.button===0&&(this.dragTarget.releasePointerCapture(e.pointerId),this.dragTarget.removeEventListener("pointermove",this.onDragMove))})});a(this,"onDragMove",e=>{this.position.x+=e.movementX,this.position.y+=e.movementY,this.target.style.transform="translate("+this.position.x+"px, "+this.position.y+"px)"});a(this,"onDragStart",()=>{this.dragTarget.addEventListener("pointerdown",e=>{e.button===0&&(this.dragTarget.setPointerCapture(e.pointerId),this.dragTarget.addEventListener("pointermove",this.onDragMove))})});this.target=e,this.dragTarget=t,this.registerDragger(),n&&(this.position=n)}}class ut extends d.Component{constructor(){super(...arguments);a(this,"panelRef",null);a(this,"dragTargetRef",null);a(this,"onClose",()=>{const{onClose:e}=this.props;e&&e()})}componentDidMount(){const{initPosition:e={x:0,y:0}}=this.props;this.dragTargetRef&&this.panelRef&&new br(this.panelRef,this.dragTargetRef,e)}render(){const{initPosition:e={x:0,y:0},title:t,className:n,width:s}=this.props;return r.jsxs("div",{className:`float-panel ${n}`,style:{transform:`translate(${e.x}px, ${e.y}px)`,width:s},ref:o=>this.panelRef=o,children:[r.jsxs("div",{className:"panel-title",children:[r.jsx("div",{className:"title-left",children:t}),r.jsx("div",{ref:o=>this.dragTargetRef=o,className:"title-drag-target",style:{width:"50%",height:"100%"}}),r.jsx("div",{className:"title-right",onClick:this.onClose,children:r.jsx("span",{children:r.jsx(ot,{})})})]}),this.props.children]})}}class Mr extends d.Component{constructor(e){super(e);a(this,"dragStart",e=>{if(e.target.classList.contains("droppable-element")){const t=e.target;e.dataTransfer.setData("type",t.getAttribute("data-type"))}});a(this,"dragover",e=>{e.preventDefault()});a(this,"drop",e=>{e.preventDefault();const t=e.dataTransfer.getData("type");if(!t)return;const{scale:n,dsContentRef:s}=m,o=s==null?void 0:s.getBoundingClientRect(),c=(e.clientX-((o==null?void 0:o.x)||0))/n,f=(e.clientY-((o==null?void 0:o.y)||0))/n;this.addItem(t,[c,f])});a(this,"addItem",(e,t=[0,0])=>{const{addItem:n}=x;let{maxLevel:s,setMaxLevel:o,setAddRecordCompId:c}=m;const{definitionMap:f}=Pt.getInstance(),{compName:u,width:p=320,height:g=200}=f[e].getBaseInfo();let v={name:u,type:e,x:Math.round(t[0]),y:Math.round(t[1]),id:kn.generateId(),lock:!1,hide:!1,order:++s,width:p,height:g};c(v.id),o&&o(s),n&&n(v)});a(this,"getChartDom",()=>{let e=[],{classifyKey:t}=ve,{compInfoArr:n,compKey:s}=Z;t!=="all"&&(n=n.filter(o=>o.typeKey===t)),s!==""&&(n=n.filter(o=>o.compName.indexOf(s)>=0));for(let o=0;o<n.length;o++){let c=n[o];const{compName:f,compKey:u}=c;let g=ce.getLoader().definitionMap[u].getChartImg();e.push(r.jsx("div",{className:"list-item droppable-element",draggable:!0,onDoubleClick:()=>this.addItem(u),"data-type":u,"data-name":f,children:r.jsxs("div",{style:{pointerEvents:"none"},children:[r.jsxs("div",{className:"item-header",ref:"drag-target",children:[r.jsx("div",{className:"item-name",children:f}),r.jsx("div",{className:"item-type",children:"Antd"})]}),r.jsx("div",{className:"item-content",children:r.jsx("img",{src:g,alt:"组件预览图"})})]})},o+""))}return e});a(this,"onClose",()=>{const{setVisible:e}=Z;e&&e(!1)});a(this,"searchChart",e=>{const{setCompKey:t}=Z;t&&t(e)});const{doInit:t}=Z;t&&t()}componentDidMount(){const e=document.getElementById("designer-ds-content"),t=document.getElementById("component-drag-container");t&&t.addEventListener("dragstart",this.dragStart),e&&e.addEventListener("dragover",this.dragover),e&&e.addEventListener("drop",this.drop)}componentWillUnmount(){const e=document.getElementById("designer-ds-content"),t=document.getElementById("component-drag-container");t&&t.removeEventListener("dragstart",this.dragStart),e&&e.removeEventListener("dragover",this.dragover),e&&e.removeEventListener("drop",this.drop)}render(){return r.jsxs(ut,{className:"comp-list",title:"组件列表",onClose:this.onClose,initPosition:{x:60,y:-window.innerHeight+50},width:190,children:[r.jsx("div",{className:"list-search",children:r.jsx(st,{placeholder:"搜索图层",onChange:this.searchChart})}),r.jsx("div",{className:"list-items",id:"component-drag-container",children:this.getChartDom()})]})}}const Dr=C(Mr);class Rr extends d.Component{constructor(){super(...arguments);a(this,"floatPanelRef",null);a(this,"layerItemsContainerRef",null);a(this,"cancelSelected",e=>{var n;if(!this.floatPanelRef)return;const{panelRef:t}=this.floatPanelRef;if(t&&t.contains(e.target)&&!((n=this.layerItemsContainerRef)!=null&&n.contains(e.target))){const{setTargetIds:s,targetIds:o}=m;o.length>0&&s([])}});a(this,"onClose",()=>{const{setVisible:e}=ae;e&&e(!1)});a(this,"searchLayer",e=>{const{setContent:t}=ae;t&&t(e)});a(this,"buildLayerList",()=>{const{layerConfigs:e}=x,{searchContent:t}=ae;if(!t||t==="")return De.buildLayerList(e);let n={};return t===":hide"?Object.values(e).forEach(o=>{o.hide&&o.type!=="group"&&(n[o.id]=o)}):t===":lock"?Object.values(e).forEach(o=>{o.lock&&o.type!=="group"&&(n[o.id]=o)}):Object.values(e).forEach(o=>{var c;(c=o.name)!=null&&c.includes(t)&&o.type!=="group"&&(n[o.id]=o)}),q.findPathGroupLayer(Object.keys(n)).forEach(o=>{n[o]=e[o]}),De.buildLayerList(n)})}componentDidMount(){var e,t;(t=(e=this.floatPanelRef)==null?void 0:e.panelRef)==null||t.addEventListener("click",this.cancelSelected)}componentWillUnmount(){var e,t;(t=(e=this.floatPanelRef)==null?void 0:e.panelRef)==null||t.removeEventListener("click",this.cancelSelected)}render(){return r.jsxs(ut,{ref:e=>this.floatPanelRef=e,title:"图层",onClose:this.onClose,initPosition:{x:250,y:-window.innerHeight+50},className:"layer-list",children:[r.jsx("div",{className:"list-search",children:r.jsx(st,{placeholder:"搜索图层",onChange:this.searchLayer})}),r.jsx("div",{className:"layer-items",children:r.jsx("div",{ref:e=>this.layerItemsContainerRef=e,children:this.buildLayerList()})})]})}}const Sr=C(Rr);class Er extends d.Component{render(){const{visible:l}=Z,{visible:e}=ae;return r.jsxs(r.Fragment,{children:[l&&r.jsx(Dr,{}),e&&r.jsx(Sr,{})]})}}const zr=C(Er),Ir=le.lazy(()=>Se(()=>import("./LayerBuilder-23NAoZPq.js").then(i=>i.a3),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]))),Or=le.lazy(()=>Se(()=>import("./LayerBuilder-23NAoZPq.js").then(i=>i.a2),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]))),Hr=le.lazy(()=>Se(()=>import("./LayerBuilder-23NAoZPq.js").then(i=>i.a4),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32])));class Tr extends d.Component{constructor(){super(...arguments);a(this,"buildHeaderList",()=>{let e=[];const{headerItemInstances:t}=ce.getLoader();for(let n=0;n<t.length;n++){const{icon:s,name:o,onClick:c}=t[n];e.push(r.jsx("div",{className:"right-item",onClick:c,children:r.jsxs("span",{className:"item-span",children:[r.jsx(s,{})," ",o]})},n+""))}return e})}render(){const{canvasVisible:e,projectVisible:t,themeVisible:n,bluePrintVisible:s}=At,o=this.buildHeaderList();return r.jsxs("div",{className:"designer-header",children:[r.jsx("div",{className:"header-left",children:r.jsx("div",{className:"header-title",children:"LIGHT CHASER"})}),r.jsx("div",{className:"header-right",children:o}),e&&r.jsx(d.Suspense,{fallback:r.jsx(Y,{}),children:r.jsx(Or,{})}),t&&r.jsx(d.Suspense,{fallback:r.jsx(Y,{}),children:r.jsx(Ir,{})}),n&&r.jsx(d.Suspense,{fallback:r.jsx(Y,{}),children:r.jsx(Hr,{})}),s&&r.jsx(d.Suspense,{fallback:r.jsx(Y,{}),children:r.jsx(_t,{})})]})}}const Nr=C(Tr);var Re=function(i,l){return Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Re(i,l)};function Br(i,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");Re(i,l);function e(){this.constructor=i}i.prototype=l===null?Object.create(l):(e.prototype=l.prototype,new e)}var Vr=function(i){Br(l,i);function l(){var t=i!==null&&i.apply(this,arguments)||this;return t.state={scrollPos:0},t.width=0,t.height=0,t._zoom=0,t._rulerScale=0,t._observer=null,t._checkResize=function(){t.resize()},t}var e=l.prototype;return e.render=function(){var t=this.props;return this._zoom=t.zoom,d.createElement("canvas",{ref:Gt(this,"canvasElement"),style:this.props.style})},e.componentDidMount=function(){var t=this.props;this.state.scrollPos=t.defaultScrollPos||0;var n=this.canvasElement,s=n.getContext("2d",{alpha:!1});this.canvasContext=s,t.useResizeObserver?(this._observer=new ResizeObserver(this._checkResize),this._observer.observe(n,{box:"border-box"})):this.resize()},e.componentDidUpdate=function(){this.resize()},e.componentWillUnmount=function(){var t;this.state.scrollPos=0,(t=this._observer)===null||t===void 0||t.disconnect()},e.getScrollPos=function(){return this.state.scrollPos},e.scroll=function(t,n){this.draw(t,n)},e.resize=function(t){var n=this.canvasElement,s=this.props,o=s.width,c=s.height,f=s.scrollPos,u=this._getRulerScale();this.width=o||n.offsetWidth,this.height=c||n.offsetHeight,n.width=this.width*u,n.height=this.height*u,this.draw(f,t)},e.draw=function(t,n){t===void 0&&(t=this.state.scrollPos),n===void 0&&(n=this._zoom),this._zoom=n;var s=this.props,o=s,c=o.unit,f=o.type,u=o.backgroundColor,p=o.lineColor,g=o.textColor,v=o.textBackgroundColor,k=o.direction,O=o.negativeRuler,D=O===void 0?!0:O,he=o.segment,U=he===void 0?10:he,H=o.textFormat,K=o.range,y=K===void 0?[-1/0,1/0]:K,Q=o.rangeBackgroundColor,T=o.selectedRanges,Ee=o.selectedBackgroundColor,ze=o.lineWidth,xt=ze===void 0?1:ze,yt=o.selectedRangesText,Ie=o.selectedRangesTextColor,kt=Ie===void 0?"#44aaff":Ie,Oe=o.selectedRangesTextOffset,Ct=Oe===void 0?[0,0]:Oe,$=this._getRulerScale(),J=this.width,ee=this.height,wt=this.state;wt.scrollPos=t;var h=this.canvasContext,b=f==="horizontal",He=D!==!1,Lt=s.font||"10px sans-serif",xe=s.textAlign||"left",jt=s.textOffset||[0,0],ye=b?ee:J,ke=Me("".concat(s.mainLineSize||"100%"),ye),bt=Me("".concat(s.longLineSize||10),ye),Mt=Me("".concat(s.shortLineSize||7),ye),R=s.lineOffset||[0,0];switch(u==="transparent"?h.clearRect(0,0,J*$,ee*$):(h.rect(0,0,J*$,ee*$),h.fillStyle=u,h.fill()),h.save(),h.scale($,$),h.strokeStyle=p,h.lineWidth=xt,h.font=Lt,h.fillStyle=g,h.textAlign=xe,k){case"start":h.textBaseline="top";break;case"center":h.textBaseline="middle";break;case"end":h.textBaseline="bottom";break}h.translate(.5,0),h.beginPath();for(var Ce=b?J:ee,fe=n*c,we=Math.floor(t*n/fe),Dt=Math.ceil((t*n+Ce)/fe),Te=Dt-we,Ne=Math.max(["left","center","right"].indexOf(xe)-1,-1),S=b?ee:J,te=[],N=0;N<=Te;++N){var F=(N+we)*c,Le="".concat(F);H&&(Le=H(F));var Rt=h.measureText(Le).width;te.push({color:g,offset:jt,backgroundColor:v,value:F,text:Le,textSize:Rt})}if(Ee!=="transparent"&&(T!=null&&T.length)&&T.forEach(function(M){var B=Math.max(M[0],y[0],D?-1/0:0),E=Math.min(M[1],y[1]),re=(B-t)*n,oe=(E-B)*n;yt&&M.forEach(function(V){var z="".concat(V);H&&(z=H(V));var P=h.measureText(z).width,I=V*n,pe=I+P;Ut(te,function(X,se){var _=X.value,It=X.textSize,Ue=_*n,Ot=Ue+It;Ue<=pe&&I<=Ot&&te.splice(se,1)}),te.push({value:V,color:kt,offset:Ct,text:z,textSize:P})}),!(oe<=0)&&(h.save(),h.fillStyle=Ee,b?h.fillRect(re,0,oe,S):h.fillRect(0,re,S,oe),h.restore())}),Q!=="transparent"&&y[0]!==-1/0&&y[1]!==1/0){var Be=(y[0]-t)*n,Ve=(y[1]-y[0])*n;h.save(),h.fillStyle=Q,b?h.fillRect(Be,0,Ve,S):h.fillRect(0,Be,S,Ve),h.restore()}for(var N=0;N<=Te;++N){var F=N+we;if(!(!He&&F<0))for(var Pe=F*c,St=(Pe-t)*n,W=0;W<U;++W){var ue=St+W/U*fe,_e=Pe+W/U*c;if(!(ue<0||ue>=Ce||_e<y[0]||_e>y[1])){var ge=W===0?ke:W%2===0?bt:Mt,ne=0;switch(k){case"start":ne=0;break;case"center":ne=S/2-ge/2;break;case"end":ne=S-ge;break}var Ae=b?[ue+R[0],ne+R[1]]:[ne+R[0],ue+R[1]],je=Ae[0],be=Ae[1],Ge=b?[je,be+ge]:[je+ge,be],Et=Ge[0],zt=Ge[1];h.moveTo(je+R[0],be+R[1]),h.lineTo(Et+R[0],zt+R[1])}}}h.stroke(),te.forEach(function(M){var B=M.value,E=M.offset,re=M.backgroundColor,oe=M.color,V=M.text,z=M.textSize;if(!(!He&&B<0)){var P=(B-t)*n;if(!(P<-fe||P>=Ce+c*n||B<y[0]||B>y[1])){var I=0;switch(k){case"start":I=17;break;case"center":I=S/2;break;case"end":I=S-17;break}var pe=b?[P+Ne*-3,I]:[I,P+Ne*3],X=pe[0],se=pe[1];if(re){var _=0;switch(xe){case"left":_=0;break;case"center":_=-z/2;break;case"right":_=-z;break}h.save(),h.fillStyle=re,b?h.fillRect(X+E[0]+_,0,z,ke):(h.translate(0,se+E[1]),h.rotate(-Math.PI/2),h.fillRect(_,0,z,ke)),h.restore()}h.save(),h.fillStyle=oe,b?h.fillText(V,X+E[0],se+E[1]):(h.translate(X+E[0],se+E[1]),h.rotate(-Math.PI/2),h.fillText(V,0,0)),h.restore()}}}),h.restore()},e._getRulerScale=function(){var t=this.props.defaultPixelScale||2;if(!this._rulerScale){var n=window.devicePixelRatio>1;if(!n&&window.matchMedia){var s=window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen  and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");n=s&&s.matches}this._rulerScale=n?3:t}return this._rulerScale},l.defaultProps={type:"horizontal",zoom:1,width:0,height:0,unit:50,negativeRuler:!0,mainLineSize:"100%",longLineSize:10,shortLineSize:7,segment:10,direction:"end",style:{width:"100%",height:"100%"},backgroundColor:"#333333",font:"10px sans-serif",textColor:"#ffffff",textBackgroundColor:"transparent",lineColor:"#777777",range:[-1/0,1/0],rangeBackgroundColor:"transparent",lineWidth:1,selectedBackgroundColor:"#555555",defaultScrollPos:0},l}(d.PureComponent);const Xe=Vr;class Pr extends d.PureComponent{constructor(){super(...arguments);a(this,"state",{render:0});a(this,"rulerX",null);a(this,"rulerY",null);a(this,"unit",50);a(this,"scrollPos",{x:0,y:0});a(this,"baseOffset",20);a(this,"ruleWheel",e=>{const{dsContentRef:t}=m,{x:n,y:s}=t==null?void 0:t.getBoundingClientRect();this.scrollPos.x=-(n-80)/e,this.scrollPos.y=-(s-70)/e,this.unit=Math.floor(50/e),this.setState({render:this.state.render+1})});a(this,"ruleDrag",()=>{const{dsContentRef:e,scale:t}=m,{x:n,y:s}=e==null?void 0:e.getBoundingClientRect();this.scrollPos.x=-(n-80)/t,this.scrollPos.y=-(s-70)/t,this.rulerX&&this.rulerX.scroll(this.scrollPos.x),this.rulerY&&this.rulerY.scroll(this.scrollPos.y)})}componentDidMount(){const{setRuleRef:e}=m;e(this)}render(){const{scale:e}=m;return r.jsxs("div",{className:"lc-ruler",style:{position:"relative"},children:[r.jsx("div",{style:{position:"absolute",width:20,height:20,color:"#838383",textAlign:"center",fontSize:12,top:-1},children:"px"}),r.jsx("div",{className:"lc-ruler-horizontal",style:{height:this.baseOffset,width:`calc(100% - ${this.baseOffset}px)`,position:"relative",left:this.baseOffset},children:r.jsx(Xe,{ref:t=>this.rulerX=t,scrollPos:this.scrollPos.x,zoom:e,lineColor:"#444b4d",textColor:"#a6a6a6",segment:2,negativeRuler:!0,textOffset:[0,10],backgroundColor:"#1f1f1f",unit:this.unit})}),r.jsx("div",{className:"lc-ruler-vertical",style:{width:this.baseOffset,height:window.innerHeight-this.baseOffset-90,position:"relative",overflow:"hidden"},children:r.jsx(Xe,{ref:t=>this.rulerY=t,type:"vertical",scrollPos:this.scrollPos.y,lineColor:"#444b4d",textColor:"#a6a6a6",zoom:e,segment:2,negativeRuler:!0,textOffset:[10,0],backgroundColor:"#1f1f1f",unit:this.unit})}),r.jsx("div",{className:"lc-ruler-content",style:{position:"absolute",overflow:"hidden",top:this.baseOffset,left:this.baseOffset},children:this.props.children})]})}}class _r extends d.Component{render(){return r.jsx("div",{style:{outline:"none"},className:"lc-event-container",children:this.props.children})}}class Ar extends d.Component{constructor(e){super(e);a(this,"movableRef",d.createRef());a(this,"onDragStart",e=>{const{target:t,inputEvent:n}=e,{layerConfigs:s}=x,{lock:o}=s[t.id];if(o)return!1;n&&n.shiftKey&&this.setState({throttleDragRotate:90})});a(this,"onDrag",e=>{const{target:t,beforeTranslate:n}=e;t.style.transform=`translate(${n[0]}px, ${n[1]}px)`});a(this,"onDragEnd",e=>{const{updateLayer:t}=x;let{backoff:n,setBackoff:s}=m;const{lastEvent:o,target:c}=e;if(o){const{beforeTranslate:u}=o,p=[{id:c.id,width:c.offsetWidth,height:c.offsetHeight,type:c.dataset.type,x:u[0],y:u[1]}];n?(t(p,!1),s(!1)):ie.doDrag(p);const{updateBaseConfig:g}=me;g(p[0])}const{throttleDragRotate:f}=this.state;f!==0&&this.setState({throttleDragRotate:0})});a(this,"onDragGroupStart",e=>{const{inputEvent:t}=e;t&&t.shiftKey&&this.setState({throttleDragRotate:90})});a(this,"onDragGroup",e=>{const{targets:t}=e,{layerConfigs:n}=x;if(n[t[0].id].lock)return!1;e.events.forEach(o=>o.target.style.transform=o.transform)});a(this,"onDragGroupEnd",e=>{var H;const{targets:t}=e,{updateLayer:n,layerConfigs:s}=x;if(s[t[0].id].lock)return!1;let{backoff:c,setBackoff:f,setGroupCoordinate:u,groupCoordinate:p,targetIds:g}=m,v=[];e.events.forEach(K=>{const{target:y,lastEvent:Q}=K;if(Q){const{beforeTranslate:T}=Q;v.push({id:y.id,width:y.offsetWidth,height:y.offsetHeight,type:y.dataset.type,x:T[0],y:T[1]})}});const k=((H=e==null?void 0:e.lastEvent)==null?void 0:H.beforeTranslate)||[0,0],O=p.minX+k[0],D=p.minY+k[1];u({minX:O,minY:D}),v.length>0&&(c?(n(v,!1),f(!1)):ie.doDrag(v));const{throttleDragRotate:he}=this.state;he!==0&&this.setState({throttleDragRotate:0});const U=q.findTopGroupLayer(g,!0);if(U.length===1){const{updateBaseConfig:K}=me;K({id:U[0],x:Math.round(O),y:Math.round(D)})}});a(this,"onResizeStart",e=>{const{target:t}=e,{layerConfigs:n}=x,{lock:s}=n[t.id];if(s)return!1});a(this,"onResize",e=>{const{target:t,width:n,height:s,drag:o}=e;t.style.width=`${n}px`,t.style.height=`${s}px`,t.style.transform=`translate(${o.beforeTranslate[0]}px, ${o.beforeTranslate[1]}px)`});a(this,"onResizeEnd",e=>{const{updateLayer:t}=x;let{backoff:n,setBackoff:s}=m;const{target:o,lastEvent:c}=e;if(c){const{width:f,height:u,drag:{translate:p},direction:g}=c,v=[{id:o.id,width:f,height:u,type:o.dataset.type,x:p[0],y:p[1]}];n?(t(v,!1),s(!1)):ie.doResize(v,g);const{updateBaseConfig:k}=me;k(v[0])}});a(this,"onResizeGroupStart",e=>{const{targets:t}=e,{layerConfigs:n}=x;if(n[t[0].id].lock)return!1});a(this,"onResizeGroup",e=>{e.events.forEach(t=>{t.target.style.width=`${t.width}px`,t.target.style.height=`${t.height}px`,t.target.style.transform=t.drag.transform})});a(this,"onResizeGroupEnd",e=>{const{updateLayer:t}=x;let{backoff:n,setBackoff:s,targetIds:o}=m,c=[];if(e.events.forEach(p=>{const{target:g,lastEvent:v}=p;if(v){const{drag:{translate:k}}=v;c.push({id:g.id,width:g.offsetWidth,height:g.offsetHeight,type:g.dataset.type,x:k[0],y:k[1]})}}),!e.lastEvent)return;const{dist:f,direction:u}=e.lastEvent;if(c.length>0){n?(t(c,!1),s(!1)):ie.doResize(c,u);const{setGroupCoordinate:p,groupCoordinate:g}=m;u[0]===-1||u[1]===-1?p({minX:g.minX-f[0],minY:g.minY-f[1],groupWidth:g.groupWidth+f[0],groupHeight:g.groupHeight+f[1]}):p({groupWidth:g.groupWidth+f[0],groupHeight:g.groupHeight+f[1]});const v=q.findTopGroupLayer(o,!0);if(v.length===1){const{updateBaseConfig:k}=me;k({id:v[0],x:Math.round(g.minX),y:Math.round(g.minY),width:Math.round(g.groupWidth),height:Math.round(g.groupHeight)})}}});this.state={throttleDragRotate:0}}componentDidMount(){const{setMovableRef:e}=m;e(this.movableRef)}render(){const{throttleDragRotate:e}=this.state,{selectorRef:t,targets:n}=m,{canvasConfig:{rasterize:s,dragStep:o,resizeStep:c}}=x,f=document.getElementsByClassName("lc-comp-item");return r.jsxs(r.Fragment,{children:[this.props.children,r.jsx(Kt,{ref:this.movableRef,target:n,draggable:!0,resizable:!0,keepRatio:!1,throttleDragRotate:e,maxSnapElementGuidelineDistance:300,snappable:!0,snapGap:!1,snapThreshold:5,isDisplaySnapDigit:!0,snapDirections:{top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},elementSnapDirections:{top:!0,right:!0,bottom:!0,left:!0,center:!0,middle:!0},ables:[Ur],dimensionViewable:!0,verticalGuidelines:["0","50%","100%"],horizontalGuidelines:["0","50%","100%"],isDisplayInnerSnapDigit:!0,elementGuidelines:Array.from(f),throttleDrag:s?o:1,throttleResize:s?c:1,onClickGroup:u=>{var p;return(p=t.current)==null?void 0:p.clickTarget(u.inputEvent,u.inputTarget)},onDrag:this.onDrag,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,onDragGroupStart:this.onDragGroupStart,onDragGroup:this.onDragGroup,onDragGroupEnd:this.onDragGroupEnd,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeEnd:this.onResizeEnd,onResizeGroupStart:this.onResizeGroupStart,onResizeGroup:this.onResizeGroup,onResizeGroupEnd:this.onResizeGroupEnd})]})}}const Gr=C(Ar),Ur={name:"dimensionViewable",props:{dimensionViewable:Boolean},events:{},render(i){const l=i.getRect();return r.jsx("div",{className:"moveable-dimension",style:{left:"-125px",top:"-60px",color:"#cacacaff",fontSize:"14px",position:"absolute",boxSizing:"content-box",borderRadius:"5px",padding:"5px",pointerEvents:"none"},children:r.jsxs("div",{children:[r.jsxs("p",{children:["位置: ",Math.round(l.left)," x ",Math.round(l.top)]}),r.jsxs("p",{children:["尺寸: ",Math.round(l.offsetWidth)," x ",Math.round(l.offsetHeight)]})]})},"dimension-viewer")}};class Kr extends d.Component{constructor(){super(...arguments);a(this,"menuList",[{name:"复制",icon:En,onClick:Ye},{name:"置顶",icon:jn,onClick:Ze},{name:"置底",icon:An,onClick:qe},{name:"删除",icon:Cn,onClick:Qe},{name:"隐藏",icon:Dn,onClick:Je}]);a(this,"calculateMenus",()=>{var c;const e=[...this.menuList],{targetIds:t}=m;if(t.length===0)return e;const{layerConfigs:n}=x;!!((c=n[t[0]])!=null&&c.lock)?e.push({name:"解锁",icon:We,onClick:et}):e.push({name:"锁定",icon:We,onClick:tt}),t.length>1&&!q.hasSameGroup(t)&&e.push({name:"编组",icon:On,onClick:nt});let o=q.findTopGroupLayer(t,!0);return o=o.filter(f=>n[f].type==="group"),o.length>0&&e.push({name:"解组",icon:Vn,onClick:rt}),e});a(this,"buildMenuList",()=>{const e=[],t=this.calculateMenus();for(let n=0;n<t.length;n++){let s=t[n],o=s.icon;e.push(r.jsxs("div",{className:"menu-item",onClick:s.onClick,children:[r.jsx("label",{children:r.jsx(o,{})}),r.jsx("span",{children:s.name})]},n+""))}return e})}render(){const{visible:e,position:t=[0,0]}=de;return r.jsx(r.Fragment,{children:e&&r.jsx("div",{className:"context-menu",style:{position:"fixed",top:t[1],left:t[0]},children:this.buildMenuList()})})}}const $r=C(Kr);var L=(i=>(i[i.SINGLE=0]="SINGLE",i[i.COILED=1]="COILED",i))(L||{});const Fr=["control + s","alt","control + l","control + shift + l","control + h","control + k","control + 1","control + 2","control + 3","control + 4","control + 5","control + g","control + shift + g"];class Wr extends d.Component{constructor(e){super(e);a(this,"handlerMapping",{});a(this,"currHotKey",[]);a(this,"existHandlerKey","");a(this,"specialDomCache",{});a(this,"getSpecialDomCache",e=>{const t=this.specialDomCache[e];if(t)return t;{const n=document.querySelector(e);return n?(this.specialDomCache[e]=n,n):null}});a(this,"doHandler",(e,t)=>{const{handler:n,triggerType:s=0,range:o}=this.handlerMapping[t]||{};if(n&&(s===0&&this.existHandlerKey!==t||s===1)){const{pointerTarget:c}=m;if(o){const f=this.getSpecialDomCache(o);if(!f||!f.contains(c))return}Array.isArray(n)?n.forEach(f=>f(e)):n(e),this.existHandlerKey=t}});a(this,"keyDown",e=>{const t=e.key.toLowerCase();this.currHotKey.some(s=>s===t)||this.currHotKey.push(t);let n=this.currHotKey.join(" + ");Fr.some(s=>s===n)&&e.preventDefault(),this.doHandler(e,n)});a(this,"keyUp",e=>{const t=e.key.toLowerCase();this.currHotKey.some(n=>n===t)&&(this.currHotKey=this.currHotKey.filter(n=>n!==t),this.existHandlerKey="")});a(this,"onBlur",()=>{this.currHotKey=[],this.existHandlerKey=""});this.handlerMapping=e.handlerMapping}componentDidMount(){document.addEventListener("keydown",this.keyDown),document.addEventListener("keyup",this.keyUp),window.onblur=this.onBlur}componentWillUnmount(){document.removeEventListener("keydown",this.keyDown),document.removeEventListener("keyup",this.keyUp),window.onblur=null}render(){return null}}const Xr={"control + a":{handler:$t,range:".lc-ruler-content"},"control + v":{handler:Ye,range:".lc-ruler-content"},"control + l":{handler:tt},"control + shift + l":{handler:et},"control + h":{handler:Je},"control + arrowup":{handler:Ze},"control + arrowdown":{handler:qe},"control + s":{handler:Ft},delete:{handler:[Wt,Xt,Qe]},"control + z":{handler:Yt,range:".lc-ruler-content"},"control + shift + z":{handler:Zt,range:".lc-ruler-content"},"control + k":{handler:qt},"control + 1":{handler:Qt},"control + 2":{handler:Jt},"control + 3":{handler:en},"control + 4":{handler:tn},"control + 5":{handler:nn},arrowup:{handler:rn,triggerType:L.COILED,range:".lc-ruler-content"},arrowdown:{handler:on,triggerType:L.COILED,range:".lc-ruler-content"},arrowleft:{handler:sn,triggerType:L.COILED,range:".lc-ruler-content"},arrowright:{handler:an,triggerType:L.COILED,range:".lc-ruler-content"},"control + shift + arrowup":{handler:ln,triggerType:L.COILED,range:".lc-ruler-content"},"control + shift + arrowdown":{handler:cn,triggerType:L.COILED,range:".lc-ruler-content"},"control + shift + arrowleft":{handler:dn,triggerType:L.COILED,range:".lc-ruler-content"},"control + shift + arrowright":{handler:hn,triggerType:L.COILED,range:".lc-ruler-content"},"control + alt + arrowup":{handler:fn,triggerType:L.COILED,range:".lc-ruler-content"},"control + alt + arrowdown":{handler:un,triggerType:L.COILED,range:".lc-ruler-content"},"control + alt + arrowleft":{handler:gn,triggerType:L.COILED,range:".lc-ruler-content"},"control + alt + arrowright":{handler:pn,triggerType:L.COILED,range:".lc-ruler-content"},"control + g":{handler:nt},"control + shift + g":{handler:rt}},Yr=C(i=>{const{children:l,onDoubleClick:e}=i,t=le.useRef(null),n=le.useRef(null),{canvasConfig:s}=x;return d.useEffect(()=>{const o=t.current,c=n.current;if(o&&c){const{setDsContentRef:f}=m;f(c);const u=new mn({container:o,content:c,posOffset:{x:80,y:70},scaleCallback:p=>{const{scale:g,ratio:v}=p,{setScale:k,setRatio:O,rulerRef:D}=m;k(g),O(v),D==null||D.ruleWheel(g)},dragCallback:()=>{const{rulerRef:p}=m;p==null||p.ruleDrag()}});return()=>{u.destroy()}}},[]),r.jsx("div",{className:"designer-ds-container",ref:t,style:{overflow:"hidden",height:window.innerHeight-90,width:window.innerWidth-95,backgroundColor:"#434343",position:"relative"},children:r.jsx("div",{className:"designer-ds-content lc-drag-scale-provider",id:"designer-ds-content",ref:n,onDoubleClick:e,style:{width:s==null?void 0:s.width,height:s==null?void 0:s.height,background:"#1c1c1c",position:"absolute"},children:l})})});class Zr extends d.PureComponent{constructor(){super(...arguments);a(this,"updateActive",e=>{const{targetIds:t}=m,{layerConfigs:n}=x;if(t.length===0)return;const s=q.findTopGroupLayer(t,!0);if(s.length!==1)return;const o=s[0],c=n[o],{activeElem:f,activeConfig:u}=A;o!==f.id&&u(o,c.type)})}render(){const{layerConfigs:e}=x;return r.jsxs(r.Fragment,{children:[r.jsx(_r,{children:r.jsx(vn,{children:r.jsx(Pr,{children:r.jsx(Yr,{onDoubleClick:this.updateActive,children:r.jsx(Gr,{children:De.buildCanvasComponents(e)})})})})}),r.jsx($r,{}),r.jsx(Wr,{handlerMapping:Xr})]})}}const qr=C(Zr);class Qr extends d.Component{componentDidMount(){ce.getLoader().load(),Jr()}componentWillUnmount(){eo()}render(){const{loaded:l}=x;return l?r.jsxs(Wn,{children:[r.jsx(Gn,{children:r.jsx(Nr,{})}),r.jsxs(Un,{children:[r.jsx(Kn,{children:r.jsx(fr,{})}),r.jsx($n,{children:r.jsx(qr,{})}),r.jsx(Fn,{children:r.jsx(xr,{})})]}),r.jsx(Xn,{children:r.jsx(Lr,{})}),r.jsx(zr,{})]}):r.jsx(Y,{})}}const Lo=C(Qr);function Jr(){document.addEventListener("click",gt),document.addEventListener("contextmenu",pt),document.addEventListener("pointerdown",mt),document.addEventListener("pointerup",vt)}function eo(){document.removeEventListener("click",gt),document.removeEventListener("contextmenu",pt),document.removeEventListener("pointerdown",mt),document.removeEventListener("pointerup",vt)}const gt=i=>{const{visible:l,updateVisible:e}=de;l&&i.button===0&&setTimeout(()=>{e(!1)})},pt=i=>{i.preventDefault();const{mouseDownTime:l,mouseUpTime:e,setPosition:t,updateVisible:n}=de,{targetIds:s}=m;let o=["lc-comp-item","moveable-area","layer-item","layer-name","group-header","group-left","group-icon","group-name"];s&&s.length>0&&o.some(c=>i.target.classList.contains(c))&&e-l<200?(n&&n(!0),t([i.clientX,i.clientY])):n&&n(!1)},mt=()=>{const{setMouseDownTime:i}=de;i(Date.now())},vt=i=>{const{setMouseUpTime:l}=de;l(Date.now());const{setPointerTarget:e}=m;e(i.target)};export{Lo as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/LayerBuilder-23NAoZPq.js","assets/index-Xz_xv9BX.js","assets/index-pJv3-fHv.css","assets/mobxreact.esm-mgNSKNC1.js","assets/lodash-yKXT05iH.js","assets/index-wVcDQRpV.js","assets/index-5z4L7uDA.css","assets/MonacoEditor-5a2nYetO.js","assets/MonacoEditor-dxZE7QjG.css","assets/Accordion-fVzLXKmC.js","assets/Switch-NYNERv4V.js","assets/UIContainer-5E4Em6al.js","assets/QuestionCircleOutlined-J2vj6sy2.js","assets/UIContainer-2wM5o6qv.css","assets/Switch-sX9zyvHK.css","assets/Accordion-i35kZnIZ.css","assets/DatabaseFilled-xZt8FqD1.js","assets/Grid-XC7URVZ1.js","assets/Grid-p4FjUlc6.css","assets/Input-MBUoxGD6.js","assets/Input-kjLITG7W.css","assets/Button-hXfgETs5.js","assets/Button-Vi-JaWc8.css","assets/Radio-9Fmm95dr.js","assets/Radio-scZDuxp-.css","assets/Select-EOvG-Jwf.js","assets/Select-fufuxCpP.css","assets/ColorPicker-zRaZv7-A.js","assets/ColorPicker-yQRt1qdR.css","assets/ItemPanel-E6FHvqgY.js","assets/ItemPanel-jQ3rg-Co.css","assets/LCGUI-3RqjhxCc.js","assets/LayerBuilder-xlYBRWmg.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{r as a,b as l,j as m}from"./index-Bt6dc0fX.js";import{D as v}from"./DragScaleProvider-BVoYYvU0.js";import{S as x,c as R,e as i}from"./ViewDesignerLoader-D0E38GyN.js";import{o as k}from"./mobxreact.esm-CVpOJIJ4.js";import"./NumberInput-Drv0mbnr.js";import"./MainRouter-DnNd00bx.js";import"./ContextIsolator-zMv2LbAm.js";import"./asyncToGenerator-Cd0V-cqJ.js";import"./Compact-BOwuHkWf.js";import"./useZIndex-BQWMD7-k.js";import"./zoom-BjdhsBV4.js";import"./index-CVzf4nt6.js";import"./index-C4zG6dpr.js";import"./GlobalMessage-tDfkwclv.js";import"./render-Bq6e4_xh.js";import"./pickAttrs-B1SYdqyn.js";import"./FetchUtil-d9YSqNID.js";import"./index-DZCaS3uQ.js";import"./button-D8QWGSYW.js";import"./index-iLxaXoI6.js";import"./Data-V4fkx4K4.js";import"./collapse-BbEVqHco.js";const T=a.memo(k(d=>{const{children:p,onDoubleClick:h}=d,n=l.useRef(null),s=l.useRef(null),{canvasConfig:t}=R;return a.useEffect(()=>{const c=n.current,o=s.current;if(c&&o){const{setDsContentRef:u}=i;u(o);const g=new v({container:c,content:o,scaleCallback:e=>{const{scale:f,ratio:w}=e,{setScale:S,setRatio:b,rulerRef:r}=i;S(f),b(w),r==null||r.ruleWheel(),x.doScale(e.scale,e.scale)},dragCallback:()=>{const{rulerRef:e}=i;e==null||e.ruleDrag()}});return()=>{g.destroy()}}},[]),m.jsx("div",{className:"designer-ds-container",ref:n,style:{overflow:"hidden",height:window.innerHeight-110,width:window.innerWidth-115,backgroundColor:"#434343",position:"relative"},children:m.jsx("div",{className:"designer-ds-content lc-drag-scale-provider",id:"designer-ds-content",ref:s,onDoubleClick:h,style:{width:t==null?void 0:t.width,height:t==null?void 0:t.height,background:"#1c1c1c",position:"absolute"},children:p})})}));export{T as default};

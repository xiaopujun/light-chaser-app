import{r as s,j as i}from"./index-4oef3wIY.js";import E from"./Switch-OSE5hFL5.js";import{A as O,_ as h,T as k}from"./AntdIcon-ARdFAb9m.js";import{P as C}from"./Dialog-tRlQLIuG.js";import{Q as L}from"./UIContainer-tcDsE0Wl.js";import"./MainRouter-axq8us8m.js";import"./useZIndex-LzRx996R.js";import"./KeyCode-BWhh4Nhe.js";import"./Overflow-OJAGrMgl.js";import"./GlobalMessage-UTf4T39H.js";var x=function(r,o){return s.createElement(O,h(h({},r),{},{ref:o,icon:C}))};x.displayName="RightOutlined";const V=s.forwardRef(x);function q(u){const{label:r,tip:o,showSwitch:l,value:a,defaultValue:m,titleStyle:j,bodyStyle:g,onChange:p,children:S}=u,c=s.useRef(null),t=s.useRef(null),d=a!==void 0&&m===void 0,[N,b]=s.useState(d?!!a:!!m),f=d?a:N,y=()=>{var e;v(!((e=t==null?void 0:t.current)!=null&&e.classList.contains("accordion-active")))},v=e=>{var n;!t.current||!c.current||(l||(n=t==null?void 0:t.current)==null||n.classList.toggle("accordion-active"),e?c.current.style.display="block":c.current.style.display="none")},w=e=>{v(e),p&&p(e),d||b(e)};return s.useEffect(()=>{var e;return l||((e=t==null?void 0:t.current)==null||e.addEventListener("click",y),c.current.style.display="none"),l&&f?c.current.style.display="block":c.current.style.display="none",()=>{var n;return(n=t==null?void 0:t.current)==null?void 0:n.removeEventListener("click",y)}},[]),i.jsxs("div",{className:"lc-accordion",children:[i.jsxs("div",{className:"accordion-header",ref:t,style:{...j},children:[i.jsxs("div",{className:"title-content",children:[r,"  ",o&&i.jsxs(k,{title:o,children:[i.jsx(L,{}),"  "]})]}),i.jsx("div",{className:"title-switch",children:l?i.jsx(E,{value:f,onChange:w}):i.jsx(V,{className:"accordion-icon"})})]}),i.jsx("div",{className:"lc-accordion-body",style:{...g},ref:c,children:S})]})}export{q as default};

import{r as c,j as w}from"./index-4oef3wIY.js";import{l as M}from"./Dialog-tRlQLIuG.js";import"./MainRouter-axq8us8m.js";import"./AntdIcon-ARdFAb9m.js";import"./useZIndex-LzRx996R.js";import"./KeyCode-BWhh4Nhe.js";import"./Overflow-OJAGrMgl.js";import"./GlobalMessage-UTf4T39H.js";const j={scale:{overflow:"hidden"},"full-screen":{overflow:"hidden"},"full-x":{overflow:"hidden scroll"},"full-y":{overflow:"scroll hidden"}};function A(r){const{width:y,height:g,bodyOverflowHidden:d=!0,delay:b=100}=r;let a;const e=c.useRef(null),[t,x]=c.useState({width:y,height:g,originalHeight:0,originalWidth:0});let l;function h(){t.width&&t.height?(e.current.style.width=`${t.width}px`,e.current.style.height=`${t.height}px`):(e.current.style.width=`${t.originalWidth}px`,e.current.style.height=`${t.originalHeight}px`)}function u(){const f=document.body.clientWidth,m=document.body.clientHeight,$=t.width||t.originalWidth,H=t.height||t.originalHeight,i=f/+$,n=m/+H;switch(r.mode){case"full-screen":e.current.style.transform=`scale(${i},${n})`;break;case"full-x":e.current.style.transform=`scale(${i},${i})`;break;case"full-y":e.current.style.transform=`scale(${n},${n})`;break;default:const o=Math.min(i,n);e.current.style.transform=`scale(${o},${o})`;const S=e.current.clientWidth,W=e.current.clientHeight,z=Math.max((f-S*o)/2,0),E=Math.max((m-W*o)/2,0);e.current.style.margin=`${E}px ${z}px`;break}}const s=M.debounce(()=>{e.current&&(h(),u())},b);function p(){d&&(a=document.body.style.overflow,document.body.style.overflow="hidden"),l=new MutationObserver(()=>s()),l.observe(e.current,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0}),x({...t,originalWidth:window.screen.width,originalHeight:window.screen.height}),h(),u(),window.addEventListener("resize",s)}c.useEffect(()=>(p(),()=>{l.disconnect(),window.removeEventListener("resize",s),d&&(document.body.style.overflow=a)}),[]);const v=j[r.mode||"scale"];return w.jsx("div",{style:{...v},className:"react-screen-box",children:w.jsx("div",{className:"screen-wrapper",ref:e,children:r.children})})}export{A as default};

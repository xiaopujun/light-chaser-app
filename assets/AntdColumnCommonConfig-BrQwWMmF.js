var y=Object.defineProperty;var u=(o,e,t)=>e in o?y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var p=(o,e,t)=>u(o,typeof e!="symbol"?e+"":e,t);import{r as g,j as l}from"./index-BfEWyzAb.js";import{aR as C,aS as h,aK as c,aT as x}from"./ViewDesignerLoader-DOY4imTA.js";import"./mobxreact.esm-DlPXlBwO.js";import"./MainRouter-B5MsqwcC.js";import"./zoom-DptOfjG4.js";import"./asyncToGenerator-BwK-PoBO.js";import"./Compact-DpzX4qzh.js";import"./useZIndex-jvd8916L.js";import"./pickAttrs-DOLnfwLO.js";import"./button-COGh-Ntl.js";import"./render-CSpp3gCb.js";import"./NumberInput-B8RVTREX.js";import"./index-D2h4uPFP.js";import"./GlobalMessage-B8A-9qUt.js";import"./FetchUtil-Ds2Z9fRh.js";import"./Overflow-BfdRSfO5.js";import"./index-Cq3rmf-u.js";import"./index-6P79lCOj.js";import"./Input-vfK5BJxB.js";import"./Data-BV7eYUTW.js";import"./collapse-BbEVqHco.js";import"./Button-CotjFEre.js";class z extends g.Component{constructor(){super(...arguments);p(this,"barGraphicsChange",t=>{this.props.controller.update({style:t})});p(this,"barCoordinateSysChange",t=>{this.props.controller.update({style:t})})}render(){const{controller:t}=this.props,n=t.getConfig().style;return l.jsxs(l.Fragment,{children:[l.jsx(f,{onChange:this.barGraphicsChange,config:n}),l.jsx(C,{controller:t}),l.jsx(h,{onChange:this.barCoordinateSysChange,config:n})]})}}const f=({config:o,onChange:e})=>{var s;const t=i=>{const{id:a,data:r,dataFragment:m}=i;a==="columnColor"?r&&Array.isArray(r)?e({color:r,columnStyle:{fill:void 0}}):r&&typeof r=="string"&&r.indexOf("gradient")!==-1||e({columnStyle:{fill:r}}):e(m)},n={type:"accordion",label:"图形",children:[{type:"grid",children:[{key:"maxColumnWidth",type:"number-input",label:"宽度",value:12,config:{min:0,max:100}},{key:"columnStyle",children:[{key:"radius",type:"number-input",label:"圆角",value:(s=o==null?void 0:o.columnStyle)==null?void 0:s.radius,config:{min:1,max:100}}]},{id:"columnColor",type:"color-mode",label:"颜色",value:"#1c1c1c"}]}]};return l.jsx(c,{schema:n,onFieldChange:t})},B=o=>{const{controller:e}=o,{xField:t,yField:n,seriesField:s}=e.getConfig().style,i=x.getDataFieldOptions(e),a={key:"style",type:"grid",children:[{key:"xField",type:"select",label:"X字段",value:t,config:{options:i}},{key:"yField",type:"select",label:"Y字段",value:n,config:{options:i}},{key:"seriesField",type:"select",label:"分组字段",value:s,config:{options:i}}]},r=m=>{const{dataFragment:d}=m;e.update(d)};return l.jsx("div",{style:{padding:10},children:l.jsx(c,{schema:a,onFieldChange:r})})};export{B as AntdColumnCommonFieldMapping,z as AntdColumnCommonStyleConfig,f as AntdColumnGraphics};

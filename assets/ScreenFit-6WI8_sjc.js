import{r as a,j as w}from"./index-Bt6dc0fX.js";import{aT as j}from"./ViewDesignerLoader-D0E38GyN.js";import"./mobxreact.esm-CVpOJIJ4.js";import"./MainRouter-DnNd00bx.js";import"./ContextIsolator-zMv2LbAm.js";import"./asyncToGenerator-Cd0V-cqJ.js";import"./Compact-BOwuHkWf.js";import"./pickAttrs-B1SYdqyn.js";import"./useZIndex-BQWMD7-k.js";import"./button-D8QWGSYW.js";import"./render-Bq6e4_xh.js";import"./NumberInput-Drv0mbnr.js";import"./zoom-BjdhsBV4.js";import"./index-CVzf4nt6.js";import"./index-C4zG6dpr.js";import"./GlobalMessage-tDfkwclv.js";import"./FetchUtil-d9YSqNID.js";import"./index-DZCaS3uQ.js";import"./index-iLxaXoI6.js";import"./Data-V4fkx4K4.js";import"./collapse-BbEVqHco.js";const k={scale:{overflow:"hidden"},"full-screen":{overflow:"hidden"},"full-x":{overflow:"hidden scroll"},"full-y":{overflow:"scroll hidden"}};function Z(l){const{width:g,height:y,bodyOverflowHidden:d=!0,delay:b=500,scaleChange:r}=l;let h;const e=a.useRef(null),[t,x]=a.useState({width:g,height:y,originalHeight:0,originalWidth:0});let s;function u(){t.width&&t.height?(e.current.style.width=`${t.width}px`,e.current.style.height=`${t.height}px`):(e.current.style.width=`${t.originalWidth}px`,e.current.style.height=`${t.originalHeight}px`)}function m(){const f=document.body.clientWidth,p=document.body.clientHeight,H=t.width||t.originalWidth,S=t.height||t.originalHeight,i=f/+H,o=p/+S;switch(l.mode){case"full-screen":e.current.style.transform=`scale(${i},${o})`,r&&r(i,o);break;case"full-x":e.current.style.transform=`scale(${i},${i})`,r&&r(i,i);break;case"full-y":e.current.style.transform=`scale(${o},${o})`,r&&r(o,o);break;default:const n=Math.min(i,o);e.current.style.transform=`scale(${n},${n})`;const W=e.current.clientWidth,z=e.current.clientHeight,E=Math.max((f-W*n)/2,0),M=Math.max((p-z*n)/2,0);e.current.style.margin=`${M}px ${E}px`,r&&r(n,n);break}}const c=j(()=>{e.current&&(u(),m())},b);function v(){d&&(h=document.body.style.overflow,document.body.style.overflow="hidden"),s=new MutationObserver(()=>c()),s.observe(e.current,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0}),x({...t,originalWidth:window.screen.width,originalHeight:window.screen.height}),u(),m(),window.addEventListener("resize",c)}a.useEffect(()=>(v(),()=>{s.disconnect(),window.removeEventListener("resize",c),d&&(document.body.style.overflow=h)}),[]);const $=k[l.mode||"scale"];return w.jsx("div",{style:{...$},className:"react-screen-box",children:w.jsx("div",{className:"screen-wrapper",ref:e,children:l.children})})}export{Z as default};

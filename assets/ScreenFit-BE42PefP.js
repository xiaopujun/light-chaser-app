import{r as u,j as b}from"./index-9HRRaiAT.js";import{l as $}from"./Dialog-zSzMu_Kg.js";import"./MainRouter-RJOuNalv.js";import"./AntdIcon-HHnanCFf.js";import"./useZIndex-jf7RdiJ7.js";import"./Overflow-cY8uLRw2.js";import"./GlobalMessage-YmTFHLN4.js";function k(r){const{width:p,height:x,bodyOverflowHidden:g=!0,delay:v=100}=r;let m;const t=u.useRef(null),[e,S]=u.useState({width:p,height:x,originalHeight:0,originalWidth:0}),f={box:{overflow:"hidden",backgroundSize:"100% 100%",backgroundColor:"#545454",width:"100vw",height:"100vh"},wrapper:{transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",position:"relative",overflow:"hidden",transformOrigin:"left top"}};let c;function w(){e.width&&e.height?(t.current.style.width=`${e.width}px`,t.current.style.height=`${e.height}px`):(t.current.style.width=`${e.originalWidth}px`,t.current.style.height=`${e.originalHeight}px`)}function H(i){t.current.style.transform=`scale(${i},${i})`;const l=t.current.clientWidth,d=t.current.clientHeight,h=document.body.clientWidth,n=document.body.clientHeight,o=Math.max((h-l*i)/2,0),a=Math.max((n-d*i)/2,0);t.current.style.margin=`${a}px ${o}px`}function y(){const i=document.body.clientWidth,l=document.body.clientHeight,d=e.width||e.originalWidth,h=e.height||e.originalHeight,n=i/+d,o=l/+h;if(r.fullScreen){t.current.style.transform=`scale(${n},${o})`;return}const a=Math.min(n,o);H(a)}const s=$.debounce(()=>{t.current&&(w(),y())},v);function W(){g&&(m=document.body.style.overflow,document.body.style.overflow="hidden"),c=new MutationObserver(()=>s()),c.observe(t.current,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0}),S({...e,originalWidth:window.screen.width,originalHeight:window.screen.height}),w(),y(),window.addEventListener("resize",s)}return u.useEffect(()=>(W(),()=>{c.disconnect(),window.removeEventListener("resize",s),g&&(document.body.style.overflow=m)}),[]),b.jsx("div",{style:{...f.box,...r.boxStyle},className:"react-screen-box",children:b.jsx("div",{className:"screen-wrapper",style:{...f.wrapper,...r.wrapperStyle},ref:t,children:r.children})})}export{k as default};

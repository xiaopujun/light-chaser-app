import{r as l,j as s}from"./index-Xz_xv9BX.js";import{U as y}from"./UIContainer-5E4Em6al.js";import"./QuestionCircleOutlined-J2vj6sy2.js";const U=C=>{var x,j;const{options:a,placeholder:i="请选择",value:o,defaultValue:g,onChange:d,disabled:u=!1,tip:b,label:E}=C,t=l.useRef(null),p=o!==void 0,f=a||[],h=(e="")=>{for(let n=0;n<f.length;n++){const w=f[n];if(w.value===e)return w}return null},[m,r]=l.useState(!1),[c,O]=l.useState(h(o||g)),k=()=>r(!m),N=e=>{p||O(e),d&&d(e.value||""),r(!1)},v=e=>{t.current&&!t.current.contains(e.target)&&r(!1)};l.useEffect(()=>(document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}));const S=p?((x=h(o))==null?void 0:x.label)||i:(c==null?void 0:c.label)||i;return s.jsx(y,{tip:b,label:E,children:s.jsxs("div",{className:"lc-select",ref:t,children:[s.jsx("div",{className:"lc-select-header",style:{cursor:`${u?"not-allowed":"pointer"}`},onClick:u?void 0:k,children:S}),s.jsx("div",{style:{position:"relative"},children:m&&s.jsx("ul",{className:"lc-select-options",style:{width:((j=t==null?void 0:t.current)==null?void 0:j.offsetWidth)||90},children:a.map((e,n)=>s.jsx("li",{className:"lc-select-option",onClick:()=>N(e),children:e.label},n+""))})})]})})};export{U as default};

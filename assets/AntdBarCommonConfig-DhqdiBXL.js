var g=Object.defineProperty;var h=(r,e,t)=>e in r?g(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var y=(r,e,t)=>h(r,typeof e!="symbol"?e+"":e,t);import{r as u,j as a}from"./index-DEH0txKw.js";import{aR as b,aS as x,aK as c}from"./ViewDesignerLoader-jgZQec8d.js";import"./mobxreact.esm-Bj-qJWps.js";import"./MainRouter-BwKsbEMB.js";import"./zoom-Dmac6z75.js";import"./asyncToGenerator-BId76fBH.js";import"./Compact-N6WowFFV.js";import"./useZIndex-_nF327DT.js";import"./pickAttrs-MPILqOrS.js";import"./index-C1P9Qb-Y.js";import"./button-BVsw3twu.js";import"./render-CtKaNIyG.js";import"./Input-DrP1MErD.js";import"./GlobalMessage-CLP7Ukq2.js";import"./index-DZ9jMG-M.js";import"./index-BlXPA9sS.js";import"./FetchUtil-jeBypYyg.js";import"./Overflow-CpDWjRBD.js";import"./index-DW5GKhvh.js";import"./Data-D9YYElFN.js";import"./collapse-BbEVqHco.js";import"./CheckBox-DstIPFex.js";import"./NumberInput-e2UHMUMZ.js";class H extends u.Component{constructor(){super(...arguments);y(this,"barCoordinateSysChange",t=>{this.props.controller.update({style:t})})}render(){const{controller:t}=this.props,o=t.getConfig().style;return a.jsxs(a.Fragment,{children:[a.jsx(C,{controller:t}),a.jsx(b,{controller:t}),a.jsx(x,{onChange:this.barCoordinateSysChange,config:o})]})}}const C=({controller:r})=>{var s;const e=r.getConfig().style,t=l=>{const{id:n,data:i,dataFragment:p}=l;n==="barColor"?i&&Array.isArray(i)?r.update({style:{color:i,barStyle:{fill:void 0}}}):i&&typeof i=="string"&&i.indexOf("gradient")!==-1||r.update({style:{barStyle:{fill:i}}}):r.update(p)},o={key:"style",type:"accordion",label:"图形",children:[{type:"grid",children:[{key:"maxBarWidth",type:"number-input",label:"宽度",value:e==null?void 0:e.maxBarWidth,config:{min:1,max:100}},{key:"barStyle",children:[{key:"radius",type:"number-input",label:"圆角",value:(s=e==null?void 0:e.barStyle)==null?void 0:s.radius,config:{min:1,max:100}}]},{id:"barColor",type:"color-mode",label:"颜色",value:e==null?void 0:e.color}]}]};return a.jsx(c,{schema:o,onFieldChange:t})},J=({controller:r})=>{const e=r.getConfig().style,{data:t,xField:o,yField:s,seriesField:l}=e,n=[];if(t&&t.length>=1){const d=t[0];Object.keys(d).forEach(m=>n.push({label:m,value:m}))}const i=d=>{r.update(d.dataFragment)},p={key:"style",type:"grid",children:[{key:"xField",type:"select",label:"X字段",value:o,config:{options:n}},{key:"yField",type:"select",label:"Y字段",value:s,config:{options:n}},{key:"seriesField",type:"select",label:"分组字段",value:l,config:{options:n}}]};return a.jsx("div",{style:{padding:10},children:a.jsx(c,{schema:p,onFieldChange:i})})};export{H as AntdBarCommonStyleConfig,J as AntdBarFieldMapping,C as AntdBarGraphics};

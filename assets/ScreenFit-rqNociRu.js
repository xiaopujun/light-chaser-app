import{r as u,j as y}from"./index-iCZTP-IQ.js";import{s as $}from"./LayerManager-3yuLGPiW.js";import"./AntdIcon-zgNTTfGj.js";import"./MainRouter-TLmFUNhG.js";import"./AntdIcon-Rd3SO3V6.js";import"./Compact-oDknFkFq.js";import"./useZIndex-efm0wnDD.js";import"./Button-jnQH9M57.js";import"./GlobalMessage-WsCOzKv8.js";import"./render-RO1Jm6GY.js";import"./button-B5djIpAo.js";import"./omit-k9ShT0Nc.js";import"./Overflow-hRFeWmQp.js";function P(r){const{width:b,height:x,bodyOverflowHidden:m=!0,delay:v=100}=r;let g;const t=u.useRef(null),[e,S]=u.useState({width:b,height:x,originalHeight:0,originalWidth:0}),f={box:{overflow:"hidden",backgroundSize:"100% 100%",backgroundColor:"#545454",width:"100vw",height:"100vh"},wrapper:{transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"300ms",position:"relative",overflow:"hidden",transformOrigin:"left top"}};let c;function w(){e.width&&e.height?(t.current.style.width=`${e.width}px`,t.current.style.height=`${e.height}px`):(t.current.style.width=`${e.originalWidth}px`,t.current.style.height=`${e.originalHeight}px`)}function H(i){t.current.style.transform=`scale(${i},${i})`;const d=t.current.clientWidth,l=t.current.clientHeight,h=document.body.clientWidth,n=document.body.clientHeight,o=Math.max((h-d*i)/2,0),a=Math.max((n-l*i)/2,0);t.current.style.margin=`${a}px ${o}px`}function p(){const i=document.body.clientWidth,d=document.body.clientHeight,l=e.width||e.originalWidth,h=e.height||e.originalHeight,n=i/+l,o=d/+h;if(r.fullScreen){t.current.style.transform=`scale(${n},${o})`;return}const a=Math.min(n,o);H(a)}const s=$.debounce(()=>{t.current&&(w(),p())},v);function W(){m&&(g=document.body.style.overflow,document.body.style.overflow="hidden"),c=new MutationObserver(()=>s()),c.observe(t.current,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0}),S({...e,originalWidth:window.screen.width,originalHeight:window.screen.height}),w(),p(),window.addEventListener("resize",s)}return u.useEffect(()=>(W(),()=>{c.disconnect(),window.removeEventListener("resize",s),m&&(document.body.style.overflow=g)}),[]),y.jsx("div",{style:{...f.box,...r.boxStyle},className:"react-screen-box",children:y.jsx("div",{className:"screen-wrapper",style:{...f.wrapper,...r.wrapperStyle},ref:t,children:r.children})})}export{P as default};

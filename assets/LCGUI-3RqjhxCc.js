var g=Object.defineProperty;var U=(i,e,t)=>e in i?g(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var u=(i,e,t)=>(U(i,typeof e!="symbol"?e+"":e,t),t);import{R as React,a as __vitePreload,j as jsxRuntimeExports}from"./index-Xz_xv9BX.js";class LCGUIUtil{static updateSchema(e,t,o){const r=t.shift(),{key:n,index:l}=r;n&&n in e&&(t.length===0?e.value=o:l!==void 0?this.updateSchema(e[n][l],t,o):this.updateSchema(e[n],t,o))}static createObjectFromArray(e,t){let o={},r=o;for(let n=0;n<e.length;n++){const l=e[n];r[l]=n===e.length-1?t:{},r=r[l]}return o}static schemaStructureAssignment(e,t){return typeof e!="object"?{}:(Object.keys(e).forEach(o=>{if(typeof e[o]!="object")t.key===o?t.value=e[o]:t.children&&t.children.forEach(r=>{LCGUIUtil.schemaStructureAssignment({[o]:e[o]},r)});else{const r=LCGUIUtil.findChildSchemaByKey(o,t);r&&LCGUIUtil.schemaStructureAssignment(e[o],r)}}),t)}static findChildSchemaByKey(e,t){if(t.key===e)return t;if(t.children)for(let o=0;o<t.children.length;o++){const r=this.findChildSchemaByKey(e,t.children[o]);if(r)return r}return{}}static parseSchemaData(e){const t={};if(e.children){let o={};return e.children.forEach(r=>{o={...o,...LCGUIUtil.parseSchemaData(r)}}),e.key?(t[e.key]=o,t):o}else return e.key&&(t[e.key]=e.value||void 0),t}}const Accordion=React.lazy(()=>__vitePreload(()=>import("./Accordion-fVzLXKmC.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),Button=React.lazy(()=>__vitePreload(()=>import("./Button-hXfgETs5.js"),__vite__mapDeps([9,1,2,10]))),MonacoEditor=React.lazy(()=>__vitePreload(()=>import("./MonacoEditor-5a2nYetO.js").then(i=>i.a),__vite__mapDeps([11,1,2,12])).then(({MonacoEditor:i})=>({default:i}))),ColorPicker=React.lazy(()=>__vitePreload(()=>import("./ColorPicker-zRaZv7-A.js").then(i=>i.b),__vite__mapDeps([13,1,2,4,5,6,14]))),ColorsPicker=React.lazy(()=>__vitePreload(()=>import("./ColorsPicker-BSfVo5J1.js"),__vite__mapDeps([15,1,2,13,4,5,6,14,16]))),Grid=React.lazy(()=>__vitePreload(()=>import("./Grid-XC7URVZ1.js"),__vite__mapDeps([17,1,2,4,5,6,18])).then(({Grid:i})=>({default:i}))),Input=React.lazy(()=>__vitePreload(()=>import("./Input-MBUoxGD6.js"),__vite__mapDeps([19,1,2,4,5,6,20]))),Radio=React.lazy(()=>__vitePreload(()=>import("./Radio-9Fmm95dr.js"),__vite__mapDeps([21,1,2,4,5,6,22]))),Select=React.lazy(()=>__vitePreload(()=>import("./Select-EOvG-Jwf.js"),__vite__mapDeps([23,1,2,4,5,6,24]))),Switch=React.lazy(()=>__vitePreload(()=>import("./Switch-NYNERv4V.js"),__vite__mapDeps([3,1,2,4,5,6,7]))),Slider=React.lazy(()=>__vitePreload(()=>import("./Slider-_cKJAqqy.js"),__vite__mapDeps([25,1,2,4,5,6,26])).then(({Slider:i})=>({default:i}))),ImageUpload=React.lazy(()=>__vitePreload(()=>import("./ImageUpload-32__ursM.js"),__vite__mapDeps([27,1,2,4,5,6,28,29])).then(({ImageUpload:i})=>({default:i}))),ColorMode=React.lazy(()=>__vitePreload(()=>import("./ColorMode-SnGapDf_.js"),__vite__mapDeps([30,1,2,13,4,5,6,14,23,24,15,16,31]))),TextOnly=React.lazy(()=>__vitePreload(()=>import("./TextOnly-hXnEhs2T.js"),__vite__mapDeps([32,1,2,4,5,6])).then(({TextOnly:i})=>({default:i}))),TextArea=React.lazy(()=>__vitePreload(()=>import("./TextArea-Qo1elyod.js"),__vite__mapDeps([33,1,2,4,5,6,34]))),GroupButton=React.lazy(()=>__vitePreload(()=>import("./GroupButton-vGjr1vg-.js"),__vite__mapDeps([35,1,2,4,5,6,36])).then(({GroupButton:i})=>({default:i}))),ItemPanel=React.lazy(()=>__vitePreload(()=>import("./ItemPanel-E6FHvqgY.js"),__vite__mapDeps([37,1,2,5,38])).then(({ItemPanel:i})=>({default:i}))),ControlGroup=React.lazy(()=>__vitePreload(()=>import("./ControlGroup-cx990tlR.js"),__vite__mapDeps([39,1,2,40,41,42]))),UIMap=new Map;UIMap.set("accordion",Accordion);UIMap.set("button",Button);UIMap.set("grid",Grid);UIMap.set("input",Input);UIMap.set("radio",Radio);UIMap.set("select",Select);UIMap.set("switch",Switch);UIMap.set("code-editor",MonacoEditor);UIMap.set("color-picker",ColorPicker);UIMap.set("colors-picker",ColorsPicker);UIMap.set("color-mode",ColorMode);UIMap.set("item-panel",ItemPanel);UIMap.set("slider",Slider);UIMap.set("image-upload",ImageUpload);UIMap.set("text-only",TextOnly);UIMap.set("text-area",TextArea);UIMap.set("group-button",GroupButton);UIMap.set("control-group",ControlGroup);class SchemaPathNode{constructor(e,t){u(this,"key","");u(this,"index",0);this.key=e,this.index=t}}class LCGUI extends React.Component{constructor(){super(...arguments);u(this,"onControlChange",(e,t,o,r,n)=>{const{onFieldChange:l}=this.props,s=LCGUIUtil.createObjectFromArray(o,e);l&&l({id:n,data:e,reRender:r,schemaKeyPath:[...t],dataKeyPath:o,dataFragment:s})});u(this,"analyzeRules",(rules,control)=>{const regex=/{([^}]+)}/g,variable=[];let match;for(;(match=regex.exec(rules))!==null;)variable.push(match[1]);const analyze=(e,t,o)=>{const{parent:r}=e;if(r&&"children"in r){const{children:n}=r;for(let l=0;l<n.length;l++){const s=n[l],a=t.indexOf(s.key);s.key&&a!==-1&&(o=o.replaceAll(`{${s.key}}`,`'${s.value}'`),t.splice(a,1))}}if(t.length>0&&r){const n=t.indexOf(r.key);if(r.key&&n!==-1&&(o=o.replace(`{${r.key}}`,`'${r.value}'`),t.splice(n,1)),t.length>0)return analyze(r,t,o)}return o};return eval(analyze(control,variable,rules))});u(this,"buildConfigUI",(e,t,o,r)=>{const n=[];if(!e)return n;if("children"in e){const l=[],{children:s}=e,a=new SchemaPathNode("children"),{type:I,rules:d}=e;if(d&&!this.analyzeRules(d,e))return n;if(t.push(a),e.key&&o.push(e.key),s&&s.forEach((c,_)=>{a.index=_,c.parent=e,l.push(this.buildConfigUI(c,JSON.parse(JSON.stringify(t)),[...o],_))}),!I)n.push([...l]);else{const{type:c,config:_,value:p,id:E,reRender:h,label:f,tip:R}=e;let y=UIMap.get(c);t.pop(),t.push({key:"value"});const v={..._,...h?{value:p}:{defaultValue:p},label:f,tip:R,onChange:m=>this.onControlChange(m,t,o,h,E)};n.push(jsxRuntimeExports.jsx(y,{...v,children:l},r))}}else{const{label:l,type:s,tip:a,config:I,value:d,rules:c,id:_,reRender:p}=e;if(!s)return[];if(c&&!this.analyzeRules(c,e))return n;t.push({key:"value"}),o.push(e.key);const h={...I,...p?{value:d}:{defaultValue:d},label:l,tip:a,onChange:R=>this.onControlChange(R,t,o,p,_)};let f=UIMap.get(s);if(!f)return[];n.push(jsxRuntimeExports.jsx(f,{...h},r))}return n})}render(){const{schema:e}=this.props;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:this.buildConfigUI(e,[],[],0)})}}export{LCGUI as L,LCGUIUtil as a};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Accordion-fVzLXKmC.js","assets/index-Xz_xv9BX.js","assets/index-pJv3-fHv.css","assets/Switch-NYNERv4V.js","assets/UIContainer-5E4Em6al.js","assets/QuestionCircleOutlined-J2vj6sy2.js","assets/UIContainer-2wM5o6qv.css","assets/Switch-sX9zyvHK.css","assets/Accordion-i35kZnIZ.css","assets/Button-hXfgETs5.js","assets/Button-Vi-JaWc8.css","assets/MonacoEditor-5a2nYetO.js","assets/MonacoEditor-dxZE7QjG.css","assets/ColorPicker-zRaZv7-A.js","assets/ColorPicker-yQRt1qdR.css","assets/ColorsPicker-BSfVo5J1.js","assets/ColorsPicker-e58O4-ju.css","assets/Grid-XC7URVZ1.js","assets/Grid-p4FjUlc6.css","assets/Input-MBUoxGD6.js","assets/Input-kjLITG7W.css","assets/Radio-9Fmm95dr.js","assets/Radio-scZDuxp-.css","assets/Select-EOvG-Jwf.js","assets/Select-fufuxCpP.css","assets/Slider-_cKJAqqy.js","assets/Slider-LCRuBnRQ.css","assets/ImageUpload-32__ursM.js","assets/DeleteOutlined-0LET8l3r.js","assets/ImageUpload-9kseRzbI.css","assets/ColorMode-SnGapDf_.js","assets/ColorMode-USBQvw06.css","assets/TextOnly-hXnEhs2T.js","assets/TextArea-Qo1elyod.js","assets/TextArea-3VS8BRdk.css","assets/GroupButton-vGjr1vg-.js","assets/GroupButton-lzYrp7QX.css","assets/ItemPanel-E6FHvqgY.js","assets/ItemPanel-jQ3rg-Co.css","assets/ControlGroup-cx990tlR.js","assets/lodash-yKXT05iH.js","assets/DeleteFilled--8jjuI76.js","assets/ControlGroup-EA0_0NMt.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
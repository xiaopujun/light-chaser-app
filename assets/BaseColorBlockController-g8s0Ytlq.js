import{A as l,B as m}from"./FontGlobal-OJzIEJBO.js";import{C as f}from"./LayerManager-9_OZ_v7l.js";import{R as d,r as o,j as p}from"./index-CIZzpp4t.js";import{O as g}from"./FetchUtil-FMEOVjjY.js";import"./mobxreact.esm-QmaNsbsC.js";import"./PreviewOpen-ZH2J-uf_.js";import"./index-PQsxm07c.js";import"./index-Ky8VuNT2.js";import"./GlobalMessage-b_IUatJJ.js";import"./MainRouter-LJqlNU58.js";import"./useZIndex-C48Dwtsu.js";const h=d.forwardRef((s,e)=>{const[t,n]=o.useState({...s}),i=o.useRef({});o.useImperativeHandle(e,()=>({updateConfig:r=>n({...r}),setEventHandler:r=>i.current=r}));const c=()=>{"click"in i.current&&i.current.click()},{style:a}=t;return p.jsx("div",{style:{height:"100%",display:"flex",...a},onClick:c})});class b extends l{async create(e,t){this.config=t,this.container=e,this.instance=await f.createAndRender(e,h,t)}destroy(){this.instance=null,this.config=null}getConfig(){return this.config}update(e,t){var n;this.config=g.merge(this.config,e),t=t||{reRender:!0},t.reRender&&((n=this.instance)==null||n.updateConfig(this.config))}updateTheme(e){}registerEvent(){var t,n,i;const e=(n=(t=this.config)==null?void 0:t.base)==null?void 0:n.id;(i=this.instance)==null||i.setEventHandler({click:()=>m.triggerComponentEvent(e,"click",this.config)})}}export{b as BaseColorBlockController};

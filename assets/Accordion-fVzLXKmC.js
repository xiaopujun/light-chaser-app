var u=Object.defineProperty;var f=(l,i,t)=>i in l?u(l,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[i]=t;var s=(l,i,t)=>(f(l,typeof i!="symbol"?i+"":i,t),t);import{r as n,A as p,_ as d,j as o}from"./index-Xz_xv9BX.js";import v from"./Switch-NYNERv4V.js";import{T as m,Q as R}from"./QuestionCircleOutlined-J2vj6sy2.js";import"./UIContainer-5E4Em6al.js";var y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const g=y;var h=function(i,t){return n.createElement(p,d(d({},i),{},{ref:t,icon:g}))};h.displayName="RightOutlined";const w=n.forwardRef(h);class b extends n.Component{constructor(t){super(t);s(this,"accordionBodyRef",null);s(this,"headerRef",null);s(this,"valueControl",!0);s(this,"pendingTimer",null);s(this,"state",{value:!1,label:"",showSwitch:!1});s(this,"calculateFold",t=>{const{showSwitch:e}=this.state;!this.headerRef||!this.accordionBodyRef||(e||this.headerRef.classList.toggle("accordion-active"),t?this.accordionBodyRef.style.display="block":this.accordionBodyRef.style.display="none")});s(this,"titleClickMode",()=>{const t=!this.state.value;this.setState({value:t}),this.calculateFold(t)});s(this,"switchChange",t=>{this.calculateFold(t);const{onChange:e}=this.props;e&&e(t),this.valueControl||this.setState({value:t})});let{value:e,label:c,showSwitch:a,defaultValue:r}=this.props;r!==void 0&&e===void 0&&(this.valueControl=!1),e=!!(e||r),this.state={value:e,label:c,showSwitch:a}}componentDidMount(){const{showSwitch:t=!1,value:e}=this.state;t||(this.headerRef.addEventListener("click",this.titleClickMode),this.accordionBodyRef.style.display="none"),t&&e?this.accordionBodyRef.style.display="block":this.accordionBodyRef.style.display="none"}componentWillUnmount(){var t;(t=this.headerRef)==null||t.removeEventListener("click",this.titleClickMode)}render(){const{label:t,showSwitch:e}=this.state,{tip:c}=this.props;return o.jsxs("div",{className:"lc-accordion",children:[o.jsxs("div",{className:"accordion-header",ref:a=>this.headerRef=a,children:[o.jsxs("div",{className:"title-content",children:[t,"  ",c&&o.jsxs(m,{title:c,children:[o.jsx(R,{}),"  "]})]}),o.jsx("div",{className:"title-switch",children:e?o.jsx(v,{value:this.valueControl?this.props.value:this.state.value,onChange:this.switchChange}):o.jsx(w,{className:"accordion-icon"})})]}),o.jsx("div",{className:"lc-accordion-body",ref:a=>this.accordionBodyRef=a,children:this.props.children})]})}}export{b as default};

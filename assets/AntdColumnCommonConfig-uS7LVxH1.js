var y=Object.defineProperty;var u=(o,e,t)=>e in o?y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var m=(o,e,t)=>u(o,typeof e!="symbol"?e+"":e,t);import{r as g,j as l}from"./index-Bt6dc0fX.js";import{aU as C,aV as h,aM as p,aW as x}from"./ViewDesignerLoader-D0E38GyN.js";import"./mobxreact.esm-CVpOJIJ4.js";import"./MainRouter-DnNd00bx.js";import"./ContextIsolator-zMv2LbAm.js";import"./asyncToGenerator-Cd0V-cqJ.js";import"./Compact-BOwuHkWf.js";import"./pickAttrs-B1SYdqyn.js";import"./useZIndex-BQWMD7-k.js";import"./button-D8QWGSYW.js";import"./render-Bq6e4_xh.js";import"./NumberInput-Drv0mbnr.js";import"./zoom-BjdhsBV4.js";import"./index-CVzf4nt6.js";import"./index-C4zG6dpr.js";import"./GlobalMessage-tDfkwclv.js";import"./FetchUtil-d9YSqNID.js";import"./index-DZCaS3uQ.js";import"./index-iLxaXoI6.js";import"./Data-V4fkx4K4.js";import"./collapse-BbEVqHco.js";class z extends g.Component{constructor(){super(...arguments);m(this,"barGraphicsChange",t=>{this.props.controller.update({style:t})});m(this,"barCoordinateSysChange",t=>{this.props.controller.update({style:t})})}render(){const{controller:t}=this.props,n=t.getConfig().style;return l.jsxs(l.Fragment,{children:[l.jsx(f,{onChange:this.barGraphicsChange,config:n}),l.jsx(C,{controller:t}),l.jsx(h,{onChange:this.barCoordinateSysChange,config:n})]})}}const f=({config:o,onChange:e})=>{var s;const t=i=>{const{id:a,data:r,dataFragment:c}=i;a==="columnColor"?r&&Array.isArray(r)?e({color:r,columnStyle:{fill:void 0}}):r&&typeof r=="string"&&r.indexOf("gradient")!==-1||e({columnStyle:{fill:r}}):e(c)},n={type:"accordion",label:"图形",children:[{type:"grid",children:[{key:"maxColumnWidth",type:"number-input",label:"宽度",value:12,config:{min:0,max:100}},{key:"columnStyle",children:[{key:"radius",type:"number-input",label:"圆角",value:(s=o==null?void 0:o.columnStyle)==null?void 0:s.radius,config:{min:1,max:100}}]},{id:"columnColor",type:"color-mode",label:"颜色",value:"#1c1c1c"}]}]};return l.jsx(p,{schema:n,onFieldChange:t})},B=o=>{const{controller:e}=o,{xField:t,yField:n,seriesField:s}=e.getConfig().style,i=x.getDataFieldOptions(e),a={key:"style",type:"grid",children:[{key:"xField",type:"select",label:"X字段",value:t,config:{options:i}},{key:"yField",type:"select",label:"Y字段",value:n,config:{options:i}},{key:"seriesField",type:"select",label:"分组字段",value:s,config:{options:i}}]},r=c=>{const{dataFragment:d}=c;e.update(d)};return l.jsx("div",{style:{padding:10},children:l.jsx(p,{schema:a,onFieldChange:r})})};export{B as AntdColumnCommonFieldMapping,z as AntdColumnCommonStyleConfig,f as AntdColumnGraphics};

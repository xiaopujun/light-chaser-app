var w=Object.defineProperty;var S=(l,t,e)=>t in l?w(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e;var b=(l,t,e)=>(S(l,typeof t!="symbol"?t+"":t,e),e);import{r as k,j as a}from"./index-CIZzpp4t.js";import{l as f}from"./FetchUtil-FMEOVjjY.js";import{L as p}from"./LCGUI-KhPNl-Yd.js";import v from"./Accordion-E6A8OgBH.js";import g from"./Radio-A1ZOt_1R.js";class x extends k.Component{constructor(e){super(e);b(this,"defaultData",{label:{style:{fill:"#00FFEAFF"}},line:{style:{stroke:"#00dbffff",lineWidth:1}}});b(this,"oldData");b(this,"emptyData",{grid:null,line:null,title:null,label:null,tickLine:null,subTickLine:null});this.oldData={...e==null?void 0:e.config}}render(){const{config:e,title:i="坐标轴",onChange:n}=this.props,{grid:o,line:s,label:r,title:u,tickLine:d,subTickLine:y}=e||{},h=!!(o||s||r||u||d||y);return a.jsxs(v,{label:i,showSwitch:!0,defaultValue:h,onChange:c=>{n(c?f.isEqual(this.oldData,this.emptyData)?this.defaultData:this.oldData:this.emptyData)},children:[a.jsx(g,{label:"位置",defaultValue:(e==null?void 0:e.position)||"right",containerStyle:{marginBottom:10},onChange:c=>n({position:c}),options:[{label:"上",value:"top"},{label:"下",value:"bottom"},{label:"左",value:"left"},{label:"右",value:"right"}]}),a.jsx(C,{config:e==null?void 0:e.label,onChange:c=>n({label:c})}),a.jsx(F,{config:e==null?void 0:e.title,onChange:c=>n({title:c})}),a.jsx(A,{config:e==null?void 0:e.line,onChange:c=>n({line:c})}),a.jsx(j,{config:e==null?void 0:e.grid,onChange:c=>n({grid:c})}),a.jsx(T,{config:e==null?void 0:e.tickLine,onChange:c=>n({tickLine:c})}),a.jsx(L,{config:e==null?void 0:e.subTickLine,onChange:c=>n({subTickLine:c})})]})}}const L=({config:l,onChange:t})=>{var s,r;const[e,i]=k.useState(l),n=u=>{const{id:d,data:y}=u;if(d==="subTickLineSwitch")if(y){const h={count:5,length:1,style:{stroke:"#6e6e6e",lineWidth:1}};t(h),i(h)}else t(null),i(null);else t(u.dataFragment)},o={type:"card-panel",label:"子刻度",children:[{type:"grid",config:{columns:2},children:[{key:"subTickLineSwitch",id:"subTickLineSwitch",type:"switch",label:"开启",value:!!e},{rules:"{subTickLineSwitch}==='true'",key:"count",type:"number-input",label:"数量",value:e==null?void 0:e.count,config:{min:0,max:100}},{rules:"{subTickLineSwitch}==='true'",key:"length",type:"number-input",label:"长度",value:e==null?void 0:e.length,config:{min:0,max:10}},{rules:"{subTickLineSwitch}==='true'",key:"style",children:[{key:"lineWidth",type:"number-input",label:"宽度",value:(s=e==null?void 0:e.style)==null?void 0:s.lineWidth,config:{min:0,max:10}},{key:"stroke",type:"color-picker",label:"颜色",value:(r=e==null?void 0:e.style)==null?void 0:r.stroke,config:{showText:!0}}]}]}]};return a.jsx(p,{schema:o,onFieldChange:n})},T=({config:l,onChange:t})=>{var s,r;const[e,i]=k.useState(l),n=u=>{const{id:d,data:y}=u;if(d==="tickLineSwitch")if(y){const h={alignTick:!0,length:1,style:{stroke:"#6e6e6e",lineWidth:1}};t(h),i(h)}else t(null),i(null);else t(u.dataFragment)},o={type:"card-panel",label:"刻度线",children:[{type:"grid",config:{columns:2},children:[{key:"tickLineSwitch",id:"tickLineSwitch",type:"switch",label:"开启",value:!!e},{key:"alignTick",rules:"{tickLineSwitch}==='true'",type:"switch",label:"对齐",value:e==null?void 0:e.alignTick},{key:"length",rules:"{tickLineSwitch}==='true'",type:"number-input",label:"长度",value:e==null?void 0:e.length,config:{min:0,max:10}},{key:"style",rules:"{tickLineSwitch}==='true'",children:[{key:"lineWidth",type:"number-input",label:"宽度",value:(s=e==null?void 0:e.style)==null?void 0:s.lineWidth,config:{min:0,max:10}},{key:"stroke",type:"color-picker",label:"颜色",value:(r=e==null?void 0:e.style)==null?void 0:r.stroke,config:{showText:!0}}]}]}]};return a.jsx(p,{schema:o,onFieldChange:n})},j=({config:l,onChange:t})=>{var s,r,u,d;const[e,i]=k.useState(l),n=y=>{const{id:h,data:c}=y;if(h==="gridLineSwitch")if(c){const m={alignTick:!0,line:{style:{stroke:"#5c5c5c",lineWidth:1},type:"line"}};t(m),i(m)}else t(null),i(null);else t(y.dataFragment)},o={type:"card-panel",label:"网格线",children:[{type:"grid",config:{columns:2},children:[{key:"gridLineSwitch",id:"gridLineSwitch",type:"switch",label:"开启",value:!!e},{rules:"{gridLineSwitch} === 'true'",key:"alignTick",type:"switch",label:"对齐",value:e==null?void 0:e.alignTick},{rules:"{gridLineSwitch} === 'true'",key:"line",children:[{key:"style",children:[{key:"lineWidth",type:"number-input",label:"宽度",value:(r=(s=e==null?void 0:e.line)==null?void 0:s.style)==null?void 0:r.lineWidth,config:{min:0,max:10}},{key:"stroke",type:"color-picker",label:"颜色",value:(d=(u=e==null?void 0:e.line)==null?void 0:u.style)==null?void 0:d.stroke,config:{showText:!0}}]}]}]}]};return a.jsx(p,{schema:o,onFieldChange:n})},A=({config:l,onChange:t})=>{var s,r;const[e,i]=k.useState(l),n=u=>{const{id:d,data:y}=u;d==="lineSwitch"?y?(t({style:{stroke:"#595959",lineWidth:1}}),i({style:{stroke:"#595959",lineWidth:1}})):(t(null),i(null)):t(u.dataFragment)},o={type:"card-panel",label:"轴线",children:[{type:"grid",config:{columns:2},children:[{key:"lineSwitch",id:"lineSwitch",type:"switch",label:"开启",value:!!e},{key:"style",rules:"{lineSwitch} === 'true'",children:[{key:"lineWidth",type:"number-input",label:"宽度",value:((s=e==null?void 0:e.style)==null?void 0:s.lineWidth)||1,config:{min:0,max:10}},{key:"stroke",type:"color-picker",label:"颜色",value:((r=e==null?void 0:e.style)==null?void 0:r.stroke)||"#595959",config:{showText:!0}}]}]}]};return a.jsx(p,{schema:o,onFieldChange:n})},F=({config:l,onChange:t})=>{const[e,i]=k.useState(l),n=s=>{const{id:r,data:u}=s;r==="titleSwitch"?u?(t({text:"标题",offset:0,style:{fill:"#d2d2d2",fontSize:12}}),i({text:"标题",offset:0,style:{fill:"#d2d2d2",fontSize:12}})):(t(null),i(null)):t(s.dataFragment)},o={type:"card-panel",label:"标题",children:[{type:"grid",config:{columns:2},children:[{key:"titleSwitch",id:"titleSwitch",type:"switch",label:"开启",reRender:!0,value:!!e},{rules:"{titleSwitch} === 'true'",children:[{key:"position",type:"select",label:"位置",value:(e==null?void 0:e.position)||"center",config:{options:[{value:"start",label:"前"},{value:"center",label:"中"},{value:"end",label:"后"}]}},{key:"text",type:"input",label:"内容",value:(e==null?void 0:e.text)||"标题"},{key:"offset",type:"number-input",label:"偏移",value:(e==null?void 0:e.offset)||0},{key:"style",children:[{key:"fontSize",type:"number-input",label:"字号",value:12,config:{min:1,max:50}},{key:"fill",type:"color-picker",label:"颜色",value:"#1c1c1c",config:{showText:!0}}]}]}]}]};return a.jsx(p,{schema:o,onFieldChange:n})},C=({config:l,onChange:t})=>{const{offset:e,style:i,rotate:n}=l||{},o=r=>{t(r.dataFragment)},s={type:"card-panel",label:"文本",children:[{type:"grid",config:{columns:2},children:[{key:"rotate",type:"number-input",label:"角度",value:n||0,config:{min:0,step:.1,max:360}},{key:"offset",type:"number-input",label:"偏移",value:e||0},{key:"style",children:[{key:"fontSize",type:"number-input",label:"字号",value:(i==null?void 0:i.fontSize)||12,config:{min:1,max:50}},{key:"fill",type:"color-picker",label:"颜色",value:(i==null?void 0:i.fill)||"#1c1c1c",config:{showText:!0}}]}]}]};return a.jsx(p,{schema:s,onFieldChange:o})},V=({config:l,onChange:t})=>{const e=n=>{t({xAxis:n})},i=n=>{t({yAxis:n})};return a.jsxs(a.Fragment,{children:[a.jsx(x,{title:"X轴",config:l==null?void 0:l.xAxis,onChange:e}),a.jsx(x,{title:"Y轴",config:l==null?void 0:l.yAxis,onChange:i})]})};export{V as A};

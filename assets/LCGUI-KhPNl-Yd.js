var g=Object.defineProperty;var P=(n,t,e)=>t in n?g(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var _=(n,t,e)=>(P(n,typeof t!="symbol"?t+"":t,e),e);import{R as React,_ as __vitePreload,j as jsxRuntimeExports}from"./index-CIZzpp4t.js";class LCGUIUtil{static updateSchema(t,e,r){const o=e.shift(),{key:i,index:s}=o;i&&i in t&&(e.length===0?t.value=r:s!==void 0?this.updateSchema(t[i][s],e,r):this.updateSchema(t[i],e,r))}static createObjectFromArray(t,e){const r={};let o=r;for(let i=0;i<t.length;i++){const s=t[i];o[s]=i===t.length-1?e:{},o=o[s]}return r}static schemaStructureAssignment(t,e){return typeof t!="object"?{}:(Object.keys(t).forEach(r=>{if(typeof t[r]!="object")e.key===r?e.value=t[r]:e.children&&e.children.forEach(o=>{LCGUIUtil.schemaStructureAssignment({[r]:t[r]},o)});else{const o=LCGUIUtil.findChildSchemaByKey(r,e);o&&LCGUIUtil.schemaStructureAssignment(t[r],o)}}),e)}static findChildSchemaByKey(t,e){if(e.key===t)return e;if(e.children)for(let r=0;r<e.children.length;r++){const o=this.findChildSchemaByKey(t,e.children[r]);if(o)return o}return{}}static parseSchemaData(t){const e={};if(t.children){let r={};return t.children.forEach(o=>{r={...r,...LCGUIUtil.parseSchemaData(o)}}),t.key?(e[t.key]=r,e):r}else return t.key&&(e[t.key]=t.value||void 0),e}}const Accordion=React.lazy(()=>__vitePreload(()=>import("./Accordion-E6A8OgBH.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),Button=React.lazy(()=>__vitePreload(()=>import("./Button-DQqSxazJ.js"),__vite__mapDeps([15,1,2,16]))),MonacoEditor=React.lazy(()=>__vitePreload(()=>import("./MonacoEditor-btR9Umqm.js").then(n=>n.a),__vite__mapDeps([17,1,2,18]))),ColorPicker=React.lazy(()=>__vitePreload(()=>import("./ColorPicker-03QYOEOg.js"),__vite__mapDeps([19,1,2,4,5,6,7,8,9,10,11,20,21,22,23,24,25,26,27,28,29]))),ColorsPicker=React.lazy(()=>__vitePreload(()=>import("./ColorsPicker-eomwLYhg.js"),__vite__mapDeps([30,1,2,19,4,5,6,7,8,9,10,11,20,21,22,23,24,25,26,27,28,29,31]))),Grid=React.lazy(()=>__vitePreload(()=>import("./Grid-Ng_M152z.js"),__vite__mapDeps([32,1,2,4,5,6,7,8,9,10,11,33])).then(({Grid:n})=>({default:n}))),Input=React.lazy(()=>__vitePreload(()=>import("./Input-y8ttkQ4v.js"),__vite__mapDeps([34,1,2,4,5,6,7,8,9,10,11,35]))),Radio=React.lazy(()=>__vitePreload(()=>import("./Radio-A1ZOt_1R.js"),__vite__mapDeps([36,1,2,4,5,6,7,8,9,10,11,37]))),Select=React.lazy(()=>__vitePreload(()=>import("./Select-JX06YWNI.js"),__vite__mapDeps([38,1,2,4,5,6,7,8,9,10,11,39]))),Switch=React.lazy(()=>__vitePreload(()=>import("./Switch-0oKaq_Rp.js"),__vite__mapDeps([3,1,2,4,5,6,7,8,9,10,11,12]))),Slider=React.lazy(()=>__vitePreload(()=>import("./Slider-az78fqjY.js"),__vite__mapDeps([40,1,2,4,5,6,7,8,9,10,11,41])).then(({Slider:n})=>({default:n}))),RangeSlider=React.lazy(()=>__vitePreload(()=>import("./Slider-az78fqjY.js"),__vite__mapDeps([40,1,2,4,5,6,7,8,9,10,11,41])).then(({RangeSlider:n})=>({default:n}))),ImageUpload=React.lazy(()=>__vitePreload(()=>import("./ImageUpload-_bn7W8de.js"),__vite__mapDeps([42,1,2,4,5,6,7,8,9,10,11,43,44,24,45,21,28,46,27,23,47])).then(({ImageUpload:n})=>({default:n}))),ColorMode=React.lazy(()=>__vitePreload(()=>import("./ColorMode-c5fBsktM.js"),__vite__mapDeps([48,1,2,19,4,5,6,7,8,9,10,11,20,21,22,23,24,25,26,27,28,29,38,39,30,31,49]))),TextOnly=React.lazy(()=>__vitePreload(()=>import("./TextOnly-BzbAlv9r.js"),__vite__mapDeps([50,1,2,4,5,6,7,8,9,10,11])).then(({TextOnly:n})=>({default:n}))),TextArea=React.lazy(()=>__vitePreload(()=>import("./TextArea-bv_2MhVK.js"),__vite__mapDeps([51,1,2,4,5,6,7,8,9,10,11,52]))),GroupButton=React.lazy(()=>__vitePreload(()=>import("./GroupButton-11P-IPQX.js"),__vite__mapDeps([53,1,2,4,5,6,7,8,9,10,11,54])).then(({GroupButton:n})=>({default:n}))),CardPanel=React.lazy(()=>__vitePreload(()=>import("./CardPanel-wZh9GTN_.js"),__vite__mapDeps([55,1,2,5,6,7,8,9,10,56])).then(({CardPanel:n})=>({default:n}))),NumberInput=React.lazy(()=>__vitePreload(()=>import("./NumberInput-M7WGrGB5.js"),__vite__mapDeps([57,1,2,4,5,6,7,8,9,10,11,58]))),ControlGroup=React.lazy(()=>__vitePreload(()=>import("./ControlGroup-hYzNkYnA.js"),__vite__mapDeps([59,1,2,44,10,60,13,61]))),CheckBox=React.lazy(()=>__vitePreload(()=>import("./CheckBox-mLc0Mfm-.js"),__vite__mapDeps([62,1,2,4,5,6,7,8,9,10,11,63]))),UIMap=new Map;UIMap.set("accordion",Accordion);UIMap.set("button",Button);UIMap.set("grid",Grid);UIMap.set("input",Input);UIMap.set("radio",Radio);UIMap.set("select",Select);UIMap.set("switch",Switch);UIMap.set("code-editor",MonacoEditor);UIMap.set("color-picker",ColorPicker);UIMap.set("colors-picker",ColorsPicker);UIMap.set("color-mode",ColorMode);UIMap.set("card-panel",CardPanel);UIMap.set("slider",Slider);UIMap.set("range-slider",RangeSlider);UIMap.set("image-upload",ImageUpload);UIMap.set("text-only",TextOnly);UIMap.set("text-area",TextArea);UIMap.set("group-button",GroupButton);UIMap.set("control-group",ControlGroup);UIMap.set("number-input",NumberInput);UIMap.set("checkbox",CheckBox);class SchemaPathNode{constructor(t,e){_(this,"key","");_(this,"index",0);this.key=t,this.index=e}}class LCGUI extends React.Component{constructor(){super(...arguments);_(this,"onControlChange",(t,e,r,o,i)=>{const{onFieldChange:s}=this.props,l=LCGUIUtil.createObjectFromArray(r,t);s&&s({id:i,data:t,reRender:o,schemaKeyPath:[...e],dataKeyPath:r,dataFragment:l})});_(this,"analyzeRules",(rules,control)=>{const regex=/{([^}]+)}/g,variable=[];let match;for(;(match=regex.exec(rules))!==null;)variable.push(match[1]);const analyze=(t,e,r)=>{if(e.length===0)return r;const{parent:o}=t;if(o&&"children"in o){const{children:i}=o;for(let s=0;s<i.length&&e.length!==0;s++){const l=i[s],a=e.indexOf(l.key);l.key&&a!==-1&&(r=r.replaceAll(`{${l.key}}`,`'${l.value}'`),e.splice(a,1))}}if(e.length>0&&o){const i=e.indexOf(o.key);if(o.key&&o.value&&i!==-1&&(r=r.replace(`{${o.key}}`,`'${o.value}'`),e.splice(i,1)),e.length>0)return analyze(o,e,r)}return r};return eval(analyze(control,variable,rules))});_(this,"buildConfigUI",(t,e,r,o)=>{const i=[];if(!t)return i;if("children"in t){const s=[],{children:l}=t,a=new SchemaPathNode("children"),{type:R,rules:d}=t;if(d&&!this.analyzeRules(d,t))return i;if(e.push(a),t.key&&r.push(t.key),l&&l.forEach((c,u)=>{a.index=u,c.parent=t,s.push(this.buildConfigUI(c,JSON.parse(JSON.stringify(e)),[...r],u))}),!R)i.push([...s]);else{const{type:c,config:u,value:p,id:E,reRender:h,label:I,tip:f}=t,y=UIMap.get(c);e.pop(),e.push({key:"value"});const v={...u,...h?{value:p}:{defaultValue:p},label:I,tip:f,onChange:m=>this.onControlChange(m,e,r,h,E)};i.push(jsxRuntimeExports.jsx(y,{...v,children:s},o))}}else{const{label:s,type:l,tip:a,config:R,value:d,rules:c,id:u,reRender:p}=t;if(!l)return[];if(c&&!this.analyzeRules(c,t))return i;e.push({key:"value"}),r.push(t.key);const h={...R,...p?{value:d}:{defaultValue:d},label:s,tip:a,onChange:f=>this.onControlChange(f,e,r,p,u)},I=UIMap.get(l);if(!I)return[];i.push(jsxRuntimeExports.jsx(I,{...h},o))}return i});_(this,"init",()=>{const t=[];let{schema:e}=this.props;return e=Array.isArray(e)?e:[e],e.forEach(r=>{t.push(this.buildConfigUI(r,[],[],0))}),t})}render(){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:this.init()})}}export{LCGUI as L,LCGUIUtil as a};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Accordion-E6A8OgBH.js","assets/index-CIZzpp4t.js","assets/index-IyM4ICh1.css","assets/Switch-0oKaq_Rp.js","assets/UIContainer-NEWVGUQ0.js","assets/index-za7E6pLK.js","assets/MainRouter-LJqlNU58.js","assets/ResizeObserver.es-B32NGzNS.js","assets/useZIndex-C48Dwtsu.js","assets/Help-nAWCz3FQ.js","assets/index-PQsxm07c.js","assets/UIContainer-2wM5o6qv.css","assets/Switch-mqJvRLec.css","assets/Right-3DfmN5C1.js","assets/Accordion-SU6xlX8W.css","assets/Button-DQqSxazJ.js","assets/Button-Vi-JaWc8.css","assets/MonacoEditor-btR9Umqm.js","assets/MonacoEditor-yJ9UOCHw.css","assets/ColorPicker-03QYOEOg.js","assets/index-ZwO4HOcB.js","assets/CheckOutlined-nCXWjWxa.js","assets/Overflow-BoBVZI_w.js","assets/omit-avBY8roT.js","assets/GlobalMessage-b_IUatJJ.js","assets/index-1tJ-Ni-s.js","assets/index-oAg62ljS.js","assets/EyeOutlined-c7TT5NI5.js","assets/collapse-aS6vX33V.js","assets/ColorPicker-V9ASUd98.css","assets/ColorsPicker-eomwLYhg.js","assets/ColorsPicker-c8SWPfcB.css","assets/Grid-Ng_M152z.js","assets/Grid-p4FjUlc6.css","assets/Input-y8ttkQ4v.js","assets/Input-ulYyAdl_.css","assets/Radio-A1ZOt_1R.js","assets/Radio-scZDuxp-.css","assets/Select-JX06YWNI.js","assets/Select-fufuxCpP.css","assets/Slider-az78fqjY.js","assets/Slider-hCeLJ3DQ.css","assets/ImageUpload-_bn7W8de.js","assets/index-Ky8VuNT2.js","assets/FetchUtil-FMEOVjjY.js","assets/Plus-rhd2lwa8.js","assets/useForceUpdate-tvLBK-w1.js","assets/ImageUpload-9kseRzbI.css","assets/ColorMode-c5fBsktM.js","assets/ColorMode-USBQvw06.css","assets/TextOnly-BzbAlv9r.js","assets/TextArea-bv_2MhVK.js","assets/TextArea-3VS8BRdk.css","assets/GroupButton-11P-IPQX.js","assets/GroupButton-uBxL6PXe.css","assets/CardPanel-wZh9GTN_.js","assets/CardPanel-CjUkb6la.css","assets/NumberInput-M7WGrGB5.js","assets/NumberInput-A_zfvH9I.css","assets/ControlGroup-hYzNkYnA.js","assets/Down-f2sIFh_9.js","assets/ControlGroup-MmoPSQBL.css","assets/CheckBox-mLc0Mfm-.js","assets/CheckBox-yhXu1IIj.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
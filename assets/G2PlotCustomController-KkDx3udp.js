import{G as G2Plot}from"./index-zovTqnYQ.js";import{AntdBaseDesignerController}from"./AntdBaseDesignerController-Z7rB5vgE.js";import{O as ObjectUtil}from"./FetchUtil-FMEOVjjY.js";import"./index-CIZzpp4t.js";import"./FontGlobal-OJzIEJBO.js";import"./LayerManager-9_OZ_v7l.js";import"./mobxreact.esm-QmaNsbsC.js";import"./index-PQsxm07c.js";import"./index-Ky8VuNT2.js";import"./GlobalMessage-b_IUatJJ.js";import"./MainRouter-LJqlNU58.js";import"./useZIndex-C48Dwtsu.js";import"./PreviewOpen-ZH2J-uf_.js";class G2PlotCustomController extends AntdBaseDesignerController{async create(container,config){var o,t;this.container=container,this.config=config;const customCode=(o=config.style)==null?void 0:o.customCode;if(!customCode||customCode==="")return;const func=eval(`(${customCode})`);typeof func=="function"&&(this.instance=func(container,G2Plot,(t=config.data)==null?void 0:t.staticData))}destroy(){this.instance.destroy(),this.instance=null,this.config=null,this.interval&&clearInterval(this.interval)}getConfig(){return this.config}changeData(o){var t;(t=this.instance)==null||t.changeData(o)}update(config,upOp){var o,t,i,n,e;if(this.config=ObjectUtil.merge(this.config,config),upOp=upOp||{reRender:!0},upOp.reRender){try{(o=this.instance)==null||o.destroy()}catch(r){for(;(t=this.container)!=null&&t.firstChild;)this.container.removeChild(this.container.firstChild)}const customCode=(i=config.style)==null?void 0:i.customCode;if(!customCode||customCode==="")return;const func=eval(`(${customCode})`);if(typeof func!="function")return;this.instance=func(this.container,G2Plot,(e=(n=this.config)==null?void 0:n.data)==null?void 0:e.staticData)}}}export{G2PlotCustomController as default};

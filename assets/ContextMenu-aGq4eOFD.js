import{r as o,j as s}from"./index-3GqucBfC.js";import{bd as w,be as H,bf as x,o as E,L as f,bg as $,e as S,l as A}from"./LayerManager-Id64Dr7s.js";import{c as D}from"./LayerBuilder-VxvHNdV4.js";import{d as B,a as G,b as N,c as R,r as j,e as I,l as T,f as U,g as F,h as _,i as q,j as J}from"./DesignerPage-GLP8CQSv.js";import{A as a,_ as n}from"./AntdIcon-OHmKKYpl.js";import{D as K}from"./PlusOutlined-8k7LlG5P.js";import"./Button-BktP6eFA.js";import"./MainRouter-5S0GgxtQ.js";import"./useZIndex-9IcJXe4E.js";import"./button-bA6D7oLy.js";import"./omit-snSLv_vL.js";import"./Compact-PqrPY0tm.js";import"./AntdIcon-BYoPKEuB.js";import"./render-IWbIHfGq.js";import"./Overflow-blYa_Cc8.js";import"./GlobalMessage-uqw5jbrt.js";import"./NumberInput-M4LWcmYS.js";import"./Select-xkl2cP13.js";import"./PlusOutlined-VdblB-UP.js";var P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"};const Q=P;var W={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const X=W;var h=function(e,t){return o.createElement(a,n(n({},e),{},{ref:t,icon:X}))};h.displayName="CopyOutlined";const Y=o.forwardRef(h);var O=function(e,t){return o.createElement(a,n(n({},e),{},{ref:t,icon:K}))};O.displayName="DeleteOutlined";const Z=o.forwardRef(O);var y=function(e,t){return o.createElement(a,n(n({},e),{},{ref:t,icon:w}))};y.displayName="DownOutlined";const ee=o.forwardRef(y);var C=function(e,t){return o.createElement(a,n(n({},e),{},{ref:t,icon:H}))};C.displayName="EyeInvisibleOutlined";const te=o.forwardRef(C);var ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M912 820.1V203.9c28-9.9 48-36.6 48-67.9 0-39.8-32.2-72-72-72-31.3 0-58 20-67.9 48H203.9C194 84 167.3 64 136 64c-39.8 0-72 32.2-72 72 0 31.3 20 58 48 67.9v616.2C84 830 64 856.7 64 888c0 39.8 32.2 72 72 72 31.3 0 58-20 67.9-48h616.2c9.9 28 36.6 48 67.9 48 39.8 0 72-32.2 72-72 0-31.3-20-58-48-67.9zM888 112c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zM136 912c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-752c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm704 680H184V184h656v656zm48 72c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24z"}},{tag:"path",attrs:{d:"M288 474h448c8.8 0 16-7.2 16-16V282c0-8.8-7.2-16-16-16H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16zm56-136h336v64H344v-64zm-56 420h448c8.8 0 16-7.2 16-16V566c0-8.8-7.2-16-16-16H288c-8.8 0-16 7.2-16 16v176c0 8.8 7.2 16 16 16zm56-136h336v64H344v-64z"}}]},name:"group",theme:"outlined"};const oe=ne;var V=function(e,t){return o.createElement(a,n(n({},e),{},{ref:t,icon:oe}))};V.displayName="GroupOutlined";const ie=o.forwardRef(V);var ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const ae=ce;var k=function(e,t){return o.createElement(a,n(n({},e),{},{ref:t,icon:ae}))};k.displayName="LockOutlined";const g=o.forwardRef(k);var le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"};const re=le;var z=function(e,t){return o.createElement(a,n(n({},e),{},{ref:t,icon:re}))};z.displayName="LogoutOutlined";const se=o.forwardRef(z);var M=function(e,t){return o.createElement(a,n(n({},e),{},{ref:t,icon:x}))};M.displayName="UpOutlined";const ue=o.forwardRef(M);var de={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 780H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM505.7 669a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V176c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8z"}}]},name:"vertical-align-bottom",theme:"outlined"};const me=de;var L=function(e,t){return o.createElement(a,n(n({},e),{},{ref:t,icon:me}))};L.displayName="VerticalAlignBottomOutlined";const pe=o.forwardRef(L);var b=function(e,t){return o.createElement(a,n(n({},e),{},{ref:t,icon:Q}))};b.displayName="VerticalAlignTopOutlined";const ve=o.forwardRef(b),fe=[{name:"复制",icon:Y,onClick:I},{name:"上移",icon:ue,onClick:T},{name:"下移",icon:ee,onClick:U},{name:"置顶",icon:ve,onClick:F},{name:"置底",icon:pe,onClick:_},{name:"删除",icon:Z,onClick:q},{name:"隐藏",icon:te,onClick:J}],ge=()=>{const i=()=>{var v;const c=[...fe],{targetIds:l}=S;if(l.length===0)return c;const{layerConfigs:r}=A;!!((v=r[l[0]])!=null&&v.lock)?c.push({name:"解锁",icon:g,onClick:B}):c.push({name:"锁定",icon:g,onClick:G}),l.length>1&&!f.hasSameGroup(l)&&c.push({name:"编组",icon:ie,onClick:N});let u=f.findTopGroupLayer(l,!0);return u=u.filter(m=>r[m].type==="group"),u.length>0&&c.push({name:"解组",icon:$,onClick:R}),l.some(m=>!r[m].pid)||c.push({name:"移出分组",icon:se,onClick:j}),c},e=()=>{const c=[],l=i();for(let r=0;r<l.length;r++){const d=l[r],u=d.icon;c.push(s.jsxs("div",{className:"menu-item",onClick:d.onClick,children:[s.jsx("label",{children:s.jsx(u,{})}),s.jsx("span",{children:d.name})]},r+""))}return c},{visible:t,position:p=[0,0]}=D;return s.jsx(s.Fragment,{children:t&&s.jsx("div",{className:"context-menu",style:{position:"fixed",top:p[1],left:p[0]},children:e()})})},Ne=E(ge);export{Ne as default};

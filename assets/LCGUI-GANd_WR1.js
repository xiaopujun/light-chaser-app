var g=Object.defineProperty;var P=(n,t,e)=>t in n?g(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var _=(n,t,e)=>(P(n,typeof t!="symbol"?t+"":t,e),e);import{R as React,_ as __vitePreload,j as jsxRuntimeExports}from"./index-OsS9UfkW.js";class LCGUIUtil{static updateSchema(t,e,r){const o=e.shift(),{key:i,index:s}=o;i&&i in t&&(e.length===0?t.value=r:s!==void 0?this.updateSchema(t[i][s],e,r):this.updateSchema(t[i],e,r))}static createObjectFromArray(t,e){const r={};let o=r;for(let i=0;i<t.length;i++){const s=t[i];o[s]=i===t.length-1?e:{},o=o[s]}return r}static schemaStructureAssignment(t,e){return typeof t!="object"?{}:(Object.keys(t).forEach(r=>{if(typeof t[r]!="object")e.key===r?e.value=t[r]:e.children&&e.children.forEach(o=>{LCGUIUtil.schemaStructureAssignment({[r]:t[r]},o)});else{const o=LCGUIUtil.findChildSchemaByKey(r,e);o&&LCGUIUtil.schemaStructureAssignment(t[r],o)}}),e)}static findChildSchemaByKey(t,e){if(e.key===t)return e;if(e.children)for(let r=0;r<e.children.length;r++){const o=this.findChildSchemaByKey(t,e.children[r]);if(o)return o}return{}}static parseSchemaData(t){const e={};if(t.children){let r={};return t.children.forEach(o=>{r={...r,...LCGUIUtil.parseSchemaData(o)}}),t.key?(e[t.key]=r,e):r}else return t.key&&(e[t.key]=t.value||void 0),e}}const Accordion=React.lazy(()=>__vitePreload(()=>import("./Accordion-h3ju0kN4.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),Button=React.lazy(()=>__vitePreload(()=>import("./Button-tVc5ioar.js"),__vite__mapDeps([15,1,2,16]))),MonacoEditor=React.lazy(()=>__vitePreload(()=>import("./MonacoEditor-ov8BpsQ9.js").then(n=>n.a),__vite__mapDeps([17,1,2,18]))),ColorPicker=React.lazy(()=>__vitePreload(()=>import("./ColorPicker-Zriz_5ra.js"),__vite__mapDeps([19,1,2,4,5,6,7,8,9,10,11,20,21,22,23,24,25,26,27,28,29]))),ColorsPicker=React.lazy(()=>__vitePreload(()=>import("./ColorsPicker-4VOG4ibE.js"),__vite__mapDeps([30,1,2,19,4,5,6,7,8,9,10,11,20,21,22,23,24,25,26,27,28,29,31]))),Grid=React.lazy(()=>__vitePreload(()=>import("./Grid-pJgl1oS6.js"),__vite__mapDeps([32,1,2,4,5,6,7,8,9,10,11,33])).then(({Grid:n})=>({default:n}))),Input=React.lazy(()=>__vitePreload(()=>import("./Input-0x6URBKt.js"),__vite__mapDeps([34,1,2,4,5,6,7,8,9,10,11,35]))),Radio=React.lazy(()=>__vitePreload(()=>import("./Radio-gqYk-AVU.js"),__vite__mapDeps([36,1,2,4,5,6,7,8,9,10,11,37]))),Select=React.lazy(()=>__vitePreload(()=>import("./Select-QnvNqaJ3.js"),__vite__mapDeps([38,1,2,4,5,6,7,8,9,10,11,39]))),Switch=React.lazy(()=>__vitePreload(()=>import("./Switch-Xsscl7VA.js"),__vite__mapDeps([3,1,2,4,5,6,7,8,9,10,11,12]))),Slider=React.lazy(()=>__vitePreload(()=>import("./Slider-uGPuvUh2.js"),__vite__mapDeps([40,1,2,4,5,6,7,8,9,10,11,41])).then(({Slider:n})=>({default:n}))),RangeSlider=React.lazy(()=>__vitePreload(()=>import("./Slider-uGPuvUh2.js"),__vite__mapDeps([40,1,2,4,5,6,7,8,9,10,11,41])).then(({RangeSlider:n})=>({default:n}))),ImageUpload=React.lazy(()=>__vitePreload(()=>import("./ImageUpload-VAk8AJmp.js"),__vite__mapDeps([42,1,2,4,5,6,7,8,9,10,11,43,44,45,24,46,47,21,28,48,27,23,49])).then(({ImageUpload:n})=>({default:n}))),ColorMode=React.lazy(()=>__vitePreload(()=>import("./ColorMode-xeCJVnGY.js"),__vite__mapDeps([50,1,2,19,4,5,6,7,8,9,10,11,20,21,22,23,24,25,26,27,28,29,38,39,30,31,51]))),TextOnly=React.lazy(()=>__vitePreload(()=>import("./TextOnly-PpvPIWYa.js"),__vite__mapDeps([52,1,2,4,5,6,7,8,9,10,11])).then(({TextOnly:n})=>({default:n}))),TextArea=React.lazy(()=>__vitePreload(()=>import("./TextArea-L3sCwopZ.js"),__vite__mapDeps([53,1,2,4,5,6,7,8,9,10,11,54]))),GroupButton=React.lazy(()=>__vitePreload(()=>import("./GroupButton-kq0ncK3g.js"),__vite__mapDeps([55,1,2,4,5,6,7,8,9,10,11,56])).then(({GroupButton:n})=>({default:n}))),CardPanel=React.lazy(()=>__vitePreload(()=>import("./CardPanel-UxpYECmD.js"),__vite__mapDeps([57,1,2,5,6,7,8,9,10,58])).then(({CardPanel:n})=>({default:n}))),NumberInput=React.lazy(()=>__vitePreload(()=>import("./NumberInput-jcBc5L4J.js"),__vite__mapDeps([59,1,2,4,5,6,7,8,9,10,11,60]))),ControlGroup=React.lazy(()=>__vitePreload(()=>import("./ControlGroup-f3PBg3sH.js"),__vite__mapDeps([61,1,2,45,10,62,13,63]))),CheckBox=React.lazy(()=>__vitePreload(()=>import("./CheckBox-T86O9HDd.js"),__vite__mapDeps([64,1,2,4,5,6,7,8,9,10,11,65]))),UIMap=new Map;UIMap.set("accordion",Accordion);UIMap.set("button",Button);UIMap.set("grid",Grid);UIMap.set("input",Input);UIMap.set("radio",Radio);UIMap.set("select",Select);UIMap.set("switch",Switch);UIMap.set("code-editor",MonacoEditor);UIMap.set("color-picker",ColorPicker);UIMap.set("colors-picker",ColorsPicker);UIMap.set("color-mode",ColorMode);UIMap.set("card-panel",CardPanel);UIMap.set("slider",Slider);UIMap.set("range-slider",RangeSlider);UIMap.set("image-upload",ImageUpload);UIMap.set("text-only",TextOnly);UIMap.set("text-area",TextArea);UIMap.set("group-button",GroupButton);UIMap.set("control-group",ControlGroup);UIMap.set("number-input",NumberInput);UIMap.set("checkbox",CheckBox);class SchemaPathNode{constructor(t,e){_(this,"key","");_(this,"index",0);this.key=t,this.index=e}}class LCGUI extends React.Component{constructor(){super(...arguments);_(this,"onControlChange",(t,e,r,o,i)=>{const{onFieldChange:s}=this.props,l=LCGUIUtil.createObjectFromArray(r,t);s&&s({id:i,data:t,reRender:o,schemaKeyPath:[...e],dataKeyPath:r,dataFragment:l})});_(this,"analyzeRules",(rules,control)=>{const regex=/{([^}]+)}/g,variable=[];let match;for(;(match=regex.exec(rules))!==null;)variable.push(match[1]);const analyze=(t,e,r)=>{if(e.length===0)return r;const{parent:o}=t;if(o&&"children"in o){const{children:i}=o;for(let s=0;s<i.length&&e.length!==0;s++){const l=i[s],a=e.indexOf(l.key);l.key&&a!==-1&&(r=r.replaceAll(`{${l.key}}`,`'${l.value}'`),e.splice(a,1))}}if(e.length>0&&o){const i=e.indexOf(o.key);if(o.key&&o.value&&i!==-1&&(r=r.replace(`{${o.key}}`,`'${o.value}'`),e.splice(i,1)),e.length>0)return analyze(o,e,r)}return r};return eval(analyze(control,variable,rules))});_(this,"buildConfigUI",(t,e,r,o)=>{const i=[];if(!t)return i;if("children"in t){const s=[],{children:l}=t,a=new SchemaPathNode("children"),{type:R,rules:d}=t;if(d&&!this.analyzeRules(d,t))return i;if(e.push(a),t.key&&r.push(t.key),l&&l.forEach((c,u)=>{a.index=u,c.parent=t,s.push(this.buildConfigUI(c,JSON.parse(JSON.stringify(e)),[...r],u))}),!R)i.push([...s]);else{const{type:c,config:u,value:p,id:E,reRender:h,label:I,tip:f}=t,y=UIMap.get(c);e.pop(),e.push({key:"value"});const v={...u,...h?{value:p}:{defaultValue:p},label:I,tip:f,onChange:m=>this.onControlChange(m,e,r,h,E)};i.push(jsxRuntimeExports.jsx(y,{...v,children:s},o))}}else{const{label:s,type:l,tip:a,config:R,value:d,rules:c,id:u,reRender:p}=t;if(!l)return[];if(c&&!this.analyzeRules(c,t))return i;e.push({key:"value"}),r.push(t.key);const h={...R,...p?{value:d}:{defaultValue:d},label:s,tip:a,onChange:f=>this.onControlChange(f,e,r,p,u)},I=UIMap.get(l);if(!I)return[];i.push(jsxRuntimeExports.jsx(I,{...h},o))}return i});_(this,"init",()=>{const t=[];let{schema:e}=this.props;return e=Array.isArray(e)?e:[e],e.forEach(r=>{t.push(this.buildConfigUI(r,[],[],0))}),t})}render(){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:this.init()})}}export{LCGUI as L,LCGUIUtil as a};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Accordion-h3ju0kN4.js","assets/index-OsS9UfkW.js","assets/index-IyM4ICh1.css","assets/Switch-Xsscl7VA.js","assets/UIContainer-QUMruXjD.js","assets/index-hcrqZ8so.js","assets/MainRouter-Z3gK7D7G.js","assets/ResizeObserver.es-B32NGzNS.js","assets/useZIndex-g2cfol2D.js","assets/Help-EfSmZBRS.js","assets/index-K2O65-hP.js","assets/UIContainer-2wM5o6qv.css","assets/Switch-mqJvRLec.css","assets/Right-PZN-lE1P.js","assets/Accordion-SU6xlX8W.css","assets/Button-tVc5ioar.js","assets/Button-Vi-JaWc8.css","assets/MonacoEditor-ov8BpsQ9.js","assets/MonacoEditor-yJ9UOCHw.css","assets/ColorPicker-Zriz_5ra.js","assets/index-p8ckIXOR.js","assets/CheckOutlined-r3grTFMw.js","assets/Overflow-UKUJyBo6.js","assets/omit--0Qnqbh8.js","assets/GlobalMessage-FQtvcjbG.js","assets/index-wIpC5sck.js","assets/index-4x1LRhOc.js","assets/EyeOutlined-32DaWiZk.js","assets/collapse-aS6vX33V.js","assets/ColorPicker-V9ASUd98.css","assets/ColorsPicker-4VOG4ibE.js","assets/ColorsPicker-c8SWPfcB.css","assets/Grid-pJgl1oS6.js","assets/Grid-p4FjUlc6.css","assets/Input-0x6URBKt.js","assets/Input-ulYyAdl_.css","assets/Radio-gqYk-AVU.js","assets/Radio-scZDuxp-.css","assets/Select-QnvNqaJ3.js","assets/Select-fufuxCpP.css","assets/Slider-uGPuvUh2.js","assets/Slider-hCeLJ3DQ.css","assets/ImageUpload-VAk8AJmp.js","assets/index-APrWN4Qi.js","assets/LocalOperator-BbYzoZ36.js","assets/ObjectUtil-nMvTrJhh.js","assets/FetchUtil-Ivd_z0Im.js","assets/Plus-s0Jz5-eZ.js","assets/useForceUpdate-FVo-4i1b.js","assets/ImageUpload-9kseRzbI.css","assets/ColorMode-xeCJVnGY.js","assets/ColorMode-USBQvw06.css","assets/TextOnly-PpvPIWYa.js","assets/TextArea-L3sCwopZ.js","assets/TextArea-3VS8BRdk.css","assets/GroupButton-kq0ncK3g.js","assets/GroupButton-uBxL6PXe.css","assets/CardPanel-UxpYECmD.js","assets/CardPanel-CjUkb6la.css","assets/NumberInput-jcBc5L4J.js","assets/NumberInput-A_zfvH9I.css","assets/ControlGroup-f3PBg3sH.js","assets/Down-uvD6wECP.js","assets/ControlGroup-MmoPSQBL.css","assets/CheckBox-T86O9HDd.js","assets/CheckBox-yhXu1IIj.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{e as b,_ as S,R as P,f as Y,h as H,w as Z,i as he,k as W,l as j,n as X,o as Q,p as z,q as U,d as Oe,s as D,r as F,t as pe,u as J,C as _e,v as Re,j as ne}from"./index-wY5bseHE.js";import{U as Ve}from"./UIContainer-aDq5B8cI.js";import{a as G,b as Fe,T as Le}from"./QuestionCircleOutlined-_KKQMd73.js";var f={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(s){var l=s.keyCode;if(s.altKey&&!s.ctrlKey||s.metaKey||l>=f.F1&&l<=f.F12)return!1;switch(l){case f.ALT:case f.CAPS_LOCK:case f.CONTEXT_MENU:case f.CTRL:case f.DOWN:case f.END:case f.ESC:case f.HOME:case f.INSERT:case f.LEFT:case f.MAC_FF_META:case f.META:case f.NUMLOCK:case f.NUM_CENTER:case f.PAGE_DOWN:case f.PAGE_UP:case f.PAUSE:case f.PRINT_SCREEN:case f.RIGHT:case f.SHIFT:case f.UP:case f.WIN_KEY:case f.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(s){if(s>=f.ZERO&&s<=f.NINE||s>=f.NUM_ZERO&&s<=f.NUM_MULTIPLY||s>=f.A&&s<=f.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&s===0)return!0;switch(s){case f.SPACE:case f.QUESTION_MARK:case f.NUM_PLUS:case f.NUM_MINUS:case f.NUM_PERIOD:case f.NUM_DIVISION:case f.SEMICOLON:case f.DASH:case f.EQUALS:case f.COMMA:case f.PERIOD:case f.SLASH:case f.APOSTROPHE:case f.SINGLE_QUOTE:case f.OPEN_SQUARE_BRACKET:case f.BACKSLASH:case f.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},me=function(s){var l,r,t=s.className,a=s.included,e=s.vertical,n=s.style,i=s.length,o=s.offset,v=s.reverse;i<0&&(v=!v,i=Math.abs(i),o=100-o);var u=e?(l={},b(l,v?"top":"bottom","".concat(o,"%")),b(l,v?"bottom":"top","auto"),b(l,"height","".concat(i,"%")),l):(r={},b(r,v?"right":"left","".concat(o,"%")),b(r,v?"left":"right","auto"),b(r,"width","".concat(i,"%")),r),d=S(S({},n),u);return a?P.createElement("div",{className:t,style:d}):null};function Ue(c,s){for(;!Object.prototype.hasOwnProperty.call(c,s)&&(c=Y(c),c!==null););return c}function w(){return typeof Reflect<"u"&&Reflect.get?w=Reflect.get.bind():w=function(s,l,r){var t=Ue(s,l);if(t){var a=Object.getOwnPropertyDescriptor(t,l);return a.get?a.get.call(arguments.length<3?s:r):a.value}},w.apply(this,arguments)}var Ae=function(s,l,r,t,a,e){Z(r?t>0:!0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var n=Object.keys(l).map(parseFloat).sort(function(o,v){return o-v});if(r&&t)for(var i=a;i<=e;i+=t)n.indexOf(i)===-1&&n.push(i);return n},Be=function(s){var l=s.prefixCls,r=s.vertical,t=s.reverse,a=s.marks,e=s.dots,n=s.step,i=s.included,o=s.lowerBound,v=s.upperBound,u=s.max,d=s.min,p=s.dotStyle,h=s.activeDotStyle,m=u-d,k=Ae(r,a,e,n,d,u).map(function(g){var x,y="".concat(Math.abs(g-d)/m*100,"%"),T=!i&&g===v||i&&g<=v&&g>=o,C=r?S(S({},p),{},b({},t?"top":"bottom",y)):S(S({},p),{},b({},t?"right":"left",y));T&&(C=S(S({},C),h));var M=H((x={},b(x,"".concat(l,"-dot"),!0),b(x,"".concat(l,"-dot-active"),T),b(x,"".concat(l,"-dot-reverse"),t),x));return P.createElement("span",{className:M,style:C,key:g})});return P.createElement("div",{className:"".concat(l,"-step")},k)},Ie=function(s){var l=s.className,r=s.vertical,t=s.reverse,a=s.marks,e=s.included,n=s.upperBound,i=s.lowerBound,o=s.max,v=s.min,u=s.onClickLabel,d=Object.keys(a),p=o-v,h=d.map(parseFloat).sort(function(m,k){return m-k}).map(function(m){var k,g=a[m],x=he(g)==="object"&&!P.isValidElement(g),y=x?g.label:g;if(!y&&y!==0)return null;var T=!e&&m===n||e&&m<=n&&m>=i,C=H((k={},b(k,"".concat(l,"-text"),!0),b(k,"".concat(l,"-text-active"),T),k)),M=b({marginBottom:"-50%"},t?"top":"bottom","".concat((m-v)/p*100,"%")),E=b({transform:"translateX(".concat(t?"50%":"-50%",")"),msTransform:"translateX(".concat(t?"50%":"-50%",")")},t?"right":"left","".concat((m-v)/p*100,"%")),N=r?M:E,_=x?S(S({},N),g.style):N;return P.createElement("span",{className:C,style:_,key:m,onMouseDown:function(R){return u(R,m)},onTouchStart:function(R){return u(R,m)}},y)});return P.createElement("div",{className:l},h)},q=function(c){W(l,c);var s=j(l);function l(){var r;return X(this,l),r=s.apply(this,arguments),r.state={clickFocused:!1},r.setHandleRef=function(t){r.handle=t},r.handleMouseUp=function(){document.activeElement===r.handle&&r.setClickFocus(!0)},r.handleMouseDown=function(t){t.preventDefault(),r.focus()},r.handleBlur=function(){r.setClickFocus(!1)},r.handleKeyDown=function(){r.setClickFocus(!1)},r}return Q(l,[{key:"componentDidMount",value:function(){this.onMouseUpListener=G(document,"mouseup",this.handleMouseUp)}},{key:"componentWillUnmount",value:function(){this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"setClickFocus",value:function(t){this.setState({clickFocused:t})}},{key:"clickFocus",value:function(){this.setClickFocus(!0),this.focus()}},{key:"focus",value:function(){this.handle.focus()}},{key:"blur",value:function(){this.handle.blur()}},{key:"render",value:function(){var t,a,e=this.props,n=e.prefixCls,i=e.vertical,o=e.reverse,v=e.offset,u=e.style,d=e.disabled,p=e.min,h=e.max,m=e.value,k=e.tabIndex,g=e.ariaLabel,x=e.ariaLabelledBy,y=e.ariaValueTextFormatter,T=z(e,["prefixCls","vertical","reverse","offset","style","disabled","min","max","value","tabIndex","ariaLabel","ariaLabelledBy","ariaValueTextFormatter"]),C=H(this.props.className,b({},"".concat(n,"-handle-click-focused"),this.state.clickFocused)),M=i?(t={},b(t,o?"top":"bottom","".concat(v,"%")),b(t,o?"bottom":"top","auto"),b(t,"transform",o?null:"translateY(+50%)"),t):(a={},b(a,o?"right":"left","".concat(v,"%")),b(a,o?"left":"right","auto"),b(a,"transform","translateX(".concat(o?"+":"-","50%)")),a),E=S(S({},u),M),N=k||0;(d||k===null)&&(N=null);var _;return y&&(_=y(m)),P.createElement("div",U({ref:this.setHandleRef,tabIndex:N},T,{className:C,style:E,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,role:"slider","aria-valuemin":p,"aria-valuemax":h,"aria-valuenow":m,"aria-disabled":!!d,"aria-label":g,"aria-labelledby":x,"aria-valuetext":_}))}}]),l}(P.Component);function re(c,s){try{return Object.keys(s).some(function(l){return c.target===Oe.findDOMNode(s[l])})}catch{return!1}}function ge(c,s){var l=s.min,r=s.max;return c<l||c>r}function le(c){return c.touches.length>1||c.type.toLowerCase()==="touchend"&&c.touches.length>0}function ue(c,s){var l=s.marks,r=s.step,t=s.min,a=s.max,e=Object.keys(l).map(parseFloat);if(r!==null){var n=Math.pow(10,ye(r)),i=Math.floor((a*n-t*n)/(r*n)),o=Math.min((c-t)/r,i),v=Math.round(o)*r+t;e.push(v)}var u=e.map(function(d){return Math.abs(c-d)});return e[u.indexOf(Math.min.apply(Math,D(u)))]}function ye(c){var s=c.toString(),l=0;return s.indexOf(".")>=0&&(l=s.length-s.indexOf(".")-1),l}function ce(c,s){return c?s.clientY:s.pageX}function ve(c,s){return c?s.touches[0].clientY:s.touches[0].pageX}function de(c,s){var l=s.getBoundingClientRect();return c?l.top+l.height*.5:window.pageXOffset+l.left+l.width*.5}function ie(c,s){var l=s.max,r=s.min;return c<=r?r:c>=l?l:c}function be(c,s){var l=s.step,r=isFinite(ue(c,s))?ue(c,s):0;return l===null?r:parseFloat(r.toFixed(ye(l)))}function K(c){c.stopPropagation(),c.preventDefault()}function De(c,s,l){var r={increase:function(n,i){return n+i},decrease:function(n,i){return n-i}},t=r[c](Object.keys(l.marks).indexOf(JSON.stringify(s)),1),a=Object.keys(l.marks)[t];return l.step?r[c](s,l.step):Object.keys(l.marks).length&&l.marks[a]?l.marks[a]:s}function xe(c,s,l){var r="increase",t="decrease",a=r;switch(c.keyCode){case f.UP:a=s&&l?t:r;break;case f.RIGHT:a=!s&&l?t:r;break;case f.DOWN:a=s&&l?r:t;break;case f.LEFT:a=!s&&l?r:t;break;case f.END:return function(e,n){return n.max};case f.HOME:return function(e,n){return n.min};case f.PAGE_UP:return function(e,n){return e+n.step*2};case f.PAGE_DOWN:return function(e,n){return e-n.step*2};default:return}return function(e,n){return De(a,e,n)}}function I(){}function ke(c){var s;return s=function(l){W(t,l);var r=j(t);function t(a){var e;X(this,t),e=r.call(this,a),e.onDown=function(u,d){var p=d,h=e.props,m=h.draggableTrack,k=h.vertical,g=e.state.bounds,x=m&&e.positionGetValue?e.positionGetValue(p)||[]:[],y=re(u,e.handlesRefs);if(e.dragTrack=m&&g.length>=2&&!y&&!x.map(function(C,M){var E=M?!0:C>=g[M];return M===x.length-1?C<=g[M]:E}).some(function(C){return!C}),e.dragTrack)e.dragOffset=p,e.startBounds=D(g);else{if(!y)e.dragOffset=0;else{var T=de(k,u.target);e.dragOffset=p-T,p=T}e.onStart(p)}},e.onMouseDown=function(u){if(u.button===0){e.removeDocumentEvents();var d=e.props.vertical,p=ce(d,u);e.onDown(u,p),e.addDocumentMouseEvents()}},e.onTouchStart=function(u){if(!le(u)){var d=e.props.vertical,p=ve(d,u);e.onDown(u,p),e.addDocumentTouchEvents(),K(u)}},e.onFocus=function(u){var d=e.props,p=d.onFocus,h=d.vertical;if(re(u,e.handlesRefs)&&!e.dragTrack){var m=de(h,u.target);e.dragOffset=0,e.onStart(m),K(u),p&&p(u)}},e.onBlur=function(u){var d=e.props.onBlur;e.dragTrack||e.onEnd(),d&&d(u)},e.onMouseUp=function(){e.handlesRefs[e.prevMovedHandleIndex]&&e.handlesRefs[e.prevMovedHandleIndex].clickFocus()},e.onMouseMove=function(u){if(!e.sliderRef){e.onEnd();return}var d=ce(e.props.vertical,u);e.onMove(u,d-e.dragOffset,e.dragTrack,e.startBounds)},e.onTouchMove=function(u){if(le(u)||!e.sliderRef){e.onEnd();return}var d=ve(e.props.vertical,u);e.onMove(u,d-e.dragOffset,e.dragTrack,e.startBounds)},e.onKeyDown=function(u){e.sliderRef&&re(u,e.handlesRefs)&&e.onKeyboard(u)},e.onClickMarkLabel=function(u,d){u.stopPropagation(),e.onChange({value:d}),e.setState({value:d},function(){return e.onEnd(!0)})},e.saveSlider=function(u){e.sliderRef=u};var n=a.step,i=a.max,o=a.min,v=isFinite(i-o)?(i-o)%n===0:!0;return Z(n&&Math.floor(n)===n?v:!0,"Slider[max] - Slider[min] (".concat(i-o,") should be a multiple of Slider[step] (").concat(n,")")),e.handlesRefs={},e}return Q(t,[{key:"componentDidMount",value:function(){this.document=this.sliderRef&&this.sliderRef.ownerDocument;var e=this.props,n=e.autoFocus,i=e.disabled;n&&!i&&this.focus()}},{key:"componentWillUnmount",value:function(){w(Y(t.prototype),"componentWillUnmount",this)&&w(Y(t.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"getSliderStart",value:function(){var e=this.sliderRef,n=this.props,i=n.vertical,o=n.reverse,v=e.getBoundingClientRect();return i?o?v.bottom:v.top:window.pageXOffset+(o?v.right:v.left)}},{key:"getSliderLength",value:function(){var e=this.sliderRef;if(!e)return 0;var n=e.getBoundingClientRect();return this.props.vertical?n.height:n.width}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=G(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=G(this.document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=G(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=G(this.document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"focus",value:function(){var e;this.props.disabled||(e=this.handlesRefs[0])===null||e===void 0||e.focus()}},{key:"blur",value:function(){var e=this;this.props.disabled||Object.keys(this.handlesRefs).forEach(function(n){var i,o;(i=e.handlesRefs[n])===null||i===void 0||(o=i.blur)===null||o===void 0||o.call(i)})}},{key:"calcValue",value:function(e){var n=this.props,i=n.vertical,o=n.min,v=n.max,u=Math.abs(Math.max(e,0)/this.getSliderLength()),d=i?(1-u)*(v-o)+o:u*(v-o)+o;return d}},{key:"calcValueByPos",value:function(e){var n=this.props.reverse?-1:1,i=n*(e-this.getSliderStart()),o=this.trimAlignValue(this.calcValue(i));return o}},{key:"calcOffset",value:function(e){var n=this.props,i=n.min,o=n.max,v=(e-i)/(o-i);return Math.max(0,v*100)}},{key:"saveHandle",value:function(e,n){this.handlesRefs[e]=n}},{key:"render",value:function(){var e,n=this.props,i=n.prefixCls,o=n.className,v=n.marks,u=n.dots,d=n.step,p=n.included,h=n.disabled,m=n.vertical,k=n.reverse,g=n.min,x=n.max,y=n.children,T=n.maximumTrackStyle,C=n.style,M=n.railStyle,E=n.dotStyle,N=n.activeDotStyle,_=w(Y(t.prototype),"render",this).call(this),L=_.tracks,R=_.handles,O=H(i,(e={},b(e,"".concat(i,"-with-marks"),Object.keys(v).length),b(e,"".concat(i,"-disabled"),h),b(e,"".concat(i,"-vertical"),m),b(e,o,o),e));return P.createElement("div",{ref:this.saveSlider,className:O,onTouchStart:h?I:this.onTouchStart,onMouseDown:h?I:this.onMouseDown,onMouseUp:h?I:this.onMouseUp,onKeyDown:h?I:this.onKeyDown,onFocus:h?I:this.onFocus,onBlur:h?I:this.onBlur,style:C},P.createElement("div",{className:"".concat(i,"-rail"),style:S(S({},T),M)}),L,P.createElement(Be,{prefixCls:i,vertical:m,reverse:k,marks:v,dots:u,step:d,included:p,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:x,min:g,dotStyle:E,activeDotStyle:N}),R,P.createElement(Ie,{className:"".concat(i,"-mark"),onClickLabel:h?I:this.onClickMarkLabel,vertical:m,marks:v,included:p,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:x,min:g,reverse:k}),y)}}]),t}(c),s.displayName="ComponentEnhancer(".concat(c.displayName,")"),s.defaultProps=S(S({},c.defaultProps),{},{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(r){var t=r.index,a=z(r,["index"]);return delete a.dragging,a.value===null?null:P.createElement(q,U({},a,{key:t}))},onBeforeChange:I,onChange:I,onAfterChange:I,included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),s}var He=function(c){W(l,c);var s=j(l);function l(r){var t;X(this,l),t=s.call(this,r),t.positionGetValue=function(n){return[]},t.onEnd=function(n){var i=t.state.dragging;t.removeDocumentEvents(),(i||n)&&t.props.onAfterChange(t.getValue()),t.setState({dragging:!1})};var a=r.defaultValue!==void 0?r.defaultValue:r.min,e=r.value!==void 0?r.value:a;return t.state={value:t.trimAlignValue(e),dragging:!1},Z(!("minimumTrackStyle"in r),"minimumTrackStyle will be deprecated, please use trackStyle instead."),Z(!("maximumTrackStyle"in r),"maximumTrackStyle will be deprecated, please use railStyle instead."),t}return Q(l,[{key:"calcValueByPos",value:function(t){return 0}},{key:"calcOffset",value:function(t){return 0}},{key:"saveHandle",value:function(t,a){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(t,a){var e=this.props,n=e.min,i=e.max,o=e.value,v=e.onChange;if("min"in this.props||"max"in this.props){var u=o!==void 0?o:a.value,d=this.trimAlignValue(u,this.props);d!==a.value&&(this.setState({value:d}),!(n===t.min&&i===t.max)&&ge(u,this.props)&&v(d))}}},{key:"onChange",value:function(t){var a=this.props,e=!("value"in a),n=t.value>this.props.max?S(S({},t),{},{value:this.props.max}):t;e&&this.setState(n);var i=n.value;a.onChange(i)}},{key:"onStart",value:function(t){this.setState({dragging:!0});var a=this.props,e=this.getValue();a.onBeforeChange(e);var n=this.calcValueByPos(t);this.startValue=n,this.startPosition=t,n!==e&&(this.prevMovedHandleIndex=0,this.onChange({value:n}))}},{key:"onMove",value:function(t,a){K(t);var e=this.state.value,n=this.calcValueByPos(a);n!==e&&this.onChange({value:n})}},{key:"onKeyboard",value:function(t){var a=this.props,e=a.reverse,n=a.vertical,i=xe(t,n,e);if(i){K(t);var o=this.state,v=o.value,u=i(v,this.props),d=this.trimAlignValue(u);if(d===v)return;this.onChange({value:d}),this.props.onAfterChange(d),this.onEnd()}}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){var t=this.props.startPoint||this.props.min;return this.state.value>t?t:this.state.value}},{key:"getUpperBound",value:function(){return this.state.value<this.props.startPoint?this.props.startPoint:this.state.value}},{key:"trimAlignValue",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t===null)return null;var e=S(S({},this.props),a),n=ie(t,e);return be(n,e)}},{key:"render",value:function(){var t=this,a=this.props,e=a.prefixCls,n=a.vertical,i=a.included,o=a.disabled,v=a.minimumTrackStyle,u=a.trackStyle,d=a.handleStyle,p=a.tabIndex,h=a.ariaLabelForHandle,m=a.ariaLabelledByForHandle,k=a.ariaValueTextFormatterForHandle,g=a.min,x=a.max,y=a.startPoint,T=a.reverse,C=a.handle,M=this.state,E=M.value,N=M.dragging,_=this.calcOffset(E),L=C({className:"".concat(e,"-handle"),prefixCls:e,vertical:n,offset:_,value:E,dragging:N,disabled:o,min:g,max:x,reverse:T,index:0,tabIndex:p,ariaLabel:h,ariaLabelledBy:m,ariaValueTextFormatter:k,style:d[0]||d,ref:function(B){return t.saveHandle(0,B)}}),R=y!==void 0?this.calcOffset(y):0,O=u[0]||u,V=P.createElement(me,{className:"".concat(e,"-track"),vertical:n,included:i,offset:R,reverse:T,length:_-R,style:S(S({},v),O)});return{tracks:V,handles:L}}}]),l}(P.Component);const we=ke(He);var $=function(s){var l=s.value,r=s.handle,t=s.bounds,a=s.props,e=a.allowCross,n=a.pushable,i=Number(n),o=ie(l,a),v=o;return!e&&r!=null&&t!==void 0&&(r>0&&o<=t[r-1]+i&&(v=t[r-1]+i),r<t.length-1&&o>=t[r+1]-i&&(v=t[r+1]-i)),be(v,a)},se=function(c){W(l,c);var s=j(l);function l(r){var t;X(this,l),t=s.call(this,r),t.positionGetValue=function(p){var h=t.getValue(),m=t.calcValueByPos(p),k=t.getClosestBound(m),g=t.getBoundNeedMoving(m,k),x=h[g];if(m===x)return null;var y=D(h);return y[g]=m,y},t.onEnd=function(p){var h=t.state.handle;t.removeDocumentEvents(),h||(t.dragTrack=!1),(h!==null||p)&&t.props.onAfterChange(t.getValue()),t.setState({handle:null})};var a=r.count,e=r.min,n=r.max,i=Array.apply(void 0,D(Array(a+1))).map(function(){return e}),o="defaultValue"in r?r.defaultValue:i,v=r.value!==void 0?r.value:o,u=v.map(function(p,h){return $({value:p,handle:h,props:r})}),d=u[0]===n?0:u.length-1;return t.state={handle:null,recent:d,bounds:u},t}return Q(l,[{key:"calcValueByPos",value:function(t){return 0}},{key:"getSliderLength",value:function(){return 0}},{key:"calcOffset",value:function(t){return 0}},{key:"saveHandle",value:function(t,a){}},{key:"removeDocumentEvents",value:function(){}},{key:"componentDidUpdate",value:function(t,a){var e=this,n=this.props,i=n.onChange,o=n.value,v=n.min,u=n.max;if(("min"in this.props||"max"in this.props)&&!(v===t.min&&u===t.max)){var d=o||a.bounds;if(d.some(function(h){return ge(h,e.props)})){var p=d.map(function(h){return ie(h,e.props)});i(p)}}}},{key:"onChange",value:function(t){var a=this.props,e=!("value"in a);if(e)this.setState(t);else{var n={};["handle","recent"].forEach(function(v){t[v]!==void 0&&(n[v]=t[v])}),Object.keys(n).length&&this.setState(n)}var i=S(S({},this.state),t),o=i.bounds;a.onChange(o)}},{key:"onStart",value:function(t){var a=this.props,e=this.state,n=this.getValue();a.onBeforeChange(n);var i=this.calcValueByPos(t);this.startValue=i,this.startPosition=t;var o=this.getClosestBound(i);this.prevMovedHandleIndex=this.getBoundNeedMoving(i,o),this.setState({handle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var v=n[this.prevMovedHandleIndex];if(i!==v){var u=D(e.bounds);u[this.prevMovedHandleIndex]=i,this.onChange({bounds:u})}}},{key:"onMove",value:function(t,a,e,n){K(t);var i=this.state,o=this.props,v=o.max||100,u=o.min||0;if(e){var d=o.vertical?-a:a;d=o.reverse?-d:d;var p=v-Math.max.apply(Math,D(n)),h=u-Math.min.apply(Math,D(n)),m=Math.min(Math.max(d/(this.getSliderLength()/(v-u)),h),p),k=n.map(function(y){return Math.floor(Math.max(Math.min(y+m,v),u))});i.bounds.map(function(y,T){return y===k[T]}).some(function(y){return!y})&&this.onChange({bounds:k});return}var g=this.calcValueByPos(a),x=i.bounds[i.handle];g!==x&&this.moveTo(g)}},{key:"onKeyboard",value:function(t){var a=this.props,e=a.reverse,n=a.vertical,i=xe(t,n,e);if(i){K(t);var o=this.state,v=this.props,u=o.bounds,d=o.handle,p=u[d===null?o.recent:d],h=i(p,v),m=$({value:h,handle:d,bounds:o.bounds,props:v});if(m===p)return;var k=!0;this.moveTo(m,k)}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(t){for(var a=this.state.bounds,e=0,n=1;n<a.length-1;n+=1)t>=a[n]&&(e=n);return Math.abs(a[e+1]-t)<Math.abs(a[e]-t)&&(e+=1),e}},{key:"getBoundNeedMoving",value:function(t,a){var e=this.state,n=e.bounds,i=e.recent,o=a,v=n[a+1]===n[a];return v&&n[i]===n[a]&&(o=i),v&&t!==n[a+1]&&(o=t<n[a+1]?a:a+1),o}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var t=this.state.bounds;return t[t.length-1]}},{key:"getPoints",value:function(){var t=this.props,a=t.marks,e=t.step,n=t.min,i=t.max,o=this.internalPointsCache;if(!o||o.marks!==a||o.step!==e){var v=S({},a);if(e!==null)for(var u=n;u<=i;u+=e)v[u]=u;var d=Object.keys(v).map(parseFloat);d.sort(function(p,h){return p-h}),this.internalPointsCache={marks:a,step:e,points:d}}return this.internalPointsCache.points}},{key:"moveTo",value:function(t,a){var e=this,n=this.state,i=this.props,o=D(n.bounds),v=n.handle===null?n.recent:n.handle;o[v]=t;var u=v;i.pushable!==!1?this.pushSurroundingHandles(o,u):i.allowCross&&(o.sort(function(d,p){return d-p}),u=o.indexOf(t)),this.onChange({recent:u,handle:u,bounds:o}),a&&(this.props.onAfterChange(o),this.setState({},function(){e.handlesRefs[u].focus()}),this.onEnd())}},{key:"pushSurroundingHandles",value:function(t,a){var e=t[a],n=this.props.pushable,i=Number(n),o=0;if(t[a+1]-e<i&&(o=1),e-t[a-1]<i&&(o=-1),o!==0){var v=a+o,u=o*(t[v]-e);this.pushHandle(t,v,o,i-u)||(t[a]=t[v]-o*i)}}},{key:"pushHandle",value:function(t,a,e,n){for(var i=t[a],o=t[a];e*(o-i)<n;){if(!this.pushHandleOnePoint(t,a,e))return t[a]=i,!1;o=t[a]}return!0}},{key:"pushHandleOnePoint",value:function(t,a,e){var n=this.getPoints(),i=n.indexOf(t[a]),o=i+e;if(o>=n.length||o<0)return!1;var v=a+e,u=n[o],d=this.props.pushable,p=Number(d),h=e*(t[v]-u);return this.pushHandle(t,v,e,p-h)?(t[a]=u,!0):!1}},{key:"trimAlignValue",value:function(t){var a=this.state,e=a.handle,n=a.bounds;return $({value:t,handle:e,bounds:n,props:this.props})}},{key:"render",value:function(){var t=this,a=this.state,e=a.handle,n=a.bounds,i=this.props,o=i.prefixCls,v=i.vertical,u=i.included,d=i.disabled,p=i.min,h=i.max,m=i.reverse,k=i.handle,g=i.trackStyle,x=i.handleStyle,y=i.tabIndex,T=i.ariaLabelGroupForHandles,C=i.ariaLabelledByGroupForHandles,M=i.ariaValueTextFormatterGroupForHandles,E=n.map(function(R){return t.calcOffset(R)}),N="".concat(o,"-handle"),_=n.map(function(R,O){var V,A=y[O]||0;(d||y[O]===null)&&(A=null);var B=e===O;return k({className:H((V={},b(V,N,!0),b(V,"".concat(N,"-").concat(O+1),!0),b(V,"".concat(N,"-dragging"),B),V)),prefixCls:o,vertical:v,dragging:B,offset:E[O],value:R,index:O,tabIndex:A,min:p,max:h,reverse:m,disabled:d,style:x[O],ref:function(ae){return t.saveHandle(O,ae)},ariaLabel:T[O],ariaLabelledBy:C[O],ariaValueTextFormatter:M[O]})}),L=n.slice(0,-1).map(function(R,O){var V,A=O+1,B=H((V={},b(V,"".concat(o,"-track"),!0),b(V,"".concat(o,"-track-").concat(A),!0),V));return P.createElement(me,{className:B,vertical:v,reverse:m,included:u,offset:E[A-1],length:E[A]-E[A-1],style:g[O],key:A})});return{tracks:L,handles:_}}}],[{key:"getDerivedStateFromProps",value:function(t,a){if(!("value"in t||"min"in t||"max"in t))return null;var e=t.value||a.bounds,n=e.map(function(i,o){return $({value:i,handle:o,bounds:a.bounds,props:t})});if(a.bounds.length===n.length){if(n.every(function(i,o){return i===a.bounds[o]}))return null}else n=e.map(function(i,o){return $({value:i,handle:o,props:t})});return S(S({},a),{},{bounds:n})}}]),l}(P.Component);se.displayName="Range";se.defaultProps={count:1,allowCross:!0,pushable:!1,draggableTrack:!1,tabIndex:[],ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]};const Ee=ke(se);var Ke=F.forwardRef(function(c,s){var l=c.visible,r=c.overlay,t=F.useRef(null),a=pe(s,t),e=F.useRef(null);function n(){J.cancel(e.current)}function i(){e.current=J(function(){var o;(o=t.current)===null||o===void 0||o.forcePopupAlign()})}return F.useEffect(function(){return l?i():n(),n},[l,r]),F.createElement(Fe,U({ref:a},c))});function $e(c){var s;return s=function(l){W(t,l);var r=j(t);function t(){var a;return X(this,t),a=r.apply(this,arguments),a.state={visibles:{}},a.handleTooltipVisibleChange=function(e,n){a.setState(function(i){return{visibles:S(S({},i.visibles),{},b({},e,n))}})},a.handleWithTooltip=function(e){var n=e.value,i=e.dragging,o=e.index,v=e.disabled,u=z(e,["value","dragging","index","disabled"]),d=a.props,p=d.tipFormatter,h=d.tipProps,m=d.handleStyle,k=d.getTooltipContainer,g=h.prefixCls,x=g===void 0?"rc-slider-tooltip":g,y=h.overlay,T=y===void 0?p(n):y,C=h.placement,M=C===void 0?"top":C,E=h.visible,N=E===void 0?!1:E,_=z(h,["prefixCls","overlay","placement","visible"]),L;return Array.isArray(m)?L=m[o]||m[0]:L=m,P.createElement(Ke,U({},_,{getTooltipContainer:k,prefixCls:x,overlay:T,placement:M,visible:!v&&(a.state.visibles[o]||i)||N,key:o}),P.createElement(q,U({},u,{style:S({},L),value:n,onMouseEnter:function(){return a.handleTooltipVisibleChange(o,!0)},onMouseLeave:function(){return a.handleTooltipVisibleChange(o,!1)}})))},a}return Q(t,[{key:"render",value:function(){return P.createElement(c,U({},this.props,{handle:this.handleWithTooltip}))}}]),t}(P.Component),s.defaultProps={tipFormatter:function(r){return r},handleStyle:[{}],tipProps:{},getTooltipContainer:function(r){return r.parentNode}},s}var ee=we;ee.Range=Ee;ee.Handle=q;ee.createSliderWithTooltip=$e;var Ge=F.forwardRef(function(c,s){var l=c.visible,r=F.useRef(null),t=F.useRef(null);function a(){J.cancel(t.current),t.current=null}function e(){t.current=J(function(){var n;(n=r.current)===null||n===void 0||n.forcePopupAlign(),t.current=null})}return F.useEffect(function(){return l?e():a(),a},[l,c.title]),F.createElement(Le,U({ref:pe(r,s)},c))});const We=Ge;var fe=function(c,s){var l={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&s.indexOf(r)<0&&(l[r]=c[r]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,r=Object.getOwnPropertySymbols(c);t<r.length;t++)s.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(c,r[t])&&(l[r[t]]=c[r[t]]);return l},oe=F.forwardRef(function(c,s){var l=F.useContext(_e),r=l.getPrefixCls,t=l.direction,a=l.getPopupContainer,e=F.useState({}),n=Re(e,2),i=n[0],o=n[1],v=function(E,N){o(function(_){return U(U({},_),b({},E,N))})},u=function(E,N){return E||(N?t==="rtl"?"left":"right":"top")},d=function(E){var N=E.tooltipPrefixCls,_=E.prefixCls,L=E.info,R=L.value,O=L.dragging,V=L.index,A=fe(L,["value","dragging","index"]),B=c.tipFormatter,te=c.tooltipVisible,ae=c.tooltipPlacement,Se=c.getTooltipPopupContainer,Ce=c.vertical,Me=B?i[V]||O:!1,Te=te||te===void 0&&Me,Ne=r();return F.createElement(We,{prefixCls:N,title:B?B(R):"",visible:Te,placement:u(ae,Ce),transitionName:"".concat(Ne,"-zoom-down"),key:V,overlayClassName:"".concat(_,"-tooltip"),getPopupContainer:Se||a},F.createElement(q,U({},A,{value:R,onMouseEnter:function(){return v(V,!0)},onMouseLeave:function(){return v(V,!1)}})))},p=c.prefixCls,h=c.tooltipPrefixCls,m=c.range,k=c.className,g=fe(c,["prefixCls","tooltipPrefixCls","range","className"]),x=r("slider",p),y=r("tooltip",h),T=H(k,b({},"".concat(x,"-rtl"),t==="rtl"));t==="rtl"&&!g.vertical&&(g.reverse=!g.reverse);var C;return he(m)==="object"&&(C=m.draggableTrack),m?F.createElement(Ee,U({},g,{step:g.step,draggableTrack:C,className:T,ref:s,handle:function(E){return d({tooltipPrefixCls:y,prefixCls:x,info:E})},prefixCls:x})):F.createElement(ee,U({},g,{step:g.step,className:T,ref:s,handle:function(E){return d({tooltipPrefixCls:y,prefixCls:x,info:E})},prefixCls:x}))});oe.displayName="Slider";oe.defaultProps={tipFormatter:function(s){return typeof s=="number"?s.toString():""}};const je=oe,Ze=c=>{const{defaultValue:s,max:l,min:r,step:t,...a}=c;return ne.jsx(Ve,{...a,className:"lc-slider",children:ne.jsx("div",{className:"lc-slider-body",children:ne.jsx(je,{max:l,min:r,step:t,defaultValue:s})})})};export{Ze as Slider};

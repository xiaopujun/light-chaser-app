var p=Object.defineProperty;var g=(r,o,e)=>o in r?p(r,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[o]=e;var l=(r,o,e)=>(g(r,typeof o!="symbol"?o+"":o,e),e);import{r as C,j as s}from"./index-2e9IcPy_.js";import{b8 as v}from"./EventOperateStore-HyYK-r0h.js";import x from"./Select-tCw02jxV.js";import f from"./ColorsPicker-vfxy97zx.js";import{U as V}from"./Button-K5sqjUdf.js";import"./AntdIcon-ncNZqSjB.js";import"./mobxreact.esm-AuwNKQbs.js";import"./index-N2MzzWyb.js";import"./ColorPicker-ZMLKIhUe.js";class N extends C.Component{constructor(e){super(e);l(this,"_generalValue","#252525");l(this,"_multiValue",["#252525"]);l(this,"controlled",!1);l(this,"state",{value:"#252525"});l(this,"modeChange",e=>{let{value:t}=this.state;switch(e){case"general":t=this._generalValue;break;case"multi":t=this._multiValue;break}const{onChange:a}=this.props;a&&a(t),this.controlled||this.setState({value:t})});l(this,"colorChange",e=>{const{onChange:t}=this.props;t&&t(e),this.controlled||this.setState({value:e})});l(this,"buildColorModeValue",e=>Array.isArray(e)?{color:e,mode:"multi"}:{color:e,mode:"general"});const{value:t,defaultValue:a}=e;this.controlled=!!t&&!a;const i=t||a||"#000000";this.state={value:i}}render(){const{value:e}=this.state,{padding:t,margin:a,tip:i,label:h,value:c,gridColumn:d}=this.props,{color:u,mode:n}=this.buildColorModeValue(this.controlled?c:e);return s.jsx(V,{tip:i,label:h,margin:a,padding:t,gridColumn:d,children:s.jsxs("div",{className:"lc-color-mode",children:[s.jsx("div",{className:"mode-select",style:{width:80},children:s.jsx(x,{value:n||"general",onChange:m=>this.modeChange(m),options:[{value:"general",label:"单色"},{value:"multi",label:"多色"}]})}),n==="general"&&s.jsx(v,{value:u,onChange:this.colorChange,width:100,height:16,showText:!0}),n==="multi"&&s.jsx(f,{onChange:this.colorChange,canAdd:!0,value:u||["#a9a9a9"]})]})})}}export{N as default};

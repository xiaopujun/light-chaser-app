import{A as l,B as m}from"./FontGlobal-I0xzNbJH.js";import{C as f}from"./LayerManager-yWnDoBOm.js";import{R as p,r as o,j as d}from"./index-OsS9UfkW.js";import{O as g}from"./ObjectUtil-nMvTrJhh.js";import"./mobxreact.esm-rNVktGB7.js";import"./PreviewOpen-nQ2Iv4_U.js";import"./index-K2O65-hP.js";import"./LocalOperator-BbYzoZ36.js";import"./GlobalMessage-FQtvcjbG.js";import"./MainRouter-Z3gK7D7G.js";import"./useZIndex-g2cfol2D.js";import"./FetchUtil-Ivd_z0Im.js";import"./index-APrWN4Qi.js";const h=p.forwardRef((s,e)=>{const[t,i]=o.useState({...s}),n=o.useRef({});o.useImperativeHandle(e,()=>({updateConfig:r=>i({...r}),setEventHandler:r=>n.current=r}));const c=()=>{"click"in n.current&&n.current.click()},{style:a}=t;return d.jsx("div",{style:{height:"100%",display:"flex",...a},onClick:c})});class A extends l{async create(e,t){this.config=t,this.container=e,this.instance=await f.createAndRender(e,h,t)}destroy(){this.instance=null,this.config=null}getConfig(){return this.config}update(e,t){var i;this.config=g.merge(this.config,e),t=t||{reRender:!0},t.reRender&&((i=this.instance)==null||i.updateConfig(this.config))}updateTheme(e){}registerEvent(){var t,i,n;const e=(i=(t=this.config)==null?void 0:t.base)==null?void 0:i.id;(n=this.instance)==null||n.setEventHandler({click:()=>m.triggerComponentEvent(e,"click",this.config)})}}export{A as BaseColorBlockController};

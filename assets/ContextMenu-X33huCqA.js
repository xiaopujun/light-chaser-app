import{b as t,j as k}from"./index-RWmFPwSm.js";import{o as H}from"./LCGUI-T8HtwnFI.js";import{c as L,U as C,L as v,P as x}from"./FontGlobal-UQ7n6vXp.js";import{d as w,a as y,b as z,c as V,r as B,e as T,l as G,f as b,g as S,h as U,i as D,j as I}from"./DesignerPage-3kYYNJme.js";import{aH as u,e as Z,l as O}from"./LayerManager-v1P1ysOv.js";import{I as c}from"./index-bkM9-KDb.js";import{D as R}from"./Down-awO82DhF.js";import"./PreviewOpen-crWG6SFP.js";import"./System-5N8cFjAd.js";import"./Dialog-m2H_yT8V.js";import"./Grid-uqhjZTHE.js";import"./UIContainer-GCIh-2RB.js";import"./MainRouter-MB1MPfnT.js";import"./useZIndex-MQq7iIjz.js";import"./Input-Pc5Q3TnR.js";import"./MonacoEditor-NyM5FgrP.js";import"./Button-oq9KiYLF.js";import"./Plus-WHjdveXs.js";import"./GlobalMessage-Jo_X5Env.js";import"./CheckOutlined-Idpaoouy.js";import"./collapse-aS6vX33V.js";import"./useForceUpdate-fdiNPOeT.js";import"./EyeOutlined-Dxa6dlDU.js";import"./omit-eplVU8rd.js";import"./ColorPicker-1Ss6KI5t.js";import"./index-a3pSoQMz.js";import"./Overflow-VPTOdTXx.js";import"./index-0ZB4_kR5.js";import"./Info-XBefL4_C.js";import"./Switch-aJkFYk6b.js";import"./NumberInput-hVga-rRO.js";import"./Select-_iK0IFwx.js";import"./Radio-KuU4euQC.js";import"./ThemeEditor-zLWr2_Cl.js";import"./CardPanel-urQq8oOP.js";import"./Data-4t_Ztlq1.js";import"./index-9odaCLPt.js";import"./Accordion-gyHrW4rh.js";import"./Right-oNgrbvoa.js";const P=c("application-two",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("circle",{cx:"34.5",cy:"13.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}),t.createElement("circle",{cx:"34.5",cy:"34.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}),t.createElement("circle",{cx:"13.5",cy:"13.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}),t.createElement("circle",{cx:"13.5",cy:"34.5",r:"6.5",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth}))}),F=c("copy-one",!0,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M13 38H41V16H30V4H13V38Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M30 4L41 16",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M7 20V44H28",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 20H23",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}),t.createElement("path",{d:"M19 28H31",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),N=c("delete-one",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M15 12L16.2 5H31.8L33 12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M6 12H42",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}),t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37 12L35 43H13L11 12H37Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 35H29",stroke:e.colors[2],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap}))}),A=c("graphic-stitching-three",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M24 14C26.7614 14 29 11.7614 29 9C29 6.23858 26.7614 4 24 4C21.2386 4 19 6.23858 19 9C19 11.7614 21.2386 14 24 14Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M24 44C26.7614 44 29 41.7614 29 39C29 36.2386 26.7614 34 24 34C21.2386 34 19 36.2386 19 39C19 41.7614 21.2386 44 24 44Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M14 19H4V29H14V19Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M44 19H34V29H44V19Z",fill:e.colors[1],stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 9H9V19",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M19 39H9V29",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M29 9H40V19",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M29 39H39V29",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),X=c("link-right",!0,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M8 12V4H24V12",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M24 36V44H8V36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M44 24L24 24",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M16 34V14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M36 16L44 24L36 32",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),$=c("to-bottom-one",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M36 14L24 26L12 14",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M12 34H36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),q=c("to-top-one",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M12 33L24 21L36 33",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}),t.createElement("path",{d:"M12 13H36",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),J=c("up",!1,function(e){return t.createElement("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},t.createElement("path",{d:"M13 30L25 18L37 30",stroke:e.colors[0],strokeWidth:e.strokeWidth,strokeLinecap:e.strokeLinecap,strokeLinejoin:e.strokeLinejoin}))}),K=[{name:"复制",icon:F,onClick:T},{name:"上移",icon:J,onClick:G},{name:"下移",icon:R,onClick:b},{name:"置顶",icon:q,onClick:S},{name:"置底",icon:$,onClick:U},{name:"删除",icon:N,onClick:D},{name:"隐藏",icon:x,onClick:I}],Q=()=>{const e=()=>{var l;const i=[...K],{targetIds:o}=Z;if(o.length===0)return i;const{layerConfigs:n}=O;!!((l=n[o[0]])!=null&&l.lock)?i.push({name:"解锁",icon:C,onClick:w}):i.push({name:"锁定",icon:v,onClick:y}),o.length>1&&!u.hasSameGroup(o)&&i.push({name:"编组",icon:A,onClick:z});let r=u.findTopGroupLayer(o,!0);return r=r.filter(a=>n[a].type==="group"),r.length>0&&i.push({name:"解组",icon:P,onClick:V}),o.some(a=>!n[a].pid)||i.push({name:"移出分组",icon:X,onClick:B}),i},d=()=>{const i=[],o=e();for(let n=0;n<o.length;n++){const s=o[n],r=s.icon;i.push(k.jsxs("div",{className:"menu-item",onClick:s.onClick,children:[k.jsx("label",{children:k.jsx(r,{})}),k.jsx("span",{children:s.name})]},n+""))}return i},W=(i,o)=>{const[n,s]=L.position,{innerWidth:r,innerHeight:h}=window;let l=n,a=s;return n+i>r&&(l=r-i),s+o>h&&(a=h-o),[l,a]},f=i=>[130,i*33],{visible:j}=L,E=d(),[g,M]=f(E.length),m=W(g,M);return k.jsx(k.Fragment,{children:j&&k.jsx("div",{className:"context-menu",style:{position:"fixed",top:m[1],left:m[0]},children:d()})})},De=H(Q);export{De as default};

import{r as a,b as d,j as l}from"./index-iCZTP-IQ.js";import{D}from"./DragScaleProvider-Xr3oGa7d.js";import{o as x,c as R,e as n}from"./LayerManager-3yuLGPiW.js";import"./AntdIcon-zgNTTfGj.js";import"./MainRouter-TLmFUNhG.js";import"./AntdIcon-Rd3SO3V6.js";import"./Compact-oDknFkFq.js";import"./useZIndex-efm0wnDD.js";import"./Button-jnQH9M57.js";import"./GlobalMessage-WsCOzKv8.js";import"./render-RO1Jm6GY.js";import"./button-B5djIpAo.js";import"./omit-k9ShT0Nc.js";import"./Overflow-hRFeWmQp.js";const B=a.memo(x(m=>{const{children:p,onDoubleClick:h}=m,s=d.useRef(null),i=d.useRef(null),{canvasConfig:e}=R;return a.useEffect(()=>{const c=s.current,r=i.current;if(c&&r){const{setDsContentRef:u}=n;u(r);const g=new D({container:c,content:r,scaleCallback:t=>{const{scale:f,ratio:w}=t,{setScale:b,setRatio:v,rulerRef:o}=n;b(f),v(w),o==null||o.ruleWheel()},dragCallback:()=>{const{rulerRef:t}=n;t==null||t.ruleDrag()}});return()=>{g.destroy()}}},[]),l.jsx("div",{className:"designer-ds-container",ref:s,style:{overflow:"hidden",height:window.innerHeight-110,width:window.innerWidth-115,backgroundColor:"#434343",position:"relative"},children:l.jsx("div",{className:"designer-ds-content lc-drag-scale-provider",id:"designer-ds-content",ref:i,onDoubleClick:h,style:{width:e==null?void 0:e.width,height:e==null?void 0:e.height,background:"#1c1c1c",position:"absolute"},children:p})})}));export{B as default};

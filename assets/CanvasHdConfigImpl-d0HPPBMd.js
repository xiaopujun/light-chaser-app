var g=Object.defineProperty;var x=(a,i,e)=>i in a?g(a,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[i]=e;var r=(a,i,e)=>(x(a,typeof i!="symbol"?i+"":i,e),e);import{r as C,j as s}from"./index-R38GedZx.js";import{o as b}from"./mobxreact.esm-HzbDJuLI.js";import{i as j,aZ as v,b0 as S,a as l}from"./EventOperateStore-8Y9heliZ.js";import{h as c}from"./Designer-nvXh6L7t.js";import{I as o,B as d}from"./Button-FK7Q28Ii.js";import"./index-bfqC03wj.js";import"./AntdIcon-a_y6MES6.js";import"./ColorPicker-5bGQr41U.js";import"./LayerBuilder-92J42tac.js";import"./DeleteOutlined-nNgxCWsJ.js";class z extends C.Component{constructor(e){super(e);r(this,"config",null);r(this,"state",{_rasterize:!1});r(this,"onClose",()=>{const{setCanvasVisible:e}=c;e(!1)});r(this,"doSave",e=>{const{updateCanvasConfig:n}=l;console.log(this.config),n(this.config),e.preventDefault(),this.onClose()});const{canvasConfig:n}=l;this.config={...n},this.state={_rasterize:n.rasterize||!1}}render(){const{_rasterize:e}=this.state,{canvasVisible:n}=c,{width:h,height:p,rasterize:m,dragStep:f,resizeStep:u}=this.config;return s.jsx(j,{className:"lc-header-canvas",title:"画布设置",visible:n,onClose:this.onClose,children:s.jsxs("form",{onSubmit:this.doSave,children:[s.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:s.jsxs(v,{gridGap:"15px",columns:3,children:[s.jsx(o,{label:"宽度",required:!0,type:"number",defaultValue:h,min:500,onChange:t=>this.config.width=t}),s.jsx(o,{label:"高度",required:!0,type:"number",defaultValue:p,min:300,onChange:t=>this.config.height=t}),s.jsx(S,{label:"栅格化",defaultValue:m,gridColumn:"1/2",onChange:t=>{this.config.rasterize=t,this.setState({_rasterize:t})}}),s.jsx(o,{label:"拖拽",disabled:!e,type:"number",defaultValue:f,min:1,onChange:t=>this.config.dragStep=t}),s.jsx(o,{label:"缩放",disabled:!e,type:"number",defaultValue:u,min:1,onChange:t=>this.config.resizeStep=t})]})}),s.jsx("p",{className:"canvas-config-desc",children:"说明：修改画布设置，会对整体效果产生较大影响，建议先调试好画布设置后再进行大屏设计"}),s.jsxs("div",{className:"lc-header-canvas-footer",children:[s.jsx(d,{type:"submit",children:"保存"}),"  ",s.jsx(d,{type:"button",onClick:this.onClose,children:"取消"})]})]})})}}const H=b(z);export{H as default};

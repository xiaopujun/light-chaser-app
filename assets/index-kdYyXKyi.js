import{A as n,U as c,S as p,a as i}from"./LocalOperator-7SvlDKB4.js";import{g as o}from"./GlobalMessage-JdhJioSt.js";import{F as t}from"./FetchUtil-Ivd_z0Im.js";class d extends n{async createProject(r){const e=await t.post("/api/project/create",r);return e.code===200?e.data:""}async copyProject(r){const e=await t.get(`/api/project/copy/${r}`);return e.code===200?e.data:""}async deleteProject(r){return(await t.get(`/api/project/del/${r}`)).code===200}async getProjectData(r){var a;const e=await t.get(`/api/project/getProjectData/${r}`);return e.code===200?JSON.parse(e.data):((a=o.messageApi)==null||a.error(e.msg),null)}async getProjectInfoPageList(r){var a;const e=await t.post("/api/project/pageList",r);return e.code===200?e.data:(e.msg="服务器链接失败",(a=o.messageApi)==null||a.error(e.msg),{records:[],total:0,current:1,size:10})}async updateProject(r){var a,s;const e=await t.post("/api/project/update",r);e.code===200?(a=o.messageApi)==null||a.success("保存成功"):(s=o.messageApi)==null||s.error(e.msg)}async uploadImage(r){const{id:e}=c.parseUrlParams(),a=new FormData;a.append("file",r),a.append("projectId",e),a.append("type","1");const s=await t.post("/api/file/upload",a);return s.code===200?{url:s.data}:!1}async getImageSourceList(r){var a;const e=await t.get(`/api/file/getList/${r}`);return e.code===200?e.data:((a=o.messageApi)==null||a.error(e.msg),[])}async delImageSource(r){var a;const e=await t.get(`/api/file/del/${r}`);return e.code===200?!0:((a=o.messageApi)==null||a.error(e.msg),!1)}async uploadCover(r){const{id:e}=c.parseUrlParams(),a=new FormData;return a.append("file",r),a.append("id",e),(await t.post("/api/project/cover",a)).code===200}}const f={[p.LOCAL]:new i,[p.SERVER]:new d};export{f as o};

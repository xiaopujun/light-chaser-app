var g=Object.defineProperty;var P=(n,t,e)=>t in n?g(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var _=(n,t,e)=>(P(n,typeof t!="symbol"?t+"":t,e),e);import{R as React,_ as __vitePreload,j as jsxRuntimeExports}from"./index-2eHxMccF.js";class LCGUIUtil{static updateSchema(t,e,r){const o=e.shift(),{key:i,index:s}=o;i&&i in t&&(e.length===0?t.value=r:s!==void 0?this.updateSchema(t[i][s],e,r):this.updateSchema(t[i],e,r))}static createObjectFromArray(t,e){const r={};let o=r;for(let i=0;i<t.length;i++){const s=t[i];o[s]=i===t.length-1?e:{},o=o[s]}return r}static schemaStructureAssignment(t,e){return typeof t!="object"?{}:(Object.keys(t).forEach(r=>{if(typeof t[r]!="object")e.key===r?e.value=t[r]:e.children&&e.children.forEach(o=>{LCGUIUtil.schemaStructureAssignment({[r]:t[r]},o)});else{const o=LCGUIUtil.findChildSchemaByKey(r,e);o&&LCGUIUtil.schemaStructureAssignment(t[r],o)}}),e)}static findChildSchemaByKey(t,e){if(e.key===t)return e;if(e.children)for(let r=0;r<e.children.length;r++){const o=this.findChildSchemaByKey(t,e.children[r]);if(o)return o}return{}}static parseSchemaData(t){const e={};if(t.children){let r={};return t.children.forEach(o=>{r={...r,...LCGUIUtil.parseSchemaData(o)}}),t.key?(e[t.key]=r,e):r}else return t.key&&(e[t.key]=t.value||void 0),e}}const Accordion=React.lazy(()=>__vitePreload(()=>import("./Accordion-OBeOcpHU.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),Button=React.lazy(()=>__vitePreload(()=>import("./Button-cuEQCmwR.js"),__vite__mapDeps([12,1,2,13]))),MonacoEditor=React.lazy(()=>__vitePreload(()=>import("./MonacoEditor-mfp9NzVA.js").then(n=>n.a),__vite__mapDeps([14,1,2,15])).then(({MonacoEditor:n})=>({default:n}))),ColorPicker=React.lazy(()=>__vitePreload(()=>import("./ColorPicker-vegwYrpF.js").then(n=>n.h),__vite__mapDeps([16,1,2,4,5,6,7,8,17,10,18]))),ColorsPicker=React.lazy(()=>__vitePreload(()=>import("./ColorsPicker-FFDvH_UV.js"),__vite__mapDeps([19,1,2,16,4,5,6,7,8,17,10,18,20]))),Grid=React.lazy(()=>__vitePreload(()=>import("./Grid-V9GnkwXF.js"),__vite__mapDeps([21,1,2,4,5,6,7,8,22])).then(({Grid:n})=>({default:n}))),Input=React.lazy(()=>__vitePreload(()=>import("./Input-khlwYn1y.js"),__vite__mapDeps([23,1,2,4,5,6,7,8,24]))),Radio=React.lazy(()=>__vitePreload(()=>import("./Radio-jl3hzqB8.js"),__vite__mapDeps([25,1,2,4,5,6,7,8,26]))),Select=React.lazy(()=>__vitePreload(()=>import("./Select-fZt1ZM_5.js"),__vite__mapDeps([27,1,2,4,5,6,7,8,28]))),Switch=React.lazy(()=>__vitePreload(()=>import("./Switch-TIOqygag.js"),__vite__mapDeps([3,1,2,4,5,6,7,8,9]))),Slider=React.lazy(()=>__vitePreload(()=>import("./Slider-rg11VsCh.js"),__vite__mapDeps([29,1,2,4,5,6,7,8,30])).then(({Slider:n})=>({default:n}))),ImageUpload=React.lazy(()=>__vitePreload(()=>import("./ImageUpload-Ieiw-YAm.js"),__vite__mapDeps([31,1,2,4,5,6,7,8,32,33,34,14,15,0,3,9,10,11,25,26,16,17,18,35,36,23,24,21,22,12,13,37,38,39,40])).then(({ImageUpload:n})=>({default:n}))),ColorMode=React.lazy(()=>__vitePreload(()=>import("./ColorMode-pROjU7xs.js"),__vite__mapDeps([41,1,2,16,4,5,6,7,8,17,10,18,27,28,19,20,42]))),TextOnly=React.lazy(()=>__vitePreload(()=>import("./TextOnly-kRRi5CoD.js"),__vite__mapDeps([43,1,2,4,5,6,7,8])).then(({TextOnly:n})=>({default:n}))),TextArea=React.lazy(()=>__vitePreload(()=>import("./TextArea-6QN2oAcK.js"),__vite__mapDeps([44,1,2,4,5,6,7,8,45]))),GroupButton=React.lazy(()=>__vitePreload(()=>import("./GroupButton-zDN16WlJ.js"),__vite__mapDeps([46,1,2,4,5,6,7,8,47])).then(({GroupButton:n})=>({default:n}))),CardPanel=React.lazy(()=>__vitePreload(()=>import("./CardPanel-fmKdXvad.js"),__vite__mapDeps([35,1,2,5,6,7,36])).then(({CardPanel:n})=>({default:n}))),NumberInput=React.lazy(()=>__vitePreload(()=>import("./NumberInput-zfhM9eRC.js"),__vite__mapDeps([48,1,2,4,5,6,7,8,49]))),ControlGroup=React.lazy(()=>__vitePreload(()=>import("./ControlGroup-UDuaywpo.js"),__vite__mapDeps([50,1,2,34,51,7,52]))),UIMap=new Map;UIMap.set("accordion",Accordion);UIMap.set("button",Button);UIMap.set("grid",Grid);UIMap.set("input",Input);UIMap.set("radio",Radio);UIMap.set("select",Select);UIMap.set("switch",Switch);UIMap.set("code-editor",MonacoEditor);UIMap.set("color-picker",ColorPicker);UIMap.set("colors-picker",ColorsPicker);UIMap.set("color-mode",ColorMode);UIMap.set("card-panel",CardPanel);UIMap.set("slider",Slider);UIMap.set("image-upload",ImageUpload);UIMap.set("text-only",TextOnly);UIMap.set("text-area",TextArea);UIMap.set("group-button",GroupButton);UIMap.set("control-group",ControlGroup);UIMap.set("number-input",NumberInput);class SchemaPathNode{constructor(t,e){_(this,"key","");_(this,"index",0);this.key=t,this.index=e}}class LCGUI extends React.Component{constructor(){super(...arguments);_(this,"onControlChange",(t,e,r,o,i)=>{const{onFieldChange:s}=this.props,l=LCGUIUtil.createObjectFromArray(r,t);s&&s({id:i,data:t,reRender:o,schemaKeyPath:[...e],dataKeyPath:r,dataFragment:l})});_(this,"analyzeRules",(rules,control)=>{const regex=/{([^}]+)}/g,variable=[];let match;for(;(match=regex.exec(rules))!==null;)variable.push(match[1]);const analyze=(t,e,r)=>{if(e.length===0)return r;const{parent:o}=t;if(o&&"children"in o){const{children:i}=o;for(let s=0;s<i.length&&e.length!==0;s++){const l=i[s],a=e.indexOf(l.key);l.key&&a!==-1&&(r=r.replaceAll(`{${l.key}}`,`'${l.value}'`),e.splice(a,1))}}if(e.length>0&&o){const i=e.indexOf(o.key);if(o.key&&o.value&&i!==-1&&(r=r.replace(`{${o.key}}`,`'${o.value}'`),e.splice(i,1)),e.length>0)return analyze(o,e,r)}return r};return eval(analyze(control,variable,rules))});_(this,"buildConfigUI",(t,e,r,o)=>{const i=[];if(!t)return i;if("children"in t){const s=[],{children:l}=t,a=new SchemaPathNode("children"),{type:I,rules:d}=t;if(d&&!this.analyzeRules(d,t))return i;if(e.push(a),t.key&&r.push(t.key),l&&l.forEach((c,u)=>{a.index=u,c.parent=t,s.push(this.buildConfigUI(c,JSON.parse(JSON.stringify(e)),[...r],u))}),!I)i.push([...s]);else{const{type:c,config:u,value:p,id:E,reRender:h,label:f,tip:R}=t,y=UIMap.get(c);e.pop(),e.push({key:"value"});const v={...u,...h?{value:p}:{defaultValue:p},label:f,tip:R,onChange:m=>this.onControlChange(m,e,r,h,E)};i.push(jsxRuntimeExports.jsx(y,{...v,children:s},o))}}else{const{label:s,type:l,tip:a,config:I,value:d,rules:c,id:u,reRender:p}=t;if(!l)return[];if(c&&!this.analyzeRules(c,t))return i;e.push({key:"value"}),r.push(t.key);const h={...I,...p?{value:d}:{defaultValue:d},label:s,tip:a,onChange:R=>this.onControlChange(R,e,r,p,u)},f=UIMap.get(l);if(!f)return[];i.push(jsxRuntimeExports.jsx(f,{...h},o))}return i});_(this,"init",()=>{const t=[];let{schema:e}=this.props;return e=Array.isArray(e)?e:[e],e.forEach(r=>{t.push(this.buildConfigUI(r,[],[],0))}),t})}render(){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:this.init()})}}export{LCGUI as L,LCGUIUtil as a};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Accordion-OBeOcpHU.js","assets/index-2eHxMccF.js","assets/index-k5NwcpoD.css","assets/Switch-TIOqygag.js","assets/UIContainer-kRugNnR6.js","assets/index-z4NOH55G.js","assets/QuestionCircleOutlined-Dijj6We8.js","assets/AntdIcon-SID-Bwoi.js","assets/UIContainer-2wM5o6qv.css","assets/Switch-sX9zyvHK.css","assets/RightOutlined-9Q6vRlBe.js","assets/Accordion-i35kZnIZ.css","assets/Button-cuEQCmwR.js","assets/Button-Vi-JaWc8.css","assets/MonacoEditor-mfp9NzVA.js","assets/MonacoEditor-prUb3zzj.css","assets/ColorPicker-vegwYrpF.js","assets/Overflow-EpHiXdtD.js","assets/ColorPicker-V9ASUd98.css","assets/ColorsPicker-FFDvH_UV.js","assets/ColorsPicker-c8SWPfcB.css","assets/Grid-V9GnkwXF.js","assets/Grid-p4FjUlc6.css","assets/Input-khlwYn1y.js","assets/Input-kjLITG7W.css","assets/Radio-jl3hzqB8.js","assets/Radio-scZDuxp-.css","assets/Select-fZt1ZM_5.js","assets/Select-fufuxCpP.css","assets/Slider-rg11VsCh.js","assets/Slider-vcTqjc6-.css","assets/ImageUpload-Ieiw-YAm.js","assets/EventOperateStore-b1Yt9lyY.js","assets/mobxreact.esm-1BnkHKMJ.js","assets/ObjectUtil-Xi6UdfXB.js","assets/CardPanel-fmKdXvad.js","assets/CardPanel-8U9SL0-G.css","assets/EventOperateStore-wNbCYnz3.css","assets/DeleteOutlined-nNgxCWsJ.js","assets/PlusOutlined-VdblB-UP.js","assets/ImageUpload-9kseRzbI.css","assets/ColorMode-pROjU7xs.js","assets/ColorMode-USBQvw06.css","assets/TextOnly-kRRi5CoD.js","assets/TextArea-6QN2oAcK.js","assets/TextArea-3VS8BRdk.css","assets/GroupButton-zDN16WlJ.js","assets/GroupButton-ZCs10YqB.css","assets/NumberInput-zfhM9eRC.js","assets/NumberInput-A_zfvH9I.css","assets/ControlGroup-UDuaywpo.js","assets/DeleteFilled-waoX71T_.js","assets/ControlGroup-EA0_0NMt.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var y=Object.defineProperty;var u=(o,e,t)=>e in o?y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var m=(o,e,t)=>(u(o,typeof e!="symbol"?e+"":e,t),t);import{r as g,j as r}from"./index-Duc4ZoM_.js";import{aL as C,aM as h,aN as d,aO as f}from"./ViewDesignerLoader-8rMP9FZs.js";import"./mobxreact.esm-AXuQb6fD.js";import"./LocalOperator-t4oOcFvM.js";import"./GlobalMessage-I0KrOayq.js";import"./MainRouter-l7Z1Z1jr.js";import"./render-8hUH_M6B.js";import"./AntdIcon-jwWmiLqW.js";import"./InfoCircleFilled-JfnNzh3b.js";import"./useZIndex-c7eQO3Zz.js";import"./index-AfMii643.js";import"./FetchUtil-5ZwtxN_0.js";import"./Data-_fslVRGK.js";import"./index--SWnmJ5Q.js";class N extends g.Component{constructor(){super(...arguments);m(this,"barGraphicsChange",t=>{this.props.controller.update({style:t})});m(this,"barCoordinateSysChange",t=>{this.props.controller.update({style:t})})}render(){const{controller:t}=this.props,l=t.getConfig().style;return r.jsxs(r.Fragment,{children:[r.jsx(x,{onChange:this.barGraphicsChange,config:l}),r.jsx(C,{controller:t}),r.jsx(h,{onChange:this.barCoordinateSysChange,config:l})]})}}const x=({config:o,onChange:e})=>{var s;const t=i=>{const{id:a,data:n,dataFragment:c}=i;a==="columnColor"?n&&Array.isArray(n)?e({color:n,columnStyle:{fill:void 0}}):n&&typeof n=="string"&&n.indexOf("gradient")!==-1||e({columnStyle:{fill:n}}):e(c)},l={type:"accordion",label:"图形",children:[{type:"grid",config:{columns:2},children:[{key:"maxColumnWidth",type:"number-input",label:"宽度",value:12,config:{min:0,max:100}},{key:"columnStyle",children:[{key:"radius",type:"number-input",label:"圆角",value:(s=o==null?void 0:o.columnStyle)==null?void 0:s.radius,config:{min:1,max:100}}]},{id:"columnColor",type:"color-mode",label:"颜色",value:"#1c1c1c",config:{containerStyle:{gridColumn:"1/3"}}}]}]};return r.jsx(d,{schema:l,onFieldChange:t})},R=o=>{const{controller:e}=o,{xField:t,yField:l,seriesField:s}=e.getConfig().style,i=f.getDataFieldOptions(e),a={key:"style",type:"grid",config:{columns:2},children:[{key:"xField",type:"select",label:"X字段",value:t,config:{options:i}},{key:"yField",type:"select",label:"Y字段",value:l,config:{options:i}},{key:"seriesField",type:"select",label:"分组字段",value:s,config:{options:i}}]},n=c=>{const{dataFragment:p}=c;e.update(p)};return r.jsx(d,{schema:a,onFieldChange:n})};export{R as AntdColumnCommonFieldMapping,N as AntdColumnCommonStyleConfig,x as AntdColumnGraphics};

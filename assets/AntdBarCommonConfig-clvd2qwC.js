var g=Object.defineProperty;var u=(a,e,t)=>e in a?g(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var y=(a,e,t)=>(u(a,typeof e!="symbol"?e+"":e,t),t);import{r as f,j as r}from"./index-SMBBRqB_.js";import{aR as h,aS as b}from"./LayerManager-VL54_p8M.js";import{L as m}from"./LCGUI-jOMUoJmj.js";import"./index-sdBZGtOm.js";import"./MainRouter-M1tmlz0W.js";import"./useZIndex-wp6dXb7H.js";import"./Data-f7kfFrLQ.js";import"./index-Zb6kYY5x.js";import"./Accordion-NQMUjo7f.js";import"./Switch-eQnyzms3.js";import"./UIContainer-js826Hx0.js";import"./Right-SX3sxSlg.js";import"./Radio-0Po9WMRc.js";import"./GlobalMessage-nMVkm9Xf.js";class M extends f.Component{constructor(){super(...arguments);y(this,"barCoordinateSysChange",t=>{this.props.controller.update({style:t})})}render(){const{controller:t}=this.props,n=t.getConfig().style;return r.jsxs(r.Fragment,{children:[r.jsx(C,{controller:t}),r.jsx(h,{controller:t}),r.jsx(b,{onChange:this.barCoordinateSysChange,config:n})]})}}const C=({controller:a})=>{var l;const e=a.getConfig().style,t=s=>{const{id:i,data:o,dataFragment:d}=s;i==="barColor"?o&&Array.isArray(o)?a.update({style:{color:o,barStyle:{fill:void 0}}}):o&&typeof o=="string"&&o.indexOf("gradient")!==-1||a.update({style:{barStyle:{fill:o}}}):a.update(d)},n={key:"style",type:"accordion",label:"图形",children:[{type:"grid",config:{columns:2},children:[{key:"maxBarWidth",type:"number-input",label:"宽度",value:e==null?void 0:e.maxBarWidth,config:{min:1,max:100}},{key:"barStyle",children:[{key:"radius",type:"number-input",label:"圆角",value:(l=e==null?void 0:e.barStyle)==null?void 0:l.radius,config:{min:1,max:100}}]},{id:"barColor",type:"color-mode",label:"颜色",value:e==null?void 0:e.color,config:{containerStyle:{gridColumn:"1/3"}}}]}]};return r.jsx(m,{schema:n,onFieldChange:t})},U=({controller:a})=>{const e=a.getConfig().style,{data:t,xField:n,yField:l,seriesField:s}=e,i=[];if(t&&t.length>=1){const p=t[0];Object.keys(p).forEach(c=>i.push({label:c,value:c}))}const o=p=>{a.update(p.dataFragment)},d={key:"style",type:"grid",config:{columns:2},children:[{key:"xField",type:"select",label:"X字段",value:n,config:{options:i}},{key:"yField",type:"select",label:"Y字段",value:l,config:{options:i}},{key:"seriesField",type:"select",label:"分组字段",value:s,config:{options:i}}]};return r.jsx(m,{schema:d,onFieldChange:o})};export{M as AntdBarCommonStyleConfig,U as AntdBarFieldMapping,C as AntdBarGraphics};

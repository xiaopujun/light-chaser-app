var w=Object.defineProperty;var A=(l,e,t)=>e in l?w(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var c=(l,e,t)=>(A(l,typeof e!="symbol"?e+"":e,t),t);import{r as F,j as a}from"./index-Xz_xv9BX.js";import{a0 as j,a1 as S}from"./LayerBuilder-23NAoZPq.js";import{L as x,a as B}from"./LCGUI-3RqjhxCc.js";import{a as G}from"./ColorPicker-zRaZv7-A.js";import"./mobxreact.esm-mgNSKNC1.js";import"./lodash-yKXT05iH.js";import"./index-wVcDQRpV.js";import"./MonacoEditor-5a2nYetO.js";import"./Accordion-fVzLXKmC.js";import"./Switch-NYNERv4V.js";import"./UIContainer-5E4Em6al.js";import"./QuestionCircleOutlined-J2vj6sy2.js";import"./DatabaseFilled-xZt8FqD1.js";import"./Grid-XC7URVZ1.js";import"./Input-MBUoxGD6.js";import"./Button-hXfgETs5.js";import"./Radio-9Fmm95dr.js";import"./Select-EOvG-Jwf.js";import"./ItemPanel-E6FHvqgY.js";class Q extends F.Component{constructor(){super(...arguments);c(this,"AreaCoordinateSysChange",t=>{this.props.controller.update({style:t})});c(this,"baseAreaGraphicsChange",t=>{this.props.controller.update({style:t})})}render(){const{controller:t}=this.props,r=t.getConfig().style;return a.jsxs(a.Fragment,{children:[a.jsx(O,{controller:t}),a.jsx(j,{onChange:this.AreaCoordinateSysChange,config:r})]})}}const O=({controller:l})=>{var n,s,i,p,y,h,m,u;const e=l.getConfig().style,t=g=>{var b;let{id:C,data:o,dataKeyPath:k}=g;if(C==="areaColor")if(typeof o=="string"&&o.indexOf("linear-gradient")!==-1){const d=G.parseGradient(o.toLowerCase()),v=(b=d==null?void 0:d.colors)==null?void 0:b.map(f=>`${f.pos}:${f.color}`).join(" ");o=`l(${d.angle}) ${v}`,l.update(B.createObjectFromArray(k,o))}else typeof o=="string"&&o.indexOf("radial-gradient")===-1?console.log("暂不径向渐变"):l.update({areaStyle:o});else l.update(g.dataFragment)},r={key:"style",type:"accordion",label:"图形",children:[{type:"grid",config:{margin:"0 0 15px 0"},children:[{label:"基准填充",type:"switch",key:"startOnZero",value:!!(e!=null&&e.startOnZero),config:{margin:"0 0 10px 0"}}]},{label:"数据点",type:"item-panel",children:[{type:"grid",config:{columns:2},children:[{key:"point",children:[{label:"尺寸",type:"input",key:"size",value:((n=e==null?void 0:e.point)==null?void 0:n.size)||0,config:{type:"number",min:0,max:10}},{key:"style",children:[{key:"fill",type:"color-picker",label:"颜色",value:((i=(s=e==null?void 0:e.point)==null?void 0:s.style)==null?void 0:i.fill)||"#fff",config:{width:"100%",radius:3,showBorder:!0,showText:!0,height:16,hideControls:!0}}]},{key:"shape",type:"select",label:"形状",value:((p=e==null?void 0:e.point)==null?void 0:p.shape)||"circle",config:{options:[{value:"circle",label:"圈形"},{value:"square",label:"方形"},{value:"bowtie",label:"领结"},{value:"diamond",label:"钻石"},{value:"hexagon",label:"六角形"},{value:"triangle",label:"三角形"}]}}]}]}]},{label:"数据线",type:"item-panel",children:[{type:"grid",config:{gridGap:"15px",columns:2},children:[{label:"平滑",type:"switch",key:"smooth",value:!!(e!=null&&e.smooth)},{key:"line",children:[{key:"size",type:"input",label:"宽度",value:((y=e==null?void 0:e.line)==null?void 0:y.size)||0,config:{type:"number",min:0,max:10}},{key:"color",type:"color-picker",label:"颜色",value:((h=e==null?void 0:e.line)==null?void 0:h.color)||"#fff",config:{width:"100%",radius:3,showBorder:!0,showText:!0,height:16,hideControls:!0}}]}]}]},{label:"数据面",type:"item-panel",children:[{key:"areaStyle",children:[{type:"grid",config:{columns:2},children:[{id:"areaColor",key:"fill",type:"color-picker",label:"颜色",value:((u=(m=e==null?void 0:e.point)==null?void 0:m.style)==null?void 0:u.fill)||"#fff",config:{width:"100%",radius:3,showBorder:!0,showText:!0,height:16}}]}]}]}]};return a.jsx(x,{schema:r,onFieldChange:t})},V=l=>{var i;const{controller:e}=l,t=(i=e==null?void 0:e.config)==null?void 0:i.style,r=S.getDataFieldOptions(e),n={key:"style",type:"grid",config:{columns:2},children:[{key:"xField",type:"select",label:"X字段",value:t==null?void 0:t.xField,config:{options:r}},{key:"yField",type:"select",label:"Y字段",value:t==null?void 0:t.yField,config:{options:r}}]},s=p=>{e.update(p.dataFragment)};return a.jsx(x,{schema:n,onFieldChange:s})};export{V as AntdBaseAreaFieldMapping,O as AntdBaseAreaGraphics,Q as AntdBaseAreaStyleConfig};

import{G as G2Plot}from"./index-sPMe31k_.js";import{AntdBaseDesignerController}from"./AntdBaseDesignerController-Vb_0FpH4.js";import{O as ObjectUtil}from"./ObjectUtil-nMvTrJhh.js";import"./index-OsS9UfkW.js";import"./FontGlobal-I0xzNbJH.js";import"./LayerManager-yWnDoBOm.js";import"./mobxreact.esm-rNVktGB7.js";import"./index-K2O65-hP.js";import"./index-APrWN4Qi.js";import"./LocalOperator-BbYzoZ36.js";import"./GlobalMessage-FQtvcjbG.js";import"./MainRouter-Z3gK7D7G.js";import"./useZIndex-g2cfol2D.js";import"./FetchUtil-Ivd_z0Im.js";import"./PreviewOpen-nQ2Iv4_U.js";class G2PlotCustomController extends AntdBaseDesignerController{async create(container,config){var o,t;this.container=container,this.config=config;const customCode=(o=config.style)==null?void 0:o.customCode;if(!customCode||customCode==="")return;const func=eval(`(${customCode})`);typeof func=="function"&&(this.instance=func(container,G2Plot,(t=config.data)==null?void 0:t.staticData))}destroy(){this.instance.destroy(),this.instance=null,this.config=null,this.interval&&clearInterval(this.interval)}getConfig(){return this.config}changeData(o){var t;(t=this.instance)==null||t.changeData(o)}update(config,upOp){var o,t,i,n,e;if(this.config=ObjectUtil.merge(this.config,config),upOp=upOp||{reRender:!0},upOp.reRender){try{(o=this.instance)==null||o.destroy()}catch(r){for(;(t=this.container)!=null&&t.firstChild;)this.container.removeChild(this.container.firstChild)}const customCode=(i=config.style)==null?void 0:i.customCode;if(!customCode||customCode==="")return;const func=eval(`(${customCode})`);if(typeof func!="function")return;this.instance=func(this.container,G2Plot,(e=(n=this.config)==null?void 0:n.data)==null?void 0:e.staticData)}}}export{G2PlotCustomController as default};

import{r as s,j as o}from"./index-iCZTP-IQ.js";import{U as N}from"./Button-jnQH9M57.js";import"./AntdIcon-zgNTTfGj.js";import"./MainRouter-TLmFUNhG.js";import"./AntdIcon-Rd3SO3V6.js";import"./Compact-oDknFkFq.js";import"./useZIndex-efm0wnDD.js";const y=C=>{var j,w;const{value:l,defaultValue:i,options:a,disabled:d=!1,placeholder:u="请选择",onChange:p,...E}=C,t=s.useRef(null),m=l!==void 0&&i===void 0,f=a||[],h=(e="")=>{for(let n=0;n<f.length;n++){const g=f[n];if(g.value===e)return g}return null},[v,r]=s.useState(!1),[c,O]=s.useState(h(l||i)),S=()=>r(!v),b=e=>{m||O(e),p&&p(e.value||""),r(!1)},x=e=>{t.current&&!t.current.contains(e.target)&&r(!1)};s.useEffect(()=>(document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}));const k=m?((j=h(l))==null?void 0:j.label)||u:(c==null?void 0:c.label)||u;return o.jsx(N,{...E,children:o.jsxs("div",{className:"lc-select",ref:t,children:[o.jsx("div",{className:"lc-select-header",style:{cursor:`${d?"not-allowed":"pointer"}`},onClick:d?void 0:S,children:k}),o.jsx("div",{style:{position:"relative"},children:v&&o.jsx("ul",{className:"lc-select-options",style:{width:((w=t==null?void 0:t.current)==null?void 0:w.offsetWidth)||90},children:a.map((e,n)=>o.jsx("li",{className:"lc-select-option",onClick:()=>b(e),children:e.label},n+""))})})]})})},T=y;export{T as default};

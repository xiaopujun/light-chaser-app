var w=Object.defineProperty;var F=(l,e,t)=>e in l?w(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var c=(l,e,t)=>(F(l,typeof e!="symbol"?e+"":e,t),t);import{r as A,j as o,aE as j,aC as C,aF as B,aG as G,aB as S}from"./index-deca68b0.js";class $ extends A.Component{constructor(){super(...arguments);c(this,"AreaCoordinateSysChange",t=>{this.props.controller.update({style:t})});c(this,"baseAreaGraphicsChange",t=>{this.props.controller.update({style:t})})}render(){const{controller:t}=this.props,a=t.getConfig().style;return o.jsxs(o.Fragment,{children:[o.jsx(O,{controller:t}),o.jsx(j,{onChange:this.AreaCoordinateSysChange,config:a})]})}}const O=({controller:l})=>{var s,i,n,p,y,h,u,g;const e=l.getConfig().style,t=m=>{var b;let{id:f,data:r,dataKeyPath:k}=m;if(f==="areaColor")if(typeof r=="string"&&r.indexOf("linear-gradient")!==-1){const d=G.parseGradient(r.toLowerCase()),v=(b=d==null?void 0:d.colors)==null?void 0:b.map(x=>`${x.pos}:${x.color}`).join(" ");r=`l(${d.angle}) ${v}`,l.update(S.createObjectFromArray(k,r))}else typeof r=="string"&&r.indexOf("radial-gradient")===-1?console.log("暂不径向渐变"):l.update({areaStyle:r});else l.update(m.dataFragment)},a={key:"style",type:"accordion",label:"图形",children:[{type:"grid",config:{margin:"0 0 15px 0"},children:[{label:"基准填充",type:"switch",key:"startOnZero",value:!!(e!=null&&e.startOnZero),config:{margin:"0 0 10px 0"}}]},{label:"数据点",type:"item-panel",children:[{type:"grid",config:{columns:2},children:[{key:"point",children:[{label:"尺寸",type:"input",key:"size",value:((s=e==null?void 0:e.point)==null?void 0:s.size)||0,config:{type:"number",min:0,max:10}},{key:"style",children:[{key:"fill",type:"color-picker",label:"颜色",value:((n=(i=e==null?void 0:e.point)==null?void 0:i.style)==null?void 0:n.fill)||"#fff",config:{width:"100%",radius:3,showBorder:!0,showText:!0,height:16,hideControls:!0}}]},{key:"shape",type:"select",label:"形状",value:((p=e==null?void 0:e.point)==null?void 0:p.shape)||"circle",config:{options:[{value:"circle",label:"圈形"},{value:"square",label:"方形"},{value:"bowtie",label:"领结"},{value:"diamond",label:"钻石"},{value:"hexagon",label:"六角形"},{value:"triangle",label:"三角形"}]}}]}]}]},{label:"数据线",type:"item-panel",children:[{type:"grid",config:{gridGap:"15px",columns:2},children:[{label:"平滑",type:"switch",key:"smooth",value:!!(e!=null&&e.smooth)},{key:"line",children:[{key:"size",type:"input",label:"宽度",value:((y=e==null?void 0:e.line)==null?void 0:y.size)||0,config:{type:"number",min:0,max:10}},{key:"color",type:"color-picker",label:"颜色",value:((h=e==null?void 0:e.line)==null?void 0:h.color)||"#fff",config:{width:"100%",radius:3,showBorder:!0,showText:!0,height:16,hideControls:!0}}]}]}]},{label:"数据面",type:"item-panel",children:[{key:"areaStyle",children:[{type:"grid",config:{columns:2},children:[{id:"areaColor",key:"fill",type:"color-picker",label:"颜色",value:((g=(u=e==null?void 0:e.point)==null?void 0:u.style)==null?void 0:g.fill)||"#fff",config:{width:"100%",radius:3,showBorder:!0,showText:!0,height:16}}]}]}]}]};return o.jsx(C,{schema:a,onFieldChange:t})},E=l=>{var n;const{controller:e}=l,t=(n=e==null?void 0:e.config)==null?void 0:n.style,a=B.getDataFieldOptions(e),s={key:"style",type:"grid",config:{columns:2},children:[{key:"xField",type:"select",label:"X字段",value:t==null?void 0:t.xField,config:{options:a}},{key:"yField",type:"select",label:"Y字段",value:t==null?void 0:t.yField,config:{options:a}}]},i=p=>{e.update(p.dataFragment)};return o.jsx(C,{schema:s,onFieldChange:i})};export{E as AntdBaseAreaFieldMapping,O as AntdBaseAreaGraphics,$ as AntdBaseAreaStyleConfig};

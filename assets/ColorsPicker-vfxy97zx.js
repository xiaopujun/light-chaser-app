var d=Object.defineProperty;var p=(r,o,s)=>o in r?d(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s;var n=(r,o,s)=>(p(r,typeof o!="symbol"?o+"":o,s),s);import{r as m,j as a}from"./index-2e9IcPy_.js";import{b8 as x}from"./EventOperateStore-HyYK-r0h.js";import{U as C}from"./Button-K5sqjUdf.js";import"./AntdIcon-ncNZqSjB.js";import"./mobxreact.esm-AuwNKQbs.js";import"./index-N2MzzWyb.js";import"./ColorPicker-ZMLKIhUe.js";class b extends m.Component{constructor(s){super(s);n(this,"max",5);n(this,"state",{colors:[]});n(this,"onChange",(s,t)=>{const{colors:e}=this.state;e[t]=s,this.setState({colors:e});const{onChange:i}=this.props;i&&i([...e])});n(this,"addColor",()=>{const{colors:s}=this.state;if(s.length>=this.max)return;s.push("#a9a9a9"),s.length===this.max?this.setState({canAdd:!1,colors:s}):this.setState({colors:s});const{onChange:t}=this.props;t&&t([...s])});n(this,"delColor",s=>{const{colors:t}=this.state;t.splice(s,1),t.length<this.max?this.setState({canAdd:!0,colors:t}):this.setState({colors:t});const{onChange:e}=this.props;e&&e([...t])});const{value:t=[],canAdd:e}=s;if(t.length===0){this.state={colors:["#a9a9a9"]};return}this.state={colors:[...t],canAdd:e&&t.length<this.max}}render(){const{colors:s=[],canAdd:t=!1}=this.state,{label:e,tip:i}=this.props;return a.jsx(C,{tip:i,label:e,children:a.jsxs("div",{className:"colors-picker",children:[s.map((c,l)=>a.jsxs("div",{className:"colors-item",children:[a.jsx(x,{value:c,onChange:h=>this.onChange(h,l)}),a.jsx("span",{onClick:()=>this.delColor(l),children:a.jsx("label",{children:"Ã—"})})]},l+"")),t&&a.jsx("div",{onClick:this.addColor,className:"colors-pick-add-btn",children:a.jsx("span",{children:"+"})})]})})}}export{b as default};

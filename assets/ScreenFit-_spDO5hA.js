import{r as a,j as m}from"./index-CIZzpp4t.js";import{l as j}from"./FetchUtil-FMEOVjjY.js";const k={scale:{overflow:"hidden"},"full-screen":{overflow:"hidden"},"full-x":{overflow:"hidden scroll"},"full-y":{overflow:"scroll hidden"}};function F(o){const{width:y,height:b,bodyOverflowHidden:d=!0,delay:x=500,scaleChange:r}=o;let h;const e=a.useRef(null),[t,v]=a.useState({width:y,height:b,originalHeight:0,originalWidth:0});let s;function u(){t.width&&t.height?(e.current.style.width=`${t.width}px`,e.current.style.height=`${t.height}px`):(e.current.style.width=`${t.originalWidth}px`,e.current.style.height=`${t.originalHeight}px`)}function f(){const w=document.body.clientWidth,g=document.body.clientHeight,H=t.width||t.originalWidth,S=t.height||t.originalHeight,i=w/+H,n=g/+S;switch(o.mode){case"full-screen":e.current.style.transform=`scale(${i},${n})`,r&&r(i,n);break;case"full-x":e.current.style.transform=`scale(${i},${i})`,r&&r(i,i);break;case"full-y":e.current.style.transform=`scale(${n},${n})`,r&&r(n,n);break;default:const l=Math.min(i,n);e.current.style.transform=`scale(${l},${l})`;const W=e.current.clientWidth,z=e.current.clientHeight,E=Math.max((w-W*l)/2,0),M=Math.max((g-z*l)/2,0);e.current.style.margin=`${M}px ${E}px`,r&&r(l,l);break}}const c=j.debounce(()=>{e.current&&(u(),f())},x);function $(){d&&(h=document.body.style.overflow,document.body.style.overflow="hidden"),s=new MutationObserver(()=>c()),s.observe(e.current,{attributes:!0,attributeFilter:["style"],attributeOldValue:!0}),v({...t,originalWidth:window.screen.width,originalHeight:window.screen.height}),u(),f(),window.addEventListener("resize",c)}a.useEffect(()=>($(),()=>{s.disconnect(),window.removeEventListener("resize",c),d&&(document.body.style.overflow=h)}),[]);const p=k[o.mode||"scale"];return m.jsx("div",{style:{...p},className:"react-screen-box",children:m.jsx("div",{className:"screen-wrapper",ref:e,children:o.children})})}export{F as default};

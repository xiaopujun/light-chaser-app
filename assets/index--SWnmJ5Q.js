import{A as n,U as c,S as p,c as i}from"./LocalOperator-t4oOcFvM.js";import{globalMessage as o}from"./GlobalMessage-I0KrOayq.js";import{F as r}from"./FetchUtil-5ZwtxN_0.js";class d extends n{async createProject(t){const e=await r.post("/api/project/create",t);return e.code===200?e.data:""}async copyProject(t){const e=await r.get(`/api/project/copy/${t}`);return e.code===200?e.data:""}async deleteProject(t){return(await r.get(`/api/project/del/${t}`)).code===200}async getProjectData(t){var a;const e=await r.get(`/api/project/getProjectData/${t}`);return e.code===200?JSON.parse(e.data):((a=o.messageApi)==null||a.error(e.msg),null)}async getProjectInfoPageList(t){var a;const e=await r.post("/api/project/pageList",t);return e.code===200?e.data:(e.msg="服务器链接失败",(a=o.messageApi)==null||a.error(e.msg),{records:[],total:0,current:1,size:10})}async updateProject(t){var a,s;const e=await r.post("/api/project/update",t);e.code===200?(a=o.messageApi)==null||a.success("保存成功"):(s=o.messageApi)==null||s.error(e.msg)}async uploadImage(t){const{id:e}=c.parseUrlParams(),a=new FormData;a.append("file",t),a.append("projectId",e),a.append("type","1");const s=await r.post("/api/file/upload",a,{headers:{"Content-Type":"multipart/form-data"}});return s.code===200?{url:s.data}:!1}async getImageSourceList(t){var a;const e=await r.get(`/api/file/getList/${t}`);return e.code===200?e.data:((a=o.messageApi)==null||a.error(e.msg),[])}async delImageSource(t){var a;const e=await r.get(`/api/file/del/${t}`);return e.code===200?!0:((a=o.messageApi)==null||a.error(e.msg),!1)}async uploadCover(t){const{id:e}=c.parseUrlParams(),a=new FormData;return a.append("file",t),a.append("id",e),(await r.post("/api/project/cover",a,{headers:{"Content-Type":"multipart/form-data"}})).code===200}}const f={[p.LOCAL]:new i,[p.SERVER]:new d};export{f as o};
